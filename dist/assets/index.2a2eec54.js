var mu=Object.defineProperty;var bu=(Ce,r,Ie)=>r in Ce?mu(Ce,r,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):Ce[r]=Ie;var ns=(Ce,r,Ie)=>(bu(Ce,typeof r!="symbol"?r+"":r,Ie),Ie),Dc=(Ce,r,Ie)=>{if(!r.has(Ce))throw TypeError("Cannot "+Ie)};var zi=(Ce,r,Ie)=>(Dc(Ce,r,"read from private field"),Ie?Ie.call(Ce):r.get(Ce)),yn=(Ce,r,Ie)=>{if(r.has(Ce))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(Ce):r.set(Ce,Ie)},Zn=(Ce,r,Ie,Re)=>(Dc(Ce,r,"write to private field"),Re?Re.call(Ce,Ie):r.set(Ce,Ie),Ie),Mc=(Ce,r,Ie,Re)=>({set _(Ge){Zn(Ce,r,Ge,Ie)},get _(){return zi(Ce,r,Re)}}),Cn=(Ce,r,Ie)=>(Dc(Ce,r,"access private method"),Ie);function _mergeNamespaces(Ce,r){for(var Ie=0;Ie<r.length;Ie++){const Re=r[Ie];if(typeof Re!="string"&&!Array.isArray(Re)){for(const Ge in Re)if(Ge!=="default"&&!(Ge in Ce)){const Je=Object.getOwnPropertyDescriptor(Re,Ge);Je&&Object.defineProperty(Ce,Ge,Je.get?Je:{enumerable:!0,get:()=>Re[Ge]})}}}return Object.freeze(Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const Ge of document.querySelectorAll('link[rel="modulepreload"]'))Re(Ge);new MutationObserver(Ge=>{for(const Je of Ge)if(Je.type==="childList")for(const ii of Je.addedNodes)ii.tagName==="LINK"&&ii.rel==="modulepreload"&&Re(ii)}).observe(document,{childList:!0,subtree:!0});function Ie(Ge){const Je={};return Ge.integrity&&(Je.integrity=Ge.integrity),Ge.referrerpolicy&&(Je.referrerPolicy=Ge.referrerpolicy),Ge.crossorigin==="use-credentials"?Je.credentials="include":Ge.crossorigin==="anonymous"?Je.credentials="omit":Je.credentials="same-origin",Je}function Re(Ge){if(Ge.ep)return;Ge.ep=!0;const Je=Ie(Ge);fetch(Ge.href,Je)}})();function makeMap(Ce,r){const Ie=Object.create(null),Re=Ce.split(",");for(let Ge=0;Ge<Re.length;Ge++)Ie[Re[Ge]]=!0;return r?Ge=>!!Ie[Ge.toLowerCase()]:Ge=>!!Ie[Ge]}function normalizeStyle(Ce){if(isArray$1(Ce)){const r={};for(let Ie=0;Ie<Ce.length;Ie++){const Re=Ce[Ie],Ge=isString(Re)?parseStringStyle(Re):normalizeStyle(Re);if(Ge)for(const Je in Ge)r[Je]=Ge[Je]}return r}else{if(isString(Ce))return Ce;if(isObject(Ce))return Ce}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(Ce){const r={};return Ce.replace(styleCommentRE,"").split(listDelimiterRE).forEach(Ie=>{if(Ie){const Re=Ie.split(propertyDelimiterRE);Re.length>1&&(r[Re[0].trim()]=Re[1].trim())}}),r}function normalizeClass(Ce){let r="";if(isString(Ce))r=Ce;else if(isArray$1(Ce))for(let Ie=0;Ie<Ce.length;Ie++){const Re=normalizeClass(Ce[Ie]);Re&&(r+=Re+" ")}else if(isObject(Ce))for(const Ie in Ce)Ce[Ie]&&(r+=Ie+" ");return r.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(Ce){return!!Ce||Ce===""}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=Ce=>onRE.test(Ce),isModelListener=Ce=>Ce.startsWith("onUpdate:"),extend=Object.assign,remove=(Ce,r)=>{const Ie=Ce.indexOf(r);Ie>-1&&Ce.splice(Ie,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(Ce,r)=>hasOwnProperty.call(Ce,r),isArray$1=Array.isArray,isMap=Ce=>toTypeString(Ce)==="[object Map]",isSet=Ce=>toTypeString(Ce)==="[object Set]",isFunction=Ce=>typeof Ce=="function",isString=Ce=>typeof Ce=="string",isSymbol=Ce=>typeof Ce=="symbol",isObject=Ce=>Ce!==null&&typeof Ce=="object",isPromise=Ce=>isObject(Ce)&&isFunction(Ce.then)&&isFunction(Ce.catch),objectToString=Object.prototype.toString,toTypeString=Ce=>objectToString.call(Ce),toRawType=Ce=>toTypeString(Ce).slice(8,-1),isPlainObject=Ce=>toTypeString(Ce)==="[object Object]",isIntegerKey=Ce=>isString(Ce)&&Ce!=="NaN"&&Ce[0]!=="-"&&""+parseInt(Ce,10)===Ce,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=Ce=>{const r=Object.create(null);return Ie=>r[Ie]||(r[Ie]=Ce(Ie))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(Ce=>Ce.replace(camelizeRE,(r,Ie)=>Ie?Ie.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(Ce=>Ce.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(Ce=>Ce.charAt(0).toUpperCase()+Ce.slice(1)),toHandlerKey=cacheStringFunction(Ce=>Ce?`on${capitalize(Ce)}`:""),hasChanged=(Ce,r)=>!Object.is(Ce,r),invokeArrayFns=(Ce,r)=>{for(let Ie=0;Ie<Ce.length;Ie++)Ce[Ie](r)},def=(Ce,r,Ie)=>{Object.defineProperty(Ce,r,{configurable:!0,enumerable:!1,value:Ie})},toNumber=Ce=>{const r=parseFloat(Ce);return isNaN(r)?Ce:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.detached=r,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!r&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active){const Ie=activeEffectScope;try{return activeEffectScope=this,r()}finally{activeEffectScope=Ie}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let Ie,Re;for(Ie=0,Re=this.effects.length;Ie<Re;Ie++)this.effects[Ie].stop();for(Ie=0,Re=this.cleanups.length;Ie<Re;Ie++)this.cleanups[Ie]();if(this.scopes)for(Ie=0,Re=this.scopes.length;Ie<Re;Ie++)this.scopes[Ie].stop(!0);if(!this.detached&&this.parent&&!r){const Ge=this.parent.scopes.pop();Ge&&Ge!==this&&(this.parent.scopes[this.index]=Ge,Ge.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(Ce,r=activeEffectScope){r&&r.active&&r.effects.push(Ce)}const createDep=Ce=>{const r=new Set(Ce);return r.w=0,r.n=0,r},wasTracked=Ce=>(Ce.w&trackOpBit)>0,newTracked=Ce=>(Ce.n&trackOpBit)>0,initDepMarkers=({deps:Ce})=>{if(Ce.length)for(let r=0;r<Ce.length;r++)Ce[r].w|=trackOpBit},finalizeDepMarkers=Ce=>{const{deps:r}=Ce;if(r.length){let Ie=0;for(let Re=0;Re<r.length;Re++){const Ge=r[Re];wasTracked(Ge)&&!newTracked(Ge)?Ge.delete(Ce):r[Ie++]=Ge,Ge.w&=~trackOpBit,Ge.n&=~trackOpBit}r.length=Ie}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,Ie=null,Re){this.fn=r,this.scheduler=Ie,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,Re)}run(){if(!this.active)return this.fn();let r=activeEffect,Ie=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=Ie,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(Ce){const{deps:r}=Ce;if(r.length){for(let Ie=0;Ie<r.length;Ie++)r[Ie].delete(Ce);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const Ce=trackStack.pop();shouldTrack=Ce===void 0?!0:Ce}function track(Ce,r,Ie){if(shouldTrack&&activeEffect){let Re=targetMap.get(Ce);Re||targetMap.set(Ce,Re=new Map);let Ge=Re.get(Ie);Ge||Re.set(Ie,Ge=createDep()),trackEffects(Ge)}}function trackEffects(Ce,r){let Ie=!1;effectTrackDepth<=maxMarkerBits?newTracked(Ce)||(Ce.n|=trackOpBit,Ie=!wasTracked(Ce)):Ie=!Ce.has(activeEffect),Ie&&(Ce.add(activeEffect),activeEffect.deps.push(Ce))}function trigger(Ce,r,Ie,Re,Ge,Je){const ii=targetMap.get(Ce);if(!ii)return;let Se=[];if(r==="clear")Se=[...ii.values()];else if(Ie==="length"&&isArray$1(Ce)){const _e=toNumber(Re);ii.forEach((t,xe)=>{(xe==="length"||xe>=_e)&&Se.push(t)})}else switch(Ie!==void 0&&Se.push(ii.get(Ie)),r){case"add":isArray$1(Ce)?isIntegerKey(Ie)&&Se.push(ii.get("length")):(Se.push(ii.get(ITERATE_KEY)),isMap(Ce)&&Se.push(ii.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(Ce)||(Se.push(ii.get(ITERATE_KEY)),isMap(Ce)&&Se.push(ii.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Ce)&&Se.push(ii.get(ITERATE_KEY));break}if(Se.length===1)Se[0]&&triggerEffects(Se[0]);else{const _e=[];for(const t of Se)t&&_e.push(...t);triggerEffects(createDep(_e))}}function triggerEffects(Ce,r){const Ie=isArray$1(Ce)?Ce:[...Ce];for(const Re of Ie)Re.computed&&triggerEffect(Re);for(const Re of Ie)Re.computed||triggerEffect(Re)}function triggerEffect(Ce,r){(Ce!==activeEffect||Ce.allowRecurse)&&(Ce.scheduler?Ce.scheduler():Ce.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(Ce=>Ce!=="arguments"&&Ce!=="caller").map(Ce=>Symbol[Ce]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Ce={};return["includes","indexOf","lastIndexOf"].forEach(r=>{Ce[r]=function(...Ie){const Re=toRaw(this);for(let Je=0,ii=this.length;Je<ii;Je++)track(Re,"get",Je+"");const Ge=Re[r](...Ie);return Ge===-1||Ge===!1?Re[r](...Ie.map(toRaw)):Ge}}),["push","pop","shift","unshift","splice"].forEach(r=>{Ce[r]=function(...Ie){pauseTracking();const Re=toRaw(this)[r].apply(this,Ie);return resetTracking(),Re}}),Ce}function createGetter(Ce=!1,r=!1){return function(Re,Ge,Je){if(Ge==="__v_isReactive")return!Ce;if(Ge==="__v_isReadonly")return Ce;if(Ge==="__v_isShallow")return r;if(Ge==="__v_raw"&&Je===(Ce?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(Re))return Re;const ii=isArray$1(Re);if(!Ce&&ii&&hasOwn(arrayInstrumentations,Ge))return Reflect.get(arrayInstrumentations,Ge,Je);const Se=Reflect.get(Re,Ge,Je);return(isSymbol(Ge)?builtInSymbols.has(Ge):isNonTrackableKeys(Ge))||(Ce||track(Re,"get",Ge),r)?Se:isRef(Se)?ii&&isIntegerKey(Ge)?Se:Se.value:isObject(Se)?Ce?readonly(Se):reactive(Se):Se}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(Ce=!1){return function(Ie,Re,Ge,Je){let ii=Ie[Re];if(isReadonly(ii)&&isRef(ii)&&!isRef(Ge))return!1;if(!Ce&&(!isShallow(Ge)&&!isReadonly(Ge)&&(ii=toRaw(ii),Ge=toRaw(Ge)),!isArray$1(Ie)&&isRef(ii)&&!isRef(Ge)))return ii.value=Ge,!0;const Se=isArray$1(Ie)&&isIntegerKey(Re)?Number(Re)<Ie.length:hasOwn(Ie,Re),_e=Reflect.set(Ie,Re,Ge,Je);return Ie===toRaw(Je)&&(Se?hasChanged(Ge,ii)&&trigger(Ie,"set",Re,Ge):trigger(Ie,"add",Re,Ge)),_e}}function deleteProperty(Ce,r){const Ie=hasOwn(Ce,r);Ce[r];const Re=Reflect.deleteProperty(Ce,r);return Re&&Ie&&trigger(Ce,"delete",r,void 0),Re}function has(Ce,r){const Ie=Reflect.has(Ce,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(Ce,"has",r),Ie}function ownKeys(Ce){return track(Ce,"iterate",isArray$1(Ce)?"length":ITERATE_KEY),Reflect.ownKeys(Ce)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(Ce,r){return!0},deleteProperty(Ce,r){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=Ce=>Ce,getProto=Ce=>Reflect.getPrototypeOf(Ce);function get$1(Ce,r,Ie=!1,Re=!1){Ce=Ce.__v_raw;const Ge=toRaw(Ce),Je=toRaw(r);Ie||(r!==Je&&track(Ge,"get",r),track(Ge,"get",Je));const{has:ii}=getProto(Ge),Se=Re?toShallow:Ie?toReadonly:toReactive;if(ii.call(Ge,r))return Se(Ce.get(r));if(ii.call(Ge,Je))return Se(Ce.get(Je));Ce!==Ge&&Ce.get(r)}function has$1(Ce,r=!1){const Ie=this.__v_raw,Re=toRaw(Ie),Ge=toRaw(Ce);return r||(Ce!==Ge&&track(Re,"has",Ce),track(Re,"has",Ge)),Ce===Ge?Ie.has(Ce):Ie.has(Ce)||Ie.has(Ge)}function size(Ce,r=!1){return Ce=Ce.__v_raw,!r&&track(toRaw(Ce),"iterate",ITERATE_KEY),Reflect.get(Ce,"size",Ce)}function add(Ce){Ce=toRaw(Ce);const r=toRaw(this);return getProto(r).has.call(r,Ce)||(r.add(Ce),trigger(r,"add",Ce,Ce)),this}function set$1(Ce,r){r=toRaw(r);const Ie=toRaw(this),{has:Re,get:Ge}=getProto(Ie);let Je=Re.call(Ie,Ce);Je||(Ce=toRaw(Ce),Je=Re.call(Ie,Ce));const ii=Ge.call(Ie,Ce);return Ie.set(Ce,r),Je?hasChanged(r,ii)&&trigger(Ie,"set",Ce,r):trigger(Ie,"add",Ce,r),this}function deleteEntry(Ce){const r=toRaw(this),{has:Ie,get:Re}=getProto(r);let Ge=Ie.call(r,Ce);Ge||(Ce=toRaw(Ce),Ge=Ie.call(r,Ce)),Re&&Re.call(r,Ce);const Je=r.delete(Ce);return Ge&&trigger(r,"delete",Ce,void 0),Je}function clear(){const Ce=toRaw(this),r=Ce.size!==0,Ie=Ce.clear();return r&&trigger(Ce,"clear",void 0,void 0),Ie}function createForEach(Ce,r){return function(Re,Ge){const Je=this,ii=Je.__v_raw,Se=toRaw(ii),_e=r?toShallow:Ce?toReadonly:toReactive;return!Ce&&track(Se,"iterate",ITERATE_KEY),ii.forEach((t,xe)=>Re.call(Ge,_e(t),_e(xe),Je))}}function createIterableMethod(Ce,r,Ie){return function(...Re){const Ge=this.__v_raw,Je=toRaw(Ge),ii=isMap(Je),Se=Ce==="entries"||Ce===Symbol.iterator&&ii,_e=Ce==="keys"&&ii,t=Ge[Ce](...Re),xe=Ie?toShallow:r?toReadonly:toReactive;return!r&&track(Je,"iterate",_e?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Fe,done:Te}=t.next();return Te?{value:Fe,done:Te}:{value:Se?[xe(Fe[0]),xe(Fe[1])]:xe(Fe),done:Te}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Ce){return function(...r){return Ce==="delete"?!1:this}}function createInstrumentations(){const Ce={get(Je){return get$1(this,Je)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(Je){return get$1(this,Je,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},Ie={get(Je){return get$1(this,Je,!0)},get size(){return size(this,!0)},has(Je){return has$1.call(this,Je,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Re={get(Je){return get$1(this,Je,!0,!0)},get size(){return size(this,!0)},has(Je){return has$1.call(this,Je,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Je=>{Ce[Je]=createIterableMethod(Je,!1,!1),Ie[Je]=createIterableMethod(Je,!0,!1),r[Je]=createIterableMethod(Je,!1,!0),Re[Je]=createIterableMethod(Je,!0,!0)}),[Ce,Ie,r,Re]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Ce,r){const Ie=r?Ce?shallowReadonlyInstrumentations:shallowInstrumentations:Ce?readonlyInstrumentations:mutableInstrumentations;return(Re,Ge,Je)=>Ge==="__v_isReactive"?!Ce:Ge==="__v_isReadonly"?Ce:Ge==="__v_raw"?Re:Reflect.get(hasOwn(Ie,Ge)&&Ge in Re?Ie:Re,Ge,Je)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Ce){switch(Ce){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Ce){return Ce.__v_skip||!Object.isExtensible(Ce)?0:targetTypeMap(toRawType(Ce))}function reactive(Ce){return isReadonly(Ce)?Ce:createReactiveObject(Ce,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(Ce){return createReactiveObject(Ce,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(Ce){return createReactiveObject(Ce,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Ce,r,Ie,Re,Ge){if(!isObject(Ce)||Ce.__v_raw&&!(r&&Ce.__v_isReactive))return Ce;const Je=Ge.get(Ce);if(Je)return Je;const ii=getTargetType(Ce);if(ii===0)return Ce;const Se=new Proxy(Ce,ii===2?Re:Ie);return Ge.set(Ce,Se),Se}function isReactive(Ce){return isReadonly(Ce)?isReactive(Ce.__v_raw):!!(Ce&&Ce.__v_isReactive)}function isReadonly(Ce){return!!(Ce&&Ce.__v_isReadonly)}function isShallow(Ce){return!!(Ce&&Ce.__v_isShallow)}function isProxy(Ce){return isReactive(Ce)||isReadonly(Ce)}function toRaw(Ce){const r=Ce&&Ce.__v_raw;return r?toRaw(r):Ce}function markRaw(Ce){return def(Ce,"__v_skip",!0),Ce}const toReactive=Ce=>isObject(Ce)?reactive(Ce):Ce,toReadonly=Ce=>isObject(Ce)?readonly(Ce):Ce;function trackRefValue(Ce){shouldTrack&&activeEffect&&(Ce=toRaw(Ce),trackEffects(Ce.dep||(Ce.dep=createDep())))}function triggerRefValue(Ce,r){Ce=toRaw(Ce),Ce.dep&&triggerEffects(Ce.dep)}function isRef(Ce){return!!(Ce&&Ce.__v_isRef===!0)}function ref(Ce){return createRef(Ce,!1)}function shallowRef(Ce){return createRef(Ce,!0)}function createRef(Ce,r){return isRef(Ce)?Ce:new RefImpl(Ce,r)}class RefImpl{constructor(r,Ie){this.__v_isShallow=Ie,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Ie?r:toRaw(r),this._value=Ie?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){const Ie=this.__v_isShallow||isShallow(r)||isReadonly(r);r=Ie?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=Ie?r:toReactive(r),triggerRefValue(this))}}function unref(Ce){return isRef(Ce)?Ce.value:Ce}const shallowUnwrapHandlers={get:(Ce,r,Ie)=>unref(Reflect.get(Ce,r,Ie)),set:(Ce,r,Ie,Re)=>{const Ge=Ce[r];return isRef(Ge)&&!isRef(Ie)?(Ge.value=Ie,!0):Reflect.set(Ce,r,Ie,Re)}};function proxyRefs(Ce){return isReactive(Ce)?Ce:new Proxy(Ce,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(r,Ie,Re,Ge){this._setter=Ie,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Ge,this.__v_isReadonly=Re}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}_a$1="__v_isReadonly";function computed$1(Ce,r,Ie=!1){let Re,Ge;const Je=isFunction(Ce);return Je?(Re=Ce,Ge=NOOP):(Re=Ce.get,Ge=Ce.set),new ComputedRefImpl(Re,Ge,Je||!Ge,Ie)}const stack=[];function warn(Ce,...r){pauseTracking();const Ie=stack.length?stack[stack.length-1].component:null,Re=Ie&&Ie.appContext.config.warnHandler,Ge=getComponentTrace();if(Re)callWithErrorHandling(Re,Ie,11,[Ce+r.join(""),Ie&&Ie.proxy,Ge.map(({vnode:Je})=>`at <${formatComponentName(Ie,Je.type)}>`).join(`
`),Ge]);else{const Je=[`[Vue warn]: ${Ce}`,...r];Ge.length&&Je.push(`
`,...formatTrace(Ge)),console.warn(...Je)}resetTracking()}function getComponentTrace(){let Ce=stack[stack.length-1];if(!Ce)return[];const r=[];for(;Ce;){const Ie=r[0];Ie&&Ie.vnode===Ce?Ie.recurseCount++:r.push({vnode:Ce,recurseCount:0});const Re=Ce.component&&Ce.component.parent;Ce=Re&&Re.vnode}return r}function formatTrace(Ce){const r=[];return Ce.forEach((Ie,Re)=>{r.push(...Re===0?[]:[`
`],...formatTraceEntry(Ie))}),r}function formatTraceEntry({vnode:Ce,recurseCount:r}){const Ie=r>0?`... (${r} recursive calls)`:"",Re=Ce.component?Ce.component.parent==null:!1,Ge=` at <${formatComponentName(Ce.component,Ce.type,Re)}`,Je=">"+Ie;return Ce.props?[Ge,...formatProps(Ce.props),Je]:[Ge+Je]}function formatProps(Ce){const r=[],Ie=Object.keys(Ce);return Ie.slice(0,3).forEach(Re=>{r.push(...formatProp(Re,Ce[Re]))}),Ie.length>3&&r.push(" ..."),r}function formatProp(Ce,r,Ie){return isString(r)?(r=JSON.stringify(r),Ie?r:[`${Ce}=${r}`]):typeof r=="number"||typeof r=="boolean"||r==null?Ie?r:[`${Ce}=${r}`]:isRef(r)?(r=formatProp(Ce,toRaw(r.value),!0),Ie?r:[`${Ce}=Ref<`,r,">"]):isFunction(r)?[`${Ce}=fn${r.name?`<${r.name}>`:""}`]:(r=toRaw(r),Ie?r:[`${Ce}=`,r])}function callWithErrorHandling(Ce,r,Ie,Re){let Ge;try{Ge=Re?Ce(...Re):Ce()}catch(Je){handleError(Je,r,Ie)}return Ge}function callWithAsyncErrorHandling(Ce,r,Ie,Re){if(isFunction(Ce)){const Je=callWithErrorHandling(Ce,r,Ie,Re);return Je&&isPromise(Je)&&Je.catch(ii=>{handleError(ii,r,Ie)}),Je}const Ge=[];for(let Je=0;Je<Ce.length;Je++)Ge.push(callWithAsyncErrorHandling(Ce[Je],r,Ie,Re));return Ge}function handleError(Ce,r,Ie,Re=!0){const Ge=r?r.vnode:null;if(r){let Je=r.parent;const ii=r.proxy,Se=Ie;for(;Je;){const t=Je.ec;if(t){for(let xe=0;xe<t.length;xe++)if(t[xe](Ce,ii,Se)===!1)return}Je=Je.parent}const _e=r.appContext.config.errorHandler;if(_e){callWithErrorHandling(_e,null,10,[Ce,ii,Se]);return}}logError(Ce,Ie,Ge,Re)}function logError(Ce,r,Ie,Re=!0){console.error(Ce)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(Ce){const r=currentFlushPromise||resolvedPromise;return Ce?r.then(this?Ce.bind(this):Ce):r}function findInsertionIndex(Ce){let r=flushIndex+1,Ie=queue.length;for(;r<Ie;){const Re=r+Ie>>>1;getId(queue[Re])<Ce?r=Re+1:Ie=Re}return r}function queueJob(Ce){(!queue.length||!queue.includes(Ce,isFlushing&&Ce.allowRecurse?flushIndex+1:flushIndex))&&(Ce.id==null?queue.push(Ce):queue.splice(findInsertionIndex(Ce.id),0,Ce),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(Ce){const r=queue.indexOf(Ce);r>flushIndex&&queue.splice(r,1)}function queuePostFlushCb(Ce){isArray$1(Ce)?pendingPostFlushCbs.push(...Ce):(!activePostFlushCbs||!activePostFlushCbs.includes(Ce,Ce.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(Ce),queueFlush()}function flushPreFlushCbs(Ce,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const Ie=queue[r];Ie&&Ie.pre&&(queue.splice(r,1),r--,Ie())}}function flushPostFlushCbs(Ce){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((Ie,Re)=>getId(Ie)-getId(Re)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=Ce=>Ce.id==null?1/0:Ce.id,comparator=(Ce,r)=>{const Ie=getId(Ce)-getId(r);if(Ie===0){if(Ce.pre&&!r.pre)return-1;if(r.pre&&!Ce.pre)return 1}return Ie};function flushJobs(Ce){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const r=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const Ie=queue[flushIndex];Ie&&Ie.active!==!1&&callWithErrorHandling(Ie,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(Ce,r,...Ie){if(Ce.isUnmounted)return;const Re=Ce.vnode.props||EMPTY_OBJ;let Ge=Ie;const Je=r.startsWith("update:"),ii=Je&&r.slice(7);if(ii&&ii in Re){const xe=`${ii==="modelValue"?"model":ii}Modifiers`,{number:Fe,trim:Te}=Re[xe]||EMPTY_OBJ;Te&&(Ge=Ie.map(e=>isString(e)?e.trim():e)),Fe&&(Ge=Ie.map(toNumber))}let Se,_e=Re[Se=toHandlerKey(r)]||Re[Se=toHandlerKey(camelize(r))];!_e&&Je&&(_e=Re[Se=toHandlerKey(hyphenate(r))]),_e&&callWithAsyncErrorHandling(_e,Ce,6,Ge);const t=Re[Se+"Once"];if(t){if(!Ce.emitted)Ce.emitted={};else if(Ce.emitted[Se])return;Ce.emitted[Se]=!0,callWithAsyncErrorHandling(t,Ce,6,Ge)}}function normalizeEmitsOptions(Ce,r,Ie=!1){const Re=r.emitsCache,Ge=Re.get(Ce);if(Ge!==void 0)return Ge;const Je=Ce.emits;let ii={},Se=!1;if(!isFunction(Ce)){const _e=t=>{const xe=normalizeEmitsOptions(t,r,!0);xe&&(Se=!0,extend(ii,xe))};!Ie&&r.mixins.length&&r.mixins.forEach(_e),Ce.extends&&_e(Ce.extends),Ce.mixins&&Ce.mixins.forEach(_e)}return!Je&&!Se?(isObject(Ce)&&Re.set(Ce,null),null):(isArray$1(Je)?Je.forEach(_e=>ii[_e]=null):extend(ii,Je),isObject(Ce)&&Re.set(Ce,ii),ii)}function isEmitListener(Ce,r){return!Ce||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(Ce,r[0].toLowerCase()+r.slice(1))||hasOwn(Ce,hyphenate(r))||hasOwn(Ce,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(Ce){const r=currentRenderingInstance;return currentRenderingInstance=Ce,currentScopeId=Ce&&Ce.type.__scopeId||null,r}function pushScopeId(Ce){currentScopeId=Ce}function popScopeId(){currentScopeId=null}function withCtx(Ce,r=currentRenderingInstance,Ie){if(!r||Ce._n)return Ce;const Re=(...Ge)=>{Re._d&&setBlockTracking(-1);const Je=setCurrentRenderingInstance(r);let ii;try{ii=Ce(...Ge)}finally{setCurrentRenderingInstance(Je),Re._d&&setBlockTracking(1)}return ii};return Re._n=!0,Re._c=!0,Re._d=!0,Re}function markAttrsAccessed(){}function renderComponentRoot(Ce){const{type:r,vnode:Ie,proxy:Re,withProxy:Ge,props:Je,propsOptions:[ii],slots:Se,attrs:_e,emit:t,render:xe,renderCache:Fe,data:Te,setupState:e,ctx:ke,inheritAttrs:Oe}=Ce;let Ee,Pe;const De=setCurrentRenderingInstance(Ce);try{if(Ie.shapeFlag&4){const Ae=Ge||Re;Ee=normalizeVNode(xe.call(Ae,Ae,Fe,Je,e,Te,ke)),Pe=_e}else{const Ae=r;Ee=normalizeVNode(Ae.length>1?Ae(Je,{attrs:_e,slots:Se,emit:t}):Ae(Je,null)),Pe=r.props?_e:getFunctionalFallthrough(_e)}}catch(Ae){blockStack.length=0,handleError(Ae,Ce,1),Ee=createVNode(Comment)}let Me=Ee;if(Pe&&Oe!==!1){const Ae=Object.keys(Pe),{shapeFlag:Be}=Me;Ae.length&&Be&7&&(ii&&Ae.some(isModelListener)&&(Pe=filterModelListeners(Pe,ii)),Me=cloneVNode(Me,Pe))}return Ie.dirs&&(Me=cloneVNode(Me),Me.dirs=Me.dirs?Me.dirs.concat(Ie.dirs):Ie.dirs),Ie.transition&&(Me.transition=Ie.transition),Ee=Me,setCurrentRenderingInstance(De),Ee}const getFunctionalFallthrough=Ce=>{let r;for(const Ie in Ce)(Ie==="class"||Ie==="style"||isOn(Ie))&&((r||(r={}))[Ie]=Ce[Ie]);return r},filterModelListeners=(Ce,r)=>{const Ie={};for(const Re in Ce)(!isModelListener(Re)||!(Re.slice(9)in r))&&(Ie[Re]=Ce[Re]);return Ie};function shouldUpdateComponent(Ce,r,Ie){const{props:Re,children:Ge,component:Je}=Ce,{props:ii,children:Se,patchFlag:_e}=r,t=Je.emitsOptions;if(r.dirs||r.transition)return!0;if(Ie&&_e>=0){if(_e&1024)return!0;if(_e&16)return Re?hasPropsChanged(Re,ii,t):!!ii;if(_e&8){const xe=r.dynamicProps;for(let Fe=0;Fe<xe.length;Fe++){const Te=xe[Fe];if(ii[Te]!==Re[Te]&&!isEmitListener(t,Te))return!0}}}else return(Ge||Se)&&(!Se||!Se.$stable)?!0:Re===ii?!1:Re?ii?hasPropsChanged(Re,ii,t):!0:!!ii;return!1}function hasPropsChanged(Ce,r,Ie){const Re=Object.keys(r);if(Re.length!==Object.keys(Ce).length)return!0;for(let Ge=0;Ge<Re.length;Ge++){const Je=Re[Ge];if(r[Je]!==Ce[Je]&&!isEmitListener(Ie,Je))return!0}return!1}function updateHOCHostEl({vnode:Ce,parent:r},Ie){for(;r&&r.subTree===Ce;)(Ce=r.vnode).el=Ie,r=r.parent}const isSuspense=Ce=>Ce.__isSuspense;function queueEffectWithSuspense(Ce,r){r&&r.pendingBranch?isArray$1(Ce)?r.effects.push(...Ce):r.effects.push(Ce):queuePostFlushCb(Ce)}function provide(Ce,r){if(currentInstance){let Ie=currentInstance.provides;const Re=currentInstance.parent&&currentInstance.parent.provides;Re===Ie&&(Ie=currentInstance.provides=Object.create(Re)),Ie[Ce]=r}}function inject(Ce,r,Ie=!1){const Re=currentInstance||currentRenderingInstance;if(Re){const Ge=Re.parent==null?Re.vnode.appContext&&Re.vnode.appContext.provides:Re.parent.provides;if(Ge&&Ce in Ge)return Ge[Ce];if(arguments.length>1)return Ie&&isFunction(r)?r.call(Re.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(Ce,r,Ie){return doWatch(Ce,r,Ie)}function doWatch(Ce,r,{immediate:Ie,deep:Re,flush:Ge,onTrack:Je,onTrigger:ii}=EMPTY_OBJ){const Se=currentInstance;let _e,t=!1,xe=!1;if(isRef(Ce)?(_e=()=>Ce.value,t=isShallow(Ce)):isReactive(Ce)?(_e=()=>Ce,Re=!0):isArray$1(Ce)?(xe=!0,t=Ce.some(Me=>isReactive(Me)||isShallow(Me)),_e=()=>Ce.map(Me=>{if(isRef(Me))return Me.value;if(isReactive(Me))return traverse(Me);if(isFunction(Me))return callWithErrorHandling(Me,Se,2)})):isFunction(Ce)?r?_e=()=>callWithErrorHandling(Ce,Se,2):_e=()=>{if(!(Se&&Se.isUnmounted))return Fe&&Fe(),callWithAsyncErrorHandling(Ce,Se,3,[Te])}:_e=NOOP,r&&Re){const Me=_e;_e=()=>traverse(Me())}let Fe,Te=Me=>{Fe=Pe.onStop=()=>{callWithErrorHandling(Me,Se,4)}},e;if(isInSSRComponentSetup)if(Te=NOOP,r?Ie&&callWithAsyncErrorHandling(r,Se,3,[_e(),xe?[]:void 0,Te]):_e(),Ge==="sync"){const Me=useSSRContext();e=Me.__watcherHandles||(Me.__watcherHandles=[])}else return NOOP;let ke=xe?new Array(Ce.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Oe=()=>{if(!!Pe.active)if(r){const Me=Pe.run();(Re||t||(xe?Me.some((Ae,Be)=>hasChanged(Ae,ke[Be])):hasChanged(Me,ke)))&&(Fe&&Fe(),callWithAsyncErrorHandling(r,Se,3,[Me,ke===INITIAL_WATCHER_VALUE||xe&&ke[0]===INITIAL_WATCHER_VALUE?void 0:ke,Te]),ke=Me)}else Pe.run()};Oe.allowRecurse=!!r;let Ee;Ge==="sync"?Ee=Oe:Ge==="post"?Ee=()=>queuePostRenderEffect(Oe,Se&&Se.suspense):(Oe.pre=!0,Se&&(Oe.id=Se.uid),Ee=()=>queueJob(Oe));const Pe=new ReactiveEffect(_e,Ee);r?Ie?Oe():ke=Pe.run():Ge==="post"?queuePostRenderEffect(Pe.run.bind(Pe),Se&&Se.suspense):Pe.run();const De=()=>{Pe.stop(),Se&&Se.scope&&remove(Se.scope.effects,Pe)};return e&&e.push(De),De}function instanceWatch(Ce,r,Ie){const Re=this.proxy,Ge=isString(Ce)?Ce.includes(".")?createPathGetter(Re,Ce):()=>Re[Ce]:Ce.bind(Re,Re);let Je;isFunction(r)?Je=r:(Je=r.handler,Ie=r);const ii=currentInstance;setCurrentInstance(this);const Se=doWatch(Ge,Je.bind(Re),Ie);return ii?setCurrentInstance(ii):unsetCurrentInstance(),Se}function createPathGetter(Ce,r){const Ie=r.split(".");return()=>{let Re=Ce;for(let Ge=0;Ge<Ie.length&&Re;Ge++)Re=Re[Ie[Ge]];return Re}}function traverse(Ce,r){if(!isObject(Ce)||Ce.__v_skip||(r=r||new Set,r.has(Ce)))return Ce;if(r.add(Ce),isRef(Ce))traverse(Ce.value,r);else if(isArray$1(Ce))for(let Ie=0;Ie<Ce.length;Ie++)traverse(Ce[Ie],r);else if(isSet(Ce)||isMap(Ce))Ce.forEach(Ie=>{traverse(Ie,r)});else if(isPlainObject(Ce))for(const Ie in Ce)traverse(Ce[Ie],r);return Ce}function useTransitionState(){const Ce={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{Ce.isMounted=!0}),onBeforeUnmount(()=>{Ce.isUnmounting=!0}),Ce}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(Ce,{slots:r}){const Ie=getCurrentInstance(),Re=useTransitionState();let Ge;return()=>{const Je=r.default&&getTransitionRawChildren(r.default(),!0);if(!Je||!Je.length)return;let ii=Je[0];if(Je.length>1){for(const Oe of Je)if(Oe.type!==Comment){ii=Oe;break}}const Se=toRaw(Ce),{mode:_e}=Se;if(Re.isLeaving)return emptyPlaceholder(ii);const t=getKeepAliveChild(ii);if(!t)return emptyPlaceholder(ii);const xe=resolveTransitionHooks(t,Se,Re,Ie);setTransitionHooks(t,xe);const Fe=Ie.subTree,Te=Fe&&getKeepAliveChild(Fe);let e=!1;const{getTransitionKey:ke}=t.type;if(ke){const Oe=ke();Ge===void 0?Ge=Oe:Oe!==Ge&&(Ge=Oe,e=!0)}if(Te&&Te.type!==Comment&&(!isSameVNodeType(t,Te)||e)){const Oe=resolveTransitionHooks(Te,Se,Re,Ie);if(setTransitionHooks(Te,Oe),_e==="out-in")return Re.isLeaving=!0,Oe.afterLeave=()=>{Re.isLeaving=!1,Ie.update.active!==!1&&Ie.update()},emptyPlaceholder(ii);_e==="in-out"&&t.type!==Comment&&(Oe.delayLeave=(Ee,Pe,De)=>{const Me=getLeavingNodesForType(Re,Te);Me[String(Te.key)]=Te,Ee._leaveCb=()=>{Pe(),Ee._leaveCb=void 0,delete xe.delayedLeave},xe.delayedLeave=De})}return ii}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(Ce,r){const{leavingVNodes:Ie}=Ce;let Re=Ie.get(r.type);return Re||(Re=Object.create(null),Ie.set(r.type,Re)),Re}function resolveTransitionHooks(Ce,r,Ie,Re){const{appear:Ge,mode:Je,persisted:ii=!1,onBeforeEnter:Se,onEnter:_e,onAfterEnter:t,onEnterCancelled:xe,onBeforeLeave:Fe,onLeave:Te,onAfterLeave:e,onLeaveCancelled:ke,onBeforeAppear:Oe,onAppear:Ee,onAfterAppear:Pe,onAppearCancelled:De}=r,Me=String(Ce.key),Ae=getLeavingNodesForType(Ie,Ce),Be=(Xe,St)=>{Xe&&callWithAsyncErrorHandling(Xe,Re,9,St)},He=(Xe,St)=>{const qe=St[1];Be(Xe,St),isArray$1(Xe)?Xe.every(Ye=>Ye.length<=1)&&qe():Xe.length<=1&&qe()},je={mode:Je,persisted:ii,beforeEnter(Xe){let St=Se;if(!Ie.isMounted)if(Ge)St=Oe||Se;else return;Xe._leaveCb&&Xe._leaveCb(!0);const qe=Ae[Me];qe&&isSameVNodeType(Ce,qe)&&qe.el._leaveCb&&qe.el._leaveCb(),Be(St,[Xe])},enter(Xe){let St=_e,qe=t,Ye=xe;if(!Ie.isMounted)if(Ge)St=Ee||_e,qe=Pe||t,Ye=De||xe;else return;let gi=!1;const ai=Xe._enterCb=ui=>{gi||(gi=!0,ui?Be(Ye,[Xe]):Be(qe,[Xe]),je.delayedLeave&&je.delayedLeave(),Xe._enterCb=void 0)};St?He(St,[Xe,ai]):ai()},leave(Xe,St){const qe=String(Ce.key);if(Xe._enterCb&&Xe._enterCb(!0),Ie.isUnmounting)return St();Be(Fe,[Xe]);let Ye=!1;const gi=Xe._leaveCb=ai=>{Ye||(Ye=!0,St(),ai?Be(ke,[Xe]):Be(e,[Xe]),Xe._leaveCb=void 0,Ae[qe]===Ce&&delete Ae[qe])};Ae[qe]=Ce,Te?He(Te,[Xe,gi]):gi()},clone(Xe){return resolveTransitionHooks(Xe,r,Ie,Re)}};return je}function emptyPlaceholder(Ce){if(isKeepAlive(Ce))return Ce=cloneVNode(Ce),Ce.children=null,Ce}function getKeepAliveChild(Ce){return isKeepAlive(Ce)?Ce.children?Ce.children[0]:void 0:Ce}function setTransitionHooks(Ce,r){Ce.shapeFlag&6&&Ce.component?setTransitionHooks(Ce.component.subTree,r):Ce.shapeFlag&128?(Ce.ssContent.transition=r.clone(Ce.ssContent),Ce.ssFallback.transition=r.clone(Ce.ssFallback)):Ce.transition=r}function getTransitionRawChildren(Ce,r=!1,Ie){let Re=[],Ge=0;for(let Je=0;Je<Ce.length;Je++){let ii=Ce[Je];const Se=Ie==null?ii.key:String(Ie)+String(ii.key!=null?ii.key:Je);ii.type===Fragment?(ii.patchFlag&128&&Ge++,Re=Re.concat(getTransitionRawChildren(ii.children,r,Se))):(r||ii.type!==Comment)&&Re.push(Se!=null?cloneVNode(ii,{key:Se}):ii)}if(Ge>1)for(let Je=0;Je<Re.length;Je++)Re[Je].patchFlag=-2;return Re}function defineComponent(Ce){return isFunction(Ce)?{setup:Ce,name:Ce.name}:Ce}const isAsyncWrapper=Ce=>!!Ce.type.__asyncLoader,isKeepAlive=Ce=>Ce.type.__isKeepAlive;function onActivated(Ce,r){registerKeepAliveHook(Ce,"a",r)}function onDeactivated(Ce,r){registerKeepAliveHook(Ce,"da",r)}function registerKeepAliveHook(Ce,r,Ie=currentInstance){const Re=Ce.__wdc||(Ce.__wdc=()=>{let Ge=Ie;for(;Ge;){if(Ge.isDeactivated)return;Ge=Ge.parent}return Ce()});if(injectHook(r,Re,Ie),Ie){let Ge=Ie.parent;for(;Ge&&Ge.parent;)isKeepAlive(Ge.parent.vnode)&&injectToKeepAliveRoot(Re,r,Ie,Ge),Ge=Ge.parent}}function injectToKeepAliveRoot(Ce,r,Ie,Re){const Ge=injectHook(r,Ce,Re,!0);onUnmounted(()=>{remove(Re[r],Ge)},Ie)}function injectHook(Ce,r,Ie=currentInstance,Re=!1){if(Ie){const Ge=Ie[Ce]||(Ie[Ce]=[]),Je=r.__weh||(r.__weh=(...ii)=>{if(Ie.isUnmounted)return;pauseTracking(),setCurrentInstance(Ie);const Se=callWithAsyncErrorHandling(r,Ie,Ce,ii);return unsetCurrentInstance(),resetTracking(),Se});return Re?Ge.unshift(Je):Ge.push(Je),Je}}const createHook=Ce=>(r,Ie=currentInstance)=>(!isInSSRComponentSetup||Ce==="sp")&&injectHook(Ce,(...Re)=>r(...Re),Ie),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(Ce,r=currentInstance){injectHook("ec",Ce,r)}function invokeDirectiveHook(Ce,r,Ie,Re){const Ge=Ce.dirs,Je=r&&r.dirs;for(let ii=0;ii<Ge.length;ii++){const Se=Ge[ii];Je&&(Se.oldValue=Je[ii].value);let _e=Se.dir[Re];_e&&(pauseTracking(),callWithAsyncErrorHandling(_e,Ie,8,[Ce.el,Se,Ce,r]),resetTracking())}}const COMPONENTS="components";function resolveComponent(Ce,r){return resolveAsset(COMPONENTS,Ce,!0,r)||Ce}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(Ce,r,Ie=!0,Re=!1){const Ge=currentRenderingInstance||currentInstance;if(Ge){const Je=Ge.type;if(Ce===COMPONENTS){const Se=getComponentName(Je,!1);if(Se&&(Se===r||Se===camelize(r)||Se===capitalize(camelize(r))))return Je}const ii=resolve(Ge[Ce]||Je[Ce],r)||resolve(Ge.appContext[Ce],r);return!ii&&Re?Je:ii}}function resolve(Ce,r){return Ce&&(Ce[r]||Ce[camelize(r)]||Ce[capitalize(camelize(r))])}const getPublicInstance=Ce=>Ce?isStatefulComponent(Ce)?getExposeProxy(Ce)||Ce.proxy:getPublicInstance(Ce.parent):null,publicPropertiesMap=extend(Object.create(null),{$:Ce=>Ce,$el:Ce=>Ce.vnode.el,$data:Ce=>Ce.data,$props:Ce=>Ce.props,$attrs:Ce=>Ce.attrs,$slots:Ce=>Ce.slots,$refs:Ce=>Ce.refs,$parent:Ce=>getPublicInstance(Ce.parent),$root:Ce=>getPublicInstance(Ce.root),$emit:Ce=>Ce.emit,$options:Ce=>resolveMergedOptions(Ce),$forceUpdate:Ce=>Ce.f||(Ce.f=()=>queueJob(Ce.update)),$nextTick:Ce=>Ce.n||(Ce.n=nextTick.bind(Ce.proxy)),$watch:Ce=>instanceWatch.bind(Ce)}),PublicInstanceProxyHandlers={get({_:Ce},r){const{ctx:Ie,setupState:Re,data:Ge,props:Je,accessCache:ii,type:Se,appContext:_e}=Ce;let t;if(r[0]!=="$"){const e=ii[r];if(e!==void 0)switch(e){case 1:return Re[r];case 2:return Ge[r];case 4:return Ie[r];case 3:return Je[r]}else{if(Re!==EMPTY_OBJ&&hasOwn(Re,r))return ii[r]=1,Re[r];if(Ge!==EMPTY_OBJ&&hasOwn(Ge,r))return ii[r]=2,Ge[r];if((t=Ce.propsOptions[0])&&hasOwn(t,r))return ii[r]=3,Je[r];if(Ie!==EMPTY_OBJ&&hasOwn(Ie,r))return ii[r]=4,Ie[r];shouldCacheAccess&&(ii[r]=0)}}const xe=publicPropertiesMap[r];let Fe,Te;if(xe)return r==="$attrs"&&track(Ce,"get",r),xe(Ce);if((Fe=Se.__cssModules)&&(Fe=Fe[r]))return Fe;if(Ie!==EMPTY_OBJ&&hasOwn(Ie,r))return ii[r]=4,Ie[r];if(Te=_e.config.globalProperties,hasOwn(Te,r))return Te[r]},set({_:Ce},r,Ie){const{data:Re,setupState:Ge,ctx:Je}=Ce;return Ge!==EMPTY_OBJ&&hasOwn(Ge,r)?(Ge[r]=Ie,!0):Re!==EMPTY_OBJ&&hasOwn(Re,r)?(Re[r]=Ie,!0):hasOwn(Ce.props,r)||r[0]==="$"&&r.slice(1)in Ce?!1:(Je[r]=Ie,!0)},has({_:{data:Ce,setupState:r,accessCache:Ie,ctx:Re,appContext:Ge,propsOptions:Je}},ii){let Se;return!!Ie[ii]||Ce!==EMPTY_OBJ&&hasOwn(Ce,ii)||r!==EMPTY_OBJ&&hasOwn(r,ii)||(Se=Je[0])&&hasOwn(Se,ii)||hasOwn(Re,ii)||hasOwn(publicPropertiesMap,ii)||hasOwn(Ge.config.globalProperties,ii)},defineProperty(Ce,r,Ie){return Ie.get!=null?Ce._.accessCache[r]=0:hasOwn(Ie,"value")&&this.set(Ce,r,Ie.value,null),Reflect.defineProperty(Ce,r,Ie)}};let shouldCacheAccess=!0;function applyOptions(Ce){const r=resolveMergedOptions(Ce),Ie=Ce.proxy,Re=Ce.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,Ce,"bc");const{data:Ge,computed:Je,methods:ii,watch:Se,provide:_e,inject:t,created:xe,beforeMount:Fe,mounted:Te,beforeUpdate:e,updated:ke,activated:Oe,deactivated:Ee,beforeDestroy:Pe,beforeUnmount:De,destroyed:Me,unmounted:Ae,render:Be,renderTracked:He,renderTriggered:je,errorCaptured:Xe,serverPrefetch:St,expose:qe,inheritAttrs:Ye,components:gi,directives:ai,filters:ui}=r;if(t&&resolveInjections(t,Re,null,Ce.appContext.config.unwrapInjectedRef),ii)for(const ci in ii){const ze=ii[ci];isFunction(ze)&&(Re[ci]=ze.bind(Ie))}if(Ge){const ci=Ge.call(Ie,Ie);isObject(ci)&&(Ce.data=reactive(ci))}if(shouldCacheAccess=!0,Je)for(const ci in Je){const ze=Je[ci],We=isFunction(ze)?ze.bind(Ie,Ie):isFunction(ze.get)?ze.get.bind(Ie,Ie):NOOP,si=!isFunction(ze)&&isFunction(ze.set)?ze.set.bind(Ie):NOOP,ni=computed({get:We,set:si});Object.defineProperty(Re,ci,{enumerable:!0,configurable:!0,get:()=>ni.value,set:$e=>ni.value=$e})}if(Se)for(const ci in Se)createWatcher(Se[ci],Re,Ie,ci);if(_e){const ci=isFunction(_e)?_e.call(Ie):_e;Reflect.ownKeys(ci).forEach(ze=>{provide(ze,ci[ze])})}xe&&callHook(xe,Ce,"c");function Ze(ci,ze){isArray$1(ze)?ze.forEach(We=>ci(We.bind(Ie))):ze&&ci(ze.bind(Ie))}if(Ze(onBeforeMount,Fe),Ze(onMounted,Te),Ze(onBeforeUpdate,e),Ze(onUpdated,ke),Ze(onActivated,Oe),Ze(onDeactivated,Ee),Ze(onErrorCaptured,Xe),Ze(onRenderTracked,He),Ze(onRenderTriggered,je),Ze(onBeforeUnmount,De),Ze(onUnmounted,Ae),Ze(onServerPrefetch,St),isArray$1(qe))if(qe.length){const ci=Ce.exposed||(Ce.exposed={});qe.forEach(ze=>{Object.defineProperty(ci,ze,{get:()=>Ie[ze],set:We=>Ie[ze]=We})})}else Ce.exposed||(Ce.exposed={});Be&&Ce.render===NOOP&&(Ce.render=Be),Ye!=null&&(Ce.inheritAttrs=Ye),gi&&(Ce.components=gi),ai&&(Ce.directives=ai)}function resolveInjections(Ce,r,Ie=NOOP,Re=!1){isArray$1(Ce)&&(Ce=normalizeInject(Ce));for(const Ge in Ce){const Je=Ce[Ge];let ii;isObject(Je)?"default"in Je?ii=inject(Je.from||Ge,Je.default,!0):ii=inject(Je.from||Ge):ii=inject(Je),isRef(ii)&&Re?Object.defineProperty(r,Ge,{enumerable:!0,configurable:!0,get:()=>ii.value,set:Se=>ii.value=Se}):r[Ge]=ii}}function callHook(Ce,r,Ie){callWithAsyncErrorHandling(isArray$1(Ce)?Ce.map(Re=>Re.bind(r.proxy)):Ce.bind(r.proxy),r,Ie)}function createWatcher(Ce,r,Ie,Re){const Ge=Re.includes(".")?createPathGetter(Ie,Re):()=>Ie[Re];if(isString(Ce)){const Je=r[Ce];isFunction(Je)&&watch(Ge,Je)}else if(isFunction(Ce))watch(Ge,Ce.bind(Ie));else if(isObject(Ce))if(isArray$1(Ce))Ce.forEach(Je=>createWatcher(Je,r,Ie,Re));else{const Je=isFunction(Ce.handler)?Ce.handler.bind(Ie):r[Ce.handler];isFunction(Je)&&watch(Ge,Je,Ce)}}function resolveMergedOptions(Ce){const r=Ce.type,{mixins:Ie,extends:Re}=r,{mixins:Ge,optionsCache:Je,config:{optionMergeStrategies:ii}}=Ce.appContext,Se=Je.get(r);let _e;return Se?_e=Se:!Ge.length&&!Ie&&!Re?_e=r:(_e={},Ge.length&&Ge.forEach(t=>mergeOptions$1(_e,t,ii,!0)),mergeOptions$1(_e,r,ii)),isObject(r)&&Je.set(r,_e),_e}function mergeOptions$1(Ce,r,Ie,Re=!1){const{mixins:Ge,extends:Je}=r;Je&&mergeOptions$1(Ce,Je,Ie,!0),Ge&&Ge.forEach(ii=>mergeOptions$1(Ce,ii,Ie,!0));for(const ii in r)if(!(Re&&ii==="expose")){const Se=internalOptionMergeStrats[ii]||Ie&&Ie[ii];Ce[ii]=Se?Se(Ce[ii],r[ii]):r[ii]}return Ce}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(Ce,r){return r?Ce?function(){return extend(isFunction(Ce)?Ce.call(this,this):Ce,isFunction(r)?r.call(this,this):r)}:r:Ce}function mergeInject(Ce,r){return mergeObjectOptions(normalizeInject(Ce),normalizeInject(r))}function normalizeInject(Ce){if(isArray$1(Ce)){const r={};for(let Ie=0;Ie<Ce.length;Ie++)r[Ce[Ie]]=Ce[Ie];return r}return Ce}function mergeAsArray(Ce,r){return Ce?[...new Set([].concat(Ce,r))]:r}function mergeObjectOptions(Ce,r){return Ce?extend(extend(Object.create(null),Ce),r):r}function mergeWatchOptions(Ce,r){if(!Ce)return r;if(!r)return Ce;const Ie=extend(Object.create(null),Ce);for(const Re in r)Ie[Re]=mergeAsArray(Ce[Re],r[Re]);return Ie}function initProps(Ce,r,Ie,Re=!1){const Ge={},Je={};def(Je,InternalObjectKey,1),Ce.propsDefaults=Object.create(null),setFullProps(Ce,r,Ge,Je);for(const ii in Ce.propsOptions[0])ii in Ge||(Ge[ii]=void 0);Ie?Ce.props=Re?Ge:shallowReactive(Ge):Ce.type.props?Ce.props=Ge:Ce.props=Je,Ce.attrs=Je}function updateProps(Ce,r,Ie,Re){const{props:Ge,attrs:Je,vnode:{patchFlag:ii}}=Ce,Se=toRaw(Ge),[_e]=Ce.propsOptions;let t=!1;if((Re||ii>0)&&!(ii&16)){if(ii&8){const xe=Ce.vnode.dynamicProps;for(let Fe=0;Fe<xe.length;Fe++){let Te=xe[Fe];if(isEmitListener(Ce.emitsOptions,Te))continue;const e=r[Te];if(_e)if(hasOwn(Je,Te))e!==Je[Te]&&(Je[Te]=e,t=!0);else{const ke=camelize(Te);Ge[ke]=resolvePropValue(_e,Se,ke,e,Ce,!1)}else e!==Je[Te]&&(Je[Te]=e,t=!0)}}}else{setFullProps(Ce,r,Ge,Je)&&(t=!0);let xe;for(const Fe in Se)(!r||!hasOwn(r,Fe)&&((xe=hyphenate(Fe))===Fe||!hasOwn(r,xe)))&&(_e?Ie&&(Ie[Fe]!==void 0||Ie[xe]!==void 0)&&(Ge[Fe]=resolvePropValue(_e,Se,Fe,void 0,Ce,!0)):delete Ge[Fe]);if(Je!==Se)for(const Fe in Je)(!r||!hasOwn(r,Fe)&&!0)&&(delete Je[Fe],t=!0)}t&&trigger(Ce,"set","$attrs")}function setFullProps(Ce,r,Ie,Re){const[Ge,Je]=Ce.propsOptions;let ii=!1,Se;if(r)for(let _e in r){if(isReservedProp(_e))continue;const t=r[_e];let xe;Ge&&hasOwn(Ge,xe=camelize(_e))?!Je||!Je.includes(xe)?Ie[xe]=t:(Se||(Se={}))[xe]=t:isEmitListener(Ce.emitsOptions,_e)||(!(_e in Re)||t!==Re[_e])&&(Re[_e]=t,ii=!0)}if(Je){const _e=toRaw(Ie),t=Se||EMPTY_OBJ;for(let xe=0;xe<Je.length;xe++){const Fe=Je[xe];Ie[Fe]=resolvePropValue(Ge,_e,Fe,t[Fe],Ce,!hasOwn(t,Fe))}}return ii}function resolvePropValue(Ce,r,Ie,Re,Ge,Je){const ii=Ce[Ie];if(ii!=null){const Se=hasOwn(ii,"default");if(Se&&Re===void 0){const _e=ii.default;if(ii.type!==Function&&isFunction(_e)){const{propsDefaults:t}=Ge;Ie in t?Re=t[Ie]:(setCurrentInstance(Ge),Re=t[Ie]=_e.call(null,r),unsetCurrentInstance())}else Re=_e}ii[0]&&(Je&&!Se?Re=!1:ii[1]&&(Re===""||Re===hyphenate(Ie))&&(Re=!0))}return Re}function normalizePropsOptions(Ce,r,Ie=!1){const Re=r.propsCache,Ge=Re.get(Ce);if(Ge)return Ge;const Je=Ce.props,ii={},Se=[];let _e=!1;if(!isFunction(Ce)){const xe=Fe=>{_e=!0;const[Te,e]=normalizePropsOptions(Fe,r,!0);extend(ii,Te),e&&Se.push(...e)};!Ie&&r.mixins.length&&r.mixins.forEach(xe),Ce.extends&&xe(Ce.extends),Ce.mixins&&Ce.mixins.forEach(xe)}if(!Je&&!_e)return isObject(Ce)&&Re.set(Ce,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Je))for(let xe=0;xe<Je.length;xe++){const Fe=camelize(Je[xe]);validatePropName(Fe)&&(ii[Fe]=EMPTY_OBJ)}else if(Je)for(const xe in Je){const Fe=camelize(xe);if(validatePropName(Fe)){const Te=Je[xe],e=ii[Fe]=isArray$1(Te)||isFunction(Te)?{type:Te}:Object.assign({},Te);if(e){const ke=getTypeIndex(Boolean,e.type),Oe=getTypeIndex(String,e.type);e[0]=ke>-1,e[1]=Oe<0||ke<Oe,(ke>-1||hasOwn(e,"default"))&&Se.push(Fe)}}}const t=[ii,Se];return isObject(Ce)&&Re.set(Ce,t),t}function validatePropName(Ce){return Ce[0]!=="$"}function getType(Ce){const r=Ce&&Ce.toString().match(/^\s*function (\w+)/);return r?r[1]:Ce===null?"null":""}function isSameType(Ce,r){return getType(Ce)===getType(r)}function getTypeIndex(Ce,r){return isArray$1(r)?r.findIndex(Ie=>isSameType(Ie,Ce)):isFunction(r)&&isSameType(r,Ce)?0:-1}const isInternalKey=Ce=>Ce[0]==="_"||Ce==="$stable",normalizeSlotValue=Ce=>isArray$1(Ce)?Ce.map(normalizeVNode):[normalizeVNode(Ce)],normalizeSlot$1=(Ce,r,Ie)=>{if(r._n)return r;const Re=withCtx((...Ge)=>normalizeSlotValue(r(...Ge)),Ie);return Re._c=!1,Re},normalizeObjectSlots=(Ce,r,Ie)=>{const Re=Ce._ctx;for(const Ge in Ce){if(isInternalKey(Ge))continue;const Je=Ce[Ge];if(isFunction(Je))r[Ge]=normalizeSlot$1(Ge,Je,Re);else if(Je!=null){const ii=normalizeSlotValue(Je);r[Ge]=()=>ii}}},normalizeVNodeSlots=(Ce,r)=>{const Ie=normalizeSlotValue(r);Ce.slots.default=()=>Ie},initSlots=(Ce,r)=>{if(Ce.vnode.shapeFlag&32){const Ie=r._;Ie?(Ce.slots=toRaw(r),def(r,"_",Ie)):normalizeObjectSlots(r,Ce.slots={})}else Ce.slots={},r&&normalizeVNodeSlots(Ce,r);def(Ce.slots,InternalObjectKey,1)},updateSlots=(Ce,r,Ie)=>{const{vnode:Re,slots:Ge}=Ce;let Je=!0,ii=EMPTY_OBJ;if(Re.shapeFlag&32){const Se=r._;Se?Ie&&Se===1?Je=!1:(extend(Ge,r),!Ie&&Se===1&&delete Ge._):(Je=!r.$stable,normalizeObjectSlots(r,Ge)),ii=r}else r&&(normalizeVNodeSlots(Ce,r),ii={default:1});if(Je)for(const Se in Ge)!isInternalKey(Se)&&!(Se in ii)&&delete Ge[Se]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(Ce,r){return function(Re,Ge=null){isFunction(Re)||(Re=Object.assign({},Re)),Ge!=null&&!isObject(Ge)&&(Ge=null);const Je=createAppContext(),ii=new Set;let Se=!1;const _e=Je.app={_uid:uid++,_component:Re,_props:Ge,_container:null,_context:Je,_instance:null,version,get config(){return Je.config},set config(t){},use(t,...xe){return ii.has(t)||(t&&isFunction(t.install)?(ii.add(t),t.install(_e,...xe)):isFunction(t)&&(ii.add(t),t(_e,...xe))),_e},mixin(t){return Je.mixins.includes(t)||Je.mixins.push(t),_e},component(t,xe){return xe?(Je.components[t]=xe,_e):Je.components[t]},directive(t,xe){return xe?(Je.directives[t]=xe,_e):Je.directives[t]},mount(t,xe,Fe){if(!Se){const Te=createVNode(Re,Ge);return Te.appContext=Je,xe&&r?r(Te,t):Ce(Te,t,Fe),Se=!0,_e._container=t,t.__vue_app__=_e,getExposeProxy(Te.component)||Te.component.proxy}},unmount(){Se&&(Ce(null,_e._container),delete _e._container.__vue_app__)},provide(t,xe){return Je.provides[t]=xe,_e}};return _e}}function setRef(Ce,r,Ie,Re,Ge=!1){if(isArray$1(Ce)){Ce.forEach((Te,e)=>setRef(Te,r&&(isArray$1(r)?r[e]:r),Ie,Re,Ge));return}if(isAsyncWrapper(Re)&&!Ge)return;const Je=Re.shapeFlag&4?getExposeProxy(Re.component)||Re.component.proxy:Re.el,ii=Ge?null:Je,{i:Se,r:_e}=Ce,t=r&&r.r,xe=Se.refs===EMPTY_OBJ?Se.refs={}:Se.refs,Fe=Se.setupState;if(t!=null&&t!==_e&&(isString(t)?(xe[t]=null,hasOwn(Fe,t)&&(Fe[t]=null)):isRef(t)&&(t.value=null)),isFunction(_e))callWithErrorHandling(_e,Se,12,[ii,xe]);else{const Te=isString(_e),e=isRef(_e);if(Te||e){const ke=()=>{if(Ce.f){const Oe=Te?hasOwn(Fe,_e)?Fe[_e]:xe[_e]:_e.value;Ge?isArray$1(Oe)&&remove(Oe,Je):isArray$1(Oe)?Oe.includes(Je)||Oe.push(Je):Te?(xe[_e]=[Je],hasOwn(Fe,_e)&&(Fe[_e]=xe[_e])):(_e.value=[Je],Ce.k&&(xe[Ce.k]=_e.value))}else Te?(xe[_e]=ii,hasOwn(Fe,_e)&&(Fe[_e]=ii)):e&&(_e.value=ii,Ce.k&&(xe[Ce.k]=ii))};ii?(ke.id=-1,queuePostRenderEffect(ke,Ie)):ke()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(Ce){return baseCreateRenderer(Ce)}function baseCreateRenderer(Ce,r){const Ie=getGlobalThis();Ie.__VUE__=!0;const{insert:Re,remove:Ge,patchProp:Je,createElement:ii,createText:Se,createComment:_e,setText:t,setElementText:xe,parentNode:Fe,nextSibling:Te,setScopeId:e=NOOP,insertStaticContent:ke}=Ce,Oe=(fi,xi,li,pi=null,ri=null,oi=null,di=!1,bi=null,Ai=!!xi.dynamicChildren)=>{if(fi===xi)return;fi&&!isSameVNodeType(fi,xi)&&(pi=hi(fi),$e(fi,ri,oi,!0),fi=null),xi.patchFlag===-2&&(Ai=!1,xi.dynamicChildren=null);const{type:Ei,ref:mi,shapeFlag:_i}=xi;switch(Ei){case Text:Ee(fi,xi,li,pi);break;case Comment:Pe(fi,xi,li,pi);break;case Static:fi==null&&De(xi,li,pi,di);break;case Fragment:gi(fi,xi,li,pi,ri,oi,di,bi,Ai);break;default:_i&1?Be(fi,xi,li,pi,ri,oi,di,bi,Ai):_i&6?ai(fi,xi,li,pi,ri,oi,di,bi,Ai):(_i&64||_i&128)&&Ei.process(fi,xi,li,pi,ri,oi,di,bi,Ai,wi)}mi!=null&&ri&&setRef(mi,fi&&fi.ref,oi,xi||fi,!xi)},Ee=(fi,xi,li,pi)=>{if(fi==null)Re(xi.el=Se(xi.children),li,pi);else{const ri=xi.el=fi.el;xi.children!==fi.children&&t(ri,xi.children)}},Pe=(fi,xi,li,pi)=>{fi==null?Re(xi.el=_e(xi.children||""),li,pi):xi.el=fi.el},De=(fi,xi,li,pi)=>{[fi.el,fi.anchor]=ke(fi.children,xi,li,pi,fi.el,fi.anchor)},Me=({el:fi,anchor:xi},li,pi)=>{let ri;for(;fi&&fi!==xi;)ri=Te(fi),Re(fi,li,pi),fi=ri;Re(xi,li,pi)},Ae=({el:fi,anchor:xi})=>{let li;for(;fi&&fi!==xi;)li=Te(fi),Ge(fi),fi=li;Ge(xi)},Be=(fi,xi,li,pi,ri,oi,di,bi,Ai)=>{di=di||xi.type==="svg",fi==null?He(xi,li,pi,ri,oi,di,bi,Ai):St(fi,xi,ri,oi,di,bi,Ai)},He=(fi,xi,li,pi,ri,oi,di,bi)=>{let Ai,Ei;const{type:mi,props:_i,shapeFlag:Si,transition:Fi,dirs:Pi}=fi;if(Ai=fi.el=ii(fi.type,oi,_i&&_i.is,_i),Si&8?xe(Ai,fi.children):Si&16&&Xe(fi.children,Ai,null,pi,ri,oi&&mi!=="foreignObject",di,bi),Pi&&invokeDirectiveHook(fi,null,pi,"created"),_i){for(const Ii in _i)Ii!=="value"&&!isReservedProp(Ii)&&Je(Ai,Ii,null,_i[Ii],oi,fi.children,pi,ri,ti);"value"in _i&&Je(Ai,"value",null,_i.value),(Ei=_i.onVnodeBeforeMount)&&invokeVNodeHook(Ei,pi,fi)}je(Ai,fi,fi.scopeId,di,pi),Pi&&invokeDirectiveHook(fi,null,pi,"beforeMount");const Di=(!ri||ri&&!ri.pendingBranch)&&Fi&&!Fi.persisted;Di&&Fi.beforeEnter(Ai),Re(Ai,xi,li),((Ei=_i&&_i.onVnodeMounted)||Di||Pi)&&queuePostRenderEffect(()=>{Ei&&invokeVNodeHook(Ei,pi,fi),Di&&Fi.enter(Ai),Pi&&invokeDirectiveHook(fi,null,pi,"mounted")},ri)},je=(fi,xi,li,pi,ri)=>{if(li&&e(fi,li),pi)for(let oi=0;oi<pi.length;oi++)e(fi,pi[oi]);if(ri){let oi=ri.subTree;if(xi===oi){const di=ri.vnode;je(fi,di,di.scopeId,di.slotScopeIds,ri.parent)}}},Xe=(fi,xi,li,pi,ri,oi,di,bi,Ai=0)=>{for(let Ei=Ai;Ei<fi.length;Ei++){const mi=fi[Ei]=bi?cloneIfMounted(fi[Ei]):normalizeVNode(fi[Ei]);Oe(null,mi,xi,li,pi,ri,oi,di,bi)}},St=(fi,xi,li,pi,ri,oi,di)=>{const bi=xi.el=fi.el;let{patchFlag:Ai,dynamicChildren:Ei,dirs:mi}=xi;Ai|=fi.patchFlag&16;const _i=fi.props||EMPTY_OBJ,Si=xi.props||EMPTY_OBJ;let Fi;li&&toggleRecurse(li,!1),(Fi=Si.onVnodeBeforeUpdate)&&invokeVNodeHook(Fi,li,xi,fi),mi&&invokeDirectiveHook(xi,fi,li,"beforeUpdate"),li&&toggleRecurse(li,!0);const Pi=ri&&xi.type!=="foreignObject";if(Ei?qe(fi.dynamicChildren,Ei,bi,li,pi,Pi,oi):di||ze(fi,xi,bi,null,li,pi,Pi,oi,!1),Ai>0){if(Ai&16)Ye(bi,xi,_i,Si,li,pi,ri);else if(Ai&2&&_i.class!==Si.class&&Je(bi,"class",null,Si.class,ri),Ai&4&&Je(bi,"style",_i.style,Si.style,ri),Ai&8){const Di=xi.dynamicProps;for(let Ii=0;Ii<Di.length;Ii++){const Mi=Di[Ii],$i=_i[Mi],Xi=Si[Mi];(Xi!==$i||Mi==="value")&&Je(bi,Mi,$i,Xi,ri,fi.children,li,pi,ti)}}Ai&1&&fi.children!==xi.children&&xe(bi,xi.children)}else!di&&Ei==null&&Ye(bi,xi,_i,Si,li,pi,ri);((Fi=Si.onVnodeUpdated)||mi)&&queuePostRenderEffect(()=>{Fi&&invokeVNodeHook(Fi,li,xi,fi),mi&&invokeDirectiveHook(xi,fi,li,"updated")},pi)},qe=(fi,xi,li,pi,ri,oi,di)=>{for(let bi=0;bi<xi.length;bi++){const Ai=fi[bi],Ei=xi[bi],mi=Ai.el&&(Ai.type===Fragment||!isSameVNodeType(Ai,Ei)||Ai.shapeFlag&70)?Fe(Ai.el):li;Oe(Ai,Ei,mi,null,pi,ri,oi,di,!0)}},Ye=(fi,xi,li,pi,ri,oi,di)=>{if(li!==pi){if(li!==EMPTY_OBJ)for(const bi in li)!isReservedProp(bi)&&!(bi in pi)&&Je(fi,bi,li[bi],null,di,xi.children,ri,oi,ti);for(const bi in pi){if(isReservedProp(bi))continue;const Ai=pi[bi],Ei=li[bi];Ai!==Ei&&bi!=="value"&&Je(fi,bi,Ei,Ai,di,xi.children,ri,oi,ti)}"value"in pi&&Je(fi,"value",li.value,pi.value)}},gi=(fi,xi,li,pi,ri,oi,di,bi,Ai)=>{const Ei=xi.el=fi?fi.el:Se(""),mi=xi.anchor=fi?fi.anchor:Se("");let{patchFlag:_i,dynamicChildren:Si,slotScopeIds:Fi}=xi;Fi&&(bi=bi?bi.concat(Fi):Fi),fi==null?(Re(Ei,li,pi),Re(mi,li,pi),Xe(xi.children,li,mi,ri,oi,di,bi,Ai)):_i>0&&_i&64&&Si&&fi.dynamicChildren?(qe(fi.dynamicChildren,Si,li,ri,oi,di,bi),(xi.key!=null||ri&&xi===ri.subTree)&&traverseStaticChildren(fi,xi,!0)):ze(fi,xi,li,mi,ri,oi,di,bi,Ai)},ai=(fi,xi,li,pi,ri,oi,di,bi,Ai)=>{xi.slotScopeIds=bi,fi==null?xi.shapeFlag&512?ri.ctx.activate(xi,li,pi,di,Ai):ui(xi,li,pi,ri,oi,di,Ai):Qe(fi,xi,Ai)},ui=(fi,xi,li,pi,ri,oi,di)=>{const bi=fi.component=createComponentInstance(fi,pi,ri);if(isKeepAlive(fi)&&(bi.ctx.renderer=wi),setupComponent(bi),bi.asyncDep){if(ri&&ri.registerDep(bi,Ze),!fi.el){const Ai=bi.subTree=createVNode(Comment);Pe(null,Ai,xi,li)}return}Ze(bi,fi,xi,li,ri,oi,di)},Qe=(fi,xi,li)=>{const pi=xi.component=fi.component;if(shouldUpdateComponent(fi,xi,li))if(pi.asyncDep&&!pi.asyncResolved){ci(pi,xi,li);return}else pi.next=xi,invalidateJob(pi.update),pi.update();else xi.el=fi.el,pi.vnode=xi},Ze=(fi,xi,li,pi,ri,oi,di)=>{const bi=()=>{if(fi.isMounted){let{next:mi,bu:_i,u:Si,parent:Fi,vnode:Pi}=fi,Di=mi,Ii;toggleRecurse(fi,!1),mi?(mi.el=Pi.el,ci(fi,mi,di)):mi=Pi,_i&&invokeArrayFns(_i),(Ii=mi.props&&mi.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ii,Fi,mi,Pi),toggleRecurse(fi,!0);const Mi=renderComponentRoot(fi),$i=fi.subTree;fi.subTree=Mi,Oe($i,Mi,Fe($i.el),hi($i),fi,ri,oi),mi.el=Mi.el,Di===null&&updateHOCHostEl(fi,Mi.el),Si&&queuePostRenderEffect(Si,ri),(Ii=mi.props&&mi.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ii,Fi,mi,Pi),ri)}else{let mi;const{el:_i,props:Si}=xi,{bm:Fi,m:Pi,parent:Di}=fi,Ii=isAsyncWrapper(xi);if(toggleRecurse(fi,!1),Fi&&invokeArrayFns(Fi),!Ii&&(mi=Si&&Si.onVnodeBeforeMount)&&invokeVNodeHook(mi,Di,xi),toggleRecurse(fi,!0),_i&&ki){const Mi=()=>{fi.subTree=renderComponentRoot(fi),ki(_i,fi.subTree,fi,ri,null)};Ii?xi.type.__asyncLoader().then(()=>!fi.isUnmounted&&Mi()):Mi()}else{const Mi=fi.subTree=renderComponentRoot(fi);Oe(null,Mi,li,pi,fi,ri,oi),xi.el=Mi.el}if(Pi&&queuePostRenderEffect(Pi,ri),!Ii&&(mi=Si&&Si.onVnodeMounted)){const Mi=xi;queuePostRenderEffect(()=>invokeVNodeHook(mi,Di,Mi),ri)}(xi.shapeFlag&256||Di&&isAsyncWrapper(Di.vnode)&&Di.vnode.shapeFlag&256)&&fi.a&&queuePostRenderEffect(fi.a,ri),fi.isMounted=!0,xi=li=pi=null}},Ai=fi.effect=new ReactiveEffect(bi,()=>queueJob(Ei),fi.scope),Ei=fi.update=()=>Ai.run();Ei.id=fi.uid,toggleRecurse(fi,!0),Ei()},ci=(fi,xi,li)=>{xi.component=fi;const pi=fi.vnode.props;fi.vnode=xi,fi.next=null,updateProps(fi,xi.props,pi,li),updateSlots(fi,xi.children,li),pauseTracking(),flushPreFlushCbs(),resetTracking()},ze=(fi,xi,li,pi,ri,oi,di,bi,Ai=!1)=>{const Ei=fi&&fi.children,mi=fi?fi.shapeFlag:0,_i=xi.children,{patchFlag:Si,shapeFlag:Fi}=xi;if(Si>0){if(Si&128){si(Ei,_i,li,pi,ri,oi,di,bi,Ai);return}else if(Si&256){We(Ei,_i,li,pi,ri,oi,di,bi,Ai);return}}Fi&8?(mi&16&&ti(Ei,ri,oi),_i!==Ei&&xe(li,_i)):mi&16?Fi&16?si(Ei,_i,li,pi,ri,oi,di,bi,Ai):ti(Ei,ri,oi,!0):(mi&8&&xe(li,""),Fi&16&&Xe(_i,li,pi,ri,oi,di,bi,Ai))},We=(fi,xi,li,pi,ri,oi,di,bi,Ai)=>{fi=fi||EMPTY_ARR,xi=xi||EMPTY_ARR;const Ei=fi.length,mi=xi.length,_i=Math.min(Ei,mi);let Si;for(Si=0;Si<_i;Si++){const Fi=xi[Si]=Ai?cloneIfMounted(xi[Si]):normalizeVNode(xi[Si]);Oe(fi[Si],Fi,li,null,ri,oi,di,bi,Ai)}Ei>mi?ti(fi,ri,oi,!0,!1,_i):Xe(xi,li,pi,ri,oi,di,bi,Ai,_i)},si=(fi,xi,li,pi,ri,oi,di,bi,Ai)=>{let Ei=0;const mi=xi.length;let _i=fi.length-1,Si=mi-1;for(;Ei<=_i&&Ei<=Si;){const Fi=fi[Ei],Pi=xi[Ei]=Ai?cloneIfMounted(xi[Ei]):normalizeVNode(xi[Ei]);if(isSameVNodeType(Fi,Pi))Oe(Fi,Pi,li,null,ri,oi,di,bi,Ai);else break;Ei++}for(;Ei<=_i&&Ei<=Si;){const Fi=fi[_i],Pi=xi[Si]=Ai?cloneIfMounted(xi[Si]):normalizeVNode(xi[Si]);if(isSameVNodeType(Fi,Pi))Oe(Fi,Pi,li,null,ri,oi,di,bi,Ai);else break;_i--,Si--}if(Ei>_i){if(Ei<=Si){const Fi=Si+1,Pi=Fi<mi?xi[Fi].el:pi;for(;Ei<=Si;)Oe(null,xi[Ei]=Ai?cloneIfMounted(xi[Ei]):normalizeVNode(xi[Ei]),li,Pi,ri,oi,di,bi,Ai),Ei++}}else if(Ei>Si)for(;Ei<=_i;)$e(fi[Ei],ri,oi,!0),Ei++;else{const Fi=Ei,Pi=Ei,Di=new Map;for(Ei=Pi;Ei<=Si;Ei++){const fn=xi[Ei]=Ai?cloneIfMounted(xi[Ei]):normalizeVNode(xi[Ei]);fn.key!=null&&Di.set(fn.key,Ei)}let Ii,Mi=0;const $i=Si-Pi+1;let Xi=!1,rn=0;const tn=new Array($i);for(Ei=0;Ei<$i;Ei++)tn[Ei]=0;for(Ei=Fi;Ei<=_i;Ei++){const fn=fi[Ei];if(Mi>=$i){$e(fn,ri,oi,!0);continue}let Yi;if(fn.key!=null)Yi=Di.get(fn.key);else for(Ii=Pi;Ii<=Si;Ii++)if(tn[Ii-Pi]===0&&isSameVNodeType(fn,xi[Ii])){Yi=Ii;break}Yi===void 0?$e(fn,ri,oi,!0):(tn[Yi-Pi]=Ei+1,Yi>=rn?rn=Yi:Xi=!0,Oe(fn,xi[Yi],li,null,ri,oi,di,bi,Ai),Mi++)}const on=Xi?getSequence(tn):EMPTY_ARR;for(Ii=on.length-1,Ei=$i-1;Ei>=0;Ei--){const fn=Pi+Ei,Yi=xi[fn],Ri=fn+1<mi?xi[fn+1].el:pi;tn[Ei]===0?Oe(null,Yi,li,Ri,ri,oi,di,bi,Ai):Xi&&(Ii<0||Ei!==on[Ii]?ni(Yi,li,Ri,2):Ii--)}}},ni=(fi,xi,li,pi,ri=null)=>{const{el:oi,type:di,transition:bi,children:Ai,shapeFlag:Ei}=fi;if(Ei&6){ni(fi.component.subTree,xi,li,pi);return}if(Ei&128){fi.suspense.move(xi,li,pi);return}if(Ei&64){di.move(fi,xi,li,wi);return}if(di===Fragment){Re(oi,xi,li);for(let _i=0;_i<Ai.length;_i++)ni(Ai[_i],xi,li,pi);Re(fi.anchor,xi,li);return}if(di===Static){Me(fi,xi,li);return}if(pi!==2&&Ei&1&&bi)if(pi===0)bi.beforeEnter(oi),Re(oi,xi,li),queuePostRenderEffect(()=>bi.enter(oi),ri);else{const{leave:_i,delayLeave:Si,afterLeave:Fi}=bi,Pi=()=>Re(oi,xi,li),Di=()=>{_i(oi,()=>{Pi(),Fi&&Fi()})};Si?Si(oi,Pi,Di):Di()}else Re(oi,xi,li)},$e=(fi,xi,li,pi=!1,ri=!1)=>{const{type:oi,props:di,ref:bi,children:Ai,dynamicChildren:Ei,shapeFlag:mi,patchFlag:_i,dirs:Si}=fi;if(bi!=null&&setRef(bi,null,li,fi,!0),mi&256){xi.ctx.deactivate(fi);return}const Fi=mi&1&&Si,Pi=!isAsyncWrapper(fi);let Di;if(Pi&&(Di=di&&di.onVnodeBeforeUnmount)&&invokeVNodeHook(Di,xi,fi),mi&6)Ue(fi.component,li,pi);else{if(mi&128){fi.suspense.unmount(li,pi);return}Fi&&invokeDirectiveHook(fi,null,xi,"beforeUnmount"),mi&64?fi.type.remove(fi,xi,li,ri,wi,pi):Ei&&(oi!==Fragment||_i>0&&_i&64)?ti(Ei,xi,li,!1,!0):(oi===Fragment&&_i&384||!ri&&mi&16)&&ti(Ai,xi,li),pi&&Ke(fi)}(Pi&&(Di=di&&di.onVnodeUnmounted)||Fi)&&queuePostRenderEffect(()=>{Di&&invokeVNodeHook(Di,xi,fi),Fi&&invokeDirectiveHook(fi,null,xi,"unmounted")},li)},Ke=fi=>{const{type:xi,el:li,anchor:pi,transition:ri}=fi;if(xi===Fragment){Ve(li,pi);return}if(xi===Static){Ae(fi);return}const oi=()=>{Ge(li),ri&&!ri.persisted&&ri.afterLeave&&ri.afterLeave()};if(fi.shapeFlag&1&&ri&&!ri.persisted){const{leave:di,delayLeave:bi}=ri,Ai=()=>di(li,oi);bi?bi(fi.el,oi,Ai):Ai()}else oi()},Ve=(fi,xi)=>{let li;for(;fi!==xi;)li=Te(fi),Ge(fi),fi=li;Ge(xi)},Ue=(fi,xi,li)=>{const{bum:pi,scope:ri,update:oi,subTree:di,um:bi}=fi;pi&&invokeArrayFns(pi),ri.stop(),oi&&(oi.active=!1,$e(di,fi,xi,li)),bi&&queuePostRenderEffect(bi,xi),queuePostRenderEffect(()=>{fi.isUnmounted=!0},xi),xi&&xi.pendingBranch&&!xi.isUnmounted&&fi.asyncDep&&!fi.asyncResolved&&fi.suspenseId===xi.pendingId&&(xi.deps--,xi.deps===0&&xi.resolve())},ti=(fi,xi,li,pi=!1,ri=!1,oi=0)=>{for(let di=oi;di<fi.length;di++)$e(fi[di],xi,li,pi,ri)},hi=fi=>fi.shapeFlag&6?hi(fi.component.subTree):fi.shapeFlag&128?fi.suspense.next():Te(fi.anchor||fi.el),yi=(fi,xi,li)=>{fi==null?xi._vnode&&$e(xi._vnode,null,null,!0):Oe(xi._vnode||null,fi,xi,null,null,null,li),flushPreFlushCbs(),flushPostFlushCbs(),xi._vnode=fi},wi={p:Oe,um:$e,m:ni,r:Ke,mt:ui,mc:Xe,pc:ze,pbc:qe,n:hi,o:Ce};let Ci,ki;return r&&([Ci,ki]=r(wi)),{render:yi,hydrate:Ci,createApp:createAppAPI(yi,Ci)}}function toggleRecurse({effect:Ce,update:r},Ie){Ce.allowRecurse=r.allowRecurse=Ie}function traverseStaticChildren(Ce,r,Ie=!1){const Re=Ce.children,Ge=r.children;if(isArray$1(Re)&&isArray$1(Ge))for(let Je=0;Je<Re.length;Je++){const ii=Re[Je];let Se=Ge[Je];Se.shapeFlag&1&&!Se.dynamicChildren&&((Se.patchFlag<=0||Se.patchFlag===32)&&(Se=Ge[Je]=cloneIfMounted(Ge[Je]),Se.el=ii.el),Ie||traverseStaticChildren(ii,Se))}}function getSequence(Ce){const r=Ce.slice(),Ie=[0];let Re,Ge,Je,ii,Se;const _e=Ce.length;for(Re=0;Re<_e;Re++){const t=Ce[Re];if(t!==0){if(Ge=Ie[Ie.length-1],Ce[Ge]<t){r[Re]=Ge,Ie.push(Re);continue}for(Je=0,ii=Ie.length-1;Je<ii;)Se=Je+ii>>1,Ce[Ie[Se]]<t?Je=Se+1:ii=Se;t<Ce[Ie[Je]]&&(Je>0&&(r[Re]=Ie[Je-1]),Ie[Je]=Re)}}for(Je=Ie.length,ii=Ie[Je-1];Je-- >0;)Ie[Je]=ii,ii=r[ii];return Ie}const isTeleport=Ce=>Ce.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(Ce=!1){blockStack.push(currentBlock=Ce?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(Ce){isBlockTreeEnabled+=Ce}function setupBlock(Ce){return Ce.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(Ce),Ce}function createElementBlock(Ce,r,Ie,Re,Ge,Je){return setupBlock(createBaseVNode(Ce,r,Ie,Re,Ge,Je,!0))}function isVNode(Ce){return Ce?Ce.__v_isVNode===!0:!1}function isSameVNodeType(Ce,r){return Ce.type===r.type&&Ce.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:Ce})=>Ce!=null?Ce:null,normalizeRef=({ref:Ce,ref_key:r,ref_for:Ie})=>Ce!=null?isString(Ce)||isRef(Ce)||isFunction(Ce)?{i:currentRenderingInstance,r:Ce,k:r,f:!!Ie}:Ce:null;function createBaseVNode(Ce,r=null,Ie=null,Re=0,Ge=null,Je=Ce===Fragment?0:1,ii=!1,Se=!1){const _e={__v_isVNode:!0,__v_skip:!0,type:Ce,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:Ie,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Je,patchFlag:Re,dynamicProps:Ge,dynamicChildren:null,appContext:null};return Se?(normalizeChildren(_e,Ie),Je&128&&Ce.normalize(_e)):Ie&&(_e.shapeFlag|=isString(Ie)?8:16),isBlockTreeEnabled>0&&!ii&&currentBlock&&(_e.patchFlag>0||Je&6)&&_e.patchFlag!==32&&currentBlock.push(_e),_e}const createVNode=_createVNode;function _createVNode(Ce,r=null,Ie=null,Re=0,Ge=null,Je=!1){if((!Ce||Ce===NULL_DYNAMIC_COMPONENT)&&(Ce=Comment),isVNode(Ce)){const Se=cloneVNode(Ce,r,!0);return Ie&&normalizeChildren(Se,Ie),isBlockTreeEnabled>0&&!Je&&currentBlock&&(Se.shapeFlag&6?currentBlock[currentBlock.indexOf(Ce)]=Se:currentBlock.push(Se)),Se.patchFlag|=-2,Se}if(isClassComponent(Ce)&&(Ce=Ce.__vccOpts),r){r=guardReactiveProps(r);let{class:Se,style:_e}=r;Se&&!isString(Se)&&(r.class=normalizeClass(Se)),isObject(_e)&&(isProxy(_e)&&!isArray$1(_e)&&(_e=extend({},_e)),r.style=normalizeStyle(_e))}const ii=isString(Ce)?1:isSuspense(Ce)?128:isTeleport(Ce)?64:isObject(Ce)?4:isFunction(Ce)?2:0;return createBaseVNode(Ce,r,Ie,Re,Ge,ii,Je,!0)}function guardReactiveProps(Ce){return Ce?isProxy(Ce)||InternalObjectKey in Ce?extend({},Ce):Ce:null}function cloneVNode(Ce,r,Ie=!1){const{props:Re,ref:Ge,patchFlag:Je,children:ii}=Ce,Se=r?mergeProps(Re||{},r):Re;return{__v_isVNode:!0,__v_skip:!0,type:Ce.type,props:Se,key:Se&&normalizeKey(Se),ref:r&&r.ref?Ie&&Ge?isArray$1(Ge)?Ge.concat(normalizeRef(r)):[Ge,normalizeRef(r)]:normalizeRef(r):Ge,scopeId:Ce.scopeId,slotScopeIds:Ce.slotScopeIds,children:ii,target:Ce.target,targetAnchor:Ce.targetAnchor,staticCount:Ce.staticCount,shapeFlag:Ce.shapeFlag,patchFlag:r&&Ce.type!==Fragment?Je===-1?16:Je|16:Je,dynamicProps:Ce.dynamicProps,dynamicChildren:Ce.dynamicChildren,appContext:Ce.appContext,dirs:Ce.dirs,transition:Ce.transition,component:Ce.component,suspense:Ce.suspense,ssContent:Ce.ssContent&&cloneVNode(Ce.ssContent),ssFallback:Ce.ssFallback&&cloneVNode(Ce.ssFallback),el:Ce.el,anchor:Ce.anchor}}function createTextVNode(Ce=" ",r=0){return createVNode(Text,null,Ce,r)}function createStaticVNode(Ce,r){const Ie=createVNode(Static,null,Ce);return Ie.staticCount=r,Ie}function normalizeVNode(Ce){return Ce==null||typeof Ce=="boolean"?createVNode(Comment):isArray$1(Ce)?createVNode(Fragment,null,Ce.slice()):typeof Ce=="object"?cloneIfMounted(Ce):createVNode(Text,null,String(Ce))}function cloneIfMounted(Ce){return Ce.el===null&&Ce.patchFlag!==-1||Ce.memo?Ce:cloneVNode(Ce)}function normalizeChildren(Ce,r){let Ie=0;const{shapeFlag:Re}=Ce;if(r==null)r=null;else if(isArray$1(r))Ie=16;else if(typeof r=="object")if(Re&65){const Ge=r.default;Ge&&(Ge._c&&(Ge._d=!1),normalizeChildren(Ce,Ge()),Ge._c&&(Ge._d=!0));return}else{Ie=32;const Ge=r._;!Ge&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:Ge===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,Ce.patchFlag|=1024))}else isFunction(r)?(r={default:r,_ctx:currentRenderingInstance},Ie=32):(r=String(r),Re&64?(Ie=16,r=[createTextVNode(r)]):Ie=8);Ce.children=r,Ce.shapeFlag|=Ie}function mergeProps(...Ce){const r={};for(let Ie=0;Ie<Ce.length;Ie++){const Re=Ce[Ie];for(const Ge in Re)if(Ge==="class")r.class!==Re.class&&(r.class=normalizeClass([r.class,Re.class]));else if(Ge==="style")r.style=normalizeStyle([r.style,Re.style]);else if(isOn(Ge)){const Je=r[Ge],ii=Re[Ge];ii&&Je!==ii&&!(isArray$1(Je)&&Je.includes(ii))&&(r[Ge]=Je?[].concat(Je,ii):ii)}else Ge!==""&&(r[Ge]=Re[Ge])}return r}function invokeVNodeHook(Ce,r,Ie,Re=null){callWithAsyncErrorHandling(Ce,r,7,[Ie,Re])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(Ce,r,Ie){const Re=Ce.type,Ge=(r?r.appContext:Ce.appContext)||emptyAppContext,Je={uid:uid$1++,vnode:Ce,type:Re,parent:r,appContext:Ge,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(Ge.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(Re,Ge),emitsOptions:normalizeEmitsOptions(Re,Ge),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:Re.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:Ie,suspenseId:Ie?Ie.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Je.ctx={_:Je},Je.root=r?r.root:Je,Je.emit=emit$1.bind(null,Je),Ce.ce&&Ce.ce(Je),Je}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=Ce=>{currentInstance=Ce,Ce.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(Ce){return Ce.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(Ce,r=!1){isInSSRComponentSetup=r;const{props:Ie,children:Re}=Ce.vnode,Ge=isStatefulComponent(Ce);initProps(Ce,Ie,Ge,r),initSlots(Ce,Re);const Je=Ge?setupStatefulComponent(Ce,r):void 0;return isInSSRComponentSetup=!1,Je}function setupStatefulComponent(Ce,r){const Ie=Ce.type;Ce.accessCache=Object.create(null),Ce.proxy=markRaw(new Proxy(Ce.ctx,PublicInstanceProxyHandlers));const{setup:Re}=Ie;if(Re){const Ge=Ce.setupContext=Re.length>1?createSetupContext(Ce):null;setCurrentInstance(Ce),pauseTracking();const Je=callWithErrorHandling(Re,Ce,0,[Ce.props,Ge]);if(resetTracking(),unsetCurrentInstance(),isPromise(Je)){if(Je.then(unsetCurrentInstance,unsetCurrentInstance),r)return Je.then(ii=>{handleSetupResult(Ce,ii,r)}).catch(ii=>{handleError(ii,Ce,0)});Ce.asyncDep=Je}else handleSetupResult(Ce,Je,r)}else finishComponentSetup(Ce,r)}function handleSetupResult(Ce,r,Ie){isFunction(r)?Ce.type.__ssrInlineRender?Ce.ssrRender=r:Ce.render=r:isObject(r)&&(Ce.setupState=proxyRefs(r)),finishComponentSetup(Ce,Ie)}let compile;function finishComponentSetup(Ce,r,Ie){const Re=Ce.type;if(!Ce.render){if(!r&&compile&&!Re.render){const Ge=Re.template||resolveMergedOptions(Ce).template;if(Ge){const{isCustomElement:Je,compilerOptions:ii}=Ce.appContext.config,{delimiters:Se,compilerOptions:_e}=Re,t=extend(extend({isCustomElement:Je,delimiters:Se},ii),_e);Re.render=compile(Ge,t)}}Ce.render=Re.render||NOOP}setCurrentInstance(Ce),pauseTracking(),applyOptions(Ce),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(Ce){return new Proxy(Ce.attrs,{get(r,Ie){return track(Ce,"get","$attrs"),r[Ie]}})}function createSetupContext(Ce){const r=Re=>{Ce.exposed=Re||{}};let Ie;return{get attrs(){return Ie||(Ie=createAttrsProxy(Ce))},slots:Ce.slots,emit:Ce.emit,expose:r}}function getExposeProxy(Ce){if(Ce.exposed)return Ce.exposeProxy||(Ce.exposeProxy=new Proxy(proxyRefs(markRaw(Ce.exposed)),{get(r,Ie){if(Ie in r)return r[Ie];if(Ie in publicPropertiesMap)return publicPropertiesMap[Ie](Ce)},has(r,Ie){return Ie in r||Ie in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=Ce=>Ce.replace(classifyRE,r=>r.toUpperCase()).replace(/[-_]/g,"");function getComponentName(Ce,r=!0){return isFunction(Ce)?Ce.displayName||Ce.name:Ce.name||r&&Ce.__name}function formatComponentName(Ce,r,Ie=!1){let Re=getComponentName(r);if(!Re&&r.__file){const Ge=r.__file.match(/([^/\\]+)\.\w+$/);Ge&&(Re=Ge[1])}if(!Re&&Ce&&Ce.parent){const Ge=Je=>{for(const ii in Je)if(Je[ii]===r)return ii};Re=Ge(Ce.components||Ce.parent.type.components)||Ge(Ce.appContext.components)}return Re?classify(Re):Ie?"App":"Anonymous"}function isClassComponent(Ce){return isFunction(Ce)&&"__vccOpts"in Ce}const computed=(Ce,r)=>computed$1(Ce,r,isInSSRComponentSetup);function h$1(Ce,r,Ie){const Re=arguments.length;return Re===2?isObject(r)&&!isArray$1(r)?isVNode(r)?createVNode(Ce,null,[r]):createVNode(Ce,r):createVNode(Ce,null,r):(Re>3?Ie=Array.prototype.slice.call(arguments,2):Re===3&&isVNode(Ie)&&(Ie=[Ie]),createVNode(Ce,r,Ie))}const ssrContextKey=Symbol(""),useSSRContext=()=>{{const Ce=inject(ssrContextKey);return Ce||warn("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),Ce}},version="3.2.42",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(Ce,r,Ie)=>{r.insertBefore(Ce,Ie||null)},remove:Ce=>{const r=Ce.parentNode;r&&r.removeChild(Ce)},createElement:(Ce,r,Ie,Re)=>{const Ge=r?doc.createElementNS(svgNS,Ce):doc.createElement(Ce,Ie?{is:Ie}:void 0);return Ce==="select"&&Re&&Re.multiple!=null&&Ge.setAttribute("multiple",Re.multiple),Ge},createText:Ce=>doc.createTextNode(Ce),createComment:Ce=>doc.createComment(Ce),setText:(Ce,r)=>{Ce.nodeValue=r},setElementText:(Ce,r)=>{Ce.textContent=r},parentNode:Ce=>Ce.parentNode,nextSibling:Ce=>Ce.nextSibling,querySelector:Ce=>doc.querySelector(Ce),setScopeId(Ce,r){Ce.setAttribute(r,"")},insertStaticContent(Ce,r,Ie,Re,Ge,Je){const ii=Ie?Ie.previousSibling:r.lastChild;if(Ge&&(Ge===Je||Ge.nextSibling))for(;r.insertBefore(Ge.cloneNode(!0),Ie),!(Ge===Je||!(Ge=Ge.nextSibling)););else{templateContainer.innerHTML=Re?`<svg>${Ce}</svg>`:Ce;const Se=templateContainer.content;if(Re){const _e=Se.firstChild;for(;_e.firstChild;)Se.appendChild(_e.firstChild);Se.removeChild(_e)}r.insertBefore(Se,Ie)}return[ii?ii.nextSibling:r.firstChild,Ie?Ie.previousSibling:r.lastChild]}};function patchClass(Ce,r,Ie){const Re=Ce._vtc;Re&&(r=(r?[r,...Re]:[...Re]).join(" ")),r==null?Ce.removeAttribute("class"):Ie?Ce.setAttribute("class",r):Ce.className=r}function patchStyle(Ce,r,Ie){const Re=Ce.style,Ge=isString(Ie);if(Ie&&!Ge){for(const Je in Ie)setStyle(Re,Je,Ie[Je]);if(r&&!isString(r))for(const Je in r)Ie[Je]==null&&setStyle(Re,Je,"")}else{const Je=Re.display;Ge?r!==Ie&&(Re.cssText=Ie):r&&Ce.removeAttribute("style"),"_vod"in Ce&&(Re.display=Je)}}const importantRE=/\s*!important$/;function setStyle(Ce,r,Ie){if(isArray$1(Ie))Ie.forEach(Re=>setStyle(Ce,r,Re));else if(Ie==null&&(Ie=""),r.startsWith("--"))Ce.setProperty(r,Ie);else{const Re=autoPrefix(Ce,r);importantRE.test(Ie)?Ce.setProperty(hyphenate(Re),Ie.replace(importantRE,""),"important"):Ce[Re]=Ie}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(Ce,r){const Ie=prefixCache[r];if(Ie)return Ie;let Re=camelize(r);if(Re!=="filter"&&Re in Ce)return prefixCache[r]=Re;Re=capitalize(Re);for(let Ge=0;Ge<prefixes.length;Ge++){const Je=prefixes[Ge]+Re;if(Je in Ce)return prefixCache[r]=Je}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(Ce,r,Ie,Re,Ge){if(Re&&r.startsWith("xlink:"))Ie==null?Ce.removeAttributeNS(xlinkNS,r.slice(6,r.length)):Ce.setAttributeNS(xlinkNS,r,Ie);else{const Je=isSpecialBooleanAttr(r);Ie==null||Je&&!includeBooleanAttr(Ie)?Ce.removeAttribute(r):Ce.setAttribute(r,Je?"":Ie)}}function patchDOMProp(Ce,r,Ie,Re,Ge,Je,ii){if(r==="innerHTML"||r==="textContent"){Re&&ii(Re,Ge,Je),Ce[r]=Ie==null?"":Ie;return}if(r==="value"&&Ce.tagName!=="PROGRESS"&&!Ce.tagName.includes("-")){Ce._value=Ie;const _e=Ie==null?"":Ie;(Ce.value!==_e||Ce.tagName==="OPTION")&&(Ce.value=_e),Ie==null&&Ce.removeAttribute(r);return}let Se=!1;if(Ie===""||Ie==null){const _e=typeof Ce[r];_e==="boolean"?Ie=includeBooleanAttr(Ie):Ie==null&&_e==="string"?(Ie="",Se=!0):_e==="number"&&(Ie=0,Se=!0)}try{Ce[r]=Ie}catch{}Se&&Ce.removeAttribute(r)}function addEventListener(Ce,r,Ie,Re){Ce.addEventListener(r,Ie,Re)}function removeEventListener(Ce,r,Ie,Re){Ce.removeEventListener(r,Ie,Re)}function patchEvent(Ce,r,Ie,Re,Ge=null){const Je=Ce._vei||(Ce._vei={}),ii=Je[r];if(Re&&ii)ii.value=Re;else{const[Se,_e]=parseName(r);if(Re){const t=Je[r]=createInvoker(Re,Ge);addEventListener(Ce,Se,t,_e)}else ii&&(removeEventListener(Ce,Se,ii,_e),Je[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(Ce){let r;if(optionsModifierRE.test(Ce)){r={};let Re;for(;Re=Ce.match(optionsModifierRE);)Ce=Ce.slice(0,Ce.length-Re[0].length),r[Re[0].toLowerCase()]=!0}return[Ce[2]===":"?Ce.slice(3):hyphenate(Ce.slice(2)),r]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(Ce,r){const Ie=Re=>{if(!Re._vts)Re._vts=Date.now();else if(Re._vts<=Ie.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(Re,Ie.value),r,5,[Re])};return Ie.value=Ce,Ie.attached=getNow(),Ie}function patchStopImmediatePropagation(Ce,r){if(isArray$1(r)){const Ie=Ce.stopImmediatePropagation;return Ce.stopImmediatePropagation=()=>{Ie.call(Ce),Ce._stopped=!0},r.map(Re=>Ge=>!Ge._stopped&&Re&&Re(Ge))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(Ce,r,Ie,Re,Ge=!1,Je,ii,Se,_e)=>{r==="class"?patchClass(Ce,Re,Ge):r==="style"?patchStyle(Ce,Ie,Re):isOn(r)?isModelListener(r)||patchEvent(Ce,r,Ie,Re,ii):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(Ce,r,Re,Ge))?patchDOMProp(Ce,r,Re,Je,ii,Se,_e):(r==="true-value"?Ce._trueValue=Re:r==="false-value"&&(Ce._falseValue=Re),patchAttr(Ce,r,Re,Ge))};function shouldSetAsProp(Ce,r,Ie,Re){return Re?!!(r==="innerHTML"||r==="textContent"||r in Ce&&nativeOnRE.test(r)&&isFunction(Ie)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&Ce.tagName==="INPUT"||r==="type"&&Ce.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString(Ie)?!1:r in Ce}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...Ce)=>{const r=ensureRenderer().createApp(...Ce),{mount:Ie}=r;return r.mount=Re=>{const Ge=normalizeContainer(Re);if(!Ge)return;const Je=r._component;!isFunction(Je)&&!Je.render&&!Je.template&&(Je.template=Ge.innerHTML),Ge.innerHTML="";const ii=Ie(Ge,!1,Ge instanceof SVGElement);return Ge instanceof Element&&(Ge.removeAttribute("v-cloak"),Ge.setAttribute("data-v-app","")),ii},r};function normalizeContainer(Ce){return isString(Ce)?document.querySelector(Ce):Ce}const custom="";var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(Ce,r){return Ce.concat([r+"-"+start,r+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(Ce,r){return Ce.concat([r,r+"-"+start,r+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(Ce){return Ce?(Ce.nodeName||"").toLowerCase():null}function getWindow(Ce){if(Ce==null)return window;if(Ce.toString()!=="[object Window]"){var r=Ce.ownerDocument;return r&&r.defaultView||window}return Ce}function isElement$1(Ce){var r=getWindow(Ce).Element;return Ce instanceof r||Ce instanceof Element}function isHTMLElement(Ce){var r=getWindow(Ce).HTMLElement;return Ce instanceof r||Ce instanceof HTMLElement}function isShadowRoot(Ce){if(typeof ShadowRoot>"u")return!1;var r=getWindow(Ce).ShadowRoot;return Ce instanceof r||Ce instanceof ShadowRoot}function applyStyles(Ce){var r=Ce.state;Object.keys(r.elements).forEach(function(Ie){var Re=r.styles[Ie]||{},Ge=r.attributes[Ie]||{},Je=r.elements[Ie];!isHTMLElement(Je)||!getNodeName(Je)||(Object.assign(Je.style,Re),Object.keys(Ge).forEach(function(ii){var Se=Ge[ii];Se===!1?Je.removeAttribute(ii):Je.setAttribute(ii,Se===!0?"":Se)}))})}function effect$2(Ce){var r=Ce.state,Ie={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,Ie.popper),r.styles=Ie,r.elements.arrow&&Object.assign(r.elements.arrow.style,Ie.arrow),function(){Object.keys(r.elements).forEach(function(Re){var Ge=r.elements[Re],Je=r.attributes[Re]||{},ii=Object.keys(r.styles.hasOwnProperty(Re)?r.styles[Re]:Ie[Re]),Se=ii.reduce(function(_e,t){return _e[t]="",_e},{});!isHTMLElement(Ge)||!getNodeName(Ge)||(Object.assign(Ge.style,Se),Object.keys(Je).forEach(function(_e){Ge.removeAttribute(_e)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(Ce){return Ce.split("-")[0]}var max$1=Math.max,min=Math.min,round=Math.round;function getUAString(){var Ce=navigator.userAgentData;return Ce!=null&&Ce.brands?Ce.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(Ce,r,Ie){r===void 0&&(r=!1),Ie===void 0&&(Ie=!1);var Re=Ce.getBoundingClientRect(),Ge=1,Je=1;r&&isHTMLElement(Ce)&&(Ge=Ce.offsetWidth>0&&round(Re.width)/Ce.offsetWidth||1,Je=Ce.offsetHeight>0&&round(Re.height)/Ce.offsetHeight||1);var ii=isElement$1(Ce)?getWindow(Ce):window,Se=ii.visualViewport,_e=!isLayoutViewport()&&Ie,t=(Re.left+(_e&&Se?Se.offsetLeft:0))/Ge,xe=(Re.top+(_e&&Se?Se.offsetTop:0))/Je,Fe=Re.width/Ge,Te=Re.height/Je;return{width:Fe,height:Te,top:xe,right:t+Fe,bottom:xe+Te,left:t,x:t,y:xe}}function getLayoutRect(Ce){var r=getBoundingClientRect(Ce),Ie=Ce.offsetWidth,Re=Ce.offsetHeight;return Math.abs(r.width-Ie)<=1&&(Ie=r.width),Math.abs(r.height-Re)<=1&&(Re=r.height),{x:Ce.offsetLeft,y:Ce.offsetTop,width:Ie,height:Re}}function contains(Ce,r){var Ie=r.getRootNode&&r.getRootNode();if(Ce.contains(r))return!0;if(Ie&&isShadowRoot(Ie)){var Re=r;do{if(Re&&Ce.isSameNode(Re))return!0;Re=Re.parentNode||Re.host}while(Re)}return!1}function getComputedStyle$1(Ce){return getWindow(Ce).getComputedStyle(Ce)}function isTableElement(Ce){return["table","td","th"].indexOf(getNodeName(Ce))>=0}function getDocumentElement(Ce){return((isElement$1(Ce)?Ce.ownerDocument:Ce.document)||window.document).documentElement}function getParentNode(Ce){return getNodeName(Ce)==="html"?Ce:Ce.assignedSlot||Ce.parentNode||(isShadowRoot(Ce)?Ce.host:null)||getDocumentElement(Ce)}function getTrueOffsetParent(Ce){return!isHTMLElement(Ce)||getComputedStyle$1(Ce).position==="fixed"?null:Ce.offsetParent}function getContainingBlock(Ce){var r=/firefox/i.test(getUAString()),Ie=/Trident/i.test(getUAString());if(Ie&&isHTMLElement(Ce)){var Re=getComputedStyle$1(Ce);if(Re.position==="fixed")return null}var Ge=getParentNode(Ce);for(isShadowRoot(Ge)&&(Ge=Ge.host);isHTMLElement(Ge)&&["html","body"].indexOf(getNodeName(Ge))<0;){var Je=getComputedStyle$1(Ge);if(Je.transform!=="none"||Je.perspective!=="none"||Je.contain==="paint"||["transform","perspective"].indexOf(Je.willChange)!==-1||r&&Je.willChange==="filter"||r&&Je.filter&&Je.filter!=="none")return Ge;Ge=Ge.parentNode}return null}function getOffsetParent(Ce){for(var r=getWindow(Ce),Ie=getTrueOffsetParent(Ce);Ie&&isTableElement(Ie)&&getComputedStyle$1(Ie).position==="static";)Ie=getTrueOffsetParent(Ie);return Ie&&(getNodeName(Ie)==="html"||getNodeName(Ie)==="body"&&getComputedStyle$1(Ie).position==="static")?r:Ie||getContainingBlock(Ce)||r}function getMainAxisFromPlacement(Ce){return["top","bottom"].indexOf(Ce)>=0?"x":"y"}function within(Ce,r,Ie){return max$1(Ce,min(r,Ie))}function withinMaxClamp(Ce,r,Ie){var Re=within(Ce,r,Ie);return Re>Ie?Ie:Re}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(Ce){return Object.assign({},getFreshSideObject(),Ce)}function expandToHashMap(Ce,r){return r.reduce(function(Ie,Re){return Ie[Re]=Ce,Ie},{})}var toPaddingObject=function(r,Ie){return r=typeof r=="function"?r(Object.assign({},Ie.rects,{placement:Ie.placement})):r,mergePaddingObject(typeof r!="number"?r:expandToHashMap(r,basePlacements))};function arrow(Ce){var r,Ie=Ce.state,Re=Ce.name,Ge=Ce.options,Je=Ie.elements.arrow,ii=Ie.modifiersData.popperOffsets,Se=getBasePlacement(Ie.placement),_e=getMainAxisFromPlacement(Se),t=[left,right].indexOf(Se)>=0,xe=t?"height":"width";if(!(!Je||!ii)){var Fe=toPaddingObject(Ge.padding,Ie),Te=getLayoutRect(Je),e=_e==="y"?top:left,ke=_e==="y"?bottom:right,Oe=Ie.rects.reference[xe]+Ie.rects.reference[_e]-ii[_e]-Ie.rects.popper[xe],Ee=ii[_e]-Ie.rects.reference[_e],Pe=getOffsetParent(Je),De=Pe?_e==="y"?Pe.clientHeight||0:Pe.clientWidth||0:0,Me=Oe/2-Ee/2,Ae=Fe[e],Be=De-Te[xe]-Fe[ke],He=De/2-Te[xe]/2+Me,je=within(Ae,He,Be),Xe=_e;Ie.modifiersData[Re]=(r={},r[Xe]=je,r.centerOffset=je-He,r)}}function effect$1(Ce){var r=Ce.state,Ie=Ce.options,Re=Ie.element,Ge=Re===void 0?"[data-popper-arrow]":Re;Ge!=null&&(typeof Ge=="string"&&(Ge=r.elements.popper.querySelector(Ge),!Ge)||!contains(r.elements.popper,Ge)||(r.elements.arrow=Ge))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(Ce){return Ce.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(Ce){var r=Ce.x,Ie=Ce.y,Re=window,Ge=Re.devicePixelRatio||1;return{x:round(r*Ge)/Ge||0,y:round(Ie*Ge)/Ge||0}}function mapToStyles(Ce){var r,Ie=Ce.popper,Re=Ce.popperRect,Ge=Ce.placement,Je=Ce.variation,ii=Ce.offsets,Se=Ce.position,_e=Ce.gpuAcceleration,t=Ce.adaptive,xe=Ce.roundOffsets,Fe=Ce.isFixed,Te=ii.x,e=Te===void 0?0:Te,ke=ii.y,Oe=ke===void 0?0:ke,Ee=typeof xe=="function"?xe({x:e,y:Oe}):{x:e,y:Oe};e=Ee.x,Oe=Ee.y;var Pe=ii.hasOwnProperty("x"),De=ii.hasOwnProperty("y"),Me=left,Ae=top,Be=window;if(t){var He=getOffsetParent(Ie),je="clientHeight",Xe="clientWidth";if(He===getWindow(Ie)&&(He=getDocumentElement(Ie),getComputedStyle$1(He).position!=="static"&&Se==="absolute"&&(je="scrollHeight",Xe="scrollWidth")),He=He,Ge===top||(Ge===left||Ge===right)&&Je===end){Ae=bottom;var St=Fe&&He===Be&&Be.visualViewport?Be.visualViewport.height:He[je];Oe-=St-Re.height,Oe*=_e?1:-1}if(Ge===left||(Ge===top||Ge===bottom)&&Je===end){Me=right;var qe=Fe&&He===Be&&Be.visualViewport?Be.visualViewport.width:He[Xe];e-=qe-Re.width,e*=_e?1:-1}}var Ye=Object.assign({position:Se},t&&unsetSides),gi=xe===!0?roundOffsetsByDPR({x:e,y:Oe}):{x:e,y:Oe};if(e=gi.x,Oe=gi.y,_e){var ai;return Object.assign({},Ye,(ai={},ai[Ae]=De?"0":"",ai[Me]=Pe?"0":"",ai.transform=(Be.devicePixelRatio||1)<=1?"translate("+e+"px, "+Oe+"px)":"translate3d("+e+"px, "+Oe+"px, 0)",ai))}return Object.assign({},Ye,(r={},r[Ae]=De?Oe+"px":"",r[Me]=Pe?e+"px":"",r.transform="",r))}function computeStyles(Ce){var r=Ce.state,Ie=Ce.options,Re=Ie.gpuAcceleration,Ge=Re===void 0?!0:Re,Je=Ie.adaptive,ii=Je===void 0?!0:Je,Se=Ie.roundOffsets,_e=Se===void 0?!0:Se,t={placement:getBasePlacement(r.placement),variation:getVariation(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:Ge,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,mapToStyles(Object.assign({},t,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:ii,roundOffsets:_e})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,mapToStyles(Object.assign({},t,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(Ce){var r=Ce.state,Ie=Ce.instance,Re=Ce.options,Ge=Re.scroll,Je=Ge===void 0?!0:Ge,ii=Re.resize,Se=ii===void 0?!0:ii,_e=getWindow(r.elements.popper),t=[].concat(r.scrollParents.reference,r.scrollParents.popper);return Je&&t.forEach(function(xe){xe.addEventListener("scroll",Ie.update,passive)}),Se&&_e.addEventListener("resize",Ie.update,passive),function(){Je&&t.forEach(function(xe){xe.removeEventListener("scroll",Ie.update,passive)}),Se&&_e.removeEventListener("resize",Ie.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(Ce){return Ce.replace(/left|right|bottom|top/g,function(r){return hash$1[r]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(Ce){return Ce.replace(/start|end/g,function(r){return hash[r]})}function getWindowScroll(Ce){var r=getWindow(Ce),Ie=r.pageXOffset,Re=r.pageYOffset;return{scrollLeft:Ie,scrollTop:Re}}function getWindowScrollBarX(Ce){return getBoundingClientRect(getDocumentElement(Ce)).left+getWindowScroll(Ce).scrollLeft}function getViewportRect(Ce,r){var Ie=getWindow(Ce),Re=getDocumentElement(Ce),Ge=Ie.visualViewport,Je=Re.clientWidth,ii=Re.clientHeight,Se=0,_e=0;if(Ge){Je=Ge.width,ii=Ge.height;var t=isLayoutViewport();(t||!t&&r==="fixed")&&(Se=Ge.offsetLeft,_e=Ge.offsetTop)}return{width:Je,height:ii,x:Se+getWindowScrollBarX(Ce),y:_e}}function getDocumentRect(Ce){var r,Ie=getDocumentElement(Ce),Re=getWindowScroll(Ce),Ge=(r=Ce.ownerDocument)==null?void 0:r.body,Je=max$1(Ie.scrollWidth,Ie.clientWidth,Ge?Ge.scrollWidth:0,Ge?Ge.clientWidth:0),ii=max$1(Ie.scrollHeight,Ie.clientHeight,Ge?Ge.scrollHeight:0,Ge?Ge.clientHeight:0),Se=-Re.scrollLeft+getWindowScrollBarX(Ce),_e=-Re.scrollTop;return getComputedStyle$1(Ge||Ie).direction==="rtl"&&(Se+=max$1(Ie.clientWidth,Ge?Ge.clientWidth:0)-Je),{width:Je,height:ii,x:Se,y:_e}}function isScrollParent(Ce){var r=getComputedStyle$1(Ce),Ie=r.overflow,Re=r.overflowX,Ge=r.overflowY;return/auto|scroll|overlay|hidden/.test(Ie+Ge+Re)}function getScrollParent(Ce){return["html","body","#document"].indexOf(getNodeName(Ce))>=0?Ce.ownerDocument.body:isHTMLElement(Ce)&&isScrollParent(Ce)?Ce:getScrollParent(getParentNode(Ce))}function listScrollParents(Ce,r){var Ie;r===void 0&&(r=[]);var Re=getScrollParent(Ce),Ge=Re===((Ie=Ce.ownerDocument)==null?void 0:Ie.body),Je=getWindow(Re),ii=Ge?[Je].concat(Je.visualViewport||[],isScrollParent(Re)?Re:[]):Re,Se=r.concat(ii);return Ge?Se:Se.concat(listScrollParents(getParentNode(ii)))}function rectToClientRect(Ce){return Object.assign({},Ce,{left:Ce.x,top:Ce.y,right:Ce.x+Ce.width,bottom:Ce.y+Ce.height})}function getInnerBoundingClientRect(Ce,r){var Ie=getBoundingClientRect(Ce,!1,r==="fixed");return Ie.top=Ie.top+Ce.clientTop,Ie.left=Ie.left+Ce.clientLeft,Ie.bottom=Ie.top+Ce.clientHeight,Ie.right=Ie.left+Ce.clientWidth,Ie.width=Ce.clientWidth,Ie.height=Ce.clientHeight,Ie.x=Ie.left,Ie.y=Ie.top,Ie}function getClientRectFromMixedType(Ce,r,Ie){return r===viewport?rectToClientRect(getViewportRect(Ce,Ie)):isElement$1(r)?getInnerBoundingClientRect(r,Ie):rectToClientRect(getDocumentRect(getDocumentElement(Ce)))}function getClippingParents(Ce){var r=listScrollParents(getParentNode(Ce)),Ie=["absolute","fixed"].indexOf(getComputedStyle$1(Ce).position)>=0,Re=Ie&&isHTMLElement(Ce)?getOffsetParent(Ce):Ce;return isElement$1(Re)?r.filter(function(Ge){return isElement$1(Ge)&&contains(Ge,Re)&&getNodeName(Ge)!=="body"}):[]}function getClippingRect(Ce,r,Ie,Re){var Ge=r==="clippingParents"?getClippingParents(Ce):[].concat(r),Je=[].concat(Ge,[Ie]),ii=Je[0],Se=Je.reduce(function(_e,t){var xe=getClientRectFromMixedType(Ce,t,Re);return _e.top=max$1(xe.top,_e.top),_e.right=min(xe.right,_e.right),_e.bottom=min(xe.bottom,_e.bottom),_e.left=max$1(xe.left,_e.left),_e},getClientRectFromMixedType(Ce,ii,Re));return Se.width=Se.right-Se.left,Se.height=Se.bottom-Se.top,Se.x=Se.left,Se.y=Se.top,Se}function computeOffsets(Ce){var r=Ce.reference,Ie=Ce.element,Re=Ce.placement,Ge=Re?getBasePlacement(Re):null,Je=Re?getVariation(Re):null,ii=r.x+r.width/2-Ie.width/2,Se=r.y+r.height/2-Ie.height/2,_e;switch(Ge){case top:_e={x:ii,y:r.y-Ie.height};break;case bottom:_e={x:ii,y:r.y+r.height};break;case right:_e={x:r.x+r.width,y:Se};break;case left:_e={x:r.x-Ie.width,y:Se};break;default:_e={x:r.x,y:r.y}}var t=Ge?getMainAxisFromPlacement(Ge):null;if(t!=null){var xe=t==="y"?"height":"width";switch(Je){case start:_e[t]=_e[t]-(r[xe]/2-Ie[xe]/2);break;case end:_e[t]=_e[t]+(r[xe]/2-Ie[xe]/2);break}}return _e}function detectOverflow(Ce,r){r===void 0&&(r={});var Ie=r,Re=Ie.placement,Ge=Re===void 0?Ce.placement:Re,Je=Ie.strategy,ii=Je===void 0?Ce.strategy:Je,Se=Ie.boundary,_e=Se===void 0?clippingParents:Se,t=Ie.rootBoundary,xe=t===void 0?viewport:t,Fe=Ie.elementContext,Te=Fe===void 0?popper:Fe,e=Ie.altBoundary,ke=e===void 0?!1:e,Oe=Ie.padding,Ee=Oe===void 0?0:Oe,Pe=mergePaddingObject(typeof Ee!="number"?Ee:expandToHashMap(Ee,basePlacements)),De=Te===popper?reference:popper,Me=Ce.rects.popper,Ae=Ce.elements[ke?De:Te],Be=getClippingRect(isElement$1(Ae)?Ae:Ae.contextElement||getDocumentElement(Ce.elements.popper),_e,xe,ii),He=getBoundingClientRect(Ce.elements.reference),je=computeOffsets({reference:He,element:Me,strategy:"absolute",placement:Ge}),Xe=rectToClientRect(Object.assign({},Me,je)),St=Te===popper?Xe:He,qe={top:Be.top-St.top+Pe.top,bottom:St.bottom-Be.bottom+Pe.bottom,left:Be.left-St.left+Pe.left,right:St.right-Be.right+Pe.right},Ye=Ce.modifiersData.offset;if(Te===popper&&Ye){var gi=Ye[Ge];Object.keys(qe).forEach(function(ai){var ui=[right,bottom].indexOf(ai)>=0?1:-1,Qe=[top,bottom].indexOf(ai)>=0?"y":"x";qe[ai]+=gi[Qe]*ui})}return qe}function computeAutoPlacement(Ce,r){r===void 0&&(r={});var Ie=r,Re=Ie.placement,Ge=Ie.boundary,Je=Ie.rootBoundary,ii=Ie.padding,Se=Ie.flipVariations,_e=Ie.allowedAutoPlacements,t=_e===void 0?placements:_e,xe=getVariation(Re),Fe=xe?Se?variationPlacements:variationPlacements.filter(function(ke){return getVariation(ke)===xe}):basePlacements,Te=Fe.filter(function(ke){return t.indexOf(ke)>=0});Te.length===0&&(Te=Fe);var e=Te.reduce(function(ke,Oe){return ke[Oe]=detectOverflow(Ce,{placement:Oe,boundary:Ge,rootBoundary:Je,padding:ii})[getBasePlacement(Oe)],ke},{});return Object.keys(e).sort(function(ke,Oe){return e[ke]-e[Oe]})}function getExpandedFallbackPlacements(Ce){if(getBasePlacement(Ce)===auto)return[];var r=getOppositePlacement(Ce);return[getOppositeVariationPlacement(Ce),r,getOppositeVariationPlacement(r)]}function flip(Ce){var r=Ce.state,Ie=Ce.options,Re=Ce.name;if(!r.modifiersData[Re]._skip){for(var Ge=Ie.mainAxis,Je=Ge===void 0?!0:Ge,ii=Ie.altAxis,Se=ii===void 0?!0:ii,_e=Ie.fallbackPlacements,t=Ie.padding,xe=Ie.boundary,Fe=Ie.rootBoundary,Te=Ie.altBoundary,e=Ie.flipVariations,ke=e===void 0?!0:e,Oe=Ie.allowedAutoPlacements,Ee=r.options.placement,Pe=getBasePlacement(Ee),De=Pe===Ee,Me=_e||(De||!ke?[getOppositePlacement(Ee)]:getExpandedFallbackPlacements(Ee)),Ae=[Ee].concat(Me).reduce(function(Ve,Ue){return Ve.concat(getBasePlacement(Ue)===auto?computeAutoPlacement(r,{placement:Ue,boundary:xe,rootBoundary:Fe,padding:t,flipVariations:ke,allowedAutoPlacements:Oe}):Ue)},[]),Be=r.rects.reference,He=r.rects.popper,je=new Map,Xe=!0,St=Ae[0],qe=0;qe<Ae.length;qe++){var Ye=Ae[qe],gi=getBasePlacement(Ye),ai=getVariation(Ye)===start,ui=[top,bottom].indexOf(gi)>=0,Qe=ui?"width":"height",Ze=detectOverflow(r,{placement:Ye,boundary:xe,rootBoundary:Fe,altBoundary:Te,padding:t}),ci=ui?ai?right:left:ai?bottom:top;Be[Qe]>He[Qe]&&(ci=getOppositePlacement(ci));var ze=getOppositePlacement(ci),We=[];if(Je&&We.push(Ze[gi]<=0),Se&&We.push(Ze[ci]<=0,Ze[ze]<=0),We.every(function(Ve){return Ve})){St=Ye,Xe=!1;break}je.set(Ye,We)}if(Xe)for(var si=ke?3:1,ni=function(Ue){var ti=Ae.find(function(hi){var yi=je.get(hi);if(yi)return yi.slice(0,Ue).every(function(wi){return wi})});if(ti)return St=ti,"break"},$e=si;$e>0;$e--){var Ke=ni($e);if(Ke==="break")break}r.placement!==St&&(r.modifiersData[Re]._skip=!0,r.placement=St,r.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(Ce,r,Ie){return Ie===void 0&&(Ie={x:0,y:0}),{top:Ce.top-r.height-Ie.y,right:Ce.right-r.width+Ie.x,bottom:Ce.bottom-r.height+Ie.y,left:Ce.left-r.width-Ie.x}}function isAnySideFullyClipped(Ce){return[top,right,bottom,left].some(function(r){return Ce[r]>=0})}function hide(Ce){var r=Ce.state,Ie=Ce.name,Re=r.rects.reference,Ge=r.rects.popper,Je=r.modifiersData.preventOverflow,ii=detectOverflow(r,{elementContext:"reference"}),Se=detectOverflow(r,{altBoundary:!0}),_e=getSideOffsets(ii,Re),t=getSideOffsets(Se,Ge,Je),xe=isAnySideFullyClipped(_e),Fe=isAnySideFullyClipped(t);r.modifiersData[Ie]={referenceClippingOffsets:_e,popperEscapeOffsets:t,isReferenceHidden:xe,hasPopperEscaped:Fe},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":xe,"data-popper-escaped":Fe})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(Ce,r,Ie){var Re=getBasePlacement(Ce),Ge=[left,top].indexOf(Re)>=0?-1:1,Je=typeof Ie=="function"?Ie(Object.assign({},r,{placement:Ce})):Ie,ii=Je[0],Se=Je[1];return ii=ii||0,Se=(Se||0)*Ge,[left,right].indexOf(Re)>=0?{x:Se,y:ii}:{x:ii,y:Se}}function offset(Ce){var r=Ce.state,Ie=Ce.options,Re=Ce.name,Ge=Ie.offset,Je=Ge===void 0?[0,0]:Ge,ii=placements.reduce(function(xe,Fe){return xe[Fe]=distanceAndSkiddingToXY(Fe,r.rects,Je),xe},{}),Se=ii[r.placement],_e=Se.x,t=Se.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=_e,r.modifiersData.popperOffsets.y+=t),r.modifiersData[Re]=ii}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(Ce){var r=Ce.state,Ie=Ce.name;r.modifiersData[Ie]=computeOffsets({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(Ce){return Ce==="x"?"y":"x"}function preventOverflow(Ce){var r=Ce.state,Ie=Ce.options,Re=Ce.name,Ge=Ie.mainAxis,Je=Ge===void 0?!0:Ge,ii=Ie.altAxis,Se=ii===void 0?!1:ii,_e=Ie.boundary,t=Ie.rootBoundary,xe=Ie.altBoundary,Fe=Ie.padding,Te=Ie.tether,e=Te===void 0?!0:Te,ke=Ie.tetherOffset,Oe=ke===void 0?0:ke,Ee=detectOverflow(r,{boundary:_e,rootBoundary:t,padding:Fe,altBoundary:xe}),Pe=getBasePlacement(r.placement),De=getVariation(r.placement),Me=!De,Ae=getMainAxisFromPlacement(Pe),Be=getAltAxis(Ae),He=r.modifiersData.popperOffsets,je=r.rects.reference,Xe=r.rects.popper,St=typeof Oe=="function"?Oe(Object.assign({},r.rects,{placement:r.placement})):Oe,qe=typeof St=="number"?{mainAxis:St,altAxis:St}:Object.assign({mainAxis:0,altAxis:0},St),Ye=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,gi={x:0,y:0};if(!!He){if(Je){var ai,ui=Ae==="y"?top:left,Qe=Ae==="y"?bottom:right,Ze=Ae==="y"?"height":"width",ci=He[Ae],ze=ci+Ee[ui],We=ci-Ee[Qe],si=e?-Xe[Ze]/2:0,ni=De===start?je[Ze]:Xe[Ze],$e=De===start?-Xe[Ze]:-je[Ze],Ke=r.elements.arrow,Ve=e&&Ke?getLayoutRect(Ke):{width:0,height:0},Ue=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:getFreshSideObject(),ti=Ue[ui],hi=Ue[Qe],yi=within(0,je[Ze],Ve[Ze]),wi=Me?je[Ze]/2-si-yi-ti-qe.mainAxis:ni-yi-ti-qe.mainAxis,Ci=Me?-je[Ze]/2+si+yi+hi+qe.mainAxis:$e+yi+hi+qe.mainAxis,ki=r.elements.arrow&&getOffsetParent(r.elements.arrow),fi=ki?Ae==="y"?ki.clientTop||0:ki.clientLeft||0:0,xi=(ai=Ye==null?void 0:Ye[Ae])!=null?ai:0,li=ci+wi-xi-fi,pi=ci+Ci-xi,ri=within(e?min(ze,li):ze,ci,e?max$1(We,pi):We);He[Ae]=ri,gi[Ae]=ri-ci}if(Se){var oi,di=Ae==="x"?top:left,bi=Ae==="x"?bottom:right,Ai=He[Be],Ei=Be==="y"?"height":"width",mi=Ai+Ee[di],_i=Ai-Ee[bi],Si=[top,left].indexOf(Pe)!==-1,Fi=(oi=Ye==null?void 0:Ye[Be])!=null?oi:0,Pi=Si?mi:Ai-je[Ei]-Xe[Ei]-Fi+qe.altAxis,Di=Si?Ai+je[Ei]+Xe[Ei]-Fi-qe.altAxis:_i,Ii=e&&Si?withinMaxClamp(Pi,Ai,Di):within(e?Pi:mi,Ai,e?Di:_i);He[Be]=Ii,gi[Be]=Ii-Ai}r.modifiersData[Re]=gi}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(Ce){return{scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}}function getNodeScroll(Ce){return Ce===getWindow(Ce)||!isHTMLElement(Ce)?getWindowScroll(Ce):getHTMLElementScroll(Ce)}function isElementScaled(Ce){var r=Ce.getBoundingClientRect(),Ie=round(r.width)/Ce.offsetWidth||1,Re=round(r.height)/Ce.offsetHeight||1;return Ie!==1||Re!==1}function getCompositeRect(Ce,r,Ie){Ie===void 0&&(Ie=!1);var Re=isHTMLElement(r),Ge=isHTMLElement(r)&&isElementScaled(r),Je=getDocumentElement(r),ii=getBoundingClientRect(Ce,Ge,Ie),Se={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(Re||!Re&&!Ie)&&((getNodeName(r)!=="body"||isScrollParent(Je))&&(Se=getNodeScroll(r)),isHTMLElement(r)?(_e=getBoundingClientRect(r,!0),_e.x+=r.clientLeft,_e.y+=r.clientTop):Je&&(_e.x=getWindowScrollBarX(Je))),{x:ii.left+Se.scrollLeft-_e.x,y:ii.top+Se.scrollTop-_e.y,width:ii.width,height:ii.height}}function order(Ce){var r=new Map,Ie=new Set,Re=[];Ce.forEach(function(Je){r.set(Je.name,Je)});function Ge(Je){Ie.add(Je.name);var ii=[].concat(Je.requires||[],Je.requiresIfExists||[]);ii.forEach(function(Se){if(!Ie.has(Se)){var _e=r.get(Se);_e&&Ge(_e)}}),Re.push(Je)}return Ce.forEach(function(Je){Ie.has(Je.name)||Ge(Je)}),Re}function orderModifiers(Ce){var r=order(Ce);return modifierPhases.reduce(function(Ie,Re){return Ie.concat(r.filter(function(Ge){return Ge.phase===Re}))},[])}function debounce(Ce){var r;return function(){return r||(r=new Promise(function(Ie){Promise.resolve().then(function(){r=void 0,Ie(Ce())})})),r}}function mergeByName(Ce){var r=Ce.reduce(function(Ie,Re){var Ge=Ie[Re.name];return Ie[Re.name]=Ge?Object.assign({},Ge,Re,{options:Object.assign({},Ge.options,Re.options),data:Object.assign({},Ge.data,Re.data)}):Re,Ie},{});return Object.keys(r).map(function(Ie){return r[Ie]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var Ce=arguments.length,r=new Array(Ce),Ie=0;Ie<Ce;Ie++)r[Ie]=arguments[Ie];return!r.some(function(Re){return!(Re&&typeof Re.getBoundingClientRect=="function")})}function popperGenerator(Ce){Ce===void 0&&(Ce={});var r=Ce,Ie=r.defaultModifiers,Re=Ie===void 0?[]:Ie,Ge=r.defaultOptions,Je=Ge===void 0?DEFAULT_OPTIONS:Ge;return function(Se,_e,t){t===void 0&&(t=Je);var xe={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,Je),modifiersData:{},elements:{reference:Se,popper:_e},attributes:{},styles:{}},Fe=[],Te=!1,e={state:xe,setOptions:function(Pe){var De=typeof Pe=="function"?Pe(xe.options):Pe;Oe(),xe.options=Object.assign({},Je,xe.options,De),xe.scrollParents={reference:isElement$1(Se)?listScrollParents(Se):Se.contextElement?listScrollParents(Se.contextElement):[],popper:listScrollParents(_e)};var Me=orderModifiers(mergeByName([].concat(Re,xe.options.modifiers)));return xe.orderedModifiers=Me.filter(function(Ae){return Ae.enabled}),ke(),e.update()},forceUpdate:function(){if(!Te){var Pe=xe.elements,De=Pe.reference,Me=Pe.popper;if(!!areValidElements(De,Me)){xe.rects={reference:getCompositeRect(De,getOffsetParent(Me),xe.options.strategy==="fixed"),popper:getLayoutRect(Me)},xe.reset=!1,xe.placement=xe.options.placement,xe.orderedModifiers.forEach(function(qe){return xe.modifiersData[qe.name]=Object.assign({},qe.data)});for(var Ae=0;Ae<xe.orderedModifiers.length;Ae++){if(xe.reset===!0){xe.reset=!1,Ae=-1;continue}var Be=xe.orderedModifiers[Ae],He=Be.fn,je=Be.options,Xe=je===void 0?{}:je,St=Be.name;typeof He=="function"&&(xe=He({state:xe,options:Xe,name:St,instance:e})||xe)}}}},update:debounce(function(){return new Promise(function(Ee){e.forceUpdate(),Ee(xe)})}),destroy:function(){Oe(),Te=!0}};if(!areValidElements(Se,_e))return e;e.setOptions(t).then(function(Ee){!Te&&t.onFirstUpdate&&t.onFirstUpdate(Ee)});function ke(){xe.orderedModifiers.forEach(function(Ee){var Pe=Ee.name,De=Ee.options,Me=De===void 0?{}:De,Ae=Ee.effect;if(typeof Ae=="function"){var Be=Ae({state:xe,name:Pe,instance:e,options:Me}),He=function(){};Fe.push(Be||He)}})}function Oe(){Fe.forEach(function(Ee){return Ee()}),Fe=[]}return e}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator,detectOverflow,createPopperBase:createPopper$2,createPopper,createPopperLite:createPopper$1,top,bottom,right,left,auto,basePlacements,start,end,clippingParents,viewport,popper,reference,variationPlacements,placements,beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite,modifierPhases,applyStyles:applyStyles$1,arrow:arrow$1,computeStyles:computeStyles$1,eventListeners,flip:flip$1,hide:hide$1,offset:offset$1,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",toType=Ce=>Ce==null?`${Ce}`:Object.prototype.toString.call(Ce).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=Ce=>{do Ce+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(Ce));return Ce},getSelector=Ce=>{let r=Ce.getAttribute("data-bs-target");if(!r||r==="#"){let Ie=Ce.getAttribute("href");if(!Ie||!Ie.includes("#")&&!Ie.startsWith("."))return null;Ie.includes("#")&&!Ie.startsWith("#")&&(Ie=`#${Ie.split("#")[1]}`),r=Ie&&Ie!=="#"?Ie.trim():null}return r},getSelectorFromElement=Ce=>{const r=getSelector(Ce);return r&&document.querySelector(r)?r:null},getElementFromSelector=Ce=>{const r=getSelector(Ce);return r?document.querySelector(r):null},getTransitionDurationFromElement=Ce=>{if(!Ce)return 0;let{transitionDuration:r,transitionDelay:Ie}=window.getComputedStyle(Ce);const Re=Number.parseFloat(r),Ge=Number.parseFloat(Ie);return!Re&&!Ge?0:(r=r.split(",")[0],Ie=Ie.split(",")[0],(Number.parseFloat(r)+Number.parseFloat(Ie))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=Ce=>{Ce.dispatchEvent(new Event(TRANSITION_END))},isElement=Ce=>!Ce||typeof Ce!="object"?!1:(typeof Ce.jquery<"u"&&(Ce=Ce[0]),typeof Ce.nodeType<"u"),getElement=Ce=>isElement(Ce)?Ce.jquery?Ce[0]:Ce:typeof Ce=="string"&&Ce.length>0?document.querySelector(Ce):null,isVisible=Ce=>{if(!isElement(Ce)||Ce.getClientRects().length===0)return!1;const r=getComputedStyle(Ce).getPropertyValue("visibility")==="visible",Ie=Ce.closest("details:not([open])");if(!Ie)return r;if(Ie!==Ce){const Re=Ce.closest("summary");if(Re&&Re.parentNode!==Ie||Re===null)return!1}return r},isDisabled=Ce=>!Ce||Ce.nodeType!==Node.ELEMENT_NODE||Ce.classList.contains("disabled")?!0:typeof Ce.disabled<"u"?Ce.disabled:Ce.hasAttribute("disabled")&&Ce.getAttribute("disabled")!=="false",findShadowRoot=Ce=>{if(!document.documentElement.attachShadow)return null;if(typeof Ce.getRootNode=="function"){const r=Ce.getRootNode();return r instanceof ShadowRoot?r:null}return Ce instanceof ShadowRoot?Ce:Ce.parentNode?findShadowRoot(Ce.parentNode):null},noop$1=()=>{},reflow=Ce=>{Ce.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=Ce=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const r of DOMContentLoadedCallbacks)r()}),DOMContentLoadedCallbacks.push(Ce)):Ce()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=Ce=>{onDOMContentLoaded(()=>{const r=getjQuery();if(r){const Ie=Ce.NAME,Re=r.fn[Ie];r.fn[Ie]=Ce.jQueryInterface,r.fn[Ie].Constructor=Ce,r.fn[Ie].noConflict=()=>(r.fn[Ie]=Re,Ce.jQueryInterface)}})},execute=Ce=>{typeof Ce=="function"&&Ce()},executeAfterTransition=(Ce,r,Ie=!0)=>{if(!Ie){execute(Ce);return}const Re=5,Ge=getTransitionDurationFromElement(r)+Re;let Je=!1;const ii=({target:Se})=>{Se===r&&(Je=!0,r.removeEventListener(TRANSITION_END,ii),execute(Ce))};r.addEventListener(TRANSITION_END,ii),setTimeout(()=>{Je||triggerTransitionEnd(r)},Ge)},getNextActiveElement=(Ce,r,Ie,Re)=>{const Ge=Ce.length;let Je=Ce.indexOf(r);return Je===-1?!Ie&&Re?Ce[Ge-1]:Ce[0]:(Je+=Ie?1:-1,Re&&(Je=(Je+Ge)%Ge),Ce[Math.max(0,Math.min(Je,Ge-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(Ce,r){return r&&`${r}::${uidEvent++}`||Ce.uidEvent||uidEvent++}function getElementEvents(Ce){const r=makeEventUid(Ce);return Ce.uidEvent=r,eventRegistry[r]=eventRegistry[r]||{},eventRegistry[r]}function bootstrapHandler(Ce,r){return function Ie(Re){return hydrateObj(Re,{delegateTarget:Ce}),Ie.oneOff&&EventHandler.off(Ce,Re.type,r),r.apply(Ce,[Re])}}function bootstrapDelegationHandler(Ce,r,Ie){return function Re(Ge){const Je=Ce.querySelectorAll(r);for(let{target:ii}=Ge;ii&&ii!==this;ii=ii.parentNode)for(const Se of Je)if(Se===ii)return hydrateObj(Ge,{delegateTarget:ii}),Re.oneOff&&EventHandler.off(Ce,Ge.type,r,Ie),Ie.apply(ii,[Ge])}}function findHandler(Ce,r,Ie=null){return Object.values(Ce).find(Re=>Re.callable===r&&Re.delegationSelector===Ie)}function normalizeParameters(Ce,r,Ie){const Re=typeof r=="string",Ge=Re?Ie:r||Ie;let Je=getTypeEvent(Ce);return nativeEvents.has(Je)||(Je=Ce),[Re,Ge,Je]}function addHandler(Ce,r,Ie,Re,Ge){if(typeof r!="string"||!Ce)return;let[Je,ii,Se]=normalizeParameters(r,Ie,Re);r in customEvents&&(ii=(ke=>function(Oe){if(!Oe.relatedTarget||Oe.relatedTarget!==Oe.delegateTarget&&!Oe.delegateTarget.contains(Oe.relatedTarget))return ke.call(this,Oe)})(ii));const _e=getElementEvents(Ce),t=_e[Se]||(_e[Se]={}),xe=findHandler(t,ii,Je?Ie:null);if(xe){xe.oneOff=xe.oneOff&&Ge;return}const Fe=makeEventUid(ii,r.replace(namespaceRegex,"")),Te=Je?bootstrapDelegationHandler(Ce,Ie,ii):bootstrapHandler(Ce,ii);Te.delegationSelector=Je?Ie:null,Te.callable=ii,Te.oneOff=Ge,Te.uidEvent=Fe,t[Fe]=Te,Ce.addEventListener(Se,Te,Je)}function removeHandler(Ce,r,Ie,Re,Ge){const Je=findHandler(r[Ie],Re,Ge);!Je||(Ce.removeEventListener(Ie,Je,Boolean(Ge)),delete r[Ie][Je.uidEvent])}function removeNamespacedHandlers(Ce,r,Ie,Re){const Ge=r[Ie]||{};for(const Je of Object.keys(Ge))if(Je.includes(Re)){const ii=Ge[Je];removeHandler(Ce,r,Ie,ii.callable,ii.delegationSelector)}}function getTypeEvent(Ce){return Ce=Ce.replace(stripNameRegex,""),customEvents[Ce]||Ce}const EventHandler={on(Ce,r,Ie,Re){addHandler(Ce,r,Ie,Re,!1)},one(Ce,r,Ie,Re){addHandler(Ce,r,Ie,Re,!0)},off(Ce,r,Ie,Re){if(typeof r!="string"||!Ce)return;const[Ge,Je,ii]=normalizeParameters(r,Ie,Re),Se=ii!==r,_e=getElementEvents(Ce),t=_e[ii]||{},xe=r.startsWith(".");if(typeof Je<"u"){if(!Object.keys(t).length)return;removeHandler(Ce,_e,ii,Je,Ge?Ie:null);return}if(xe)for(const Fe of Object.keys(_e))removeNamespacedHandlers(Ce,_e,Fe,r.slice(1));for(const Fe of Object.keys(t)){const Te=Fe.replace(stripUidRegex,"");if(!Se||r.includes(Te)){const e=t[Fe];removeHandler(Ce,_e,ii,e.callable,e.delegationSelector)}}},trigger(Ce,r,Ie){if(typeof r!="string"||!Ce)return null;const Re=getjQuery(),Ge=getTypeEvent(r),Je=r!==Ge;let ii=null,Se=!0,_e=!0,t=!1;Je&&Re&&(ii=Re.Event(r,Ie),Re(Ce).trigger(ii),Se=!ii.isPropagationStopped(),_e=!ii.isImmediatePropagationStopped(),t=ii.isDefaultPrevented());let xe=new Event(r,{bubbles:Se,cancelable:!0});return xe=hydrateObj(xe,Ie),t&&xe.preventDefault(),_e&&Ce.dispatchEvent(xe),xe.defaultPrevented&&ii&&ii.preventDefault(),xe}};function hydrateObj(Ce,r){for(const[Ie,Re]of Object.entries(r||{}))try{Ce[Ie]=Re}catch{Object.defineProperty(Ce,Ie,{configurable:!0,get(){return Re}})}return Ce}const elementMap=new Map,Data={set(Ce,r,Ie){elementMap.has(Ce)||elementMap.set(Ce,new Map);const Re=elementMap.get(Ce);if(!Re.has(r)&&Re.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Re.keys())[0]}.`);return}Re.set(r,Ie)},get(Ce,r){return elementMap.has(Ce)&&elementMap.get(Ce).get(r)||null},remove(Ce,r){if(!elementMap.has(Ce))return;const Ie=elementMap.get(Ce);Ie.delete(r),Ie.size===0&&elementMap.delete(Ce)}};function normalizeData(Ce){if(Ce==="true")return!0;if(Ce==="false")return!1;if(Ce===Number(Ce).toString())return Number(Ce);if(Ce===""||Ce==="null")return null;if(typeof Ce!="string")return Ce;try{return JSON.parse(decodeURIComponent(Ce))}catch{return Ce}}function normalizeDataKey(Ce){return Ce.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const Manipulator={setDataAttribute(Ce,r,Ie){Ce.setAttribute(`data-bs-${normalizeDataKey(r)}`,Ie)},removeDataAttribute(Ce,r){Ce.removeAttribute(`data-bs-${normalizeDataKey(r)}`)},getDataAttributes(Ce){if(!Ce)return{};const r={},Ie=Object.keys(Ce.dataset).filter(Re=>Re.startsWith("bs")&&!Re.startsWith("bsConfig"));for(const Re of Ie){let Ge=Re.replace(/^bs/,"");Ge=Ge.charAt(0).toLowerCase()+Ge.slice(1,Ge.length),r[Ge]=normalizeData(Ce.dataset[Re])}return r},getDataAttribute(Ce,r){return normalizeData(Ce.getAttribute(`data-bs-${normalizeDataKey(r)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,Ie){const Re=isElement(Ie)?Manipulator.getDataAttribute(Ie,"config"):{};return{...this.constructor.Default,...typeof Re=="object"?Re:{},...isElement(Ie)?Manipulator.getDataAttributes(Ie):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,Ie=this.constructor.DefaultType){for(const Re of Object.keys(Ie)){const Ge=Ie[Re],Je=r[Re],ii=isElement(Je)?"element":toType(Je);if(!new RegExp(Ge).test(ii))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Re}" provided type "${ii}" but expected type "${Ge}".`)}}}const VERSION="5.2.2";class BaseComponent extends Config{constructor(r,Ie){super(),r=getElement(r),r&&(this._element=r,this._config=this._getConfig(Ie),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,Ie,Re=!0){executeAfterTransition(r,Ie,Re)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return Data.get(getElement(r),this.DATA_KEY)}static getOrCreateInstance(r,Ie={}){return this.getInstance(r)||new this(r,typeof Ie=="object"?Ie:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const enableDismissTrigger=(Ce,r="hide")=>{const Ie=`click.dismiss${Ce.EVENT_KEY}`,Re=Ce.NAME;EventHandler.on(document,Ie,`[data-bs-dismiss="${Re}"]`,function(Ge){if(["A","AREA"].includes(this.tagName)&&Ge.preventDefault(),isDisabled(this))return;const Je=getElementFromSelector(this)||this.closest(`.${Re}`);Ce.getOrCreateInstance(Je)[r]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const Ie=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,Ie)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(r){return this.each(function(){const Ie=Alert.getOrCreateInstance(this);if(typeof r=="string"){if(Ie[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);Ie[r](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(r){return this.each(function(){const Ie=Button.getOrCreateInstance(this);r==="toggle"&&Ie[r]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,Ce=>{Ce.preventDefault();const r=Ce.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(r).toggle()});defineJQueryPlugin(Button);const SelectorEngine={find(Ce,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,Ce))},findOne(Ce,r=document.documentElement){return Element.prototype.querySelector.call(r,Ce)},children(Ce,r){return[].concat(...Ce.children).filter(Ie=>Ie.matches(r))},parents(Ce,r){const Ie=[];let Re=Ce.parentNode.closest(r);for(;Re;)Ie.push(Re),Re=Re.parentNode.closest(r);return Ie},prev(Ce,r){let Ie=Ce.previousElementSibling;for(;Ie;){if(Ie.matches(r))return[Ie];Ie=Ie.previousElementSibling}return[]},next(Ce,r){let Ie=Ce.nextElementSibling;for(;Ie;){if(Ie.matches(r))return[Ie];Ie=Ie.nextElementSibling}return[]},focusableChildren(Ce){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Ie=>`${Ie}:not([tabindex^="-"])`).join(",");return this.find(r,Ce).filter(Ie=>!isDisabled(Ie)&&isVisible(Ie))}},NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(r,Ie){super(),this._element=r,!(!r||!Swipe.isSupported())&&(this._config=this._getConfig(Ie),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(r){if(!this._supportPointerEvents){this._deltaX=r.touches[0].clientX;return}this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX)}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=SWIPE_THRESHOLD)return;const Ie=r/this._deltaX;this._deltaX=0,Ie&&execute(Ie>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,r=>this._start(r)),EventHandler.on(this._element,EVENT_POINTERUP,r=>this._end(r)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,r=>this._start(r)),EventHandler.on(this._element,EVENT_TOUCHMOVE,r=>this._move(r)),EventHandler.on(this._element,EVENT_TOUCHEND,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType===POINTER_TYPE_PEN||r.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(r,Ie){super(r,Ie),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(r){const Ie=this._getItems();if(r>Ie.length-1||r<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(r));return}const Re=this._getItemIndex(this._getActive());if(Re===r)return;const Ge=r>Re?ORDER_NEXT:ORDER_PREV;this._slide(Ge,Ie[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,r=>this._keydown(r)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Re of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(Re,EVENT_DRAG_START,Ge=>Ge.preventDefault());const Ie={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,Ie)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const Ie=KEY_TO_DIRECTION[r.key];Ie&&(r.preventDefault(),this._slide(this._directionToOrder(Ie)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const Ie=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);Ie.classList.remove(CLASS_NAME_ACTIVE$2),Ie.removeAttribute("aria-current");const Re=SelectorEngine.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);Re&&(Re.classList.add(CLASS_NAME_ACTIVE$2),Re.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const Ie=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=Ie||this._config.defaultInterval}_slide(r,Ie=null){if(this._isSliding)return;const Re=this._getActive(),Ge=r===ORDER_NEXT,Je=Ie||getNextActiveElement(this._getItems(),Re,Ge,this._config.wrap);if(Je===Re)return;const ii=this._getItemIndex(Je),Se=e=>EventHandler.trigger(this._element,e,{relatedTarget:Je,direction:this._orderToDirection(r),from:this._getItemIndex(Re),to:ii});if(Se(EVENT_SLIDE).defaultPrevented||!Re||!Je)return;const t=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ii),this._activeElement=Je;const xe=Ge?CLASS_NAME_START:CLASS_NAME_END,Fe=Ge?CLASS_NAME_NEXT:CLASS_NAME_PREV;Je.classList.add(Fe),reflow(Je),Re.classList.add(xe),Je.classList.add(xe);const Te=()=>{Je.classList.remove(xe,Fe),Je.classList.add(CLASS_NAME_ACTIVE$2),Re.classList.remove(CLASS_NAME_ACTIVE$2,Fe,xe),this._isSliding=!1,Se(EVENT_SLID)};this._queueCallback(Te,Re,this._isAnimated()),t&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return isRTL()?r===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:r===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(r){return isRTL()?r===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:r===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(r){return this.each(function(){const Ie=Carousel.getOrCreateInstance(this,r);if(typeof r=="number"){Ie.to(r);return}if(typeof r=="string"){if(Ie[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(Ce){const r=getElementFromSelector(this);if(!r||!r.classList.contains(CLASS_NAME_CAROUSEL))return;Ce.preventDefault();const Ie=Carousel.getOrCreateInstance(r),Re=this.getAttribute("data-bs-slide-to");if(Re){Ie.to(Re),Ie._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){Ie.next(),Ie._maybeEnableCycle();return}Ie.prev(),Ie._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const Ce=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const r of Ce)Carousel.getOrCreateInstance(r)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(r,Ie){super(r,Ie),this._isTransitioning=!1,this._triggerArray=[];const Re=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const Ge of Re){const Je=getSelectorFromElement(Ge),ii=SelectorEngine.find(Je).filter(Se=>Se===this._element);Je!==null&&ii.length&&this._triggerArray.push(Ge)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(Se=>Se!==this._element).map(Se=>Collapse.getOrCreateInstance(Se,{toggle:!1}))),r.length&&r[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const Se of r)Se.hide();const Re=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[Re]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ge=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[Re]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},ii=`scroll${Re[0].toUpperCase()+Re.slice(1)}`;this._queueCallback(Ge,this._element,!0),this._element.style[Re]=`${this._element[ii]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const Ie=this._getDimension();this._element.style[Ie]=`${this._element.getBoundingClientRect()[Ie]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const Ge of this._triggerArray){const Je=getElementFromSelector(Ge);Je&&!this._isShown(Je)&&this._addAriaAndCollapsedClass([Ge],!1)}this._isTransitioning=!0;const Re=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[Ie]="",this._queueCallback(Re,this._element,!0)}_isShown(r=this._element){return r.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(r){return r.toggle=Boolean(r.toggle),r.parent=getElement(r.parent),r}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const Ie of r){const Re=getElementFromSelector(Ie);Re&&this._addAriaAndCollapsedClass([Ie],this._isShown(Re))}}_getFirstLevelChildren(r){const Ie=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(r,this._config.parent).filter(Re=>!Ie.includes(Re))}_addAriaAndCollapsedClass(r,Ie){if(!!r.length)for(const Re of r)Re.classList.toggle(CLASS_NAME_COLLAPSED,!Ie),Re.setAttribute("aria-expanded",Ie)}static jQueryInterface(r){const Ie={};return typeof r=="string"&&/show|hide/.test(r)&&(Ie.toggle=!1),this.each(function(){const Re=Collapse.getOrCreateInstance(this,Ie);if(typeof r=="string"){if(typeof Re[r]>"u")throw new TypeError(`No method named "${r}"`);Re[r]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(Ce){(Ce.target.tagName==="A"||Ce.delegateTarget&&Ce.delegateTarget.tagName==="A")&&Ce.preventDefault();const r=getSelectorFromElement(this),Ie=SelectorEngine.find(r);for(const Re of Ie)Collapse.getOrCreateInstance(Re,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(r,Ie){super(r,Ie),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const Re of[].concat(...document.body.children))EventHandler.on(Re,"mouseover",noop$1);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,r)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Re of[].concat(...document.body.children))EventHandler.off(Re,"mouseover",noop$1);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,r)}}_getConfig(r){if(r=super._getConfig(r),typeof r.reference=="object"&&!isElement(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:isElement(this._config.reference)?r=getElement(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const Ie=this._getPopperConfig();this._popper=createPopper(r,this._menu,Ie)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const r=this._parent;if(r.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(r.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(r.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(r.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const Ie=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains(CLASS_NAME_DROPUP)?Ie?PLACEMENT_TOPEND:PLACEMENT_TOP:Ie?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(Ie=>Number.parseInt(Ie,10)):typeof r=="function"?Ie=>r(Ie,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...typeof this._config.popperConfig=="function"?this._config.popperConfig(r):this._config.popperConfig}}_selectMenuItem({key:r,target:Ie}){const Re=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(Ge=>isVisible(Ge));!Re.length||getNextActiveElement(Re,Ie,r===ARROW_DOWN_KEY$1,!Re.includes(Ie)).focus()}static jQueryInterface(r){return this.each(function(){const Ie=Dropdown.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof Ie[r]>"u")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}static clearMenus(r){if(r.button===RIGHT_MOUSE_BUTTON||r.type==="keyup"&&r.key!==TAB_KEY$1)return;const Ie=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const Re of Ie){const Ge=Dropdown.getInstance(Re);if(!Ge||Ge._config.autoClose===!1)continue;const Je=r.composedPath(),ii=Je.includes(Ge._menu);if(Je.includes(Ge._element)||Ge._config.autoClose==="inside"&&!ii||Ge._config.autoClose==="outside"&&ii||Ge._menu.contains(r.target)&&(r.type==="keyup"&&r.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const Se={relatedTarget:Ge._element};r.type==="click"&&(Se.clickEvent=r),Ge._completeHide(Se)}}static dataApiKeydownHandler(r){const Ie=/input|textarea/i.test(r.target.tagName),Re=r.key===ESCAPE_KEY$2,Ge=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(r.key);if(!Ge&&!Re||Ie&&!Re)return;r.preventDefault();const Je=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,r.delegateTarget.parentNode),ii=Dropdown.getOrCreateInstance(Je);if(Ge){r.stopPropagation(),ii.show(),ii._selectMenuItem(r);return}ii._isShown()&&(r.stopPropagation(),ii.hide(),Je.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(Ce){Ce.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,Ie=>Ie+r),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,Ie=>Ie+r),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,Ie=>Ie-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,Ie,Re){const Ge=this.getWidth(),Je=ii=>{if(ii!==this._element&&window.innerWidth>ii.clientWidth+Ge)return;this._saveInitialAttribute(ii,Ie);const Se=window.getComputedStyle(ii).getPropertyValue(Ie);ii.style.setProperty(Ie,`${Re(Number.parseFloat(Se))}px`)};this._applyManipulationCallback(r,Je)}_saveInitialAttribute(r,Ie){const Re=r.style.getPropertyValue(Ie);Re&&Manipulator.setDataAttribute(r,Ie,Re)}_resetElementAttributes(r,Ie){const Re=Ge=>{const Je=Manipulator.getDataAttribute(Ge,Ie);if(Je===null){Ge.style.removeProperty(Ie);return}Manipulator.removeDataAttribute(Ge,Ie),Ge.style.setProperty(Ie,Je)};this._applyManipulationCallback(r,Re)}_applyManipulationCallback(r,Ie){if(isElement(r)){Ie(r);return}for(const Re of SelectorEngine.find(r,this._element))Ie(Re)}}const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(r){if(!this._config.isVisible){execute(r);return}this._append();const Ie=this._getElement();this._config.isAnimated&&reflow(Ie),Ie.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(r)})}hide(r){if(!this._config.isVisible){execute(r);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(r)})}dispose(){!this._isAppended||(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add(CLASS_NAME_FADE$4),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=getElement(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),EventHandler.on(r,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){executeAfterTransition(r,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,r=>this._handleFocusin(r)),EventHandler.on(document,EVENT_KEYDOWN_TAB,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(r){const{trapElement:Ie}=this._config;if(r.target===document||r.target===Ie||Ie.contains(r.target))return;const Re=SelectorEngine.focusableChildren(Ie);Re.length===0?Ie.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?Re[Re.length-1].focus():Re[0].focus()}_handleKeydown(r){r.key===TAB_KEY&&(this._lastTabNavDirection=r.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(r,Ie){super(r,Ie),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const r of[window,this._dialog])EventHandler.off(r,EVENT_KEY$4);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Ie=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);Ie&&(Ie.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const Re=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:r})};this._queueCallback(Re,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,r=>{if(r.key===ESCAPE_KEY$1){if(this._config.keyboard){r.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,r=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,Ie=>{if(!(this._element!==r.target||this._element!==Ie.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const Ie=this._element.scrollHeight>document.documentElement.clientHeight,Re=this._element.style.overflowY;Re==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(Ie||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=Re},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,Ie=this._scrollBar.getWidth(),Re=Ie>0;if(Re&&!r){const Ge=isRTL()?"paddingLeft":"paddingRight";this._element.style[Ge]=`${Ie}px`}if(!Re&&r){const Ge=isRTL()?"paddingRight":"paddingLeft";this._element.style[Ge]=`${Ie}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,Ie){return this.each(function(){const Re=Modal.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof Re[r]>"u")throw new TypeError(`No method named "${r}"`);Re[r](Ie)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(Ce){const r=getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),EventHandler.one(r,EVENT_SHOW$4,Ge=>{Ge.defaultPrevented||EventHandler.one(r,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const Ie=SelectorEngine.findOne(OPEN_SELECTOR$1);Ie&&Modal.getInstance(Ie).hide(),Modal.getOrCreateInstance(r).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(r,Ie){super(r,Ie),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:r}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const Re=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:r})};this._queueCallback(Re,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const Ie=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(Ie,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},Ie=Boolean(this._config.backdrop);return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:Ie,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Ie?r:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,r=>{if(r.key===ESCAPE_KEY){if(!this._config.keyboard){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()}})}static jQueryInterface(r){return this.each(function(){const Ie=Offcanvas.getOrCreateInstance(this,r);if(typeof r=="string"){if(Ie[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);Ie[r](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(Ce){const r=getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),isDisabled(this))return;EventHandler.one(r,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const Ie=SelectorEngine.findOne(OPEN_SELECTOR);Ie&&Ie!==r&&Offcanvas.getInstance(Ie).hide(),Offcanvas.getOrCreateInstance(r).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const Ce of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(Ce).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const Ce of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Ce).position!=="fixed"&&Offcanvas.getOrCreateInstance(Ce).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,allowedAttribute=(Ce,r)=>{const Ie=Ce.nodeName.toLowerCase();return r.includes(Ie)?uriAttributes.has(Ie)?Boolean(SAFE_URL_PATTERN.test(Ce.nodeValue)||DATA_URL_PATTERN.test(Ce.nodeValue)):!0:r.filter(Re=>Re instanceof RegExp).some(Re=>Re.test(Ie))},DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function sanitizeHtml(Ce,r,Ie){if(!Ce.length)return Ce;if(Ie&&typeof Ie=="function")return Ie(Ce);const Ge=new window.DOMParser().parseFromString(Ce,"text/html"),Je=[].concat(...Ge.body.querySelectorAll("*"));for(const ii of Je){const Se=ii.nodeName.toLowerCase();if(!Object.keys(r).includes(Se)){ii.remove();continue}const _e=[].concat(...ii.attributes),t=[].concat(r["*"]||[],r[Se]||[]);for(const xe of _e)allowedAttribute(xe,t)||ii.removeAttribute(xe.nodeName)}return Ge.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[Ge,Je]of Object.entries(this._config.content))this._setContent(r,Je,Ge);const Ie=r.children[0],Re=this._resolvePossibleFunction(this._config.extraClass);return Re&&Ie.classList.add(...Re.split(" ")),Ie}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[Ie,Re]of Object.entries(r))super._typeCheckConfig({selector:Ie,entry:Re},DefaultContentType)}_setContent(r,Ie,Re){const Ge=SelectorEngine.findOne(Re,r);if(!!Ge){if(Ie=this._resolvePossibleFunction(Ie),!Ie){Ge.remove();return}if(isElement(Ie)){this._putElementInTemplate(getElement(Ie),Ge);return}if(this._config.html){Ge.innerHTML=this._maybeSanitize(Ie);return}Ge.textContent=Ie}}_maybeSanitize(r){return this._config.sanitize?sanitizeHtml(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return typeof r=="function"?r(this):r}_putElementInTemplate(r,Ie){if(this._config.html){Ie.innerHTML="",Ie.append(r);return}Ie.textContent=r.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(r,Ie){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,Ie),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const r=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),Re=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!Re)return;this.tip&&(this.tip.remove(),this.tip=null);const Ge=this._getTipElement();this._element.setAttribute("aria-describedby",Ge.getAttribute("id"));const{container:Je}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Je.append(Ge),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper?this._popper.update():this._popper=this._createPopper(Ge),Ge.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const Se of[].concat(...document.body.children))EventHandler.on(Se,"mouseover",noop$1);const ii=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(ii,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;const Ie=this._getTipElement();if(Ie.classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const Ge of[].concat(...document.body.children))EventHandler.off(Ge,"mouseover",noop$1);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const Re=()=>{this._isWithActiveTrigger()||(this._isHovered||Ie.remove(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)),this._disposePopper())};this._queueCallback(Re,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const Ie=this._getTemplateFactory(r).toHtml();if(!Ie)return null;Ie.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),Ie.classList.add(`bs-${this.constructor.NAME}-auto`);const Re=getUID(this.constructor.NAME).toString();return Ie.setAttribute("id",Re),this._isAnimated()&&Ie.classList.add(CLASS_NAME_FADE$2),Ie}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new TemplateFactory({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(r){const Ie=typeof this._config.placement=="function"?this._config.placement.call(this,r,this._element):this._config.placement,Re=AttachmentMap[Ie.toUpperCase()];return createPopper(this._element,r,this._getPopperConfig(Re))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(Ie=>Number.parseInt(Ie,10)):typeof r=="function"?Ie=>r(Ie,this._element):r}_resolvePossibleFunction(r){return typeof r=="function"?r.call(this._element):r}_getPopperConfig(r){const Ie={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Re=>{this._getTipElement().setAttribute("data-popper-placement",Re.state.placement)}}]};return{...Ie,...typeof this._config.popperConfig=="function"?this._config.popperConfig(Ie):this._config.popperConfig}}_setListeners(){const r=this._config.trigger.split(" ");for(const Ie of r)if(Ie==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,Re=>{this._initializeOnDelegatedTarget(Re).toggle()});else if(Ie!==TRIGGER_MANUAL){const Re=Ie===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),Ge=Ie===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,Re,this._config.selector,Je=>{const ii=this._initializeOnDelegatedTarget(Je);ii._activeTrigger[Je.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,ii._enter()}),EventHandler.on(this._element,Ge,this._config.selector,Je=>{const ii=this._initializeOnDelegatedTarget(Je);ii._activeTrigger[Je.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=ii._element.contains(Je.relatedTarget),ii._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");!r||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,Ie){clearTimeout(this._timeout),this._timeout=setTimeout(r,Ie)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const Ie=Manipulator.getDataAttributes(this._element);for(const Re of Object.keys(Ie))DISALLOWED_ATTRIBUTES.has(Re)&&delete Ie[Re];return r={...Ie,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:getElement(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const Ie in this._config)this.constructor.Default[Ie]!==this._config[Ie]&&(r[Ie]=this._config[Ie]);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(r){return this.each(function(){const Ie=Tooltip.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof Ie[r]>"u")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const Ie=Popover.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof Ie[r]>"u")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(r,Ie){super(r,Ie),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=getElement(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(Ie=>Number.parseFloat(Ie))),r}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,r=>{const Ie=this._observableSections.get(r.target.hash);if(Ie){r.preventDefault();const Re=this._rootElement||window,Ge=Ie.offsetTop-this._element.offsetTop;if(Re.scrollTo){Re.scrollTo({top:Ge,behavior:"smooth"});return}Re.scrollTop=Ge}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Ie=>this._observerCallback(Ie),r)}_observerCallback(r){const Ie=ii=>this._targetLinks.get(`#${ii.target.id}`),Re=ii=>{this._previousScrollData.visibleEntryTop=ii.target.offsetTop,this._process(Ie(ii))},Ge=(this._rootElement||document.documentElement).scrollTop,Je=Ge>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ge;for(const ii of r){if(!ii.isIntersecting){this._activeTarget=null,this._clearActiveClass(Ie(ii));continue}const Se=ii.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Je&&Se){if(Re(ii),!Ge)return;continue}!Je&&!Se&&Re(ii)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const Ie of r){if(!Ie.hash||isDisabled(Ie))continue;const Re=SelectorEngine.findOne(Ie.hash,this._element);isVisible(Re)&&(this._targetLinks.set(Ie.hash,Ie),this._observableSections.set(Ie.hash,Re))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(r),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,r.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const Ie of SelectorEngine.parents(r,SELECTOR_NAV_LIST_GROUP))for(const Re of SelectorEngine.prev(Ie,SELECTOR_LINK_ITEMS))Re.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(r){r.classList.remove(CLASS_NAME_ACTIVE$1);const Ie=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,r);for(const Re of Ie)Re.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(r){return this.each(function(){const Ie=ScrollSpy.getOrCreateInstance(this,r);if(typeof r=="string"){if(Ie[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const Ce of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(Ce)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(.dropdown-toggle)",SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(r){super(r),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,Ie=>this._keydown(Ie)))}static get NAME(){return NAME$1}show(){const r=this._element;if(this._elemIsActive(r))return;const Ie=this._getActiveElem(),Re=Ie?EventHandler.trigger(Ie,EVENT_HIDE$1,{relatedTarget:r}):null;EventHandler.trigger(r,EVENT_SHOW$1,{relatedTarget:Ie}).defaultPrevented||Re&&Re.defaultPrevented||(this._deactivate(Ie,r),this._activate(r,Ie))}_activate(r,Ie){if(!r)return;r.classList.add(CLASS_NAME_ACTIVE),this._activate(getElementFromSelector(r));const Re=()=>{if(r.getAttribute("role")!=="tab"){r.classList.add(CLASS_NAME_SHOW$1);return}r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),EventHandler.trigger(r,EVENT_SHOWN$1,{relatedTarget:Ie})};this._queueCallback(Re,r,r.classList.contains(CLASS_NAME_FADE$1))}_deactivate(r,Ie){if(!r)return;r.classList.remove(CLASS_NAME_ACTIVE),r.blur(),this._deactivate(getElementFromSelector(r));const Re=()=>{if(r.getAttribute("role")!=="tab"){r.classList.remove(CLASS_NAME_SHOW$1);return}r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),EventHandler.trigger(r,EVENT_HIDDEN$1,{relatedTarget:Ie})};this._queueCallback(Re,r,r.classList.contains(CLASS_NAME_FADE$1))}_keydown(r){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY].includes(r.key))return;r.stopPropagation(),r.preventDefault();const Ie=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(r.key),Re=getNextActiveElement(this._getChildren().filter(Ge=>!isDisabled(Ge)),r.target,Ie,!0);Re&&(Re.focus({preventScroll:!0}),Tab.getOrCreateInstance(Re).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,Ie){this._setAttributeIfNotExists(r,"role","tablist");for(const Re of Ie)this._setInitialAttributesOnChild(Re)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const Ie=this._elemIsActive(r),Re=this._getOuterElement(r);r.setAttribute("aria-selected",Ie),Re!==r&&this._setAttributeIfNotExists(Re,"role","presentation"),Ie||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const Ie=getElementFromSelector(r);!Ie||(this._setAttributeIfNotExists(Ie,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(Ie,"aria-labelledby",`#${r.id}`))}_toggleDropDown(r,Ie){const Re=this._getOuterElement(r);if(!Re.classList.contains(CLASS_DROPDOWN))return;const Ge=(Je,ii)=>{const Se=SelectorEngine.findOne(Je,Re);Se&&Se.classList.toggle(ii,Ie)};Ge(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),Ge(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),Re.setAttribute("aria-expanded",Ie)}_setAttributeIfNotExists(r,Ie,Re){r.hasAttribute(Ie)||r.setAttribute(Ie,Re)}_elemIsActive(r){return r.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(r){return r.matches(SELECTOR_INNER_ELEM)?r:SelectorEngine.findOne(SELECTOR_INNER_ELEM,r)}_getOuterElement(r){return r.closest(SELECTOR_OUTER)||r}static jQueryInterface(r){return this.each(function(){const Ie=Tab.getOrCreateInstance(this);if(typeof r=="string"){if(Ie[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);Ie[r]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(Ce){["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const Ce of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(Ce)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(r,Ie){super(r,Ie),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const Ie=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(Ie,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const Ie=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(Ie,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(r,Ie){switch(r.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=Ie;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=Ie;break}}if(Ie){this._clearTimeout();return}const Re=r.relatedTarget;this._element===Re||this._element.contains(Re)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,r=>this._onInteraction(r,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,r=>this._onInteraction(r,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,r=>this._onInteraction(r,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const Ie=Toast.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof Ie[r]>"u")throw new TypeError(`No method named "${r}"`);Ie[r](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const HelloWorld_vue_vue_type_style_index_0_scoped_3e55f4a8_lang="",_export_sfc=(Ce,r)=>{const Ie=Ce.__vccOpts||Ce;for(const[Re,Ge]of r)Ie[Re]=Ge;return Ie},ProgressBar_vue_vue_type_style_index_0_scoped_d18b633f_lang="",_imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3ISURBVHgB7Vt7bFvVGf/OdZq4aUtdNaOlT2eCMcSqOkkDadlUV0xC2gRJtY3BX3EYpC5ISyJtE+kmxZm0Fu2hppOgabQt7l9M2x912KZpz7ggQSAvdwxBqUTc1yilXd0HjePY9+z3neub2s71KwnqRPyTnHvuued1v+87v+8759wQlVBCCSWUsFgh6DbD7vU4RUL0S5tsifb6w7TIoNFtxHLv024RF+NIuqGEQYfH46BFhtumgMqnn+pKJBKDmIOm0J1T5VoXLTLYaAHg9e7z1G77SuPoyGvH85V1tHscYkvNnyF4j8XjhiXbaq/GR8eHaJFggWaAbBYkfa3effktOELseZzZm5Jd7BdokWDeCvB6f+SW4HBOsxL2eDsneEZkK+9xOGm7WBnM0aRjMfmDgqKg8Q8/dJI+7SKpzRKK/xe/botORl2Z+VKKiBAyhB5CQoqryNoshUQbpMq+K2/SsH4te6dC9Ez2/aaD8qCubnsTemsUgo6OjAwF05819GMMkZGRN7O209DQ4Mz2bGhoKMzXbdsa3DqMzCa0wPDw6yGrsvX19a6EtDVZleExSqk7y8tFwGzTRBnlwPi5cx6pUbPUE241WTLUdT1ynSB8y7p4cVaWGwLHDJFGprz1/D5RSWdFlC7ImGV9aLB9aetTp6GEHsqBpFI9UtAs/4PuPDCEMJJZFRCbpkFcnBaPuF41J3TjPboSQuc8SwXouq0NF49O+k4onsuxDCJlZeJQbFoexI1zOk6N5jNGIkHdlgoYn5hw6BXl/VLKplShZWL01bdoPnBrq+iP+iW6IRPZiuzEr4eKQKpFQ7iz8ux2eyQYDEZS64A6A1Jqx0nIg4LEbqiuTVIOP5WB2toGDysb9dCu5oDBuTEjw1KI8HRcHEO+UwjBiuNnHjwLcr0lSzSHpQJk+ZJBIaUrV6ds/SdPvEfzQTle/SGxkv4i/zvrGSy7O9rX78tVn6lBSlAb0kJSc23tdsf0tGw0fVISTihiwryJJaItuPjT+iLhQn9XjQnO9fndRSSzP02Sk/vkdFkZhZlOFPXosHC8i54QNZpN8oyiRNy+22abbCalSHFodOSNdli/eoZ+uk26nOWExz88z5FMTuEz5mv9JtaIcqrX7kjNimDm7Yr2+X356uqSBk1hQxFuaKENghwQGvn5Z5SCL+J7wwItgTaOm74JVOGCQgay9NfFffIvFjfC6OnpZWGI8SjqdYRC4HdJ3RBw0GaLHkM7PTw+QYkglwXlsPLDun5rdqXNAKYeqUsP5cFCWH8q9jY+Sonx1+l6NEqdTU2BJ+seCOarU1+/A5ank5rqsEy8tJ9pQCMRGhkeUrRVW9fgYVoYHR5qqd3W4KMshqWRmkUBJLfC+gdwv9OKeUFPASj4RLJOkK+hkKKzdrfb7WAqwniaDaMAHQnRzWND6WO1zP1SHrJptt2pTjqdgpYsQUSRn/sKsf6bN29A43FasSJ3NLnjkS/TvVu/SAfuddJyuz2Xy0mDrkunuiLCAoeDsgQEI7vjceU8i4ISmEjSFqw8OYbwrHKaHBgbHvKn5rF/mZ6m/mvXJ10QOHM8KwQRoBaEwDcLNTmTbQlxkI2mtu7BCJQZ0jStI00BOrhP5IlMC7H+S5cu0MTEuyq9ceM9tHbtBstyX4DgtzywVaVZ+MXAsLJkqCupEfQTAUeHYFJYlTfMFEIZB1s/fISyaqGLRsyekGmFeN8OUJ4DlrvTcKTiEEQG4RSmSPYDtXXbTwiWtC4HdH2p32ab8mE8K01RMiWh/6NsHGjXDUpkP3WCx5Am7bFzZ/wktOZcHY68Okyjx3PPgJMnQ3Tt2hWVrqxcTvffX29Z7hvPfJuq1lal5WFg/rr1G1qoALD1KS6G1YITWoinO6fzAWVNSwY1sIN2ZhbhSAVcfxoCspJHeGx0qDo1A1bdg2nYmNHIgApiLfLHRt9o52TOdUAm2PrfP/FuzjJMO/H49My9w1FlWa7cXjFL+MVCWZ9p7YAeTwQ0zRZWN0LipQUv0gJwhqApRDWwbFVu2uBv5u0bN1RUBEpDyCvIx85UI2lytEc1JUSAZxinYeVNVutX9MGziA3AMB5B/chdKbk2qAl9d6Tmm/WKUsB/Tp9XSsiGyckbdPr0Kbr77i0UixkLtGw+oGrNalpohELDLDglPIR8zYqBpBgQxksj+rD7kk5TAcJ3cUSjbkyZSnlQv9XkUf6TKJMdoeQKFjPGnWsMTGWqmQLzi1JALuf70Ufn4HivK+GXIUiuqCiO0xcSaumPxRAxVYwN+TFLFDWVlU0yPc2siuNxO7g+2k2zHC6v4mG1ovDFGDg+KGxQny6a2C9B4H6sL4+zXoUNXkYH92MWYTaofLNewZtx7HitrJ8px3S41dX3KeEXgthUjD4NsF+A8A+qG8TkfNHjdg5Lw4iY2s2FFINng7JMxP64NXwHIhX4QadpsYWCFS0TvHiD8mDmHPpyHv+W2NQ4nFyO05xn1itYAVbWz5Rz6tTbtGbNRvw2UDG4BmVORadoIVFX92Ab9l34hM0J6515URa0JgxuBuX0u1xuxYuGsnifR20aJsEC1MNqASUNJWhYSYN6JP/IwmGzUuu2bR/HNGjn+J/rsnPn9nltkBwTb1C6eFXOK2LOV21TAbCyfqac8+fDinI40ikWMQj/8oVLtLAQNUnq6B4bGfKlPuGlv0gunoiiSgEIC518hQMOghowG3SOz+HIsWoWsgMbfGHVKlbRHBUZezgybYvC5Wpw6lIe491OduBjo2+ugt/p4PZi06LdcLoioicSNTCCXVDOUbXVoYKEAn1AqvUz5Zw/P0E2WxmE/yWaD97/13u0zrme5gMz8jEiG3ugrCzqz9yWNsFbAWq7IAkuh9mwKumYa5LZgeQVzxpCiNmPJhIVAdN5s7ULkZhRArfnctXvIloWNsuMjb3BlNeTLB/IGA+368RYVdm86wC2/uAr/1Bpjmw4ylm7dmPeFW4+rHCsoNVrquiRx7+Wll/MOuCzgLwzwFz1XrlyiS5fvkCbNt1TVIRTgXh/+crlEPbnVNy/mn8QPOeXUIACLn98gc6cOaXS+SjHtOrluFZB4Os2r0PeHTnrXProIsreSYsVWRVw85NP6MX9P6WTb7+jrD4zymFh37VpvbJqld68vmirfuXl36lfS9tz9NDDu2gxIqsCfvZDH539YIKq7ryTvvmdJ+nKx1eVVVclLXy+FMJts/AZm6qraa7wen3O1Hvs6UV6enwR+hTAfWlazPHSS/tntpP37u3Eea+M9Pa+EKQ5wFIBbPWm8L/3E18aRfDMeO2vf6Oly5bN2Wq5/f5fvqjSjz35OG38vJPmCklTE7fCS94GJz5MKeoY09Puc5RPTXn6Dh+wrOf1Po/1guiXIubANnhkj7fTudReUZNUtJOMj23mhJw+QDnOFOGbgmPeZly++LESoPls/M23aGO1M6tiWHls9X9/5U/qnsuZ9eeD3t4Dlh22Q7B8zZwRmfmVsZgzwVvaWRWn4VSLwr2H96vojBVi1j1soTSeKdlmYmbflmEoC+rH7d9Xgq6EpbOF3vzkppoVDL4/+0FYpZ/b9wM6+e93ZoRqPK+mp777HGZJpVLS2YkJKGdYKcnEVx/7Oj3x9Oxos9gwFNYoj/QeSHsPtuiK6NQxMnYhcUgi/H29+7sN4fDHY2qfiE9KsMCSh/B8EKtUB+/VYM+mo6/vQCC1vdbWznbew4fV784UKtrz8bW3d78vOR7+3DJiHnFi8RWAkjq8yJfqEx1y8YG/Oaas64BLFy8qJ2wKmsHKYItl4f32V/1pQmfws9f/GZyZIZng+jUND9CjT3wra+SDQXbUrdtQMIWwArB67Tbv7fbyHhYSWxpfFb1MxiYql5ZX872VwoyPyxJdR7LMJKOf5zEm3tcXWFHr3eD8sFH3lgJa4Q807P0j3aKMYGpq4sjhA6uMcp2DOPA63tf7gi9pIFd4HFkpiPm/q+fnijZYCZWw5tUQGguRwdbLaaYdLvsYhMqWv+NhN/3h5d/TGVj9JGYNz4JN1U5FTTtAOWb9bNCELUBFQ32vk4ZoNOpo9e5rE9EYtgikg++JjwpxbNm6p3NcE+IQBOW3ao0tHtsRiipMyz7S+0K7VymBfDj+HH/22X27Up2xGrvkI0kDdvQnM76sMM+R/YYhqLy86wAW2L1b7rd8xhafyeGsDA4r5wKmn9q77gpTkYA1+lPvn3lmH39m0q9JvQPPuvGy7pSyPgiSy/v27O1sg4XWZLanaXwgI636CePiYavHph5/iNWS/ny/H311oV3sDZGDlU15UNR5wKcMnJfa8g64ENhs1MQHMXDOQaaim5Mx5nf1LElNYSQ9rXv2XeH7WCwWiSdmPpOnzJByzx7MJKEPmLQj+bxXyquZ/TIFCSmC9opydeZQSDj8/6KAMOSzu2YO1m8FbLoFNJs8BkvcOjk5Bbcmwuo7RQh7Mjo1jnw+yIfA9aNJPxEGJzvYcoVSXDo1SU2ehtQHYd1h/n8GjJUFOytQiFVUBOFv+tGHk+/RXsQmRHcmVaWi6EP5BYfa5rW1LJTwTbBlM++bVpsKDiP5mvmM863K56tnAouydv7IUpPS9GNw7qI5l3NPUwB/jKsXeRI0Zwg6wQ53oQV/O8GREsJZ2XfkQIdhALE2SfoqduDZ6ggqYcHAFIfoxwexboUT5m+WBjIDhBJKKKGEEkoooYQSGP8DfciicqiJWhAAAAAASUVORK5CYII=",_sfc_main$5={data(){return{isVisitor:!1}},computed:{currentRouteName(){return this.$route.name}}},_hoisted_1$4={class:"navbar navbar-expand-lg navbar-light bg-white border-bottom border-gray"},_hoisted_2$4={class:"container-fluid flex-shrink-0"},_hoisted_3$3=createBaseVNode("img",{src:_imports_0$1,alt:"logo"},null,-1),_hoisted_4$2=createStaticVNode('<h2 class="flex-grow-1 text-center d-none d-lg-block text-dark-gray">\u5FEB\u901F\u7701\u6642\u7684\u96FB\u5B50\u7C3D\u7F72\u5DE5\u5177</h2><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse flex-grow-0 justify-content-between text-center justify-content-lg-end" id="navbarSupportedContent"><button class="btn text-primary px-9 me-7" type="submit">\u767B\u5165</button><button class="btn btn-primary px-9" type="submit">\u8A3B\u518A</button></div>',3);function _sfc_render$3(Ce,r,Ie,Re,Ge,Je){const ii=resolveComponent("router-link");return openBlock(),createElementBlock("nav",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createVNode(ii,{class:"navbar-brand",href:"/fastsign/"},{default:withCtx(()=>[_hoisted_3$3]),_:1}),_hoisted_4$2])])}const Header=_export_sfc(_sfc_main$5,[["render",_sfc_render$3]]),_sfc_main$4={},_hoisted_1$3={class:"bg-dark-gray"},_hoisted_2$3=createStaticVNode('<div class="container-fluid d-flex justify-content-between align-items-center py-5"><p class="text-white">@ 2022 The F2E 4th Code: int / Design: Coral</p><div class="text-white d-flex align-items-center"><a class="text-white me-7">\u7E41\u4E2D</a><a class="text-white">English</a></div></div>',1),_hoisted_3$2=[_hoisted_2$3];function _sfc_render$2(Ce,r){return openBlock(),createElementBlock("div",_hoisted_1$3,_hoisted_3$2)}const Footer=_export_sfc(_sfc_main$4,[["render",_sfc_render$2]]),App_vue_vue_type_style_index_0_scoped_b49430c8_lang="",_sfc_main$3={__name:"App",setup(Ce){return(r,Ie)=>{const Re=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createVNode(Header),createVNode(Re),createVNode(Footer)],64)}}},App=_export_sfc(_sfc_main$3,[["__scopeId","data-v-b49430c8"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(Ce){return Ce.__esModule||Ce[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(Ce,r){const Ie={};for(const Re in r){const Ge=r[Re];Ie[Re]=isArray(Ge)?Ge.map(Ce):Ce(Ge)}return Ie}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=Ce=>Ce.replace(TRAILING_SLASH_RE,"");function parseURL(Ce,r,Ie="/"){let Re,Ge={},Je="",ii="";const Se=r.indexOf("#");let _e=r.indexOf("?");return Se<_e&&Se>=0&&(_e=-1),_e>-1&&(Re=r.slice(0,_e),Je=r.slice(_e+1,Se>-1?Se:r.length),Ge=Ce(Je)),Se>-1&&(Re=Re||r.slice(0,Se),ii=r.slice(Se,r.length)),Re=resolveRelativePath(Re!=null?Re:r,Ie),{fullPath:Re+(Je&&"?")+Je+ii,path:Re,query:Ge,hash:ii}}function stringifyURL(Ce,r){const Ie=r.query?Ce(r.query):"";return r.path+(Ie&&"?")+Ie+(r.hash||"")}function stripBase(Ce,r){return!r||!Ce.toLowerCase().startsWith(r.toLowerCase())?Ce:Ce.slice(r.length)||"/"}function isSameRouteLocation(Ce,r,Ie){const Re=r.matched.length-1,Ge=Ie.matched.length-1;return Re>-1&&Re===Ge&&isSameRouteRecord(r.matched[Re],Ie.matched[Ge])&&isSameRouteLocationParams(r.params,Ie.params)&&Ce(r.query)===Ce(Ie.query)&&r.hash===Ie.hash}function isSameRouteRecord(Ce,r){return(Ce.aliasOf||Ce)===(r.aliasOf||r)}function isSameRouteLocationParams(Ce,r){if(Object.keys(Ce).length!==Object.keys(r).length)return!1;for(const Ie in Ce)if(!isSameRouteLocationParamsValue(Ce[Ie],r[Ie]))return!1;return!0}function isSameRouteLocationParamsValue(Ce,r){return isArray(Ce)?isEquivalentArray(Ce,r):isArray(r)?isEquivalentArray(r,Ce):Ce===r}function isEquivalentArray(Ce,r){return isArray(r)?Ce.length===r.length&&Ce.every((Ie,Re)=>Ie===r[Re]):Ce.length===1&&Ce[0]===r}function resolveRelativePath(Ce,r){if(Ce.startsWith("/"))return Ce;if(!Ce)return r;const Ie=r.split("/"),Re=Ce.split("/");let Ge=Ie.length-1,Je,ii;for(Je=0;Je<Re.length;Je++)if(ii=Re[Je],ii!==".")if(ii==="..")Ge>1&&Ge--;else break;return Ie.slice(0,Ge).join("/")+"/"+Re.slice(Je-(Je===Re.length?1:0)).join("/")}var NavigationType;(function(Ce){Ce.pop="pop",Ce.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(Ce){Ce.back="back",Ce.forward="forward",Ce.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(Ce){if(!Ce)if(isBrowser){const r=document.querySelector("base");Ce=r&&r.getAttribute("href")||"/",Ce=Ce.replace(/^\w+:\/\/[^\/]+/,"")}else Ce="/";return Ce[0]!=="/"&&Ce[0]!=="#"&&(Ce="/"+Ce),removeTrailingSlash(Ce)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(Ce,r){return Ce.replace(BEFORE_HASH_RE,"#")+r}function getElementPosition(Ce,r){const Ie=document.documentElement.getBoundingClientRect(),Re=Ce.getBoundingClientRect();return{behavior:r.behavior,left:Re.left-Ie.left-(r.left||0),top:Re.top-Ie.top-(r.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(Ce){let r;if("el"in Ce){const Ie=Ce.el,Re=typeof Ie=="string"&&Ie.startsWith("#"),Ge=typeof Ie=="string"?Re?document.getElementById(Ie.slice(1)):document.querySelector(Ie):Ie;if(!Ge)return;r=getElementPosition(Ge,Ce)}else r=Ce;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function getScrollKey(Ce,r){return(history.state?history.state.position-r:-1)+Ce}const scrollPositions=new Map;function saveScrollPosition(Ce,r){scrollPositions.set(Ce,r)}function getSavedScrollPosition(Ce){const r=scrollPositions.get(Ce);return scrollPositions.delete(Ce),r}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(Ce,r){const{pathname:Ie,search:Re,hash:Ge}=r,Je=Ce.indexOf("#");if(Je>-1){let Se=Ge.includes(Ce.slice(Je))?Ce.slice(Je).length:1,_e=Ge.slice(Se);return _e[0]!=="/"&&(_e="/"+_e),stripBase(_e,"")}return stripBase(Ie,Ce)+Re+Ge}function useHistoryListeners(Ce,r,Ie,Re){let Ge=[],Je=[],ii=null;const Se=({state:Te})=>{const e=createCurrentLocation(Ce,location),ke=Ie.value,Oe=r.value;let Ee=0;if(Te){if(Ie.value=e,r.value=Te,ii&&ii===ke){ii=null;return}Ee=Oe?Te.position-Oe.position:0}else Re(e);Ge.forEach(Pe=>{Pe(Ie.value,ke,{delta:Ee,type:NavigationType.pop,direction:Ee?Ee>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function _e(){ii=Ie.value}function t(Te){Ge.push(Te);const e=()=>{const ke=Ge.indexOf(Te);ke>-1&&Ge.splice(ke,1)};return Je.push(e),e}function xe(){const{history:Te}=window;!Te.state||Te.replaceState(assign({},Te.state,{scroll:computeScrollPosition()}),"")}function Fe(){for(const Te of Je)Te();Je=[],window.removeEventListener("popstate",Se),window.removeEventListener("beforeunload",xe)}return window.addEventListener("popstate",Se),window.addEventListener("beforeunload",xe),{pauseListeners:_e,listen:t,destroy:Fe}}function buildState(Ce,r,Ie,Re=!1,Ge=!1){return{back:Ce,current:r,forward:Ie,replaced:Re,position:window.history.length,scroll:Ge?computeScrollPosition():null}}function useHistoryStateNavigation(Ce){const{history:r,location:Ie}=window,Re={value:createCurrentLocation(Ce,Ie)},Ge={value:r.state};Ge.value||Je(Re.value,{back:null,current:Re.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function Je(_e,t,xe){const Fe=Ce.indexOf("#"),Te=Fe>-1?(Ie.host&&document.querySelector("base")?Ce:Ce.slice(Fe))+_e:createBaseLocation()+Ce+_e;try{r[xe?"replaceState":"pushState"](t,"",Te),Ge.value=t}catch(e){console.error(e),Ie[xe?"replace":"assign"](Te)}}function ii(_e,t){const xe=assign({},r.state,buildState(Ge.value.back,_e,Ge.value.forward,!0),t,{position:Ge.value.position});Je(_e,xe,!0),Re.value=_e}function Se(_e,t){const xe=assign({},Ge.value,r.state,{forward:_e,scroll:computeScrollPosition()});Je(xe.current,xe,!0);const Fe=assign({},buildState(Re.value,_e,null),{position:xe.position+1},t);Je(_e,Fe,!1),Re.value=_e}return{location:Re,state:Ge,push:Se,replace:ii}}function createWebHistory(Ce){Ce=normalizeBase(Ce);const r=useHistoryStateNavigation(Ce),Ie=useHistoryListeners(Ce,r.state,r.location,r.replace);function Re(Je,ii=!0){ii||Ie.pauseListeners(),history.go(Je)}const Ge=assign({location:"",base:Ce,go:Re,createHref:createHref.bind(null,Ce)},r,Ie);return Object.defineProperty(Ge,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(Ge,"state",{enumerable:!0,get:()=>r.state.value}),Ge}function isRouteLocation(Ce){return typeof Ce=="string"||Ce&&typeof Ce=="object"}function isRouteName(Ce){return typeof Ce=="string"||typeof Ce=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(Ce){Ce[Ce.aborted=4]="aborted",Ce[Ce.cancelled=8]="cancelled",Ce[Ce.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(Ce,r){return assign(new Error,{type:Ce,[NavigationFailureSymbol]:!0},r)}function isNavigationFailure(Ce,r){return Ce instanceof Error&&NavigationFailureSymbol in Ce&&(r==null||!!(Ce.type&r))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(Ce,r){const Ie=assign({},BASE_PATH_PARSER_OPTIONS,r),Re=[];let Ge=Ie.start?"^":"";const Je=[];for(const t of Ce){const xe=t.length?[]:[90];Ie.strict&&!t.length&&(Ge+="/");for(let Fe=0;Fe<t.length;Fe++){const Te=t[Fe];let e=40+(Ie.sensitive?.25:0);if(Te.type===0)Fe||(Ge+="/"),Ge+=Te.value.replace(REGEX_CHARS_RE,"\\$&"),e+=40;else if(Te.type===1){const{value:ke,repeatable:Oe,optional:Ee,regexp:Pe}=Te;Je.push({name:ke,repeatable:Oe,optional:Ee});const De=Pe||BASE_PARAM_PATTERN;if(De!==BASE_PARAM_PATTERN){e+=10;try{new RegExp(`(${De})`)}catch(Ae){throw new Error(`Invalid custom RegExp for param "${ke}" (${De}): `+Ae.message)}}let Me=Oe?`((?:${De})(?:/(?:${De}))*)`:`(${De})`;Fe||(Me=Ee&&t.length<2?`(?:/${Me})`:"/"+Me),Ee&&(Me+="?"),Ge+=Me,e+=20,Ee&&(e+=-8),Oe&&(e+=-20),De===".*"&&(e+=-50)}xe.push(e)}Re.push(xe)}if(Ie.strict&&Ie.end){const t=Re.length-1;Re[t][Re[t].length-1]+=.7000000000000001}Ie.strict||(Ge+="/?"),Ie.end?Ge+="$":Ie.strict&&(Ge+="(?:/|$)");const ii=new RegExp(Ge,Ie.sensitive?"":"i");function Se(t){const xe=t.match(ii),Fe={};if(!xe)return null;for(let Te=1;Te<xe.length;Te++){const e=xe[Te]||"",ke=Je[Te-1];Fe[ke.name]=e&&ke.repeatable?e.split("/"):e}return Fe}function _e(t){let xe="",Fe=!1;for(const Te of Ce){(!Fe||!xe.endsWith("/"))&&(xe+="/"),Fe=!1;for(const e of Te)if(e.type===0)xe+=e.value;else if(e.type===1){const{value:ke,repeatable:Oe,optional:Ee}=e,Pe=ke in t?t[ke]:"";if(isArray(Pe)&&!Oe)throw new Error(`Provided param "${ke}" is an array but it is not repeatable (* or + modifiers)`);const De=isArray(Pe)?Pe.join("/"):Pe;if(!De)if(Ee)Te.length<2&&(xe.endsWith("/")?xe=xe.slice(0,-1):Fe=!0);else throw new Error(`Missing required param "${ke}"`);xe+=De}}return xe||"/"}return{re:ii,score:Re,keys:Je,parse:Se,stringify:_e}}function compareScoreArray(Ce,r){let Ie=0;for(;Ie<Ce.length&&Ie<r.length;){const Re=r[Ie]-Ce[Ie];if(Re)return Re;Ie++}return Ce.length<r.length?Ce.length===1&&Ce[0]===40+40?-1:1:Ce.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function comparePathParserScore(Ce,r){let Ie=0;const Re=Ce.score,Ge=r.score;for(;Ie<Re.length&&Ie<Ge.length;){const Je=compareScoreArray(Re[Ie],Ge[Ie]);if(Je)return Je;Ie++}if(Math.abs(Ge.length-Re.length)===1){if(isLastScoreNegative(Re))return 1;if(isLastScoreNegative(Ge))return-1}return Ge.length-Re.length}function isLastScoreNegative(Ce){const r=Ce[Ce.length-1];return Ce.length>0&&r[r.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(Ce){if(!Ce)return[[]];if(Ce==="/")return[[ROOT_TOKEN]];if(!Ce.startsWith("/"))throw new Error(`Invalid path "${Ce}"`);function r(e){throw new Error(`ERR (${Ie})/"${t}": ${e}`)}let Ie=0,Re=Ie;const Ge=[];let Je;function ii(){Je&&Ge.push(Je),Je=[]}let Se=0,_e,t="",xe="";function Fe(){!t||(Ie===0?Je.push({type:0,value:t}):Ie===1||Ie===2||Ie===3?(Je.length>1&&(_e==="*"||_e==="+")&&r(`A repeatable param (${t}) must be alone in its segment. eg: '/:ids+.`),Je.push({type:1,value:t,regexp:xe,repeatable:_e==="*"||_e==="+",optional:_e==="*"||_e==="?"})):r("Invalid state to consume buffer"),t="")}function Te(){t+=_e}for(;Se<Ce.length;){if(_e=Ce[Se++],_e==="\\"&&Ie!==2){Re=Ie,Ie=4;continue}switch(Ie){case 0:_e==="/"?(t&&Fe(),ii()):_e===":"?(Fe(),Ie=1):Te();break;case 4:Te(),Ie=Re;break;case 1:_e==="("?Ie=2:VALID_PARAM_RE.test(_e)?Te():(Fe(),Ie=0,_e!=="*"&&_e!=="?"&&_e!=="+"&&Se--);break;case 2:_e===")"?xe[xe.length-1]=="\\"?xe=xe.slice(0,-1)+_e:Ie=3:xe+=_e;break;case 3:Fe(),Ie=0,_e!=="*"&&_e!=="?"&&_e!=="+"&&Se--,xe="";break;default:r("Unknown state");break}}return Ie===2&&r(`Unfinished custom RegExp for param "${t}"`),Fe(),ii(),Ge}function createRouteRecordMatcher(Ce,r,Ie){const Re=tokensToParser(tokenizePath(Ce.path),Ie),Ge=assign(Re,{record:Ce,parent:r,children:[],alias:[]});return r&&!Ge.record.aliasOf==!r.record.aliasOf&&r.children.push(Ge),Ge}function createRouterMatcher(Ce,r){const Ie=[],Re=new Map;r=mergeOptions({strict:!1,end:!0,sensitive:!1},r);function Ge(xe){return Re.get(xe)}function Je(xe,Fe,Te){const e=!Te,ke=normalizeRouteRecord(xe);ke.aliasOf=Te&&Te.record;const Oe=mergeOptions(r,xe),Ee=[ke];if("alias"in xe){const Me=typeof xe.alias=="string"?[xe.alias]:xe.alias;for(const Ae of Me)Ee.push(assign({},ke,{components:Te?Te.record.components:ke.components,path:Ae,aliasOf:Te?Te.record:ke}))}let Pe,De;for(const Me of Ee){const{path:Ae}=Me;if(Fe&&Ae[0]!=="/"){const Be=Fe.record.path,He=Be[Be.length-1]==="/"?"":"/";Me.path=Fe.record.path+(Ae&&He+Ae)}if(Pe=createRouteRecordMatcher(Me,Fe,Oe),Te?Te.alias.push(Pe):(De=De||Pe,De!==Pe&&De.alias.push(Pe),e&&xe.name&&!isAliasRecord(Pe)&&ii(xe.name)),ke.children){const Be=ke.children;for(let He=0;He<Be.length;He++)Je(Be[He],Pe,Te&&Te.children[He])}Te=Te||Pe,(Pe.record.components&&Object.keys(Pe.record.components).length||Pe.record.name||Pe.record.redirect)&&_e(Pe)}return De?()=>{ii(De)}:noop}function ii(xe){if(isRouteName(xe)){const Fe=Re.get(xe);Fe&&(Re.delete(xe),Ie.splice(Ie.indexOf(Fe),1),Fe.children.forEach(ii),Fe.alias.forEach(ii))}else{const Fe=Ie.indexOf(xe);Fe>-1&&(Ie.splice(Fe,1),xe.record.name&&Re.delete(xe.record.name),xe.children.forEach(ii),xe.alias.forEach(ii))}}function Se(){return Ie}function _e(xe){let Fe=0;for(;Fe<Ie.length&&comparePathParserScore(xe,Ie[Fe])>=0&&(xe.record.path!==Ie[Fe].record.path||!isRecordChildOf(xe,Ie[Fe]));)Fe++;Ie.splice(Fe,0,xe),xe.record.name&&!isAliasRecord(xe)&&Re.set(xe.record.name,xe)}function t(xe,Fe){let Te,e={},ke,Oe;if("name"in xe&&xe.name){if(Te=Re.get(xe.name),!Te)throw createRouterError(1,{location:xe});Oe=Te.record.name,e=assign(paramsFromLocation(Fe.params,Te.keys.filter(De=>!De.optional).map(De=>De.name)),xe.params&&paramsFromLocation(xe.params,Te.keys.map(De=>De.name))),ke=Te.stringify(e)}else if("path"in xe)ke=xe.path,Te=Ie.find(De=>De.re.test(ke)),Te&&(e=Te.parse(ke),Oe=Te.record.name);else{if(Te=Fe.name?Re.get(Fe.name):Ie.find(De=>De.re.test(Fe.path)),!Te)throw createRouterError(1,{location:xe,currentLocation:Fe});Oe=Te.record.name,e=assign({},Fe.params,xe.params),ke=Te.stringify(e)}const Ee=[];let Pe=Te;for(;Pe;)Ee.unshift(Pe.record),Pe=Pe.parent;return{name:Oe,path:ke,params:e,matched:Ee,meta:mergeMetaFields(Ee)}}return Ce.forEach(xe=>Je(xe)),{addRoute:Je,resolve:t,removeRoute:ii,getRoutes:Se,getRecordMatcher:Ge}}function paramsFromLocation(Ce,r){const Ie={};for(const Re of r)Re in Ce&&(Ie[Re]=Ce[Re]);return Ie}function normalizeRouteRecord(Ce){return{path:Ce.path,redirect:Ce.redirect,name:Ce.name,meta:Ce.meta||{},aliasOf:void 0,beforeEnter:Ce.beforeEnter,props:normalizeRecordProps(Ce),children:Ce.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in Ce?Ce.components||null:Ce.component&&{default:Ce.component}}}function normalizeRecordProps(Ce){const r={},Ie=Ce.props||!1;if("component"in Ce)r.default=Ie;else for(const Re in Ce.components)r[Re]=typeof Ie=="boolean"?Ie:Ie[Re];return r}function isAliasRecord(Ce){for(;Ce;){if(Ce.record.aliasOf)return!0;Ce=Ce.parent}return!1}function mergeMetaFields(Ce){return Ce.reduce((r,Ie)=>assign(r,Ie.meta),{})}function mergeOptions(Ce,r){const Ie={};for(const Re in Ce)Ie[Re]=Re in r?r[Re]:Ce[Re];return Ie}function isRecordChildOf(Ce,r){return r.children.some(Ie=>Ie===Ce||isRecordChildOf(Ce,Ie))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(Ce){return encodeURI(""+Ce).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(Ce){return commonEncode(Ce).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(Ce){return commonEncode(Ce).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(Ce){return encodeQueryValue(Ce).replace(EQUAL_RE,"%3D")}function encodePath(Ce){return commonEncode(Ce).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(Ce){return Ce==null?"":encodePath(Ce).replace(SLASH_RE,"%2F")}function decode(Ce){try{return decodeURIComponent(""+Ce)}catch{}return""+Ce}function parseQuery(Ce){const r={};if(Ce===""||Ce==="?")return r;const Re=(Ce[0]==="?"?Ce.slice(1):Ce).split("&");for(let Ge=0;Ge<Re.length;++Ge){const Je=Re[Ge].replace(PLUS_RE," "),ii=Je.indexOf("="),Se=decode(ii<0?Je:Je.slice(0,ii)),_e=ii<0?null:decode(Je.slice(ii+1));if(Se in r){let t=r[Se];isArray(t)||(t=r[Se]=[t]),t.push(_e)}else r[Se]=_e}return r}function stringifyQuery(Ce){let r="";for(let Ie in Ce){const Re=Ce[Ie];if(Ie=encodeQueryKey(Ie),Re==null){Re!==void 0&&(r+=(r.length?"&":"")+Ie);continue}(isArray(Re)?Re.map(Je=>Je&&encodeQueryValue(Je)):[Re&&encodeQueryValue(Re)]).forEach(Je=>{Je!==void 0&&(r+=(r.length?"&":"")+Ie,Je!=null&&(r+="="+Je))})}return r}function normalizeQuery(Ce){const r={};for(const Ie in Ce){const Re=Ce[Ie];Re!==void 0&&(r[Ie]=isArray(Re)?Re.map(Ge=>Ge==null?null:""+Ge):Re==null?Re:""+Re)}return r}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let Ce=[];function r(Re){return Ce.push(Re),()=>{const Ge=Ce.indexOf(Re);Ge>-1&&Ce.splice(Ge,1)}}function Ie(){Ce=[]}return{add:r,list:()=>Ce,reset:Ie}}function guardToPromiseFn(Ce,r,Ie,Re,Ge){const Je=Re&&(Re.enterCallbacks[Ge]=Re.enterCallbacks[Ge]||[]);return()=>new Promise((ii,Se)=>{const _e=Fe=>{Fe===!1?Se(createRouterError(4,{from:Ie,to:r})):Fe instanceof Error?Se(Fe):isRouteLocation(Fe)?Se(createRouterError(2,{from:r,to:Fe})):(Je&&Re.enterCallbacks[Ge]===Je&&typeof Fe=="function"&&Je.push(Fe),ii())},t=Ce.call(Re&&Re.instances[Ge],r,Ie,_e);let xe=Promise.resolve(t);Ce.length<3&&(xe=xe.then(_e)),xe.catch(Fe=>Se(Fe))})}function extractComponentsGuards(Ce,r,Ie,Re){const Ge=[];for(const Je of Ce)for(const ii in Je.components){let Se=Je.components[ii];if(!(r!=="beforeRouteEnter"&&!Je.instances[ii]))if(isRouteComponent(Se)){const t=(Se.__vccOpts||Se)[r];t&&Ge.push(guardToPromiseFn(t,Ie,Re,Je,ii))}else{let _e=Se();Ge.push(()=>_e.then(t=>{if(!t)return Promise.reject(new Error(`Couldn't resolve component "${ii}" at "${Je.path}"`));const xe=isESModule(t)?t.default:t;Je.components[ii]=xe;const Te=(xe.__vccOpts||xe)[r];return Te&&guardToPromiseFn(Te,Ie,Re,Je,ii)()}))}}return Ge}function isRouteComponent(Ce){return typeof Ce=="object"||"displayName"in Ce||"props"in Ce||"__vccOpts"in Ce}function useLink(Ce){const r=inject(routerKey),Ie=inject(routeLocationKey),Re=computed(()=>r.resolve(unref(Ce.to))),Ge=computed(()=>{const{matched:_e}=Re.value,{length:t}=_e,xe=_e[t-1],Fe=Ie.matched;if(!xe||!Fe.length)return-1;const Te=Fe.findIndex(isSameRouteRecord.bind(null,xe));if(Te>-1)return Te;const e=getOriginalPath(_e[t-2]);return t>1&&getOriginalPath(xe)===e&&Fe[Fe.length-1].path!==e?Fe.findIndex(isSameRouteRecord.bind(null,_e[t-2])):Te}),Je=computed(()=>Ge.value>-1&&includesParams(Ie.params,Re.value.params)),ii=computed(()=>Ge.value>-1&&Ge.value===Ie.matched.length-1&&isSameRouteLocationParams(Ie.params,Re.value.params));function Se(_e={}){return guardEvent(_e)?r[unref(Ce.replace)?"replace":"push"](unref(Ce.to)).catch(noop):Promise.resolve()}return{route:Re,href:computed(()=>Re.value.href),isActive:Je,isExactActive:ii,navigate:Se}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(Ce,{slots:r}){const Ie=reactive(useLink(Ce)),{options:Re}=inject(routerKey),Ge=computed(()=>({[getLinkClass(Ce.activeClass,Re.linkActiveClass,"router-link-active")]:Ie.isActive,[getLinkClass(Ce.exactActiveClass,Re.linkExactActiveClass,"router-link-exact-active")]:Ie.isExactActive}));return()=>{const Je=r.default&&r.default(Ie);return Ce.custom?Je:h$1("a",{"aria-current":Ie.isExactActive?Ce.ariaCurrentValue:null,href:Ie.href,onClick:Ie.navigate,class:Ge.value},Je)}}}),RouterLink=RouterLinkImpl;function guardEvent(Ce){if(!(Ce.metaKey||Ce.altKey||Ce.ctrlKey||Ce.shiftKey)&&!Ce.defaultPrevented&&!(Ce.button!==void 0&&Ce.button!==0)){if(Ce.currentTarget&&Ce.currentTarget.getAttribute){const r=Ce.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return Ce.preventDefault&&Ce.preventDefault(),!0}}function includesParams(Ce,r){for(const Ie in r){const Re=r[Ie],Ge=Ce[Ie];if(typeof Re=="string"){if(Re!==Ge)return!1}else if(!isArray(Ge)||Ge.length!==Re.length||Re.some((Je,ii)=>Je!==Ge[ii]))return!1}return!0}function getOriginalPath(Ce){return Ce?Ce.aliasOf?Ce.aliasOf.path:Ce.path:""}const getLinkClass=(Ce,r,Ie)=>Ce!=null?Ce:r!=null?r:Ie,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(Ce,{attrs:r,slots:Ie}){const Re=inject(routerViewLocationKey),Ge=computed(()=>Ce.route||Re.value),Je=inject(viewDepthKey,0),ii=computed(()=>{let t=unref(Je);const{matched:xe}=Ge.value;let Fe;for(;(Fe=xe[t])&&!Fe.components;)t++;return t}),Se=computed(()=>Ge.value.matched[ii.value]);provide(viewDepthKey,computed(()=>ii.value+1)),provide(matchedRouteKey,Se),provide(routerViewLocationKey,Ge);const _e=ref();return watch(()=>[_e.value,Se.value,Ce.name],([t,xe,Fe],[Te,e,ke])=>{xe&&(xe.instances[Fe]=t,e&&e!==xe&&t&&t===Te&&(xe.leaveGuards.size||(xe.leaveGuards=e.leaveGuards),xe.updateGuards.size||(xe.updateGuards=e.updateGuards))),t&&xe&&(!e||!isSameRouteRecord(xe,e)||!Te)&&(xe.enterCallbacks[Fe]||[]).forEach(Oe=>Oe(t))},{flush:"post"}),()=>{const t=Ge.value,xe=Ce.name,Fe=Se.value,Te=Fe&&Fe.components[xe];if(!Te)return normalizeSlot(Ie.default,{Component:Te,route:t});const e=Fe.props[xe],ke=e?e===!0?t.params:typeof e=="function"?e(t):e:null,Ee=h$1(Te,assign({},ke,r,{onVnodeUnmounted:Pe=>{Pe.component.isUnmounted&&(Fe.instances[xe]=null)},ref:_e}));return normalizeSlot(Ie.default,{Component:Ee,route:t})||Ee}}});function normalizeSlot(Ce,r){if(!Ce)return null;const Ie=Ce(r);return Ie.length===1?Ie[0]:Ie}const RouterView=RouterViewImpl;function createRouter(Ce){const r=createRouterMatcher(Ce.routes,Ce),Ie=Ce.parseQuery||parseQuery,Re=Ce.stringifyQuery||stringifyQuery,Ge=Ce.history,Je=useCallbacks(),ii=useCallbacks(),Se=useCallbacks(),_e=shallowRef(START_LOCATION_NORMALIZED);let t=START_LOCATION_NORMALIZED;isBrowser&&Ce.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const xe=applyToParams.bind(null,Ue=>""+Ue),Fe=applyToParams.bind(null,encodeParam),Te=applyToParams.bind(null,decode);function e(Ue,ti){let hi,yi;return isRouteName(Ue)?(hi=r.getRecordMatcher(Ue),yi=ti):yi=Ue,r.addRoute(yi,hi)}function ke(Ue){const ti=r.getRecordMatcher(Ue);ti&&r.removeRoute(ti)}function Oe(){return r.getRoutes().map(Ue=>Ue.record)}function Ee(Ue){return!!r.getRecordMatcher(Ue)}function Pe(Ue,ti){if(ti=assign({},ti||_e.value),typeof Ue=="string"){const fi=parseURL(Ie,Ue,ti.path),xi=r.resolve({path:fi.path},ti),li=Ge.createHref(fi.fullPath);return assign(fi,xi,{params:Te(xi.params),hash:decode(fi.hash),redirectedFrom:void 0,href:li})}let hi;if("path"in Ue)hi=assign({},Ue,{path:parseURL(Ie,Ue.path,ti.path).path});else{const fi=assign({},Ue.params);for(const xi in fi)fi[xi]==null&&delete fi[xi];hi=assign({},Ue,{params:Fe(Ue.params)}),ti.params=Fe(ti.params)}const yi=r.resolve(hi,ti),wi=Ue.hash||"";yi.params=xe(Te(yi.params));const Ci=stringifyURL(Re,assign({},Ue,{hash:encodeHash(wi),path:yi.path})),ki=Ge.createHref(Ci);return assign({fullPath:Ci,hash:wi,query:Re===stringifyQuery?normalizeQuery(Ue.query):Ue.query||{}},yi,{redirectedFrom:void 0,href:ki})}function De(Ue){return typeof Ue=="string"?parseURL(Ie,Ue,_e.value.path):assign({},Ue)}function Me(Ue,ti){if(t!==Ue)return createRouterError(8,{from:ti,to:Ue})}function Ae(Ue){return je(Ue)}function Be(Ue){return Ae(assign(De(Ue),{replace:!0}))}function He(Ue){const ti=Ue.matched[Ue.matched.length-1];if(ti&&ti.redirect){const{redirect:hi}=ti;let yi=typeof hi=="function"?hi(Ue):hi;return typeof yi=="string"&&(yi=yi.includes("?")||yi.includes("#")?yi=De(yi):{path:yi},yi.params={}),assign({query:Ue.query,hash:Ue.hash,params:"path"in yi?{}:Ue.params},yi)}}function je(Ue,ti){const hi=t=Pe(Ue),yi=_e.value,wi=Ue.state,Ci=Ue.force,ki=Ue.replace===!0,fi=He(hi);if(fi)return je(assign(De(fi),{state:typeof fi=="object"?assign({},wi,fi.state):wi,force:Ci,replace:ki}),ti||hi);const xi=hi;xi.redirectedFrom=ti;let li;return!Ci&&isSameRouteLocation(Re,yi,hi)&&(li=createRouterError(16,{to:xi,from:yi}),si(yi,yi,!0,!1)),(li?Promise.resolve(li):St(xi,yi)).catch(pi=>isNavigationFailure(pi)?isNavigationFailure(pi,2)?pi:We(pi):ci(pi,xi,yi)).then(pi=>{if(pi){if(isNavigationFailure(pi,2))return je(assign({replace:ki},De(pi.to),{state:typeof pi.to=="object"?assign({},wi,pi.to.state):wi,force:Ci}),ti||xi)}else pi=Ye(xi,yi,!0,ki,wi);return qe(xi,yi,pi),pi})}function Xe(Ue,ti){const hi=Me(Ue,ti);return hi?Promise.reject(hi):Promise.resolve()}function St(Ue,ti){let hi;const[yi,wi,Ci]=extractChangingRecords(Ue,ti);hi=extractComponentsGuards(yi.reverse(),"beforeRouteLeave",Ue,ti);for(const fi of yi)fi.leaveGuards.forEach(xi=>{hi.push(guardToPromiseFn(xi,Ue,ti))});const ki=Xe.bind(null,Ue,ti);return hi.push(ki),runGuardQueue(hi).then(()=>{hi=[];for(const fi of Je.list())hi.push(guardToPromiseFn(fi,Ue,ti));return hi.push(ki),runGuardQueue(hi)}).then(()=>{hi=extractComponentsGuards(wi,"beforeRouteUpdate",Ue,ti);for(const fi of wi)fi.updateGuards.forEach(xi=>{hi.push(guardToPromiseFn(xi,Ue,ti))});return hi.push(ki),runGuardQueue(hi)}).then(()=>{hi=[];for(const fi of Ue.matched)if(fi.beforeEnter&&!ti.matched.includes(fi))if(isArray(fi.beforeEnter))for(const xi of fi.beforeEnter)hi.push(guardToPromiseFn(xi,Ue,ti));else hi.push(guardToPromiseFn(fi.beforeEnter,Ue,ti));return hi.push(ki),runGuardQueue(hi)}).then(()=>(Ue.matched.forEach(fi=>fi.enterCallbacks={}),hi=extractComponentsGuards(Ci,"beforeRouteEnter",Ue,ti),hi.push(ki),runGuardQueue(hi))).then(()=>{hi=[];for(const fi of ii.list())hi.push(guardToPromiseFn(fi,Ue,ti));return hi.push(ki),runGuardQueue(hi)}).catch(fi=>isNavigationFailure(fi,8)?fi:Promise.reject(fi))}function qe(Ue,ti,hi){for(const yi of Se.list())yi(Ue,ti,hi)}function Ye(Ue,ti,hi,yi,wi){const Ci=Me(Ue,ti);if(Ci)return Ci;const ki=ti===START_LOCATION_NORMALIZED,fi=isBrowser?history.state:{};hi&&(yi||ki?Ge.replace(Ue.fullPath,assign({scroll:ki&&fi&&fi.scroll},wi)):Ge.push(Ue.fullPath,wi)),_e.value=Ue,si(Ue,ti,hi,ki),We()}let gi;function ai(){gi||(gi=Ge.listen((Ue,ti,hi)=>{if(!Ve.listening)return;const yi=Pe(Ue),wi=He(yi);if(wi){je(assign(wi,{replace:!0}),yi).catch(noop);return}t=yi;const Ci=_e.value;isBrowser&&saveScrollPosition(getScrollKey(Ci.fullPath,hi.delta),computeScrollPosition()),St(yi,Ci).catch(ki=>isNavigationFailure(ki,12)?ki:isNavigationFailure(ki,2)?(je(ki.to,yi).then(fi=>{isNavigationFailure(fi,20)&&!hi.delta&&hi.type===NavigationType.pop&&Ge.go(-1,!1)}).catch(noop),Promise.reject()):(hi.delta&&Ge.go(-hi.delta,!1),ci(ki,yi,Ci))).then(ki=>{ki=ki||Ye(yi,Ci,!1),ki&&(hi.delta&&!isNavigationFailure(ki,8)?Ge.go(-hi.delta,!1):hi.type===NavigationType.pop&&isNavigationFailure(ki,20)&&Ge.go(-1,!1)),qe(yi,Ci,ki)}).catch(noop)}))}let ui=useCallbacks(),Qe=useCallbacks(),Ze;function ci(Ue,ti,hi){We(Ue);const yi=Qe.list();return yi.length?yi.forEach(wi=>wi(Ue,ti,hi)):console.error(Ue),Promise.reject(Ue)}function ze(){return Ze&&_e.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Ue,ti)=>{ui.add([Ue,ti])})}function We(Ue){return Ze||(Ze=!Ue,ai(),ui.list().forEach(([ti,hi])=>Ue?hi(Ue):ti()),ui.reset()),Ue}function si(Ue,ti,hi,yi){const{scrollBehavior:wi}=Ce;if(!isBrowser||!wi)return Promise.resolve();const Ci=!hi&&getSavedScrollPosition(getScrollKey(Ue.fullPath,0))||(yi||!hi)&&history.state&&history.state.scroll||null;return nextTick().then(()=>wi(Ue,ti,Ci)).then(ki=>ki&&scrollToPosition(ki)).catch(ki=>ci(ki,Ue,ti))}const ni=Ue=>Ge.go(Ue);let $e;const Ke=new Set,Ve={currentRoute:_e,listening:!0,addRoute:e,removeRoute:ke,hasRoute:Ee,getRoutes:Oe,resolve:Pe,options:Ce,push:Ae,replace:Be,go:ni,back:()=>ni(-1),forward:()=>ni(1),beforeEach:Je.add,beforeResolve:ii.add,afterEach:Se.add,onError:Qe.add,isReady:ze,install(Ue){const ti=this;Ue.component("RouterLink",RouterLink),Ue.component("RouterView",RouterView),Ue.config.globalProperties.$router=ti,Object.defineProperty(Ue.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(_e)}),isBrowser&&!$e&&_e.value===START_LOCATION_NORMALIZED&&($e=!0,Ae(Ge.location).catch(wi=>{}));const hi={};for(const wi in START_LOCATION_NORMALIZED)hi[wi]=computed(()=>_e.value[wi]);Ue.provide(routerKey,ti),Ue.provide(routeLocationKey,reactive(hi)),Ue.provide(routerViewLocationKey,_e);const yi=Ue.unmount;Ke.add(Ue),Ue.unmount=function(){Ke.delete(Ue),Ke.size<1&&(t=START_LOCATION_NORMALIZED,gi&&gi(),gi=null,_e.value=START_LOCATION_NORMALIZED,$e=!1,Ze=!1),yi()}}};return Ve}function runGuardQueue(Ce){return Ce.reduce((r,Ie)=>r.then(()=>Ie()),Promise.resolve())}function extractChangingRecords(Ce,r){const Ie=[],Re=[],Ge=[],Je=Math.max(r.matched.length,Ce.matched.length);for(let ii=0;ii<Je;ii++){const Se=r.matched[ii];Se&&(Ce.matched.find(t=>isSameRouteRecord(t,Se))?Re.push(Se):Ie.push(Se));const _e=Ce.matched[ii];_e&&(r.matched.find(t=>isSameRouteRecord(t,_e))||Ge.push(_e))}return[Ie,Re,Ge]}const _imports_0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUwSURBVHgB7dtRaBt1HAfw3/8661LB3VpBdNhWqJuCSl+1stXNPTiErY+dAbOBXUFhFaQiONo97MUHrYxC3UZ3eygtCq7SPexF1yo6VFg6tM7WCVe7QsG2S3VN0qa5v3enbnNt0svd/y7N/74fCCTHXSj55v+///cuJQIAAAAAgMIwJzstJpc4hdBv13V9bOznF5ubm3QqUQpBTsuZTG02S5f6+8/XUolCwOsr6ZARsDNWyPG+vvP1VGIQsHMq53Sp1ELGIiuPa9d+pV/Mxz0SikKHDh5sGiSH1NbW2kx2uZEzqjU/8Rp7I6dJblCibJMyeqvnzDD5BAHnkSPgfymxaHT/uVzHqm0xdTmpHOUGbzM/ZZXy0xmxYaPMOJ7u0XQSCAHnkT9g21vRaFPX3RtuB8t5J7lgBq2JDBrnYG8+NM/JHf+9uO/1WP3SIou7DdfCicdYlsUjLYfbSACM4DwcjGAbY9TZMnJBNwyjy8F07BhjrDN5qvc4eYARLMCVP2Y6DW5oIsO1WDNBRcvhDvJgE4Enc+kkaeNxR/tGn2+g6HMN9vOvJ8bpxNDn6x7zT8ixq8lTmuNV+90wgj3qHvuBkisZR/vWVD1EO3c8aT9qqqrIKc7ZWTUWczU7IGAPvp2ZoqlbCxQAdblccbXoQsAeDE2OU1DMqfqom1GMgF2aSMzSrHn+DZC6VK7EqEAI2KX47AwFjvP9VCAE7NLU4p9UBI2FTtNCalJv7wBNTxfhGy3AsWPuLhgFtLhaJVNh3rAgGnW6v5CAU6k03byZoLCwatFa1Wjn9h108e13nLyF2YlfsB+5WB15rZ7MV4oQcGWlSvPzQi/ibAjqlgepunrbqu0zfxVlerYxrgQ/RTc3HyAZPfLow/bjXgspc/U82EfFwJlR0FSJS5UubIlUrLn9K/Py41Pvtuc87s2X9tIbe/baz4ficWr/pD/nvvaXaA2GQgg4CE9ve4x+mp5atX1ybjbnMYnkndAWUot5981lc5pG0wXsj5rkUkPdE1QEowlNC34Eh7Em7Xu2nj4e+ZKCZI7GESoQapJLDXXb7XNxrnOlH7JlvKvQY1CTPDiyaze9f/ECBcH6rVaq56xOBUJN8uBI424a+P4y/T4/R36zfohHLmCR5YE1RZ989TXyG2fc9a8s8aM7AXpGvqD3PvuU/GDeBz6XPqPFyCWMYAFad+2h9pdfIfHYoJdw7XdwstN6IziMNWktYkcy/yh1WvP8x6EmCWSN5H3P1NOBkx+4X3gx0rnBD5kjd5gEQE0SrLqyiq50nKB+c3U98N1l+ub6hKPjzKl01Drf3v8AaYkuTdhowSLLZ9ZItkIeuzFFP07fsLeZr3Wy/uFMYTrPGldXGA1nTmuO7/EWAgEXgcLKH49EmE4BwCpacghYcqG/m+SHurraDXP5FjXJB/PzG+ezQE3yQSSymTYKrKKLAKtoEAYBSw4BSw41yQeoSZJDTZIcalLIoSaBMAhYcghYcqhJPkBNkhxqkuRQk0IONQmEQcCSQ8CSQ03yAWqS5FCTJIeaFHKoSSAMApYcApYcapIPUJMkh5okOdSkkENNAmEQsOQQsORQk3yAmiQ51CTJoSaFHGoSCIOAJYeAJYea5APUJMmhJkkONSnkUJNAGAQsOQQsOSGLrO5ubUOtHItNuppkVSTUpDukq0lbt6rEsc6+DTUp5FCTQBgELDkELDncTfIB7iZJDneTJIeaFHKoSSAMApYcApYcApYcApYcApYcApYcApYcAgYAAAAAAPifvwHMaYo34foqKgAAAABJRU5ErkJggg==",_imports_1="/fastsign/assets/File-upload.cacf8153.png",_imports_2="/fastsign/assets/Signing.2e3c78b7.png",_imports_3="/fastsign/assets/Sending.a44cdc69.png",Home_vue_vue_type_style_index_0_scoped_0e316c40_lang="",_sfc_main$2={name:"Home",methods:{handleFileUpload:function(){let Ce=this.$refs.file.files[0];if(Ce===void 0)return;const r=new FileReader;r.readAsArrayBuffer(Ce),r.addEventListener("load",()=>{const Ie=new Uint8Array(r.result);localStorage.setItem("pdfFile",Ie),this.$router.push("/fastsign/Sign")})}}},_withScopeId$1=Ce=>(pushScopeId("data-v-0e316c40"),Ce=Ce(),popScopeId(),Ce),_hoisted_1$2={class:"container mt-12"},_hoisted_2$2={class:"bg-success border-dashed border-primary text-center pt-20 mb-10"},_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_0,alt:"file",class:"mb-7"},null,-1)),_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},"\u5C07\u6A94\u6848\u62D6\u66F3\u81F3\u9019\u88E1\uFF0C\u6216",-1)),_hoisted_5$1=_withScopeId$1(()=>createBaseVNode("h5",{class:"text-primary fw-bold mb-25"},"\u6A94\u6848\u5927\u5C0F10Mb\u4EE5\u5167\uFF0C\u6A94\u6848\u683C\u5F0F\u70BAPDF\u3001IMG",-1)),_hoisted_6$2=createStaticVNode('<section class="text-center mb-10 mb-lg-11" data-v-0e316c40><h2 class="mb-5 mb-lg-8" data-v-0e316c40>\u8F15\u9B06\u5E7E\u6B65\u9A5F\uFF0C\u5B8C\u6210\u60A8\u7684\u7C3D\u7F72</h2><div class="d-flex flex-wrap justify-content-center justify-content-lg-between align-items-center" data-v-0e316c40><div data-v-0e316c40><div class="steps step1 border border-2 border-primary text-primary rounded-circle mx-auto mb-3 position-relative" data-v-0e316c40></div><h4 data-v-0e316c40>\u4E0A\u50B3\u6A94\u6848</h4><p data-v-0e316c40>\u9078\u64C7PDF\u6A94\u6216\u662FIMG\u6A94</p><img src="'+_imports_1+'" alt="step1" data-v-0e316c40></div><div data-v-0e316c40><div class="steps step2 border border-2 border-primary text-primary rounded-circle mx-auto mb-3 position-relative" data-v-0e316c40></div><h4 data-v-0e316c40>\u52A0\u5165\u7C3D\u540D\u6A94</h4><p data-v-0e316c40>\u624B\u5BEB\u3001\u8F38\u5165\u6216\u662F\u4E0A\u50B3\u7C3D\u540D\u6A94</p><img src="'+_imports_2+'" alt="step2" data-v-0e316c40></div><div data-v-0e316c40><div class="steps step3 border border-2 border-primary text-primary rounded-circle mx-auto mb-3 position-relative" data-v-0e316c40></div><h4 data-v-0e316c40>\u4E0B\u8F09\u8207\u50B3\u9001</h4><p data-v-0e316c40>\u5B8C\u6210\u7C3D\u7F72\u53EF\u7ACB\u5373\u50B3\u9001\u6A94\u6848\u7D66\u5C0D\u65B9</p><img src="'+_imports_3+'" alt="step3" data-v-0e316c40></div></div></section>',1);function _sfc_render$1(Ce,r,Ie,Re,Ge,Je){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("section",_hoisted_2$2,[_hoisted_3$1,_hoisted_4$1,createBaseVNode("button",{class:"btn btn-primary btn-lg w-50 mb-5",onClick:r[0]||(r[0]=ii=>Ce.$refs.file.click())},"\u9078\u64C7\u6A94\u6848"),createBaseVNode("input",{ref:"file",type:"file",class:"d-none",accept:".pdf,.png,.jpg,.jpeg",onChange:r[1]||(r[1]=ii=>Je.handleFileUpload())},null,544),_hoisted_5$1]),_hoisted_6$2])}const Home=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-0e316c40"]]),Progressbar_vue_vue_type_style_index_0_scoped_0a4652cf_lang="",_sfc_main$1={},_hoisted_1$1={class:"progressbar d-flex justify-content-center border-bottom"},_hoisted_2$1=createStaticVNode('<div class="steps d-flex align-items-center py-5" data-v-0a4652cf><div class="step-icon complete position-relative" data-v-0a4652cf>1</div><p class="d-none d-lg-block me-5" data-v-0a4652cf>\u6210\u529F\u4E0A\u50B3\u6A94\u6848</p></div><div class="steps d-flex align-items-center" data-v-0a4652cf><div class="step-icon step2 current" data-v-0a4652cf>2</div><p class="d-none d-lg-block me-5" data-v-0a4652cf>\u52A0\u5165\u7C3D\u540D\u6A94</p></div><div class="steps d-flex align-items-center" data-v-0a4652cf><div class="step-icon step3" data-v-0a4652cf>3</div><p class="d-none d-lg-block me-5" data-v-0a4652cf>\u78BA\u8A8D\u6A94\u6848</p></div><div class="d-flex align-items-center" data-v-0a4652cf><div class="step-icon step4" data-v-0a4652cf>4</div><p class="d-none d-lg-block" data-v-0a4652cf>\u4E0B\u8F09\u6A94\u6848</p></div>',4),_hoisted_6$1=[_hoisted_2$1];function _sfc_render(Ce,r){return openBlock(),createElementBlock("div",_hoisted_1$1,_hoisted_6$1)}const Progressbar=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-0a4652cf"]]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(Ce){var r=Ce.default;if(typeof r=="function"){var Ie=function(){return r.apply(this,arguments)};Ie.prototype=r.prototype}else Ie={};return Object.defineProperty(Ie,"__esModule",{value:!0}),Object.keys(Ce).forEach(function(Re){var Ge=Object.getOwnPropertyDescriptor(Ce,Re);Object.defineProperty(Ie,Re,Ge.get?Ge:{enumerable:!0,get:function(){return Ce[Re]}})}),Ie}var pdf_viewer$1={exports:{}};function commonjsRequire(Ce){throw new Error('Could not dynamically require "'+Ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(r,Ie){module.exports=Ie()})(globalThis,()=>(()=>{var __webpack_modules__=[,(Ce,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.VerbosityLevel=r.Util=r.UnknownErrorException=r.UnexpectedResponseException=r.UNSUPPORTED_FEATURES=r.TextRenderingMode=r.StreamType=r.RenderingIntentFlag=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.PageActionEventType=r.OPS=r.MissingPDFException=r.LINE_FACTOR=r.LINE_DESCENT_FACTOR=r.InvalidPDFException=r.ImageKind=r.IDENTITY_MATRIX=r.FormatError=r.FontType=r.FeatureTest=r.FONT_IDENTITY_MATRIX=r.DocumentActionEventType=r.CMapCompressionType=r.BaseException=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMode=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationEditorType=r.AnnotationEditorPrefix=r.AnnotationEditorParamsType=r.AnnotationBorderStyleType=r.AnnotationActionEventType=r.AbortException=void 0,r.arrayByteLength=ri,r.arraysToBytes=oi,r.assert=$e,r.bytesToString=li,r.createPromiseCapability=Yi,r.createValidAbsoluteUrl=Ve,r.escapeString=Ii,r.getModificationDate=fn,r.getVerbosityLevel=ze,r.info=We,r.isArrayBuffer=tn,r.isArrayEqual=on,r.isAscii=Mi,r.objectFromMap=Ai,r.objectSize=bi,r.setVerbosityLevel=ci,r.shadow=Ue,r.string32=di,r.stringToBytes=pi,r.stringToPDFString=Di,r.stringToUTF16BEString=$i,r.stringToUTF8String=Xi,r.unreachable=ni,r.utf8StringToString=rn,r.warn=si;const Ie=[1,0,0,1,0,0];r.IDENTITY_MATRIX=Ie;const Re=[.001,0,0,.001,0,0];r.FONT_IDENTITY_MATRIX=Re;const Ge=1.35;r.LINE_FACTOR=Ge;const Je=.35;r.LINE_DESCENT_FACTOR=Je;const ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};r.RenderingIntentFlag=ii;const Se={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};r.AnnotationMode=Se;const _e="pdfjs_internal_editor_";r.AnnotationEditorPrefix=_e;const t={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};r.AnnotationEditorType=t;const xe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};r.AnnotationEditorParamsType=xe;const Fe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.PermissionFlag=Fe;const Te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.TextRenderingMode=Te;const e={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.ImageKind=e;const ke={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationType=ke;const Oe={MARKED:"Marked",REVIEW:"Review"};r.AnnotationStateModelType=Oe;const Ee={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationMarkedState=Ee;const Pe={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReviewState=Pe;const De={GROUP:"Group",REPLY:"R"};r.AnnotationReplyType=De;const Me={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFlag=Me;const Ae={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationFieldFlag=Ae;const Be={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationBorderStyleType=Be;const He={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};r.AnnotationActionEventType=He;const je={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};r.DocumentActionEventType=je;const Xe={O:"PageOpen",C:"PageClose"};r.PageActionEventType=Xe;const St={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.StreamType=St;const qe={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};r.FontType=qe;const Ye={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=Ye;const gi={NONE:0,BINARY:1};r.CMapCompressionType=gi;const ai={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.OPS=ai;const ui={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};r.UNSUPPORTED_FEATURES=ui;const Qe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};r.PasswordResponses=Qe;let Ze=Ye.WARNINGS;function ci(Ri){Number.isInteger(Ri)&&(Ze=Ri)}function ze(){return Ze}function We(Ri){Ze>=Ye.INFOS&&console.log(`Info: ${Ri}`)}function si(Ri){Ze>=Ye.WARNINGS&&console.log(`Warning: ${Ri}`)}function ni(Ri){throw new Error(Ri)}function $e(Ri,ji){Ri||ni(ji)}function Ke(Ri){if(!Ri)return!1;switch(Ri.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ve(Ri,ji=null,Ui=null){if(!Ri)return null;try{if(Ui&&typeof Ri=="string"){if(Ui.addDefaultProtocol&&Ri.startsWith("www.")){const nn=Ri.match(/\./g);nn&&nn.length>=2&&(Ri=`http://${Ri}`)}if(Ui.tryConvertEncoding)try{Ri=Xi(Ri)}catch{}}const en=ji?new URL(Ri,ji):new URL(Ri);if(Ke(en))return en}catch{}return null}function Ue(Ri,ji,Ui){return Object.defineProperty(Ri,ji,{value:Ui,enumerable:!0,configurable:!0,writable:!1}),Ui}const ti=function(){function ji(Ui,en){this.constructor===ji&&ni("Cannot initialize BaseException."),this.message=Ui,this.name=en}return ji.prototype=new Error,ji.constructor=ji,ji}();r.BaseException=ti;class hi extends ti{constructor(ji,Ui){super(ji,"PasswordException"),this.code=Ui}}r.PasswordException=hi;class yi extends ti{constructor(ji,Ui){super(ji,"UnknownErrorException"),this.details=Ui}}r.UnknownErrorException=yi;class wi extends ti{constructor(ji){super(ji,"InvalidPDFException")}}r.InvalidPDFException=wi;class Ci extends ti{constructor(ji){super(ji,"MissingPDFException")}}r.MissingPDFException=Ci;class ki extends ti{constructor(ji,Ui){super(ji,"UnexpectedResponseException"),this.status=Ui}}r.UnexpectedResponseException=ki;class fi extends ti{constructor(ji){super(ji,"FormatError")}}r.FormatError=fi;class xi extends ti{constructor(ji){super(ji,"AbortException")}}r.AbortException=xi;function li(Ri){(typeof Ri!="object"||Ri===null||Ri.length===void 0)&&ni("Invalid argument for bytesToString");const ji=Ri.length,Ui=8192;if(ji<Ui)return String.fromCharCode.apply(null,Ri);const en=[];for(let nn=0;nn<ji;nn+=Ui){const Sn=Math.min(nn+Ui,ji),Qi=Ri.subarray(nn,Sn);en.push(String.fromCharCode.apply(null,Qi))}return en.join("")}function pi(Ri){typeof Ri!="string"&&ni("Invalid argument for stringToBytes");const ji=Ri.length,Ui=new Uint8Array(ji);for(let en=0;en<ji;++en)Ui[en]=Ri.charCodeAt(en)&255;return Ui}function ri(Ri){if(Ri.length!==void 0)return Ri.length;if(Ri.byteLength!==void 0)return Ri.byteLength;ni("Invalid argument for arrayByteLength")}function oi(Ri){const ji=Ri.length;if(ji===1&&Ri[0]instanceof Uint8Array)return Ri[0];let Ui=0;for(let Sn=0;Sn<ji;Sn++)Ui+=ri(Ri[Sn]);let en=0;const nn=new Uint8Array(Ui);for(let Sn=0;Sn<ji;Sn++){let Qi=Ri[Sn];Qi instanceof Uint8Array||(typeof Qi=="string"?Qi=pi(Qi):Qi=new Uint8Array(Qi));const qi=Qi.byteLength;nn.set(Qi,en),en+=qi}return nn}function di(Ri){return String.fromCharCode(Ri>>24&255,Ri>>16&255,Ri>>8&255,Ri&255)}function bi(Ri){return Object.keys(Ri).length}function Ai(Ri){const ji=Object.create(null);for(const[Ui,en]of Ri)ji[Ui]=en;return ji}function Ei(){const Ri=new Uint8Array(4);return Ri[0]=1,new Uint32Array(Ri.buffer,0,1)[0]===1}function mi(){try{return new Function(""),!0}catch{return!1}}class _i{static get isLittleEndian(){return Ue(this,"isLittleEndian",Ei())}static get isEvalSupported(){return Ue(this,"isEvalSupported",mi())}static get isOffscreenCanvasSupported(){return Ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}r.FeatureTest=_i;const Si=[...Array(256).keys()].map(Ri=>Ri.toString(16).padStart(2,"0"));class Fi{static makeHexColor(ji,Ui,en){return`#${Si[ji]}${Si[Ui]}${Si[en]}`}static scaleMinMax(ji,Ui){let en;ji[0]?(ji[0]<0&&(en=Ui[0],Ui[0]=Ui[1],Ui[1]=en),Ui[0]*=ji[0],Ui[1]*=ji[0],ji[3]<0&&(en=Ui[2],Ui[2]=Ui[3],Ui[3]=en),Ui[2]*=ji[3],Ui[3]*=ji[3]):(en=Ui[0],Ui[0]=Ui[2],Ui[2]=en,en=Ui[1],Ui[1]=Ui[3],Ui[3]=en,ji[1]<0&&(en=Ui[2],Ui[2]=Ui[3],Ui[3]=en),Ui[2]*=ji[1],Ui[3]*=ji[1],ji[2]<0&&(en=Ui[0],Ui[0]=Ui[1],Ui[1]=en),Ui[0]*=ji[2],Ui[1]*=ji[2]),Ui[0]+=ji[4],Ui[1]+=ji[4],Ui[2]+=ji[5],Ui[3]+=ji[5]}static transform(ji,Ui){return[ji[0]*Ui[0]+ji[2]*Ui[1],ji[1]*Ui[0]+ji[3]*Ui[1],ji[0]*Ui[2]+ji[2]*Ui[3],ji[1]*Ui[2]+ji[3]*Ui[3],ji[0]*Ui[4]+ji[2]*Ui[5]+ji[4],ji[1]*Ui[4]+ji[3]*Ui[5]+ji[5]]}static applyTransform(ji,Ui){const en=ji[0]*Ui[0]+ji[1]*Ui[2]+Ui[4],nn=ji[0]*Ui[1]+ji[1]*Ui[3]+Ui[5];return[en,nn]}static applyInverseTransform(ji,Ui){const en=Ui[0]*Ui[3]-Ui[1]*Ui[2],nn=(ji[0]*Ui[3]-ji[1]*Ui[2]+Ui[2]*Ui[5]-Ui[4]*Ui[3])/en,Sn=(-ji[0]*Ui[1]+ji[1]*Ui[0]+Ui[4]*Ui[1]-Ui[5]*Ui[0])/en;return[nn,Sn]}static getAxialAlignedBoundingBox(ji,Ui){const en=Fi.applyTransform(ji,Ui),nn=Fi.applyTransform(ji.slice(2,4),Ui),Sn=Fi.applyTransform([ji[0],ji[3]],Ui),Qi=Fi.applyTransform([ji[2],ji[1]],Ui);return[Math.min(en[0],nn[0],Sn[0],Qi[0]),Math.min(en[1],nn[1],Sn[1],Qi[1]),Math.max(en[0],nn[0],Sn[0],Qi[0]),Math.max(en[1],nn[1],Sn[1],Qi[1])]}static inverseTransform(ji){const Ui=ji[0]*ji[3]-ji[1]*ji[2];return[ji[3]/Ui,-ji[1]/Ui,-ji[2]/Ui,ji[0]/Ui,(ji[2]*ji[5]-ji[4]*ji[3])/Ui,(ji[4]*ji[1]-ji[5]*ji[0])/Ui]}static singularValueDecompose2dScale(ji){const Ui=[ji[0],ji[2],ji[1],ji[3]],en=ji[0]*Ui[0]+ji[1]*Ui[2],nn=ji[0]*Ui[1]+ji[1]*Ui[3],Sn=ji[2]*Ui[0]+ji[3]*Ui[2],Qi=ji[2]*Ui[1]+ji[3]*Ui[3],qi=(en+Qi)/2,Zi=Math.sqrt((en+Qi)**2-4*(en*Qi-Sn*nn))/2,an=qi+Zi||1,Nn=qi-Zi||1;return[Math.sqrt(an),Math.sqrt(Nn)]}static normalizeRect(ji){const Ui=ji.slice(0);return ji[0]>ji[2]&&(Ui[0]=ji[2],Ui[2]=ji[0]),ji[1]>ji[3]&&(Ui[1]=ji[3],Ui[3]=ji[1]),Ui}static intersect(ji,Ui){const en=Math.max(Math.min(ji[0],ji[2]),Math.min(Ui[0],Ui[2])),nn=Math.min(Math.max(ji[0],ji[2]),Math.max(Ui[0],Ui[2]));if(en>nn)return null;const Sn=Math.max(Math.min(ji[1],ji[3]),Math.min(Ui[1],Ui[3])),Qi=Math.min(Math.max(ji[1],ji[3]),Math.max(Ui[1],Ui[3]));return Sn>Qi?null:[en,Sn,nn,Qi]}static bezierBoundingBox(ji,Ui,en,nn,Sn,Qi,qi,Zi){const an=[],Nn=[[],[]];let Dn,hn,Fn,Xn,Rn,Wn,Kn,Mn;for(let or=0;or<2;++or){if(or===0?(hn=6*ji-12*en+6*Sn,Dn=-3*ji+9*en-9*Sn+3*qi,Fn=3*en-3*ji):(hn=6*Ui-12*nn+6*Qi,Dn=-3*Ui+9*nn-9*Qi+3*Zi,Fn=3*nn-3*Ui),Math.abs(Dn)<1e-12){if(Math.abs(hn)<1e-12)continue;Xn=-Fn/hn,0<Xn&&Xn<1&&an.push(Xn);continue}Kn=hn*hn-4*Fn*Dn,Mn=Math.sqrt(Kn),!(Kn<0)&&(Rn=(-hn+Mn)/(2*Dn),0<Rn&&Rn<1&&an.push(Rn),Wn=(-hn-Mn)/(2*Dn),0<Wn&&Wn<1&&an.push(Wn))}let er=an.length,Hn;const hr=er;for(;er--;)Xn=an[er],Hn=1-Xn,Nn[0][er]=Hn*Hn*Hn*ji+3*Hn*Hn*Xn*en+3*Hn*Xn*Xn*Sn+Xn*Xn*Xn*qi,Nn[1][er]=Hn*Hn*Hn*Ui+3*Hn*Hn*Xn*nn+3*Hn*Xn*Xn*Qi+Xn*Xn*Xn*Zi;return Nn[0][hr]=ji,Nn[1][hr]=Ui,Nn[0][hr+1]=qi,Nn[1][hr+1]=Zi,Nn[0].length=Nn[1].length=hr+2,[Math.min(...Nn[0]),Math.min(...Nn[1]),Math.max(...Nn[0]),Math.max(...Nn[1])]}}r.Util=Fi;const Pi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Di(Ri){if(Ri[0]>="\xEF"){let Ui;if(Ri[0]==="\xFE"&&Ri[1]==="\xFF"?Ui="utf-16be":Ri[0]==="\xFF"&&Ri[1]==="\xFE"?Ui="utf-16le":Ri[0]==="\xEF"&&Ri[1]==="\xBB"&&Ri[2]==="\xBF"&&(Ui="utf-8"),Ui)try{const en=new TextDecoder(Ui,{fatal:!0}),nn=pi(Ri);return en.decode(nn)}catch(en){si(`stringToPDFString: "${en}".`)}}const ji=[];for(let Ui=0,en=Ri.length;Ui<en;Ui++){const nn=Pi[Ri.charCodeAt(Ui)];ji.push(nn?String.fromCharCode(nn):Ri.charAt(Ui))}return ji.join("")}function Ii(Ri){return Ri.replace(/([()\\\n\r])/g,ji=>ji===`
`?"\\n":ji==="\r"?"\\r":`\\${ji}`)}function Mi(Ri){return/^[\x00-\x7F]*$/.test(Ri)}function $i(Ri){const ji=["\xFE\xFF"];for(let Ui=0,en=Ri.length;Ui<en;Ui++){const nn=Ri.charCodeAt(Ui);ji.push(String.fromCharCode(nn>>8&255),String.fromCharCode(nn&255))}return ji.join("")}function Xi(Ri){return decodeURIComponent(escape(Ri))}function rn(Ri){return unescape(encodeURIComponent(Ri))}function tn(Ri){return typeof Ri=="object"&&Ri!==null&&Ri.byteLength!==void 0}function on(Ri,ji){if(Ri.length!==ji.length)return!1;for(let Ui=0,en=Ri.length;Ui<en;Ui++)if(Ri[Ui]!==ji[Ui])return!1;return!0}function fn(Ri=new Date){return[Ri.getUTCFullYear().toString(),(Ri.getUTCMonth()+1).toString().padStart(2,"0"),Ri.getUTCDate().toString().padStart(2,"0"),Ri.getUTCHours().toString().padStart(2,"0"),Ri.getUTCMinutes().toString().padStart(2,"0"),Ri.getUTCSeconds().toString().padStart(2,"0")].join("")}function Yi(){const Ri=Object.create(null);let ji=!1;return Object.defineProperty(Ri,"settled",{get(){return ji}}),Ri.promise=new Promise(function(Ui,en){Ri.resolve=function(nn){ji=!0,Ui(nn)},Ri.reject=function(nn){ji=!0,en(nn)}}),Ri}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ce,Ie,Re,Ge,Je,ii,Se,_e,t,xe,Fe,Rc,e,ke;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ee,NodeCMapReaderFactory:Pe,NodeStandardFontDataFactory:De}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ee,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=Pe,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=De}let createPDFNetworkStream;function setPDFNetworkStreamFactory(Ee){createPDFNetworkStream=Ee}function getDocument(Ee){const Pe=new PDFDocumentLoadingTask;let De;if(typeof Ee=="string"||Ee instanceof URL)De={url:Ee};else if((0,_util.isArrayBuffer)(Ee))De={data:Ee};else if(Ee instanceof PDFDataRangeTransport)De={range:Ee};else{if(typeof Ee!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Ee.url&&!Ee.data&&!Ee.range)throw new Error("Invalid parameter object: need either .data, .range or .url");De=Ee}const Me=Object.create(null);let Ae=null,Be=null;for(const je in De){const Xe=De[je];switch(je){case"url":if(typeof window<"u")try{Me[je]=new URL(Xe,window.location).href;continue}catch(St){(0,_util.warn)(`Cannot create valid URL: "${St}".`)}else if(typeof Xe=="string"||Xe instanceof URL){Me[je]=Xe.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Ae=Xe;continue;case"worker":Be=Xe;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Xe instanceof Buffer)Me[je]=new Uint8Array(Xe);else{if(Xe instanceof Uint8Array)break;if(typeof Xe=="string")Me[je]=(0,_util.stringToBytes)(Xe);else if(typeof Xe=="object"&&Xe!==null&&!isNaN(Xe.length))Me[je]=new Uint8Array(Xe);else if((0,_util.isArrayBuffer)(Xe))Me[je]=new Uint8Array(Xe);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}Me[je]=Xe}if(Me.CMapReaderFactory=Me.CMapReaderFactory||DefaultCMapReaderFactory,Me.StandardFontDataFactory=Me.StandardFontDataFactory||DefaultStandardFontDataFactory,Me.ignoreErrors=Me.stopAtErrors!==!0,Me.fontExtraProperties=Me.fontExtraProperties===!0,Me.pdfBug=Me.pdfBug===!0,Me.enableXfa=Me.enableXfa===!0,(!Number.isInteger(Me.rangeChunkSize)||Me.rangeChunkSize<1)&&(Me.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof Me.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(Me.docBaseUrl))&&(Me.docBaseUrl=null),(!Number.isInteger(Me.maxImageSize)||Me.maxImageSize<-1)&&(Me.maxImageSize=-1),typeof Me.cMapUrl!="string"&&(Me.cMapUrl=null),typeof Me.standardFontDataUrl!="string"&&(Me.standardFontDataUrl=null),typeof Me.useWorkerFetch!="boolean"&&(Me.useWorkerFetch=Me.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&Me.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof Me.isEvalSupported!="boolean"&&(Me.isEvalSupported=!0),typeof Me.isOffscreenCanvasSupported!="boolean"&&(Me.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof Me.disableFontFace!="boolean"&&(Me.disableFontFace=_is_node.isNodeJS),typeof Me.useSystemFonts!="boolean"&&(Me.useSystemFonts=!_is_node.isNodeJS&&!Me.disableFontFace),(typeof Me.ownerDocument!="object"||Me.ownerDocument===null)&&(Me.ownerDocument=globalThis.document),typeof Me.disableRange!="boolean"&&(Me.disableRange=!1),typeof Me.disableStream!="boolean"&&(Me.disableStream=!1),typeof Me.disableAutoFetch!="boolean"&&(Me.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(Me.verbosity),!Be){const je={verbosity:Me.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Be=je.port?PDFWorker.fromPort(je):new PDFWorker(je),Pe._worker=Be}const He=Pe.docId;return Be.promise.then(function(){if(Pe.destroyed)throw new Error("Loading aborted");const je=_fetchDocument(Be,Me,Ae,He),Xe=new Promise(function(St){let qe;Ae?qe=new _transport_stream.PDFDataTransportStream({length:Me.length,initialData:Me.initialData,progressiveDone:Me.progressiveDone,contentDispositionFilename:Me.contentDispositionFilename,disableRange:Me.disableRange,disableStream:Me.disableStream},Ae):Me.data||(qe=createPDFNetworkStream({url:Me.url,length:Me.length,httpHeaders:Me.httpHeaders,withCredentials:Me.withCredentials,rangeChunkSize:Me.rangeChunkSize,disableRange:Me.disableRange,disableStream:Me.disableStream})),St(qe)});return Promise.all([je,Xe]).then(function([St,qe]){if(Pe.destroyed)throw new Error("Loading aborted");const Ye=new _message_handler.MessageHandler(He,St,Be.port),gi=new WorkerTransport(Ye,Pe,qe,Me);Pe._transport=gi,Ye.send("Ready",null)})}).catch(Pe._capability.reject),Pe}async function _fetchDocument(Ee,Pe,De,Me){if(Ee.destroyed)throw new Error("Worker was destroyed");De&&(Pe.length=De.length,Pe.initialData=De.initialData,Pe.progressiveDone=De.progressiveDone,Pe.contentDispositionFilename=De.contentDispositionFilename);const Ae=await Ee.messageHandler.sendWithPromise("GetDocRequest",{docId:Me,apiVersion:"3.0.279",data:Pe.data,password:Pe.password,disableAutoFetch:Pe.disableAutoFetch,rangeChunkSize:Pe.rangeChunkSize,length:Pe.length,docBaseUrl:Pe.docBaseUrl,enableXfa:Pe.enableXfa,evaluatorOptions:{maxImageSize:Pe.maxImageSize,disableFontFace:Pe.disableFontFace,ignoreErrors:Pe.ignoreErrors,isEvalSupported:Pe.isEvalSupported,isOffscreenCanvasSupported:Pe.isOffscreenCanvasSupported,fontExtraProperties:Pe.fontExtraProperties,useSystemFonts:Pe.useSystemFonts,cMapUrl:Pe.useWorkerFetch?Pe.cMapUrl:null,standardFontDataUrl:Pe.useWorkerFetch?Pe.standardFontDataUrl:null}});if(Pe.data&&(Pe.data=null),Ee.destroyed)throw new Error("Worker was destroyed");return Ae}const r=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Mc(r,Ce)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var Pe;this.destroyed=!0,await((Pe=this._transport)==null?void 0:Pe.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=r;Ce=new WeakMap,yn(PDFDocumentLoadingTask,Ce,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Pe,De,Me=!1,Ae=null){this.length=Pe,this.initialData=De,this.progressiveDone=Me,this.contentDispositionFilename=Ae,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(Pe){this._rangeListeners.push(Pe)}addProgressListener(Pe){this._progressListeners.push(Pe)}addProgressiveReadListener(Pe){this._progressiveReadListeners.push(Pe)}addProgressiveDoneListener(Pe){this._progressiveDoneListeners.push(Pe)}onDataRange(Pe,De){for(const Me of this._rangeListeners)Me(Pe,De)}onDataProgress(Pe,De){this._readyCapability.promise.then(()=>{for(const Me of this._progressListeners)Me(Pe,De)})}onDataProgressiveRead(Pe){this._readyCapability.promise.then(()=>{for(const De of this._progressiveReadListeners)De(Pe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Pe of this._progressiveDoneListeners)Pe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Pe,De){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Pe,De){this._pdfInfo=Pe,this._transport=De}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Pe){return this._transport.getPage(Pe)}getPageIndex(Pe){return this._transport.getPageIndex(Pe)}getDestinations(){return this._transport.getDestinations()}getDestination(Pe){return this._transport.getDestination(Pe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Pe=!1){return this._transport.startCleanup(Pe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Pe,De,Me,Ae,Be=!1){this._pageIndex=Pe,this._pageInfo=De,this._ownerDocument=Ae,this._transport=Me,this._stats=Be?new _display_utils.StatTimer:null,this._pdfBug=Be,this.commonObjs=Me.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Pe,rotation:De=this.rotate,offsetX:Me=0,offsetY:Ae=0,dontFlip:Be=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Pe,rotation:De,offsetX:Me,offsetY:Ae,dontFlip:Be})}getAnnotations({intent:Pe="display"}={}){const De=this._transport.getRenderingIntent(Pe);let Me=this._annotationPromises.get(De.cacheKey);return Me||(Me=this._transport.getAnnotations(this._pageIndex,De.renderingIntent),this._annotationPromises.set(De.cacheKey,Me)),Me}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var Pe;return((Pe=this._transport._htmlForXfa)==null?void 0:Pe.children[this._pageIndex])||null}render({canvasContext:Pe,viewport:De,intent:Me="display",annotationMode:Ae=_util.AnnotationMode.ENABLE,transform:Be=null,canvasFactory:He=null,background:je=null,optionalContentConfigPromise:Xe=null,annotationCanvasMap:St=null,pageColors:qe=null,printAnnotationStorage:Ye=null}){var We,si;(We=this._stats)==null||We.time("Overall");const gi=this._transport.getRenderingIntent(Me,Ae,Ye);this.pendingCleanup=!1,Xe||(Xe=this._transport.getOptionalContentConfig());let ai=this._intentStates.get(gi.cacheKey);ai||(ai=Object.create(null),this._intentStates.set(gi.cacheKey,ai)),ai.streamReaderCancelTimeout&&(clearTimeout(ai.streamReaderCancelTimeout),ai.streamReaderCancelTimeout=null);const ui=He||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Qe=!!(gi.renderingIntent&_util.RenderingIntentFlag.PRINT);ai.displayReadyCapability||(ai.displayReadyCapability=(0,_util.createPromiseCapability)(),ai.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(si=this._stats)==null||si.time("Page Request"),this._pumpOperatorList(gi));const Ze=ni=>{var $e,Ke;ai.renderTasks.delete(ci),(this.cleanupAfterRender||Qe)&&(this.pendingCleanup=!0),this._tryCleanup(),ni?(ci.capability.reject(ni),this._abortOperatorList({intentState:ai,reason:ni instanceof Error?ni:new Error(ni)})):ci.capability.resolve(),($e=this._stats)==null||$e.timeEnd("Rendering"),(Ke=this._stats)==null||Ke.timeEnd("Overall")},ci=new InternalRenderTask({callback:Ze,params:{canvasContext:Pe,viewport:De,transform:Be,background:je},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:St,operatorList:ai.operatorList,pageIndex:this._pageIndex,canvasFactory:ui,useRequestAnimationFrame:!Qe,pdfBug:this._pdfBug,pageColors:qe});(ai.renderTasks||(ai.renderTasks=new Set)).add(ci);const ze=ci.task;return Promise.all([ai.displayReadyCapability.promise,Xe]).then(([ni,$e])=>{var Ke;if(this.pendingCleanup){Ze();return}(Ke=this._stats)==null||Ke.time("Rendering"),ci.initializeGraphics({transparency:ni,optionalContentConfig:$e}),ci.operatorListChanged()}).catch(Ze),ze}getOperatorList({intent:Pe="display",annotationMode:De=_util.AnnotationMode.ENABLE,printAnnotationStorage:Me=null}={}){var Xe;function Ae(){He.operatorList.lastChunk&&(He.opListReadCapability.resolve(He.operatorList),He.renderTasks.delete(je))}const Be=this._transport.getRenderingIntent(Pe,De,Me,!0);let He=this._intentStates.get(Be.cacheKey);He||(He=Object.create(null),this._intentStates.set(Be.cacheKey,He));let je;return He.opListReadCapability||(je=Object.create(null),je.operatorListChanged=Ae,He.opListReadCapability=(0,_util.createPromiseCapability)(),(He.renderTasks||(He.renderTasks=new Set)).add(je),He.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xe=this._stats)==null||Xe.time("Page Request"),this._pumpOperatorList(Be)),He.opListReadCapability.promise}streamTextContent({disableCombineTextItems:Pe=!1,includeMarkedContent:De=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:Pe!==!0,includeMarkedContent:De===!0},{highWaterMark:100,size(Ae){return Ae.items.length}})}getTextContent(Pe={}){if(this._transport._htmlForXfa)return this.getXfa().then(Me=>_xfa_text.XfaText.textContent(Me));const De=this.streamTextContent(Pe);return new Promise(function(Me,Ae){function Be(){He.read().then(function({value:Xe,done:St}){if(St){Me(je);return}Object.assign(je.styles,Xe.styles),je.items.push(...Xe.items),Be()},Ae)}const He=De.getReader(),je={items:[],styles:Object.create(null)};Be()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const Pe=[];for(const De of this._intentStates.values())if(this._abortOperatorList({intentState:De,reason:new Error("Page was destroyed."),force:!0}),!De.opListReadCapability)for(const Me of De.renderTasks)Pe.push(Me.completed),Me.cancel();this.objs.clear();for(const De of this._bitmaps)De.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(Pe)}cleanup(Pe=!1){return this.pendingCleanup=!0,this._tryCleanup(Pe)}_tryCleanup(Pe=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:De,operatorList:Me}of this._intentStates.values())if(De.size>0||!Me.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,Pe&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const De of this._bitmaps)De.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(Pe,De){var Ae,Be;const Me=this._intentStates.get(De);!Me||((Ae=this._stats)==null||Ae.timeEnd("Page Request"),(Be=Me.displayReadyCapability)==null||Be.resolve(Pe))}_renderPageChunk(Pe,De){for(let Me=0,Ae=Pe.length;Me<Ae;Me++)De.operatorList.fnArray.push(Pe.fnArray[Me]),De.operatorList.argsArray.push(Pe.argsArray[Me]);De.operatorList.lastChunk=Pe.lastChunk,De.operatorList.separateAnnots=Pe.separateAnnots;for(const Me of De.renderTasks)Me.operatorListChanged();Pe.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:Pe,cacheKey:De,annotationStorageMap:Me}){const Be=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Pe,cacheKey:De,annotationStorage:Me}).getReader(),He=this._intentStates.get(De);He.streamReader=Be;const je=()=>{Be.read().then(({value:Xe,done:St})=>{if(St){He.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Xe,He),je())},Xe=>{if(He.streamReader=null,!this._transport.destroyed){if(He.operatorList){He.operatorList.lastChunk=!0;for(const St of He.renderTasks)St.operatorListChanged();this._tryCleanup()}if(He.displayReadyCapability)He.displayReadyCapability.reject(Xe);else if(He.opListReadCapability)He.opListReadCapability.reject(Xe);else throw Xe}})};je()}_abortOperatorList({intentState:Pe,reason:De,force:Me=!1}){if(!!Pe.streamReader){if(!Me){if(Pe.renderTasks.size>0)return;if(De instanceof _display_utils.RenderingCancelledException){Pe.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:Pe,reason:De,force:!0}),Pe.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(Pe.streamReader.cancel(new _util.AbortException(De.message)).catch(()=>{}),Pe.streamReader=null,!this._transport.destroyed){for(const[Ae,Be]of this._intentStates)if(Be===Pe){this._intentStates.delete(Ae);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){yn(this,Ie,[]);yn(this,Re,Promise.resolve())}postMessage(Pe,De){const Me={data:structuredClone(Pe,De)};zi(this,Re).then(()=>{for(const Ae of zi(this,Ie))Ae.call(this,Me)})}addEventListener(Pe,De){zi(this,Ie).push(De)}removeEventListener(Pe,De){const Me=zi(this,Ie).indexOf(De);zi(this,Ie).splice(Me,1)}terminate(){zi(this,Ie).length=0}}Ie=new WeakMap,Re=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ee=(Ge=document==null?void 0:document.currentScript)==null?void 0:Ge.src;Ee&&(PDFWorkerUtil.fallbackWorkerSrc=Ee.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ee,Pe){let De;try{if(De=new URL(Ee),!De.origin||De.origin==="null")return!1}catch{return!1}const Me=new URL(Pe,De);return De.origin===Me.origin},PDFWorkerUtil.createCDNWrapper=function(Ee){const Pe=`importScripts("${Ee}");`;return URL.createObjectURL(new Blob([Pe]))}}const _PDFWorker=class{constructor({name:Ee=null,port:Pe=null,verbosity:De=(0,_util.getVerbosityLevel)()}={}){if(Pe&&zi(_PDFWorker,Je).has(Pe))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ee,this.destroyed=!1,this.verbosity=De,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Pe){zi(_PDFWorker,Je).set(Pe,this),this._initializeFromPort(Pe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ee){this._port=Ee,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ee),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ee}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ee)||(Ee=PDFWorkerUtil.createCDNWrapper(new URL(Ee,window.location).href));const Pe=new Worker(Ee),De=new _message_handler.MessageHandler("main","worker",Pe),Me=()=>{Pe.removeEventListener("error",Ae),De.destroy(),Pe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ae=()=>{this._webWorker||Me()};Pe.addEventListener("error",Ae),De.on("test",He=>{if(Pe.removeEventListener("error",Ae),this.destroyed){Me();return}He?(this._messageHandler=De,this._port=Pe,this._webWorker=Pe,this._readyCapability.resolve(),De.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),De.destroy(),Pe.terminate())}),De.on("ready",He=>{if(Pe.removeEventListener("error",Ae),this.destroyed){Me();return}try{Be()}catch{this._setupFakeWorker()}});const Be=()=>{const He=new Uint8Array;De.send("test",He,[He.buffer])};Be();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ee=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Pe=new LoopbackPort;this._port=Pe;const De=`fake${PDFWorkerUtil.fakeWorkerId++}`,Me=new _message_handler.MessageHandler(De+"_worker",De,Pe);Ee.setup(Me,Pe);const Ae=new _message_handler.MessageHandler(De,De+"_worker",Pe);this._messageHandler=Ae,this._readyCapability.resolve(),Ae.send("configure",{verbosity:this.verbosity})}).catch(Ee=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ee.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),zi(_PDFWorker,Je).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ee){if(!(Ee!=null&&Ee.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return zi(this,Je).has(Ee.port)?zi(this,Je).get(Ee.port):new _PDFWorker(Ee)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Ee;try{return((Ee=globalThis.pdfjsWorker)==null?void 0:Ee.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;Je=new WeakMap,yn(PDFWorker,Je,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Pe,De,Me,Ae){yn(this,ii,null);yn(this,Se,new Map);yn(this,_e,new Map);yn(this,t,null);this.messageHandler=Pe,this.loadingTask=De,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Ae.ownerDocument,styleElement:Ae.styleElement}),this._params=Ae,Ae.useWorkerFetch||(this.CMapReaderFactory=new Ae.CMapReaderFactory({baseUrl:Ae.cMapUrl,isCompressed:Ae.cMapPacked}),this.StandardFontDataFactory=new Ae.StandardFontDataFactory({baseUrl:Ae.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=Me,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return zi(this,ii)}getRenderingIntent(Pe,De=_util.AnnotationMode.ENABLE,Me=null,Ae=!1){let Be=_util.RenderingIntentFlag.DISPLAY,He=null;switch(Pe){case"any":Be=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Be=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Pe}`)}switch(De){case _util.AnnotationMode.DISABLE:Be+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Be+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Be+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,He=(Be&_util.RenderingIntentFlag.PRINT&&Me instanceof _annotation_storage.PrintAnnotationStorage?Me:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${De}`)}return Ae&&(Be+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Be,cacheKey:`${Be}_${_annotation_storage.AnnotationStorage.getHash(He)}`,annotationStorageMap:He}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const Pe=[];for(const Me of zi(this,Se).values())Pe.push(Me._destroy());zi(this,Se).clear(),zi(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const De=this.messageHandler.sendWithPromise("Terminate",null);return Pe.push(De),Promise.all(Pe).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Zn(this,t,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Pe,loadingTask:De}=this;Pe.on("GetReader",(Me,Ae)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Be=>{this._lastProgress={loaded:Be.loaded,total:Be.total}},Ae.onPull=()=>{this._fullReader.read().then(function({value:Be,done:He}){if(He){Ae.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Be),"GetReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(Be),1,[Be])}).catch(Be=>{Ae.error(Be)})},Ae.onCancel=Be=>{this._fullReader.cancel(Be),Ae.ready.catch(He=>{if(!this.destroyed)throw He})}}),Pe.on("ReaderHeadersReady",Me=>{const Ae=(0,_util.createPromiseCapability)(),Be=this._fullReader;return Be.headersReady.then(()=>{var He;(!Be.isStreamingSupported||!Be.isRangeSupported)&&(this._lastProgress&&((He=De.onProgress)==null||He.call(De,this._lastProgress)),Be.onProgress=je=>{var Xe;(Xe=De.onProgress)==null||Xe.call(De,{loaded:je.loaded,total:je.total})}),Ae.resolve({isStreamingSupported:Be.isStreamingSupported,isRangeSupported:Be.isRangeSupported,contentLength:Be.contentLength})},Ae.reject),Ae.promise}),Pe.on("GetRangeReader",(Me,Ae)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Be=this._networkStream.getRangeReader(Me.begin,Me.end);if(!Be){Ae.close();return}Ae.onPull=()=>{Be.read().then(function({value:He,done:je}){if(je){Ae.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(He),"GetRangeReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(He),1,[He])}).catch(He=>{Ae.error(He)})},Ae.onCancel=He=>{Be.cancel(He),Ae.ready.catch(je=>{if(!this.destroyed)throw je})}}),Pe.on("GetDoc",({pdfInfo:Me})=>{this._numPages=Me.numPages,this._htmlForXfa=Me.htmlForXfa,delete Me.htmlForXfa,De._capability.resolve(new PDFDocumentProxy(Me,this))}),Pe.on("DocException",function(Me){let Ae;switch(Me.name){case"PasswordException":Ae=new _util.PasswordException(Me.message,Me.code);break;case"InvalidPDFException":Ae=new _util.InvalidPDFException(Me.message);break;case"MissingPDFException":Ae=new _util.MissingPDFException(Me.message);break;case"UnexpectedResponseException":Ae=new _util.UnexpectedResponseException(Me.message,Me.status);break;case"UnknownErrorException":Ae=new _util.UnknownErrorException(Me.message,Me.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}De._capability.reject(Ae)}),Pe.on("PasswordRequest",Me=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),De.onPassword){const Ae=Be=>{Be instanceof Error?this._passwordCapability.reject(Be):this._passwordCapability.resolve({password:Be})};try{De.onPassword(Ae,Me.code)}catch(Be){this._passwordCapability.reject(Be)}}else this._passwordCapability.reject(new _util.PasswordException(Me.message,Me.code));return this._passwordCapability.promise}),Pe.on("DataLoaded",Me=>{var Ae;(Ae=De.onProgress)==null||Ae.call(De,{loaded:Me.length,total:Me.length}),this.downloadInfoCapability.resolve(Me)}),Pe.on("StartRenderPage",Me=>{if(this.destroyed)return;zi(this,Se).get(Me.pageIndex)._startRenderPage(Me.transparency,Me.cacheKey)}),Pe.on("commonobj",([Me,Ae,Be])=>{var He;if(!this.destroyed&&!this.commonObjs.has(Me))switch(Ae){case"Font":const je=this._params;if("error"in Be){const qe=Be.error;(0,_util.warn)(`Error during font loading: ${qe}`),this.commonObjs.resolve(Me,qe);break}let Xe=null;je.pdfBug&&((He=globalThis.FontInspector)==null?void 0:He.enabled)&&(Xe={registerFont(qe,Ye){globalThis.FontInspector.fontAdded(qe,Ye)}});const St=new _font_loader.FontFaceObject(Be,{isEvalSupported:je.isEvalSupported,disableFontFace:je.disableFontFace,ignoreErrors:je.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Xe});this.fontLoader.bind(St).catch(qe=>Pe.sendWithPromise("FontFallback",{id:Me})).finally(()=>{!je.fontExtraProperties&&St.data&&(St.data=null),this.commonObjs.resolve(Me,St)});break;case"FontPath":case"Image":this.commonObjs.resolve(Me,Be);break;default:throw new Error(`Got unknown common object type ${Ae}`)}}),Pe.on("obj",([Me,Ae,Be,He])=>{var Xe;if(this.destroyed)return;const je=zi(this,Se).get(Ae);if(!je.objs.has(Me))switch(Be){case"Image":je.objs.resolve(Me,He);const St=8e6;if(He){let qe;if(He.bitmap){const{bitmap:Ye,width:gi,height:ai}=He;qe=gi*ai*4,je._bitmaps.add(Ye)}else qe=((Xe=He.data)==null?void 0:Xe.length)||0;qe>St&&(je.cleanupAfterRender=!0)}break;case"Pattern":je.objs.resolve(Me,He);break;default:throw new Error(`Got unknown object type ${Be}`)}}),Pe.on("DocProgress",Me=>{var Ae;this.destroyed||(Ae=De.onProgress)==null||Ae.call(De,{loaded:Me.loaded,total:Me.total})}),Pe.on("DocStats",Me=>{this.destroyed||Zn(this,ii,Object.freeze({streamTypes:Object.freeze(Me.streamTypes),fontTypes:Object.freeze(Me.fontTypes)}))}),Pe.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),Pe.on("FetchBuiltInCMap",Me=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(Me):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Pe.on("FetchStandardFontData",Me=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(Me):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:Pe}){var De,Me;this.destroyed||(Me=(De=this.loadingTask).onUnsupportedFeature)==null||Me.call(De,Pe)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Pe,De;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(De=(Pe=this._fullReader)==null?void 0:Pe.filename)!=null?De:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(Pe){if(!Number.isInteger(Pe)||Pe<=0||Pe>this._numPages)return Promise.reject(new Error("Invalid page request."));const De=Pe-1,Me=zi(this,_e).get(De);if(Me)return Me;const Ae=this.messageHandler.sendWithPromise("GetPage",{pageIndex:De}).then(Be=>{if(this.destroyed)throw new Error("Transport destroyed");const He=new PDFPageProxy(De,Be,this,this._params.ownerDocument,this._params.pdfBug);return zi(this,Se).set(De,He),He});return zi(this,_e).set(De,Ae),Ae}getPageIndex(Pe){return typeof Pe!="object"||Pe===null||!Number.isInteger(Pe.num)||Pe.num<0||!Number.isInteger(Pe.gen)||Pe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Pe.num,gen:Pe.gen})}getAnnotations(Pe,De){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Pe,intent:De})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Pe){return typeof Pe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Pe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(Pe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Pe})}getStructTree(Pe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Pe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Pe=>new _optional_content_config.OptionalContentConfig(Pe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return zi(this,t)||Zn(this,t,this.messageHandler.sendWithPromise("GetMetadata",null).then(Pe=>{var De,Me,Ae,Be;return{info:Pe[0],metadata:Pe[1]?new _metadata.Metadata(Pe[1]):null,contentDispositionFilename:(Me=(De=this._fullReader)==null?void 0:De.filename)!=null?Me:null,contentLength:(Be=(Ae=this._fullReader)==null?void 0:Ae.contentLength)!=null?Be:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Pe=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const De of zi(this,Se).values())if(!De.cleanup())throw new Error(`startCleanup: Page ${De.pageNumber} is currently rendering.`);this.commonObjs.clear(),Pe||this.fontLoader.clear(),Zn(this,t,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const Pe=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Pe.disableAutoFetch,enableXfa:Pe.enableXfa})}}ii=new WeakMap,Se=new WeakMap,_e=new WeakMap,t=new WeakMap;class PDFObjects{constructor(){yn(this,Fe);yn(this,xe,Object.create(null))}get(Pe,De=null){if(De){const Ae=Cn(this,Fe,Rc).call(this,Pe);return Ae.capability.promise.then(()=>De(Ae.data)),null}const Me=zi(this,xe)[Pe];if(!(Me!=null&&Me.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Pe}.`);return Me.data}has(Pe){const De=zi(this,xe)[Pe];return(De==null?void 0:De.capability.settled)||!1}resolve(Pe,De=null){const Me=Cn(this,Fe,Rc).call(this,Pe);Me.data=De,Me.capability.resolve()}clear(){Zn(this,xe,Object.create(null))}}xe=new WeakMap,Fe=new WeakSet,Rc=function(Pe){const De=zi(this,xe)[Pe];return De||(zi(this,xe)[Pe]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(Pe){yn(this,e,null);Zn(this,e,Pe),this.onContinue=null}get promise(){return zi(this,e).capability.promise}cancel(){zi(this,e).cancel()}get separateAnnots(){const{separateAnnots:Pe}=zi(this,e).operatorList;if(!Pe)return!1;const{annotationCanvasMap:De}=zi(this,e);return Pe.form||Pe.canvas&&(De==null?void 0:De.size)>0}}e=new WeakMap,exports.RenderTask=RenderTask;const Oe=class{constructor({callback:Pe,params:De,objs:Me,commonObjs:Ae,annotationCanvasMap:Be,operatorList:He,pageIndex:je,canvasFactory:Xe,useRequestAnimationFrame:St=!1,pdfBug:qe=!1,pageColors:Ye=null}){this.callback=Pe,this.params=De,this.objs=Me,this.commonObjs=Ae,this.annotationCanvasMap=Be,this.operatorListIdx=null,this.operatorList=He,this._pageIndex=je,this.canvasFactory=Xe,this._pdfBug=qe,this.pageColors=Ye,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=De.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Pe=!1,optionalContentConfig:De}){var je,Xe;if(this.cancelled)return;if(this._canvas){if(zi(Oe,ke).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");zi(Oe,ke).add(this._canvas)}this._pdfBug&&((je=globalThis.StepperManager)==null?void 0:je.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Me,viewport:Ae,transform:Be,background:He}=this.params;this.gfx=new _canvas.CanvasGraphics(Me,this.commonObjs,this.objs,this.canvasFactory,De,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Be,viewport:Ae,transparency:Pe,background:He}),this.operatorListIdx=0,this.graphicsReady=!0,(Xe=this.graphicsReadyCallback)==null||Xe.call(this)}cancel(Pe=null){var De;this.running=!1,this.cancelled=!0,(De=this.gfx)==null||De.endDrawing(),this._canvas&&zi(Oe,ke).delete(this._canvas),this.callback(Pe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var Pe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Pe=this.stepper)==null||Pe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&zi(Oe,ke).delete(this._canvas),this.callback())))}};let InternalRenderTask=Oe;ke=new WeakMap,yn(InternalRenderTask,ke,new WeakSet);const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(Ce,r,Ie)=>{var _e,Wl,xe;Object.defineProperty(r,"__esModule",{value:!0}),r.PrintAnnotationStorage=r.AnnotationStorage=void 0;var Re=Ie(1),Ge=Ie(4),Je=Ie(8);class ii{constructor(){yn(this,_e);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Te,e){const ke=this._storage.get(Te);return ke===void 0?e:Object.assign(e,ke)}getRawValue(Te){return this._storage.get(Te)}remove(Te){if(this._storage.delete(Te),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this._storage.values())if(e instanceof Ge.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Te,e){const ke=this._storage.get(Te);let Oe=!1;if(ke!==void 0)for(const[Ee,Pe]of Object.entries(e))ke[Ee]!==Pe&&(Oe=!0,ke[Ee]=Pe);else Oe=!0,this._storage.set(Te,e);Oe&&Cn(this,_e,Wl).call(this),e instanceof Ge.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(Te){return this._storage.has(Te)}getAll(){return this._storage.size>0?(0,Re.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Se(this)}get serializable(){if(this._storage.size===0)return null;const Te=new Map;for(const[e,ke]of this._storage){const Oe=ke instanceof Ge.AnnotationEditor?ke.serialize():ke;Oe&&Te.set(e,Oe)}return Te}static getHash(Te){if(!Te)return"";const e=new Je.MurmurHash3_64;for(const[ke,Oe]of Te)e.update(`${ke}:${JSON.stringify(Oe)}`);return e.hexdigest()}}_e=new WeakSet,Wl=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},r.AnnotationStorage=ii;class Se extends ii{constructor(e){super();yn(this,xe,null);Zn(this,xe,structuredClone(e.serializable))}get print(){(0,Re.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return zi(this,xe)}}xe=new WeakMap,r.PrintAnnotationStorage=Se},(Ce,r,Ie)=>{var ii,Se,_e,t,xe,Fe;Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationEditor=void 0;var Re=Ie(5),Ge=Ie(1);const Te=class{constructor(ke){yn(this,ii,this.focusin.bind(this));yn(this,Se,this.focusout.bind(this));yn(this,_e,!1);yn(this,t,!1);yn(this,xe,!1);yn(this,Fe,Te._zIndex++);this.constructor===Te&&(0,Ge.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ke.parent,this.id=ke.id,this.width=this.height=null,this.pageIndex=ke.parent.pageIndex,this.name=ke.name,this.div=null;const[Oe,Ee]=this.parent.viewportBaseDimensions;this.x=ke.x/Oe,this.y=ke.y/Ee,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,Ge.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=zi(this,Fe)}focusin(ke){zi(this,_e)?Zn(this,_e,!1):this.parent.setSelected(this)}focusout(ke){if(!this.isAttachedToDOM)return;const Oe=ke.relatedTarget;Oe!=null&&Oe.closest(`#${this.id}`)||(ke.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(ke){const Oe=this.parent.div.getBoundingClientRect();this.startX=ke.clientX-Oe.x,this.startY=ke.clientY-Oe.y,ke.dataTransfer.setData("text/plain",this.id),ke.dataTransfer.effectAllowed="move"}setAt(ke,Oe,Ee,Pe){const[De,Me]=this.parent.viewportBaseDimensions;[Ee,Pe]=this.screenToPageTranslation(Ee,Pe),this.x=(ke+Ee)/De,this.y=(Oe+Pe)/Me,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ke,Oe){const[Ee,Pe]=this.parent.viewportBaseDimensions;[ke,Oe]=this.screenToPageTranslation(ke,Oe),this.x+=ke/Ee,this.y+=Oe/Pe,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ke,Oe){const{rotation:Ee}=this.parent.viewport;switch(Ee){case 90:return[Oe,-ke];case 180:return[-ke,-Oe];case 270:return[-Oe,ke];default:return[ke,Oe]}}setDims(ke,Oe){const[Ee,Pe]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*ke/Ee}%`,this.div.style.height=`${100*Oe/Pe}%`}fixDims(){const{style:ke}=this.div,{height:Oe,width:Ee}=ke,Pe=Ee.endsWith("%"),De=Oe.endsWith("%");if(Pe&&De)return;const[Me,Ae]=this.parent.viewportBaseDimensions;Pe||(ke.width=`${100*parseFloat(Ee)/Me}%`),De||(ke.height=`${100*parseFloat(Oe)/Ae}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",zi(this,ii)),this.div.addEventListener("focusout",zi(this,Se));const[ke,Oe]=this.getInitialTranslation();return this.translate(ke,Oe),(0,Re.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ke){const Oe=Re.KeyboardManager.platform.isMac;if(ke.button!==0||ke.ctrlKey&&Oe){ke.preventDefault();return}ke.ctrlKey&&!Oe||ke.shiftKey||ke.metaKey&&Oe?this.parent.toggleSelected(this):this.parent.setSelected(this),Zn(this,_e,!0)}getRect(ke,Oe){const[Ee,Pe]=this.parent.viewportBaseDimensions,[De,Me]=this.parent.pageDimensions,Ae=De*ke/Ee,Be=Me*Oe/Pe,He=this.x*De,je=this.y*Me,Xe=this.width*De,St=this.height*Me;switch(this.rotation){case 0:return[He+Ae,Me-je-Be-St,He+Ae+Xe,Me-je-Be];case 90:return[He+Be,Me-je+Ae,He+Be+St,Me-je+Ae+Xe];case 180:return[He-Ae-Xe,Me-je+Be,He-Ae,Me-je+Be+St];case 270:return[He-Be-St,Me-je-Ae-Xe,He-Be,Me-je-Ae];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ke,Oe){const[Ee,Pe,De,Me]=ke,Ae=De-Ee,Be=Me-Pe;switch(this.rotation){case 0:return[Ee,Oe-Me,Ae,Be];case 90:return[Ee,Oe-Pe,Be,Ae];case 180:return[De,Oe-Pe,Ae,Be];case 270:return[De,Oe-Me,Be,Ae];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Zn(this,xe,!0)}disableEditMode(){Zn(this,xe,!1)}isInEditMode(){return zi(this,xe)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ke;(ke=this.div)==null||ke.addEventListener("focusin",zi(this,ii))}serialize(){(0,Ge.unreachable)("An editor must be serializable")}static deserialize(ke,Oe){const Ee=new this.prototype.constructor({parent:Oe,id:Oe.getNextId()});Ee.rotation=ke.rotation;const[Pe,De]=Oe.pageDimensions,[Me,Ae,Be,He]=Ee.getRectInCurrentCoords(ke.rect,De);return Ee.x=Me/Pe,Ee.y=Ae/De,Ee.width=Be/Pe,Ee.height=He/De,Ee}remove(){this.div.removeEventListener("focusin",zi(this,ii)),this.div.removeEventListener("focusout",zi(this,Se)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var ke;(ke=this.div)==null||ke.classList.add("selectedEditor")}unselect(){var ke;(ke=this.div)==null||ke.classList.remove("selectedEditor")}updateParams(ke,Oe){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return zi(this,t)}set isEditing(ke){Zn(this,t,ke),ke?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let Je=Te;ii=new WeakMap,Se=new WeakMap,_e=new WeakMap,t=new WeakMap,xe=new WeakMap,Fe=new WeakMap,ns(Je,"_colorManager",new Re.ColorManager),ns(Je,"_zIndex",1),r.AnnotationEditor=Je},(Ce,r,Ie)=>{var Te,e,ke,Oe,Ee,Pe,Gl,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We,si,ni,$e,Ke,Ve,ql,ti,Bc,yi,Yl,Ci,Kl,fi,$s,li,Oo,ri,Jl,di,Zl,Ai,jc,mi,Io,Si,Uc;Object.defineProperty(r,"__esModule",{value:!0}),r.KeyboardManager=r.CommandManager=r.ColorManager=r.AnnotationEditorUIManager=void 0,r.bindEvents=Je,r.opacityToHex=ii;var Re=Ie(1),Ge=Ie(6);function Je(Di,Ii,Mi){for(const $i of Mi)Ii.addEventListener($i,Di[$i].bind(Di))}function ii(Di){return Math.round(Math.min(255,Math.max(1,255*Di))).toString(16).padStart(2,"0")}class Se{constructor(){yn(this,Te,0)}getId(){return`${Re.AnnotationEditorPrefix}${Mc(this,Te)._++}`}}Te=new WeakMap;class _e{constructor(Ii=128){yn(this,e,[]);yn(this,ke,!1);yn(this,Oe,void 0);yn(this,Ee,-1);Zn(this,Oe,Ii)}add({cmd:Ii,undo:Mi,mustExec:$i,type:Xi=NaN,overwriteIfSameType:rn=!1,keepUndo:tn=!1}){if($i&&Ii(),zi(this,ke))return;const on={cmd:Ii,undo:Mi,type:Xi};if(zi(this,Ee)===-1){zi(this,e).length>0&&(zi(this,e).length=0),Zn(this,Ee,0),zi(this,e).push(on);return}if(rn&&zi(this,e)[zi(this,Ee)].type===Xi){tn&&(on.undo=zi(this,e)[zi(this,Ee)].undo),zi(this,e)[zi(this,Ee)]=on;return}const fn=zi(this,Ee)+1;fn===zi(this,Oe)?zi(this,e).splice(0,1):(Zn(this,Ee,fn),fn<zi(this,e).length&&zi(this,e).splice(fn)),zi(this,e).push(on)}undo(){zi(this,Ee)!==-1&&(Zn(this,ke,!0),zi(this,e)[zi(this,Ee)].undo(),Zn(this,ke,!1),Zn(this,Ee,zi(this,Ee)-1))}redo(){zi(this,Ee)<zi(this,e).length-1&&(Zn(this,Ee,zi(this,Ee)+1),Zn(this,ke,!0),zi(this,e)[zi(this,Ee)].cmd(),Zn(this,ke,!1))}hasSomethingToUndo(){return zi(this,Ee)!==-1}hasSomethingToRedo(){return zi(this,Ee)<zi(this,e).length-1}destroy(){Zn(this,e,null)}}e=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Ee=new WeakMap,r.CommandManager=_e;const Me=class{constructor(Ii){yn(this,Pe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Mi=Me.platform.isMac;for(const[$i,Xi]of Ii)for(const rn of $i){const tn=rn.startsWith("mac+");Mi&&tn?(this.callbacks.set(rn.slice(4),Xi),this.allKeys.add(rn.split("+").at(-1))):!Mi&&!tn&&(this.callbacks.set(rn,Xi),this.allKeys.add(rn.split("+").at(-1)))}}static get platform(){const Ii=typeof navigator<"u"?navigator.platform:"";return(0,Re.shadow)(this,"platform",{isWin:Ii.includes("Win"),isMac:Ii.includes("Mac")})}exec(Ii,Mi){if(!this.allKeys.has(Mi.key))return;const $i=this.callbacks.get(Cn(this,Pe,Gl).call(this,Mi));!$i||($i.bind(Ii)(),Mi.stopPropagation(),Mi.preventDefault())}};let t=Me;Pe=new WeakSet,Gl=function(Ii){Ii.altKey&&this.buffer.push("alt"),Ii.ctrlKey&&this.buffer.push("ctrl"),Ii.metaKey&&this.buffer.push("meta"),Ii.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ii.key);const Mi=this.buffer.join("+");return this.buffer.length=0,Mi},r.KeyboardManager=t;const Ae=class{get _colors(){const Ii=new Map([["CanvasText",null],["Canvas",null]]);return(0,Ge.getColorValues)(Ii),(0,Re.shadow)(this,"_colors",Ii)}convert(Ii){const Mi=(0,Ge.getRGB)(Ii);if(!window.matchMedia("(forced-colors: active)").matches)return Mi;for(const[$i,Xi]of this._colors)if(Xi.every((rn,tn)=>rn===Mi[tn]))return Ae._colorsMapping.get($i);return Mi}getHexCode(Ii){const Mi=this._colors.get(Ii);return Mi?Re.Util.makeHexColor(...Mi):Ii}};let xe=Ae;ns(xe,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),r.ColorManager=xe;const Pi=class{constructor(Ii,Mi){yn(this,Ve);yn(this,ti);yn(this,yi);yn(this,Ci);yn(this,fi);yn(this,li);yn(this,ri);yn(this,di);yn(this,Ai);yn(this,mi);yn(this,Si);yn(this,Be,null);yn(this,He,new Map);yn(this,je,new Map);yn(this,Xe,new _e);yn(this,St,0);yn(this,qe,null);yn(this,Ye,null);yn(this,gi,new Se);yn(this,ai,!1);yn(this,ui,Re.AnnotationEditorType.NONE);yn(this,Qe,new Set);yn(this,Ze,this.copy.bind(this));yn(this,ci,this.cut.bind(this));yn(this,ze,this.paste.bind(this));yn(this,We,this.keydown.bind(this));yn(this,si,this.onEditingAction.bind(this));yn(this,ni,this.onPageChanging.bind(this));yn(this,$e,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});yn(this,Ke,null);Zn(this,Ke,Ii),Zn(this,Ye,Mi),zi(this,Ye)._on("editingaction",zi(this,si)),zi(this,Ye)._on("pagechanging",zi(this,ni))}destroy(){Cn(this,ti,Bc).call(this),zi(this,Ye)._off("editingaction",zi(this,si)),zi(this,Ye)._off("pagechanging",zi(this,ni));for(const Ii of zi(this,je).values())Ii.destroy();zi(this,je).clear(),zi(this,He).clear(),Zn(this,Be,null),zi(this,Qe).clear(),zi(this,Xe).destroy()}onPageChanging({pageNumber:Ii}){Zn(this,St,Ii-1)}focusMainContainer(){zi(this,Ke).focus()}copy(Ii){if(Ii.preventDefault(),zi(this,Be)&&zi(this,Be).commitOrRemove(),!this.hasSelection)return;const Mi=[];for(const $i of zi(this,Qe))$i.isEmpty()||Mi.push($i.serialize());Mi.length!==0&&Ii.clipboardData.setData("application/pdfjs",JSON.stringify(Mi))}cut(Ii){this.copy(Ii),this.delete()}paste(Ii){Ii.preventDefault();let Mi=Ii.clipboardData.getData("application/pdfjs");if(!Mi)return;try{Mi=JSON.parse(Mi)}catch(Xi){(0,Re.warn)(`paste: "${Xi.message}".`);return}if(!Array.isArray(Mi))return;this.unselectAll();const $i=zi(this,je).get(zi(this,St));try{const Xi=[];for(const on of Mi){const fn=$i.deserialize(on);if(!fn)return;Xi.push(fn)}const rn=()=>{for(const on of Xi)Cn(this,Ai,jc).call(this,on);Cn(this,Si,Uc).call(this,Xi)},tn=()=>{for(const on of Xi)on.remove()};this.addCommands({cmd:rn,undo:tn,mustExec:!0})}catch(Xi){(0,Re.warn)(`paste: "${Xi.message}".`)}}keydown(Ii){var Mi;(Mi=this.getActive())!=null&&Mi.shouldGetKeyboardEvents()||Pi._keyboardManager.exec(this,Ii)}onEditingAction(Ii){["undo","redo","delete","selectAll"].includes(Ii.name)&&this[Ii.name]()}setEditingState(Ii){Ii?(Cn(this,Ve,ql).call(this),Cn(this,yi,Yl).call(this),Cn(this,fi,$s).call(this,{isEditing:zi(this,ui)!==Re.AnnotationEditorType.NONE,isEmpty:Cn(this,mi,Io).call(this),hasSomethingToUndo:zi(this,Xe).hasSomethingToUndo(),hasSomethingToRedo:zi(this,Xe).hasSomethingToRedo(),hasSelectedEditor:!1})):(Cn(this,ti,Bc).call(this),Cn(this,Ci,Kl).call(this),Cn(this,fi,$s).call(this,{isEditing:!1}))}registerEditorTypes(Ii){if(!zi(this,qe)){Zn(this,qe,Ii);for(const Mi of zi(this,qe))Cn(this,li,Oo).call(this,Mi.defaultPropertiesToUpdate)}}getId(){return zi(this,gi).getId()}addLayer(Ii){zi(this,je).set(Ii.pageIndex,Ii),zi(this,ai)?Ii.enable():Ii.disable()}removeLayer(Ii){zi(this,je).delete(Ii.pageIndex)}updateMode(Ii){if(Zn(this,ui,Ii),Ii===Re.AnnotationEditorType.NONE)this.setEditingState(!1),Cn(this,di,Zl).call(this);else{this.setEditingState(!0),Cn(this,ri,Jl).call(this);for(const Mi of zi(this,je).values())Mi.updateMode(Ii)}}updateToolbar(Ii){Ii!==zi(this,ui)&&zi(this,Ye).dispatch("switchannotationeditormode",{source:this,mode:Ii})}updateParams(Ii,Mi){if(!!zi(this,qe)){for(const $i of zi(this,Qe))$i.updateParams(Ii,Mi);for(const $i of zi(this,qe))$i.updateDefaultParams(Ii,Mi)}}getEditors(Ii){const Mi=[];for(const $i of zi(this,He).values())$i.pageIndex===Ii&&Mi.push($i);return Mi}getEditor(Ii){return zi(this,He).get(Ii)}addEditor(Ii){zi(this,He).set(Ii.id,Ii)}removeEditor(Ii){zi(this,He).delete(Ii.id),this.unselect(Ii)}setActiveEditor(Ii){zi(this,Be)!==Ii&&(Zn(this,Be,Ii),Ii&&Cn(this,li,Oo).call(this,Ii.propertiesToUpdate))}toggleSelected(Ii){if(zi(this,Qe).has(Ii)){zi(this,Qe).delete(Ii),Ii.unselect(),Cn(this,fi,$s).call(this,{hasSelectedEditor:this.hasSelection});return}zi(this,Qe).add(Ii),Ii.select(),Cn(this,li,Oo).call(this,Ii.propertiesToUpdate),Cn(this,fi,$s).call(this,{hasSelectedEditor:!0})}setSelected(Ii){for(const Mi of zi(this,Qe))Mi!==Ii&&Mi.unselect();zi(this,Qe).clear(),zi(this,Qe).add(Ii),Ii.select(),Cn(this,li,Oo).call(this,Ii.propertiesToUpdate),Cn(this,fi,$s).call(this,{hasSelectedEditor:!0})}isSelected(Ii){return zi(this,Qe).has(Ii)}unselect(Ii){Ii.unselect(),zi(this,Qe).delete(Ii),Cn(this,fi,$s).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return zi(this,Qe).size!==0}undo(){zi(this,Xe).undo(),Cn(this,fi,$s).call(this,{hasSomethingToUndo:zi(this,Xe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Cn(this,mi,Io).call(this)})}redo(){zi(this,Xe).redo(),Cn(this,fi,$s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:zi(this,Xe).hasSomethingToRedo(),isEmpty:Cn(this,mi,Io).call(this)})}addCommands(Ii){zi(this,Xe).add(Ii),Cn(this,fi,$s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Cn(this,mi,Io).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ii=[...zi(this,Qe)],Mi=()=>{for(const Xi of Ii)Xi.remove()},$i=()=>{for(const Xi of Ii)Cn(this,Ai,jc).call(this,Xi)};this.addCommands({cmd:Mi,undo:$i,mustExec:!0})}commitOrRemove(){var Ii;(Ii=zi(this,Be))==null||Ii.commitOrRemove()}selectAll(){for(const Ii of zi(this,Qe))Ii.commit();Cn(this,Si,Uc).call(this,zi(this,He).values())}unselectAll(){if(zi(this,Be)){zi(this,Be).commitOrRemove();return}if(zi(this,Qe).size!==0){for(const Ii of zi(this,Qe))Ii.unselect();zi(this,Qe).clear(),Cn(this,fi,$s).call(this,{hasSelectedEditor:!1})}}isActive(Ii){return zi(this,Be)===Ii}getActive(){return zi(this,Be)}getMode(){return zi(this,ui)}};let Fe=Pi;Be=new WeakMap,He=new WeakMap,je=new WeakMap,Xe=new WeakMap,St=new WeakMap,qe=new WeakMap,Ye=new WeakMap,gi=new WeakMap,ai=new WeakMap,ui=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,ci=new WeakMap,ze=new WeakMap,We=new WeakMap,si=new WeakMap,ni=new WeakMap,$e=new WeakMap,Ke=new WeakMap,Ve=new WeakSet,ql=function(){zi(this,Ke).addEventListener("keydown",zi(this,We))},ti=new WeakSet,Bc=function(){zi(this,Ke).removeEventListener("keydown",zi(this,We))},yi=new WeakSet,Yl=function(){document.addEventListener("copy",zi(this,Ze)),document.addEventListener("cut",zi(this,ci)),document.addEventListener("paste",zi(this,ze))},Ci=new WeakSet,Kl=function(){document.removeEventListener("copy",zi(this,Ze)),document.removeEventListener("cut",zi(this,ci)),document.removeEventListener("paste",zi(this,ze))},fi=new WeakSet,$s=function(Ii){Object.entries(Ii).some(([$i,Xi])=>zi(this,$e)[$i]!==Xi)&&zi(this,Ye).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(zi(this,$e),Ii)})},li=new WeakSet,Oo=function(Ii){zi(this,Ye).dispatch("annotationeditorparamschanged",{source:this,details:Ii})},ri=new WeakSet,Jl=function(){if(!zi(this,ai)){Zn(this,ai,!0);for(const Ii of zi(this,je).values())Ii.enable()}},di=new WeakSet,Zl=function(){if(this.unselectAll(),zi(this,ai)){Zn(this,ai,!1);for(const Ii of zi(this,je).values())Ii.disable()}},Ai=new WeakSet,jc=function(Ii){const Mi=zi(this,je).get(Ii.pageIndex);Mi?Mi.addOrRebuild(Ii):this.addEditor(Ii)},mi=new WeakSet,Io=function(){if(zi(this,He).size===0)return!0;if(zi(this,He).size===1)for(const Ii of zi(this,He).values())return Ii.isEmpty();return!1},Si=new WeakSet,Uc=function(Ii){zi(this,Qe).clear();for(const Mi of Ii)Mi.isEmpty()||(zi(this,Qe).add(Mi),Mi.select());Cn(this,fi,$s).call(this,{hasSelectedEditor:!0})},ns(Fe,"_keyboardManager",new t([[["ctrl+a","mac+meta+a"],Pi.prototype.selectAll],[["ctrl+z","mac+meta+z"],Pi.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Pi.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Pi.prototype.delete],[["Escape","mac+Escape"],Pi.prototype.unselectAll]])),r.AnnotationEditorUIManager=Fe},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StatTimer=r.RenderingCancelledException=r.PixelsPerInch=r.PageViewport=r.PDFDateString=r.DOMStandardFontDataFactory=r.DOMSVGFactory=r.DOMCanvasFactory=r.DOMCMapReaderFactory=r.AnnotationPrefix=void 0,r.deprecated=He,r.getColorValues=Ye,r.getCurrentTransform=gi,r.getCurrentTransformInverse=ai,r.getFilenameFromUrl=Pe,r.getPdfFilenameFromUrl=De,r.getRGB=qe,r.getXfaPageViewport=St,r.isDataScheme=Oe,r.isPdfFile=Ee,r.isValidFetchUrl=Ae,r.loadScript=Be;var Re=Ie(7),Ge=Ie(1);const Je="http://www.w3.org/2000/svg",ii="pdfjs_internal_id_";r.AnnotationPrefix=ii;const ui=class{};let Se=ui;ns(Se,"CSS",96),ns(Se,"PDF",72),ns(Se,"PDF_TO_CSS_UNITS",ui.CSS/ui.PDF),r.PixelsPerInch=Se;class _e extends Re.BaseCanvasFactory{constructor({ownerDocument:Ze=globalThis.document}={}){super(),this._document=Ze}_createCanvas(Ze,ci){const ze=this._document.createElement("canvas");return ze.width=Ze,ze.height=ci,ze}}r.DOMCanvasFactory=_e;async function t(Qe,Ze=!1){if(Ae(Qe,document.baseURI)){const ci=await fetch(Qe);if(!ci.ok)throw new Error(ci.statusText);return Ze?new Uint8Array(await ci.arrayBuffer()):(0,Ge.stringToBytes)(await ci.text())}return new Promise((ci,ze)=>{const We=new XMLHttpRequest;We.open("GET",Qe,!0),Ze&&(We.responseType="arraybuffer"),We.onreadystatechange=()=>{if(We.readyState===XMLHttpRequest.DONE){if(We.status===200||We.status===0){let si;if(Ze&&We.response?si=new Uint8Array(We.response):!Ze&&We.responseText&&(si=(0,Ge.stringToBytes)(We.responseText)),si){ci(si);return}}ze(new Error(We.statusText))}},We.send(null)})}class xe extends Re.BaseCMapReaderFactory{_fetchData(Ze,ci){return t(Ze,this.isCompressed).then(ze=>({cMapData:ze,compressionType:ci}))}}r.DOMCMapReaderFactory=xe;class Fe extends Re.BaseStandardFontDataFactory{_fetchData(Ze){return t(Ze,!0)}}r.DOMStandardFontDataFactory=Fe;class Te extends Re.BaseSVGFactory{_createSVG(Ze){return document.createElementNS(Je,Ze)}}r.DOMSVGFactory=Te;class e{constructor({viewBox:Ze,scale:ci,rotation:ze,offsetX:We=0,offsetY:si=0,dontFlip:ni=!1}){this.viewBox=Ze,this.scale=ci,this.rotation=ze,this.offsetX=We,this.offsetY=si;const $e=(Ze[2]+Ze[0])/2,Ke=(Ze[3]+Ze[1])/2;let Ve,Ue,ti,hi;switch(ze%=360,ze<0&&(ze+=360),ze){case 180:Ve=-1,Ue=0,ti=0,hi=1;break;case 90:Ve=0,Ue=1,ti=1,hi=0;break;case 270:Ve=0,Ue=-1,ti=-1,hi=0;break;case 0:Ve=1,Ue=0,ti=0,hi=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ni&&(ti=-ti,hi=-hi);let yi,wi,Ci,ki;Ve===0?(yi=Math.abs(Ke-Ze[1])*ci+We,wi=Math.abs($e-Ze[0])*ci+si,Ci=Math.abs(Ze[3]-Ze[1])*ci,ki=Math.abs(Ze[2]-Ze[0])*ci):(yi=Math.abs($e-Ze[0])*ci+We,wi=Math.abs(Ke-Ze[1])*ci+si,Ci=Math.abs(Ze[2]-Ze[0])*ci,ki=Math.abs(Ze[3]-Ze[1])*ci),this.transform=[Ve*ci,Ue*ci,ti*ci,hi*ci,yi-Ve*ci*$e-ti*ci*Ke,wi-Ue*ci*$e-hi*ci*Ke],this.width=Ci,this.height=ki}clone({scale:Ze=this.scale,rotation:ci=this.rotation,offsetX:ze=this.offsetX,offsetY:We=this.offsetY,dontFlip:si=!1}={}){return new e({viewBox:this.viewBox.slice(),scale:Ze,rotation:ci,offsetX:ze,offsetY:We,dontFlip:si})}convertToViewportPoint(Ze,ci){return Ge.Util.applyTransform([Ze,ci],this.transform)}convertToViewportRectangle(Ze){const ci=Ge.Util.applyTransform([Ze[0],Ze[1]],this.transform),ze=Ge.Util.applyTransform([Ze[2],Ze[3]],this.transform);return[ci[0],ci[1],ze[0],ze[1]]}convertToPdfPoint(Ze,ci){return Ge.Util.applyInverseTransform([Ze,ci],this.transform)}}r.PageViewport=e;class ke extends Ge.BaseException{constructor(Ze,ci){super(Ze,"RenderingCancelledException"),this.type=ci}}r.RenderingCancelledException=ke;function Oe(Qe){const Ze=Qe.length;let ci=0;for(;ci<Ze&&Qe[ci].trim()==="";)ci++;return Qe.substring(ci,ci+5).toLowerCase()==="data:"}function Ee(Qe){return typeof Qe=="string"&&/\.pdf$/i.test(Qe)}function Pe(Qe){const Ze=Qe.indexOf("#"),ci=Qe.indexOf("?"),ze=Math.min(Ze>0?Ze:Qe.length,ci>0?ci:Qe.length);return Qe.substring(Qe.lastIndexOf("/",ze)+1,ze)}function De(Qe,Ze="document.pdf"){if(typeof Qe!="string")return Ze;if(Oe(Qe))return(0,Ge.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ze;const ci=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ze=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,We=ci.exec(Qe);let si=ze.exec(We[1])||ze.exec(We[2])||ze.exec(We[3]);if(si&&(si=si[0],si.includes("%")))try{si=ze.exec(decodeURIComponent(si))[0]}catch{}return si||Ze}class Me{constructor(){this.started=Object.create(null),this.times=[]}time(Ze){Ze in this.started&&(0,Ge.warn)(`Timer is already running for ${Ze}`),this.started[Ze]=Date.now()}timeEnd(Ze){Ze in this.started||(0,Ge.warn)(`Timer has not been started for ${Ze}`),this.times.push({name:Ze,start:this.started[Ze],end:Date.now()}),delete this.started[Ze]}toString(){const Ze=[];let ci=0;for(const ze of this.times){const We=ze.name;We.length>ci&&(ci=We.length)}for(const ze of this.times){const We=ze.end-ze.start;Ze.push(`${ze.name.padEnd(ci)} ${We}ms
`)}return Ze.join("")}}r.StatTimer=Me;function Ae(Qe,Ze){try{const{protocol:ci}=Ze?new URL(Qe,Ze):new URL(Qe);return ci==="http:"||ci==="https:"}catch{return!1}}function Be(Qe,Ze=!1){return new Promise((ci,ze)=>{const We=document.createElement("script");We.src=Qe,We.onload=function(si){Ze&&We.remove(),ci(si)},We.onerror=function(){ze(new Error(`Cannot load script at: ${We.src}`))},(document.head||document.documentElement).append(We)})}function He(Qe){console.log("Deprecated API usage: "+Qe)}let je;class Xe{static toDateObject(Ze){if(!Ze||typeof Ze!="string")return null;je||(je=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ci=je.exec(Ze);if(!ci)return null;const ze=parseInt(ci[1],10);let We=parseInt(ci[2],10);We=We>=1&&We<=12?We-1:0;let si=parseInt(ci[3],10);si=si>=1&&si<=31?si:1;let ni=parseInt(ci[4],10);ni=ni>=0&&ni<=23?ni:0;let $e=parseInt(ci[5],10);$e=$e>=0&&$e<=59?$e:0;let Ke=parseInt(ci[6],10);Ke=Ke>=0&&Ke<=59?Ke:0;const Ve=ci[7]||"Z";let Ue=parseInt(ci[8],10);Ue=Ue>=0&&Ue<=23?Ue:0;let ti=parseInt(ci[9],10)||0;return ti=ti>=0&&ti<=59?ti:0,Ve==="-"?(ni+=Ue,$e+=ti):Ve==="+"&&(ni-=Ue,$e-=ti),new Date(Date.UTC(ze,We,si,ni,$e,Ke))}}r.PDFDateString=Xe;function St(Qe,{scale:Ze=1,rotation:ci=0}){const{width:ze,height:We}=Qe.attributes.style,si=[0,0,parseInt(ze),parseInt(We)];return new e({viewBox:si,scale:Ze,rotation:ci})}function qe(Qe){if(Qe.startsWith("#")){const Ze=parseInt(Qe.slice(1),16);return[(Ze&16711680)>>16,(Ze&65280)>>8,Ze&255]}return Qe.startsWith("rgb(")?Qe.slice(4,-1).split(",").map(Ze=>parseInt(Ze)):Qe.startsWith("rgba(")?Qe.slice(5,-1).split(",").map(Ze=>parseInt(Ze)).slice(0,3):((0,Ge.warn)(`Not a valid color format: "${Qe}"`),[0,0,0])}function Ye(Qe){const Ze=document.createElement("span");Ze.style.visibility="hidden",document.body.append(Ze);for(const ci of Qe.keys()){Ze.style.color=ci;const ze=window.getComputedStyle(Ze).color;Qe.set(ci,qe(ze))}Ze.remove()}function gi(Qe){const{a:Ze,b:ci,c:ze,d:We,e:si,f:ni}=Qe.getTransform();return[Ze,ci,ze,We,si,ni]}function ai(Qe){const{a:Ze,b:ci,c:ze,d:We,e:si,f:ni}=Qe.getTransform().invertSelf();return[Ze,ci,ze,We,si,ni]}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStandardFontDataFactory=r.BaseSVGFactory=r.BaseCanvasFactory=r.BaseCMapReaderFactory=void 0;var Re=Ie(1);class Ge{constructor(){this.constructor===Ge&&(0,Re.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,xe){if(t<=0||xe<=0)throw new Error("Invalid canvas size");const Fe=this._createCanvas(t,xe);return{canvas:Fe,context:Fe.getContext("2d")}}reset(t,xe,Fe){if(!t.canvas)throw new Error("Canvas is not specified");if(xe<=0||Fe<=0)throw new Error("Invalid canvas size");t.canvas.width=xe,t.canvas.height=Fe}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,xe){(0,Re.unreachable)("Abstract method `_createCanvas` called.")}}r.BaseCanvasFactory=Ge;class Je{constructor({baseUrl:t=null,isCompressed:xe=!1}){this.constructor===Je&&(0,Re.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=xe}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const xe=this.baseUrl+t+(this.isCompressed?".bcmap":""),Fe=this.isCompressed?Re.CMapCompressionType.BINARY:Re.CMapCompressionType.NONE;return this._fetchData(xe,Fe).catch(Te=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${xe}`)})}_fetchData(t,xe){(0,Re.unreachable)("Abstract method `_fetchData` called.")}}r.BaseCMapReaderFactory=Je;class ii{constructor({baseUrl:t=null}){this.constructor===ii&&(0,Re.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const xe=`${this.baseUrl}${t}`;return this._fetchData(xe).catch(Fe=>{throw new Error(`Unable to load font data at: ${xe}`)})}_fetchData(t){(0,Re.unreachable)("Abstract method `_fetchData` called.")}}r.BaseStandardFontDataFactory=ii;class Se{constructor(){this.constructor===Se&&(0,Re.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,xe,Fe=!1){if(t<=0||xe<=0)throw new Error("Invalid SVG dimensions");const Te=this._createSVG("svg:svg");return Te.setAttribute("version","1.1"),Fe||(Te.setAttribute("width",`${t}px`),Te.setAttribute("height",`${xe}px`)),Te.setAttribute("preserveAspectRatio","none"),Te.setAttribute("viewBox",`0 0 ${t} ${xe}`),Te}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,Re.unreachable)("Abstract method `_createSVG` called.")}}r.BaseSVGFactory=Se},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MurmurHash3_64=void 0;var Re=Ie(1);const Ge=3285377520,Je=4294901760,ii=65535;class Se{constructor(t){this.h1=t?t&4294967295:Ge,this.h2=t?t&4294967295:Ge}update(t){let xe,Fe;if(typeof t=="string"){xe=new Uint8Array(t.length*2),Fe=0;for(let je=0,Xe=t.length;je<Xe;je++){const St=t.charCodeAt(je);St<=255?xe[Fe++]=St:(xe[Fe++]=St>>>8,xe[Fe++]=St&255)}}else if((0,Re.isArrayBuffer)(t))xe=t.slice(),Fe=xe.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Te=Fe>>2,e=Fe-Te*4,ke=new Uint32Array(xe.buffer,0,Te);let Oe=0,Ee=0,Pe=this.h1,De=this.h2;const Me=3432918353,Ae=461845907,Be=Me&ii,He=Ae&ii;for(let je=0;je<Te;je++)je&1?(Oe=ke[je],Oe=Oe*Me&Je|Oe*Be&ii,Oe=Oe<<15|Oe>>>17,Oe=Oe*Ae&Je|Oe*He&ii,Pe^=Oe,Pe=Pe<<13|Pe>>>19,Pe=Pe*5+3864292196):(Ee=ke[je],Ee=Ee*Me&Je|Ee*Be&ii,Ee=Ee<<15|Ee>>>17,Ee=Ee*Ae&Je|Ee*He&ii,De^=Ee,De=De<<13|De>>>19,De=De*5+3864292196);switch(Oe=0,e){case 3:Oe^=xe[Te*4+2]<<16;case 2:Oe^=xe[Te*4+1]<<8;case 1:Oe^=xe[Te*4],Oe=Oe*Me&Je|Oe*Be&ii,Oe=Oe<<15|Oe>>>17,Oe=Oe*Ae&Je|Oe*He&ii,Te&1?Pe^=Oe:De^=Oe}this.h1=Pe,this.h2=De}hexdigest(){let t=this.h1,xe=this.h2;t^=xe>>>1,t=t*3981806797&Je|t*36045&ii,xe=xe*4283543511&Je|((xe<<16|t>>>16)*2950163797&Je)>>>16,t^=xe>>>1,t=t*444984403&Je|t*60499&ii,xe=xe*3301882366&Je|((xe<<16|t>>>16)*3120437893&Je)>>>16,t^=xe>>>1;const Fe=(t>>>0).toString(16),Te=(xe>>>0).toString(16);return Fe.padStart(8,"0")+Te.padStart(8,"0")}}r.MurmurHash3_64=Se},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FontLoader=r.FontFaceObject=void 0;var Re=Ie(1);class Ge{constructor({onUnsupportedFeature:Se,ownerDocument:_e=globalThis.document,styleElement:t=null}){this._onUnsupportedFeature=Se,this._document=_e,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Se){this.nativeFontFaces.push(Se),this._document.fonts.add(Se)}insertRule(Se){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _e=this.styleElement.sheet;_e.insertRule(Se,_e.cssRules.length)}clear(){for(const Se of this.nativeFontFaces)this._document.fonts.delete(Se);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(Se){if(Se.attached||Se.missingFile)return;if(Se.attached=!0,this.isFontLoadingAPISupported){const t=Se.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(xe){throw this._onUnsupportedFeature({featureId:Re.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,Re.warn)(`Failed to load font '${t.family}': '${xe}'.`),Se.disableFontFace=!0,xe}}return}const _e=Se.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const xe=this._queueLoadingCallback(t);this._prepareFontLoadEvent(Se,xe)})}}get isFontLoadingAPISupported(){var _e;const Se=!!((_e=this._document)!=null&&_e.fonts);return(0,Re.shadow)(this,"isFontLoadingAPISupported",Se)}get isSyncFontLoadingSupported(){let Se=!1;if(typeof navigator>"u")Se=!0;else{const _e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(_e==null?void 0:_e[1])>=14&&(Se=!0)}return(0,Re.shadow)(this,"isSyncFontLoadingSupported",Se)}_queueLoadingCallback(Se){function _e(){for((0,Re.assert)(!xe.done,"completeRequest() cannot be called twice."),xe.done=!0;t.length>0&&t[0].done;){const Fe=t.shift();setTimeout(Fe.callback,0)}}const{loadingRequests:t}=this,xe={done:!1,complete:_e,callback:Se};return t.push(xe),xe}get _loadTestFont(){const Se=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Re.shadow)(this,"_loadTestFont",Se)}_prepareFontLoadEvent(Se,_e){function t(qe,Ye){return qe.charCodeAt(Ye)<<24|qe.charCodeAt(Ye+1)<<16|qe.charCodeAt(Ye+2)<<8|qe.charCodeAt(Ye+3)&255}function xe(qe,Ye,gi,ai){const ui=qe.substring(0,Ye),Qe=qe.substring(Ye+gi);return ui+ai+Qe}let Fe,Te;const e=this._document.createElement("canvas");e.width=1,e.height=1;const ke=e.getContext("2d");let Oe=0;function Ee(qe,Ye){if(++Oe>30){(0,Re.warn)("Load test font never loaded."),Ye();return}if(ke.font="30px "+qe,ke.fillText(".",0,20),ke.getImageData(0,0,1,1).data[3]>0){Ye();return}setTimeout(Ee.bind(null,qe,Ye))}const Pe=`lt${Date.now()}${this.loadTestFontId++}`;let De=this._loadTestFont;De=xe(De,976,Pe.length,Pe);const Ae=16,Be=1482184792;let He=t(De,Ae);for(Fe=0,Te=Pe.length-3;Fe<Te;Fe+=4)He=He-Be+t(Pe,Fe)|0;Fe<Pe.length&&(He=He-Be+t(Pe+"XXX",Fe)|0),De=xe(De,Ae,4,(0,Re.string32)(He));const je=`url(data:font/opentype;base64,${btoa(De)});`,Xe=`@font-face {font-family:"${Pe}";src:${je}}`;this.insertRule(Xe);const St=this._document.createElement("div");St.style.visibility="hidden",St.style.width=St.style.height="10px",St.style.position="absolute",St.style.top=St.style.left="0px";for(const qe of[Se.loadedName,Pe]){const Ye=this._document.createElement("span");Ye.textContent="Hi",Ye.style.fontFamily=qe,St.append(Ye)}this._document.body.append(St),Ee(Pe,()=>{St.remove(),_e.complete()})}}r.FontLoader=Ge;class Je{constructor(Se,{isEvalSupported:_e=!0,disableFontFace:t=!1,ignoreErrors:xe=!1,onUnsupportedFeature:Fe,fontRegistry:Te=null}){this.compiledGlyphs=Object.create(null);for(const e in Se)this[e]=Se[e];this.isEvalSupported=_e!==!1,this.disableFontFace=t===!0,this.ignoreErrors=xe===!0,this._onUnsupportedFeature=Fe,this.fontRegistry=Te}createNativeFontFace(){var _e;if(!this.data||this.disableFontFace)return null;let Se;if(!this.cssFontInfo)Se=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Se=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return(_e=this.fontRegistry)==null||_e.registerFont(this),Se}createFontFaceRule(){var xe;if(!this.data||this.disableFontFace)return null;const Se=(0,Re.bytesToString)(this.data),_e=`url(data:${this.mimetype};base64,${btoa(Se)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let Fe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Fe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Fe}src:${_e}}`}return(xe=this.fontRegistry)==null||xe.registerFont(this,_e),t}getPathGenerator(Se,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let t;try{t=Se.get(this.loadedName+"_path_"+_e)}catch(xe){if(!this.ignoreErrors)throw xe;return this._onUnsupportedFeature({featureId:Re.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,Re.warn)(`getPathGenerator - ignoring character: "${xe}".`),this.compiledGlyphs[_e]=function(Fe,Te){}}if(this.isEvalSupported&&Re.FeatureTest.isEvalSupported){const xe=[];for(const Fe of t){const Te=Fe.args!==void 0?Fe.args.join(","):"";xe.push("c.",Fe.cmd,"(",Te,`);
`)}return this.compiledGlyphs[_e]=new Function("c","size",xe.join(""))}return this.compiledGlyphs[_e]=function(xe,Fe){for(const Te of t)Te.cmd==="scale"&&(Te.args=[Fe,-Fe]),xe[Te.cmd].apply(xe,Te.args)}}}r.FontFaceObject=Je},(Ce,r,Ie)=>{var We,$c;Object.defineProperty(r,"__esModule",{value:!0}),r.CanvasGraphics=void 0;var Re=Ie(1),Ge=Ie(6),Je=Ie(11),ii=Ie(13),Se=Ie(12);const _e=16,t=100,xe=4096,Fe=15,Te=10,e=Se.isNodeJS&&typeof Path2D>"u"?-1:1e3,ke=16;function Oe($e,Ke){if($e._removeMirroring)throw new Error("Context is already forwarding operations.");$e.__originalSave=$e.save,$e.__originalRestore=$e.restore,$e.__originalRotate=$e.rotate,$e.__originalScale=$e.scale,$e.__originalTranslate=$e.translate,$e.__originalTransform=$e.transform,$e.__originalSetTransform=$e.setTransform,$e.__originalResetTransform=$e.resetTransform,$e.__originalClip=$e.clip,$e.__originalMoveTo=$e.moveTo,$e.__originalLineTo=$e.lineTo,$e.__originalBezierCurveTo=$e.bezierCurveTo,$e.__originalRect=$e.rect,$e.__originalClosePath=$e.closePath,$e.__originalBeginPath=$e.beginPath,$e._removeMirroring=()=>{$e.save=$e.__originalSave,$e.restore=$e.__originalRestore,$e.rotate=$e.__originalRotate,$e.scale=$e.__originalScale,$e.translate=$e.__originalTranslate,$e.transform=$e.__originalTransform,$e.setTransform=$e.__originalSetTransform,$e.resetTransform=$e.__originalResetTransform,$e.clip=$e.__originalClip,$e.moveTo=$e.__originalMoveTo,$e.lineTo=$e.__originalLineTo,$e.bezierCurveTo=$e.__originalBezierCurveTo,$e.rect=$e.__originalRect,$e.closePath=$e.__originalClosePath,$e.beginPath=$e.__originalBeginPath,delete $e._removeMirroring},$e.save=function(){Ke.save(),this.__originalSave()},$e.restore=function(){Ke.restore(),this.__originalRestore()},$e.translate=function(Ue,ti){Ke.translate(Ue,ti),this.__originalTranslate(Ue,ti)},$e.scale=function(Ue,ti){Ke.scale(Ue,ti),this.__originalScale(Ue,ti)},$e.transform=function(Ue,ti,hi,yi,wi,Ci){Ke.transform(Ue,ti,hi,yi,wi,Ci),this.__originalTransform(Ue,ti,hi,yi,wi,Ci)},$e.setTransform=function(Ue,ti,hi,yi,wi,Ci){Ke.setTransform(Ue,ti,hi,yi,wi,Ci),this.__originalSetTransform(Ue,ti,hi,yi,wi,Ci)},$e.resetTransform=function(){Ke.resetTransform(),this.__originalResetTransform()},$e.rotate=function(Ue){Ke.rotate(Ue),this.__originalRotate(Ue)},$e.clip=function(Ue){Ke.clip(Ue),this.__originalClip(Ue)},$e.moveTo=function(Ve,Ue){Ke.moveTo(Ve,Ue),this.__originalMoveTo(Ve,Ue)},$e.lineTo=function(Ve,Ue){Ke.lineTo(Ve,Ue),this.__originalLineTo(Ve,Ue)},$e.bezierCurveTo=function(Ve,Ue,ti,hi,yi,wi){Ke.bezierCurveTo(Ve,Ue,ti,hi,yi,wi),this.__originalBezierCurveTo(Ve,Ue,ti,hi,yi,wi)},$e.rect=function(Ve,Ue,ti,hi){Ke.rect(Ve,Ue,ti,hi),this.__originalRect(Ve,Ue,ti,hi)},$e.closePath=function(){Ke.closePath(),this.__originalClosePath()},$e.beginPath=function(){Ke.beginPath(),this.__originalBeginPath()}}class Ee{constructor(Ke){this.canvasFactory=Ke,this.cache=Object.create(null)}getCanvas(Ke,Ve,Ue){let ti;return this.cache[Ke]!==void 0?(ti=this.cache[Ke],this.canvasFactory.reset(ti,Ve,Ue)):(ti=this.canvasFactory.create(Ve,Ue),this.cache[Ke]=ti),ti}delete(Ke){delete this.cache[Ke]}clear(){for(const Ke in this.cache){const Ve=this.cache[Ke];this.canvasFactory.destroy(Ve),delete this.cache[Ke]}}}function Pe($e,Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki){const[fi,xi,li,pi,ri,oi]=(0,Ge.getCurrentTransform)($e);if(xi===0&&li===0){const Ai=yi*fi+ri,Ei=Math.round(Ai),mi=wi*pi+oi,_i=Math.round(mi),Si=(yi+Ci)*fi+ri,Fi=Math.abs(Math.round(Si)-Ei)||1,Pi=(wi+ki)*pi+oi,Di=Math.abs(Math.round(Pi)-_i)||1;return $e.setTransform(Math.sign(fi),0,0,Math.sign(pi),Ei,_i),$e.drawImage(Ke,Ve,Ue,ti,hi,0,0,Fi,Di),$e.setTransform(fi,xi,li,pi,ri,oi),[Fi,Di]}if(fi===0&&pi===0){const Ai=wi*li+ri,Ei=Math.round(Ai),mi=yi*xi+oi,_i=Math.round(mi),Si=(wi+ki)*li+ri,Fi=Math.abs(Math.round(Si)-Ei)||1,Pi=(yi+Ci)*xi+oi,Di=Math.abs(Math.round(Pi)-_i)||1;return $e.setTransform(0,Math.sign(xi),Math.sign(li),0,Ei,_i),$e.drawImage(Ke,Ve,Ue,ti,hi,0,0,Di,Fi),$e.setTransform(fi,xi,li,pi,ri,oi),[Di,Fi]}$e.drawImage(Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki);const di=Math.hypot(fi,xi),bi=Math.hypot(li,pi);return[di*Ci,bi*ki]}function De($e){const{width:Ke,height:Ve}=$e;if(Ke>e||Ve>e)return null;const Ue=1e3,ti=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),hi=Ke+1;let yi=new Uint8Array(hi*(Ve+1)),wi,Ci,ki;const fi=Ke+7&-8;let xi=new Uint8Array(fi*Ve),li=0;for(const bi of $e.data){let Ai=128;for(;Ai>0;)xi[li++]=bi&Ai?0:255,Ai>>=1}let pi=0;for(li=0,xi[li]!==0&&(yi[0]=1,++pi),Ci=1;Ci<Ke;Ci++)xi[li]!==xi[li+1]&&(yi[Ci]=xi[li]?2:1,++pi),li++;for(xi[li]!==0&&(yi[Ci]=2,++pi),wi=1;wi<Ve;wi++){li=wi*fi,ki=wi*hi,xi[li-fi]!==xi[li]&&(yi[ki]=xi[li]?1:8,++pi);let bi=(xi[li]?4:0)+(xi[li-fi]?8:0);for(Ci=1;Ci<Ke;Ci++)bi=(bi>>2)+(xi[li+1]?4:0)+(xi[li-fi+1]?8:0),ti[bi]&&(yi[ki+Ci]=ti[bi],++pi),li++;if(xi[li-fi]!==xi[li]&&(yi[ki+Ci]=xi[li]?2:4,++pi),pi>Ue)return null}for(li=fi*(Ve-1),ki=wi*hi,xi[li]!==0&&(yi[ki]=8,++pi),Ci=1;Ci<Ke;Ci++)xi[li]!==xi[li+1]&&(yi[ki+Ci]=xi[li]?4:8,++pi),li++;if(xi[li]!==0&&(yi[ki+Ci]=4,++pi),pi>Ue)return null;const ri=new Int32Array([0,hi,-1,0,-hi,0,0,0,1]),oi=new Path2D;for(wi=0;pi&&wi<=Ve;wi++){let bi=wi*hi;const Ai=bi+Ke;for(;bi<Ai&&!yi[bi];)bi++;if(bi===Ai)continue;oi.moveTo(bi%hi,wi);const Ei=bi;let mi=yi[bi];do{const _i=ri[mi];do bi+=_i;while(!yi[bi]);const Si=yi[bi];Si!==5&&Si!==10?(mi=Si,yi[bi]=0):(mi=Si&51*mi>>4,yi[bi]&=mi>>2|mi<<2),oi.lineTo(bi%hi,bi/hi|0),yi[bi]||--pi}while(Ei!==bi);--wi}return xi=null,yi=null,function(bi){bi.save(),bi.scale(1/Ke,-1/Ve),bi.translate(0,-Ve),bi.fill(oi),bi.beginPath(),bi.restore()}}class Me{constructor(Ke,Ve){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Re.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Re.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Re.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Ke,Ve])}clone(){const Ke=Object.create(this);return Ke.clipBox=this.clipBox.slice(),Ke}setCurrentPoint(Ke,Ve){this.x=Ke,this.y=Ve}updatePathMinMax(Ke,Ve,Ue){[Ve,Ue]=Re.Util.applyTransform([Ve,Ue],Ke),this.minX=Math.min(this.minX,Ve),this.minY=Math.min(this.minY,Ue),this.maxX=Math.max(this.maxX,Ve),this.maxY=Math.max(this.maxY,Ue)}updateRectMinMax(Ke,Ve){const Ue=Re.Util.applyTransform(Ve,Ke),ti=Re.Util.applyTransform(Ve.slice(2),Ke);this.minX=Math.min(this.minX,Ue[0],ti[0]),this.minY=Math.min(this.minY,Ue[1],ti[1]),this.maxX=Math.max(this.maxX,Ue[0],ti[0]),this.maxY=Math.max(this.maxY,Ue[1],ti[1])}updateScalingPathMinMax(Ke,Ve){Re.Util.scaleMinMax(Ke,Ve),this.minX=Math.min(this.minX,Ve[0]),this.maxX=Math.max(this.maxX,Ve[1]),this.minY=Math.min(this.minY,Ve[2]),this.maxY=Math.max(this.maxY,Ve[3])}updateCurvePathMinMax(Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki,fi){const xi=Re.Util.bezierBoundingBox(Ve,Ue,ti,hi,yi,wi,Ci,ki);if(fi){fi[0]=Math.min(fi[0],xi[0],xi[2]),fi[1]=Math.max(fi[1],xi[0],xi[2]),fi[2]=Math.min(fi[2],xi[1],xi[3]),fi[3]=Math.max(fi[3],xi[1],xi[3]);return}this.updateRectMinMax(Ke,xi)}getPathBoundingBox(Ke=Je.PathType.FILL,Ve=null){const Ue=[this.minX,this.minY,this.maxX,this.maxY];if(Ke===Je.PathType.STROKE){Ve||(0,Re.unreachable)("Stroke bounding box must include transform.");const ti=Re.Util.singularValueDecompose2dScale(Ve),hi=ti[0]*this.lineWidth/2,yi=ti[1]*this.lineWidth/2;Ue[0]-=hi,Ue[1]-=yi,Ue[2]+=hi,Ue[3]+=yi}return Ue}updateClipFromPath(){const Ke=Re.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ke||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Ke){this.clipBox=Ke,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Ke=Je.PathType.FILL,Ve=null){return Re.Util.intersect(this.clipBox,this.getPathBoundingBox(Ke,Ve))}}function Ae($e,Ke,Ve=null){if(typeof ImageData<"u"&&Ke instanceof ImageData){$e.putImageData(Ke,0,0);return}const Ue=Ke.height,ti=Ke.width,hi=Ue%ke,yi=(Ue-hi)/ke,wi=hi===0?yi:yi+1,Ci=$e.createImageData(ti,ke);let ki=0,fi;const xi=Ke.data,li=Ci.data;let pi,ri,oi,di,bi,Ai,Ei,mi;if(Ve)switch(Ve.length){case 1:bi=Ve[0],Ai=Ve[0],Ei=Ve[0],mi=Ve[0];break;case 4:bi=Ve[0],Ai=Ve[1],Ei=Ve[2],mi=Ve[3];break}if(Ke.kind===Re.ImageKind.GRAYSCALE_1BPP){const _i=xi.byteLength,Si=new Uint32Array(li.buffer,0,li.byteLength>>2),Fi=Si.length,Pi=ti+7>>3;let Di=4294967295,Ii=Re.FeatureTest.isLittleEndian?4278190080:255;for(mi&&mi[0]===255&&mi[255]===0&&([Di,Ii]=[Ii,Di]),pi=0;pi<wi;pi++){for(oi=pi<yi?ke:hi,fi=0,ri=0;ri<oi;ri++){const Mi=_i-ki;let $i=0;const Xi=Mi>Pi?ti:Mi*8-7,rn=Xi&-8;let tn=0,on=0;for(;$i<rn;$i+=8)on=xi[ki++],Si[fi++]=on&128?Di:Ii,Si[fi++]=on&64?Di:Ii,Si[fi++]=on&32?Di:Ii,Si[fi++]=on&16?Di:Ii,Si[fi++]=on&8?Di:Ii,Si[fi++]=on&4?Di:Ii,Si[fi++]=on&2?Di:Ii,Si[fi++]=on&1?Di:Ii;for(;$i<Xi;$i++)tn===0&&(on=xi[ki++],tn=128),Si[fi++]=on&tn?Di:Ii,tn>>=1}for(;fi<Fi;)Si[fi++]=0;$e.putImageData(Ci,0,pi*ke)}}else if(Ke.kind===Re.ImageKind.RGBA_32BPP){const _i=!!(bi||Ai||Ei);for(ri=0,di=ti*ke*4,pi=0;pi<yi;pi++){if(li.set(xi.subarray(ki,ki+di)),ki+=di,_i)for(let Si=0;Si<di;Si+=4)bi&&(li[Si+0]=bi[li[Si+0]]),Ai&&(li[Si+1]=Ai[li[Si+1]]),Ei&&(li[Si+2]=Ei[li[Si+2]]);$e.putImageData(Ci,0,ri),ri+=ke}if(pi<wi){if(di=ti*hi*4,li.set(xi.subarray(ki,ki+di)),_i)for(let Si=0;Si<di;Si+=4)bi&&(li[Si+0]=bi[li[Si+0]]),Ai&&(li[Si+1]=Ai[li[Si+1]]),Ei&&(li[Si+2]=Ei[li[Si+2]]);$e.putImageData(Ci,0,ri)}}else if(Ke.kind===Re.ImageKind.RGB_24BPP){const _i=!!(bi||Ai||Ei);for(oi=ke,di=ti*oi,pi=0;pi<wi;pi++){for(pi>=yi&&(oi=hi,di=ti*oi),fi=0,ri=di;ri--;)li[fi++]=xi[ki++],li[fi++]=xi[ki++],li[fi++]=xi[ki++],li[fi++]=255;if(_i)for(let Si=0;Si<fi;Si+=4)bi&&(li[Si+0]=bi[li[Si+0]]),Ai&&(li[Si+1]=Ai[li[Si+1]]),Ei&&(li[Si+2]=Ei[li[Si+2]]);$e.putImageData(Ci,0,pi*ke)}}else throw new Error(`bad image kind: ${Ke.kind}`)}function Be($e,Ke){if(Ke.bitmap){$e.drawImage(Ke.bitmap,0,0);return}const Ve=Ke.height,Ue=Ke.width,ti=Ve%ke,hi=(Ve-ti)/ke,yi=ti===0?hi:hi+1,wi=$e.createImageData(Ue,ke);let Ci=0;const ki=Ke.data,fi=wi.data;for(let xi=0;xi<yi;xi++){const li=xi<hi?ke:ti;({srcPos:Ci}=(0,ii.applyMaskImageData)({src:ki,srcPos:Ci,dest:fi,width:Ue,height:li})),$e.putImageData(wi,0,xi*ke)}}function He($e,Ke){const Ve=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Ue of Ve)$e[Ue]!==void 0&&(Ke[Ue]=$e[Ue]);$e.setLineDash!==void 0&&(Ke.setLineDash($e.getLineDash()),Ke.lineDashOffset=$e.lineDashOffset)}function je($e,Ke){$e.strokeStyle=$e.fillStyle=Ke||"#000000",$e.fillRule="nonzero",$e.globalAlpha=1,$e.lineWidth=1,$e.lineCap="butt",$e.lineJoin="miter",$e.miterLimit=10,$e.globalCompositeOperation="source-over",$e.font="10px sans-serif",$e.setLineDash!==void 0&&($e.setLineDash([]),$e.lineDashOffset=0)}function Xe($e,Ke,Ve,Ue){const ti=$e.length;for(let hi=3;hi<ti;hi+=4){const yi=$e[hi];if(yi===0)$e[hi-3]=Ke,$e[hi-2]=Ve,$e[hi-1]=Ue;else if(yi<255){const wi=255-yi;$e[hi-3]=$e[hi-3]*yi+Ke*wi>>8,$e[hi-2]=$e[hi-2]*yi+Ve*wi>>8,$e[hi-1]=$e[hi-1]*yi+Ue*wi>>8}}}function St($e,Ke,Ve){const Ue=$e.length,ti=1/255;for(let hi=3;hi<Ue;hi+=4){const yi=Ve?Ve[$e[hi]]:$e[hi];Ke[hi]=Ke[hi]*yi*ti|0}}function qe($e,Ke,Ve){const Ue=$e.length;for(let ti=3;ti<Ue;ti+=4){const hi=$e[ti-3]*77+$e[ti-2]*152+$e[ti-1]*28;Ke[ti]=Ve?Ke[ti]*Ve[hi>>8]>>8:Ke[ti]*hi>>16}}function Ye($e,Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki,fi){const xi=!!hi,li=xi?hi[0]:0,pi=xi?hi[1]:0,ri=xi?hi[2]:0;let oi;ti==="Luminosity"?oi=qe:oi=St;const bi=Math.min(Ue,Math.ceil(1048576/Ve));for(let Ai=0;Ai<Ue;Ai+=bi){const Ei=Math.min(bi,Ue-Ai),mi=$e.getImageData(wi-ki,Ai+(Ci-fi),Ve,Ei),_i=Ke.getImageData(wi,Ai+Ci,Ve,Ei);xi&&Xe(mi.data,li,pi,ri),oi(mi.data,_i.data,yi),Ke.putImageData(_i,wi,Ai+Ci)}}function gi($e,Ke,Ve,Ue){const ti=Ue[0],hi=Ue[1],yi=Ue[2]-ti,wi=Ue[3]-hi;yi===0||wi===0||(Ye(Ke.context,Ve,yi,wi,Ke.subtype,Ke.backdrop,Ke.transferMap,ti,hi,Ke.offsetX,Ke.offsetY),$e.save(),$e.globalAlpha=1,$e.globalCompositeOperation="source-over",$e.setTransform(1,0,0,1,0,0),$e.drawImage(Ve.canvas,0,0),$e.restore())}function ai($e,Ke){const Ve=Re.Util.singularValueDecompose2dScale($e);Ve[0]=Math.fround(Ve[0]),Ve[1]=Math.fround(Ve[1]);const Ue=Math.fround((globalThis.devicePixelRatio||1)*Ge.PixelsPerInch.PDF_TO_CSS_UNITS);return Ke!==void 0?Ke:Ve[0]<=Ue||Ve[1]<=Ue}const ui=["butt","round","square"],Qe=["miter","round","bevel"],Ze={},ci={},ni=class{constructor(Ke,Ve,Ue,ti,hi,yi,wi){yn(this,We);this.ctx=Ke,this.current=new Me(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ve,this.objs=Ue,this.canvasFactory=ti,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=hi,this.cachedCanvases=new Ee(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=yi,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(wi==null?void 0:wi.background)||null,this.foregroundColor=(wi==null?void 0:wi.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Ke,Ve=null){return typeof Ke=="string"?Ke.startsWith("g_")?this.commonObjs.get(Ke):this.objs.get(Ke):Ve}beginDrawing({transform:Ke,viewport:Ve,transparency:Ue=!1,background:ti=null}){const hi=this.ctx.canvas.width,yi=this.ctx.canvas.height,wi=ti||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ci=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ki=this.backgroundColor=this.ctx.fillStyle;let fi=!0,xi=wi;if(this.ctx.fillStyle=wi,xi=this.ctx.fillStyle,fi=typeof xi=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xi),Ci==="#000000"&&ki==="#ffffff"||Ci===ki||!fi)this.foregroundColor=this.backgroundColor=null;else{const[li,pi,ri]=(0,Ge.getRGB)(xi),oi=bi=>(bi/=255,bi<=.03928?bi/12.92:((bi+.055)/1.055)**2.4),di=Math.round(.2126*oi(li)+.7152*oi(pi)+.0722*oi(ri));this.selectColor=(bi,Ai,Ei)=>{const mi=.2126*oi(bi)+.7152*oi(Ai)+.0722*oi(Ei);return Math.round(mi)===di?ki:Ci}}}if(this.ctx.fillStyle=this.backgroundColor||wi,this.ctx.fillRect(0,0,hi,yi),this.ctx.restore(),Ue){const Ci=this.cachedCanvases.getCanvas("transparent",hi,yi);this.compositeCtx=this.ctx,this.transparentCanvas=Ci.canvas,this.ctx=Ci.context,this.ctx.save(),this.ctx.transform(...(0,Ge.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),je(this.ctx,this.foregroundColor),Ke&&(this.ctx.transform(...Ke),this.outputScaleX=Ke[0],this.outputScaleY=Ke[0]),this.ctx.transform(...Ve.transform),this.viewportScale=Ve.scale,this.baseTransform=(0,Ge.getCurrentTransform)(this.ctx)}executeOperatorList(Ke,Ve,Ue,ti){const hi=Ke.argsArray,yi=Ke.fnArray;let wi=Ve||0;const Ci=hi.length;if(Ci===wi)return wi;const ki=Ci-wi>Te&&typeof Ue=="function",fi=ki?Date.now()+Fe:0;let xi=0;const li=this.commonObjs,pi=this.objs;let ri;for(;;){if(ti!==void 0&&wi===ti.nextBreakPoint)return ti.breakIt(wi,Ue),wi;if(ri=yi[wi],ri!==Re.OPS.dependency)this[ri].apply(this,hi[wi]);else for(const oi of hi[wi]){const di=oi.startsWith("g_")?li:pi;if(!di.has(oi))return di.get(oi,Ue),wi}if(wi++,wi===Ci)return wi;if(ki&&++xi>Te){if(Date.now()>fi)return Ue(),wi;xi=0}}}endDrawing(){Cn(this,We,$c).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Ke of this._cachedBitmapsMap.values()){for(const Ve of Ke.values())typeof HTMLCanvasElement<"u"&&Ve instanceof HTMLCanvasElement&&(Ve.width=Ve.height=0);Ke.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Ke,Ve){const Ue=Ke.width,ti=Ke.height;let hi=Math.max(Math.hypot(Ve[0],Ve[1]),1),yi=Math.max(Math.hypot(Ve[2],Ve[3]),1),wi=Ue,Ci=ti,ki="prescale1",fi,xi;for(;hi>2&&wi>1||yi>2&&Ci>1;){let li=wi,pi=Ci;hi>2&&wi>1&&(li=Math.ceil(wi/2),hi/=wi/li),yi>2&&Ci>1&&(pi=Math.ceil(Ci/2),yi/=Ci/pi),fi=this.cachedCanvases.getCanvas(ki,li,pi),xi=fi.context,xi.clearRect(0,0,li,pi),xi.drawImage(Ke,0,0,wi,Ci,0,0,li,pi),Ke=fi.canvas,wi=li,Ci=pi,ki=ki==="prescale1"?"prescale2":"prescale1"}return{img:Ke,paintWidth:wi,paintHeight:Ci}}_createMaskCanvas(Ke){const Ve=this.ctx,{width:Ue,height:ti}=Ke,hi=this.current.fillColor,yi=this.current.patternFill,wi=(0,Ge.getCurrentTransform)(Ve);let Ci,ki,fi,xi;if((Ke.bitmap||Ke.data)&&Ke.count>1){const Fi=Ke.bitmap||Ke.data.buffer;ki=JSON.stringify(yi?wi:[wi.slice(0,4),hi]),Ci=this._cachedBitmapsMap.get(Fi),Ci||(Ci=new Map,this._cachedBitmapsMap.set(Fi,Ci));const Pi=Ci.get(ki);if(Pi&&!yi){const Di=Math.round(Math.min(wi[0],wi[2])+wi[4]),Ii=Math.round(Math.min(wi[1],wi[3])+wi[5]);return{canvas:Pi,offsetX:Di,offsetY:Ii}}fi=Pi}fi||(xi=this.cachedCanvases.getCanvas("maskCanvas",Ue,ti),Be(xi.context,Ke));let li=Re.Util.transform(wi,[1/Ue,0,0,-1/ti,0,0]);li=Re.Util.transform(li,[1,0,0,1,0,-ti]);const pi=Re.Util.applyTransform([0,0],li),ri=Re.Util.applyTransform([Ue,ti],li),oi=Re.Util.normalizeRect([pi[0],pi[1],ri[0],ri[1]]),di=Math.round(oi[2]-oi[0])||1,bi=Math.round(oi[3]-oi[1])||1,Ai=this.cachedCanvases.getCanvas("fillCanvas",di,bi),Ei=Ai.context,mi=Math.min(pi[0],ri[0]),_i=Math.min(pi[1],ri[1]);Ei.translate(-mi,-_i),Ei.transform(...li),fi||(fi=this._scaleImage(xi.canvas,(0,Ge.getCurrentTransformInverse)(Ei)),fi=fi.img,Ci&&yi&&Ci.set(ki,fi)),Ei.imageSmoothingEnabled=ai((0,Ge.getCurrentTransform)(Ei),Ke.interpolate),Pe(Ei,fi,0,0,fi.width,fi.height,0,0,Ue,ti),Ei.globalCompositeOperation="source-in";const Si=Re.Util.transform((0,Ge.getCurrentTransformInverse)(Ei),[1,0,0,1,-mi,-_i]);return Ei.fillStyle=yi?hi.getPattern(Ve,this,Si,Je.PathType.FILL):hi,Ei.fillRect(0,0,Ue,ti),Ci&&!yi&&(this.cachedCanvases.delete("fillCanvas"),Ci.set(ki,Ai.canvas)),{canvas:Ai.canvas,offsetX:Math.round(mi),offsetY:Math.round(_i)}}setLineWidth(Ke){Ke!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Ke,this.ctx.lineWidth=Ke}setLineCap(Ke){this.ctx.lineCap=ui[Ke]}setLineJoin(Ke){this.ctx.lineJoin=Qe[Ke]}setMiterLimit(Ke){this.ctx.miterLimit=Ke}setDash(Ke,Ve){const Ue=this.ctx;Ue.setLineDash!==void 0&&(Ue.setLineDash(Ke),Ue.lineDashOffset=Ve)}setRenderingIntent(Ke){}setFlatness(Ke){}setGState(Ke){for(const[Ve,Ue]of Ke)switch(Ve){case"LW":this.setLineWidth(Ue);break;case"LC":this.setLineCap(Ue);break;case"LJ":this.setLineJoin(Ue);break;case"ML":this.setMiterLimit(Ue);break;case"D":this.setDash(Ue[0],Ue[1]);break;case"RI":this.setRenderingIntent(Ue);break;case"FL":this.setFlatness(Ue);break;case"Font":this.setFont(Ue[0],Ue[1]);break;case"CA":this.current.strokeAlpha=Ue;break;case"ca":this.current.fillAlpha=Ue,this.ctx.globalAlpha=Ue;break;case"BM":this.ctx.globalCompositeOperation=Ue;break;case"SMask":this.current.activeSMask=Ue?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Ue}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Ke=this.inSMaskMode;this.current.activeSMask&&!Ke?this.beginSMaskMode():!this.current.activeSMask&&Ke&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ke=this.ctx.canvas.width,Ve=this.ctx.canvas.height,Ue="smaskGroupAt"+this.groupLevel,ti=this.cachedCanvases.getCanvas(Ue,Ke,Ve);this.suspendedCtx=this.ctx,this.ctx=ti.context;const hi=this.ctx;hi.setTransform(...(0,Ge.getCurrentTransform)(this.suspendedCtx)),He(this.suspendedCtx,hi),Oe(hi,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),He(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Ke){if(!this.current.activeSMask)return;Ke?(Ke[0]=Math.floor(Ke[0]),Ke[1]=Math.floor(Ke[1]),Ke[2]=Math.ceil(Ke[2]),Ke[3]=Math.ceil(Ke[3])):Ke=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ve=this.current.activeSMask,Ue=this.suspendedCtx;gi(Ue,Ve,this.ctx,Ke),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(He(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Ke=this.current;this.stateStack.push(Ke),this.current=Ke.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),He(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Ke,Ve,Ue,ti,hi,yi){this.ctx.transform(Ke,Ve,Ue,ti,hi,yi),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Ke,Ve,Ue){const ti=this.ctx,hi=this.current;let yi=hi.x,wi=hi.y,Ci,ki;const fi=(0,Ge.getCurrentTransform)(ti),xi=fi[0]===0&&fi[3]===0||fi[1]===0&&fi[2]===0,li=xi?Ue.slice(0):null;for(let pi=0,ri=0,oi=Ke.length;pi<oi;pi++)switch(Ke[pi]|0){case Re.OPS.rectangle:yi=Ve[ri++],wi=Ve[ri++];const di=Ve[ri++],bi=Ve[ri++],Ai=yi+di,Ei=wi+bi;ti.moveTo(yi,wi),di===0||bi===0?ti.lineTo(Ai,Ei):(ti.lineTo(Ai,wi),ti.lineTo(Ai,Ei),ti.lineTo(yi,Ei)),xi||hi.updateRectMinMax(fi,[yi,wi,Ai,Ei]),ti.closePath();break;case Re.OPS.moveTo:yi=Ve[ri++],wi=Ve[ri++],ti.moveTo(yi,wi),xi||hi.updatePathMinMax(fi,yi,wi);break;case Re.OPS.lineTo:yi=Ve[ri++],wi=Ve[ri++],ti.lineTo(yi,wi),xi||hi.updatePathMinMax(fi,yi,wi);break;case Re.OPS.curveTo:Ci=yi,ki=wi,yi=Ve[ri+4],wi=Ve[ri+5],ti.bezierCurveTo(Ve[ri],Ve[ri+1],Ve[ri+2],Ve[ri+3],yi,wi),hi.updateCurvePathMinMax(fi,Ci,ki,Ve[ri],Ve[ri+1],Ve[ri+2],Ve[ri+3],yi,wi,li),ri+=6;break;case Re.OPS.curveTo2:Ci=yi,ki=wi,ti.bezierCurveTo(yi,wi,Ve[ri],Ve[ri+1],Ve[ri+2],Ve[ri+3]),hi.updateCurvePathMinMax(fi,Ci,ki,yi,wi,Ve[ri],Ve[ri+1],Ve[ri+2],Ve[ri+3],li),yi=Ve[ri+2],wi=Ve[ri+3],ri+=4;break;case Re.OPS.curveTo3:Ci=yi,ki=wi,yi=Ve[ri+2],wi=Ve[ri+3],ti.bezierCurveTo(Ve[ri],Ve[ri+1],yi,wi,yi,wi),hi.updateCurvePathMinMax(fi,Ci,ki,Ve[ri],Ve[ri+1],yi,wi,yi,wi,li),ri+=4;break;case Re.OPS.closePath:ti.closePath();break}xi&&hi.updateScalingPathMinMax(fi,li),hi.setCurrentPoint(yi,wi)}closePath(){this.ctx.closePath()}stroke(Ke){Ke=typeof Ke<"u"?Ke:!0;const Ve=this.ctx,Ue=this.current.strokeColor;Ve.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ue=="object"&&(Ue==null?void 0:Ue.getPattern)?(Ve.save(),Ve.strokeStyle=Ue.getPattern(Ve,this,(0,Ge.getCurrentTransformInverse)(Ve),Je.PathType.STROKE),this.rescaleAndStroke(!1),Ve.restore()):this.rescaleAndStroke(!0)),Ke&&this.consumePath(this.current.getClippedPathBoundingBox()),Ve.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Ke){Ke=typeof Ke<"u"?Ke:!0;const Ve=this.ctx,Ue=this.current.fillColor,ti=this.current.patternFill;let hi=!1;ti&&(Ve.save(),Ve.fillStyle=Ue.getPattern(Ve,this,(0,Ge.getCurrentTransformInverse)(Ve),Je.PathType.FILL),hi=!0);const yi=this.current.getClippedPathBoundingBox();this.contentVisible&&yi!==null&&(this.pendingEOFill?(Ve.fill("evenodd"),this.pendingEOFill=!1):Ve.fill()),hi&&Ve.restore(),Ke&&this.consumePath(yi)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ze}eoClip(){this.pendingClip=ci}beginText(){this.current.textMatrix=Re.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Ke=this.pendingTextPaths,Ve=this.ctx;if(Ke===void 0){Ve.beginPath();return}Ve.save(),Ve.beginPath();for(const Ue of Ke)Ve.setTransform(...Ue.transform),Ve.translate(Ue.x,Ue.y),Ue.addToPath(Ve,Ue.fontSize);Ve.restore(),Ve.clip(),Ve.beginPath(),delete this.pendingTextPaths}setCharSpacing(Ke){this.current.charSpacing=Ke}setWordSpacing(Ke){this.current.wordSpacing=Ke}setHScale(Ke){this.current.textHScale=Ke/100}setLeading(Ke){this.current.leading=-Ke}setFont(Ke,Ve){const Ue=this.commonObjs.get(Ke),ti=this.current;if(!Ue)throw new Error(`Can't find font for ${Ke}`);if(ti.fontMatrix=Ue.fontMatrix||Re.FONT_IDENTITY_MATRIX,(ti.fontMatrix[0]===0||ti.fontMatrix[3]===0)&&(0,Re.warn)("Invalid font matrix for font "+Ke),Ve<0?(Ve=-Ve,ti.fontDirection=-1):ti.fontDirection=1,this.current.font=Ue,this.current.fontSize=Ve,Ue.isType3Font)return;const hi=Ue.loadedName||"sans-serif";let yi="normal";Ue.black?yi="900":Ue.bold&&(yi="bold");const wi=Ue.italic?"italic":"normal",Ci=`"${hi}", ${Ue.fallbackName}`;let ki=Ve;Ve<_e?ki=_e:Ve>t&&(ki=t),this.current.fontSizeScale=Ve/ki,this.ctx.font=`${wi} ${yi} ${ki}px ${Ci}`}setTextRenderingMode(Ke){this.current.textRenderingMode=Ke}setTextRise(Ke){this.current.textRise=Ke}moveText(Ke,Ve){this.current.x=this.current.lineX+=Ke,this.current.y=this.current.lineY+=Ve}setLeadingMoveText(Ke,Ve){this.setLeading(-Ve),this.moveText(Ke,Ve)}setTextMatrix(Ke,Ve,Ue,ti,hi,yi){this.current.textMatrix=[Ke,Ve,Ue,ti,hi,yi],this.current.textMatrixScale=Math.hypot(Ke,Ve),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Ke,Ve,Ue,ti){const hi=this.ctx,yi=this.current,wi=yi.font,Ci=yi.textRenderingMode,ki=yi.fontSize/yi.fontSizeScale,fi=Ci&Re.TextRenderingMode.FILL_STROKE_MASK,xi=!!(Ci&Re.TextRenderingMode.ADD_TO_PATH_FLAG),li=yi.patternFill&&!wi.missingFile;let pi;(wi.disableFontFace||xi||li)&&(pi=wi.getPathGenerator(this.commonObjs,Ke)),wi.disableFontFace||li?(hi.save(),hi.translate(Ve,Ue),hi.beginPath(),pi(hi,ki),ti&&hi.setTransform(...ti),(fi===Re.TextRenderingMode.FILL||fi===Re.TextRenderingMode.FILL_STROKE)&&hi.fill(),(fi===Re.TextRenderingMode.STROKE||fi===Re.TextRenderingMode.FILL_STROKE)&&hi.stroke(),hi.restore()):((fi===Re.TextRenderingMode.FILL||fi===Re.TextRenderingMode.FILL_STROKE)&&hi.fillText(Ke,Ve,Ue),(fi===Re.TextRenderingMode.STROKE||fi===Re.TextRenderingMode.FILL_STROKE)&&hi.strokeText(Ke,Ve,Ue)),xi&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Ge.getCurrentTransform)(hi),x:Ve,y:Ue,fontSize:ki,addToPath:pi})}get isFontSubpixelAAEnabled(){const{context:Ke}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Ke.scale(1.5,1),Ke.fillText("I",0,10);const Ve=Ke.getImageData(0,0,10,10).data;let Ue=!1;for(let ti=3;ti<Ve.length;ti+=4)if(Ve[ti]>0&&Ve[ti]<255){Ue=!0;break}return(0,Re.shadow)(this,"isFontSubpixelAAEnabled",Ue)}showText(Ke){const Ve=this.current,Ue=Ve.font;if(Ue.isType3Font)return this.showType3Text(Ke);const ti=Ve.fontSize;if(ti===0)return;const hi=this.ctx,yi=Ve.fontSizeScale,wi=Ve.charSpacing,Ci=Ve.wordSpacing,ki=Ve.fontDirection,fi=Ve.textHScale*ki,xi=Ke.length,li=Ue.vertical,pi=li?1:-1,ri=Ue.defaultVMetrics,oi=ti*Ve.fontMatrix[0],di=Ve.textRenderingMode===Re.TextRenderingMode.FILL&&!Ue.disableFontFace&&!Ve.patternFill;hi.save(),hi.transform(...Ve.textMatrix),hi.translate(Ve.x,Ve.y+Ve.textRise),ki>0?hi.scale(fi,-1):hi.scale(fi,1);let bi;if(Ve.patternFill){hi.save();const Si=Ve.fillColor.getPattern(hi,this,(0,Ge.getCurrentTransformInverse)(hi),Je.PathType.FILL);bi=(0,Ge.getCurrentTransform)(hi),hi.restore(),hi.fillStyle=Si}let Ai=Ve.lineWidth;const Ei=Ve.textMatrixScale;if(Ei===0||Ai===0){const Si=Ve.textRenderingMode&Re.TextRenderingMode.FILL_STROKE_MASK;(Si===Re.TextRenderingMode.STROKE||Si===Re.TextRenderingMode.FILL_STROKE)&&(Ai=this.getSinglePixelWidth())}else Ai/=Ei;yi!==1&&(hi.scale(yi,yi),Ai/=yi),hi.lineWidth=Ai;let mi=0,_i;for(_i=0;_i<xi;++_i){const Si=Ke[_i];if(typeof Si=="number"){mi+=pi*Si*ti/1e3;continue}let Fi=!1;const Pi=(Si.isSpace?Ci:0)+wi,Di=Si.fontChar,Ii=Si.accent;let Mi,$i,Xi=Si.width;if(li){const tn=Si.vmetric||ri,on=-(Si.vmetric?tn[1]:Xi*.5)*oi,fn=tn[2]*oi;Xi=tn?-tn[0]:Xi,Mi=on/yi,$i=(mi+fn)/yi}else Mi=mi/yi,$i=0;if(Ue.remeasure&&Xi>0){const tn=hi.measureText(Di).width*1e3/ti*yi;if(Xi<tn&&this.isFontSubpixelAAEnabled){const on=Xi/tn;Fi=!0,hi.save(),hi.scale(on,1),Mi/=on}else Xi!==tn&&(Mi+=(Xi-tn)/2e3*ti/yi)}if(this.contentVisible&&(Si.isInFont||Ue.missingFile)){if(di&&!Ii)hi.fillText(Di,Mi,$i);else if(this.paintChar(Di,Mi,$i,bi),Ii){const tn=Mi+ti*Ii.offset.x/yi,on=$i-ti*Ii.offset.y/yi;this.paintChar(Ii.fontChar,tn,on,bi)}}let rn;li?rn=Xi*oi-Pi*ki:rn=Xi*oi+Pi*ki,mi+=rn,Fi&&hi.restore()}li?Ve.y-=mi:Ve.x+=mi*fi,hi.restore(),this.compose()}showType3Text(Ke){const Ve=this.ctx,Ue=this.current,ti=Ue.font,hi=Ue.fontSize,yi=Ue.fontDirection,wi=ti.vertical?1:-1,Ci=Ue.charSpacing,ki=Ue.wordSpacing,fi=Ue.textHScale*yi,xi=Ue.fontMatrix||Re.FONT_IDENTITY_MATRIX,li=Ke.length,pi=Ue.textRenderingMode===Re.TextRenderingMode.INVISIBLE;let ri,oi,di,bi;if(!(pi||hi===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Ve.save(),Ve.transform(...Ue.textMatrix),Ve.translate(Ue.x,Ue.y),Ve.scale(fi,yi),ri=0;ri<li;++ri){if(oi=Ke[ri],typeof oi=="number"){bi=wi*oi*hi/1e3,this.ctx.translate(bi,0),Ue.x+=bi*fi;continue}const Ai=(oi.isSpace?ki:0)+Ci,Ei=ti.charProcOperatorList[oi.operatorListId];if(!Ei){(0,Re.warn)(`Type3 character "${oi.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=oi,this.save(),Ve.scale(hi,hi),Ve.transform(...xi),this.executeOperatorList(Ei),this.restore()),di=Re.Util.applyTransform([oi.width,0],xi)[0]*hi+Ai,Ve.translate(di,0),Ue.x+=di*fi}Ve.restore(),this.processingType3=null}}setCharWidth(Ke,Ve){}setCharWidthAndBounds(Ke,Ve,Ue,ti,hi,yi){this.ctx.rect(Ue,ti,hi-Ue,yi-ti),this.ctx.clip(),this.endPath()}getColorN_Pattern(Ke){let Ve;if(Ke[0]==="TilingPattern"){const Ue=Ke[1],ti=this.baseTransform||(0,Ge.getCurrentTransform)(this.ctx),hi={createCanvasGraphics:yi=>new ni(yi,this.commonObjs,this.objs,this.canvasFactory)};Ve=new Je.TilingPattern(Ke,Ue,this.ctx,hi,ti)}else Ve=this._getPattern(Ke[1],Ke[2]);return Ve}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Ke,Ve,Ue){var hi;const ti=((hi=this.selectColor)==null?void 0:hi.call(this,Ke,Ve,Ue))||Re.Util.makeHexColor(Ke,Ve,Ue);this.ctx.strokeStyle=ti,this.current.strokeColor=ti}setFillRGBColor(Ke,Ve,Ue){var hi;const ti=((hi=this.selectColor)==null?void 0:hi.call(this,Ke,Ve,Ue))||Re.Util.makeHexColor(Ke,Ve,Ue);this.ctx.fillStyle=ti,this.current.fillColor=ti,this.current.patternFill=!1}_getPattern(Ke,Ve=null){let Ue;return this.cachedPatterns.has(Ke)?Ue=this.cachedPatterns.get(Ke):(Ue=(0,Je.getShadingPattern)(this.objs.get(Ke)),this.cachedPatterns.set(Ke,Ue)),Ve&&(Ue.matrix=Ve),Ue}shadingFill(Ke){if(!this.contentVisible)return;const Ve=this.ctx;this.save();const Ue=this._getPattern(Ke);Ve.fillStyle=Ue.getPattern(Ve,this,(0,Ge.getCurrentTransformInverse)(Ve),Je.PathType.SHADING);const ti=(0,Ge.getCurrentTransformInverse)(Ve);if(ti){const hi=Ve.canvas,yi=hi.width,wi=hi.height,Ci=Re.Util.applyTransform([0,0],ti),ki=Re.Util.applyTransform([0,wi],ti),fi=Re.Util.applyTransform([yi,0],ti),xi=Re.Util.applyTransform([yi,wi],ti),li=Math.min(Ci[0],ki[0],fi[0],xi[0]),pi=Math.min(Ci[1],ki[1],fi[1],xi[1]),ri=Math.max(Ci[0],ki[0],fi[0],xi[0]),oi=Math.max(Ci[1],ki[1],fi[1],xi[1]);this.ctx.fillRect(li,pi,ri-li,oi-pi)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Re.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Re.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Ke,Ve){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ke)&&Ke.length===6&&this.transform(...Ke),this.baseTransform=(0,Ge.getCurrentTransform)(this.ctx),Ve)){const Ue=Ve[2]-Ve[0],ti=Ve[3]-Ve[1];this.ctx.rect(Ve[0],Ve[1],Ue,ti),this.current.updateRectMinMax((0,Ge.getCurrentTransform)(this.ctx),Ve),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Ke){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ve=this.ctx;Ke.isolated||(0,Re.info)("TODO: Support non-isolated groups."),Ke.knockout&&(0,Re.warn)("Knockout groups not supported.");const Ue=(0,Ge.getCurrentTransform)(Ve);if(Ke.matrix&&Ve.transform(...Ke.matrix),!Ke.bbox)throw new Error("Bounding box is required.");let ti=Re.Util.getAxialAlignedBoundingBox(Ke.bbox,(0,Ge.getCurrentTransform)(Ve));const hi=[0,0,Ve.canvas.width,Ve.canvas.height];ti=Re.Util.intersect(ti,hi)||[0,0,0,0];const yi=Math.floor(ti[0]),wi=Math.floor(ti[1]);let Ci=Math.max(Math.ceil(ti[2])-yi,1),ki=Math.max(Math.ceil(ti[3])-wi,1),fi=1,xi=1;Ci>xe&&(fi=Ci/xe,Ci=xe),ki>xe&&(xi=ki/xe,ki=xe),this.current.startNewPathAndClipBox([0,0,Ci,ki]);let li="groupAt"+this.groupLevel;Ke.smask&&(li+="_smask_"+this.smaskCounter++%2);const pi=this.cachedCanvases.getCanvas(li,Ci,ki),ri=pi.context;ri.scale(1/fi,1/xi),ri.translate(-yi,-wi),ri.transform(...Ue),Ke.smask?this.smaskStack.push({canvas:pi.canvas,context:ri,offsetX:yi,offsetY:wi,scaleX:fi,scaleY:xi,subtype:Ke.smask.subtype,backdrop:Ke.smask.backdrop,transferMap:Ke.smask.transferMap||null,startTransformInverse:null}):(Ve.setTransform(1,0,0,1,0,0),Ve.translate(yi,wi),Ve.scale(fi,xi),Ve.save()),He(Ve,ri),this.ctx=ri,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ve),this.groupLevel++}endGroup(Ke){if(!this.contentVisible)return;this.groupLevel--;const Ve=this.ctx,Ue=this.groupStack.pop();if(this.ctx=Ue,this.ctx.imageSmoothingEnabled=!1,Ke.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ti=(0,Ge.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ti);const hi=Re.Util.getAxialAlignedBoundingBox([0,0,Ve.canvas.width,Ve.canvas.height],ti);this.ctx.drawImage(Ve.canvas,0,0),this.ctx.restore(),this.compose(hi)}}beginAnnotation(Ke,Ve,Ue,ti,hi){if(Cn(this,We,$c).call(this),je(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ve)&&Ve.length===4){const yi=Ve[2]-Ve[0],wi=Ve[3]-Ve[1];if(hi&&this.annotationCanvasMap){Ue=Ue.slice(),Ue[4]-=Ve[0],Ue[5]-=Ve[1],Ve=Ve.slice(),Ve[0]=Ve[1]=0,Ve[2]=yi,Ve[3]=wi;const[Ci,ki]=Re.Util.singularValueDecompose2dScale((0,Ge.getCurrentTransform)(this.ctx)),{viewportScale:fi}=this,xi=Math.ceil(yi*this.outputScaleX*fi),li=Math.ceil(wi*this.outputScaleY*fi);this.annotationCanvas=this.canvasFactory.create(xi,li);const{canvas:pi,context:ri}=this.annotationCanvas;this.annotationCanvasMap.set(Ke,pi),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ri,this.ctx.setTransform(Ci,0,0,-ki,0,wi*ki),je(this.ctx,this.foregroundColor)}else je(this.ctx,this.foregroundColor),this.ctx.rect(Ve[0],Ve[1],yi,wi),this.ctx.clip(),this.endPath()}this.current=new Me(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ue),this.transform(...ti)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Ke){if(!this.contentVisible)return;const Ve=Ke.count;Ke=this.getObject(Ke.data,Ke),Ke.count=Ve;const Ue=this.ctx,ti=this.processingType3;if(ti&&(ti.compiled===void 0&&(ti.compiled=De(Ke)),ti.compiled)){ti.compiled(Ue);return}const hi=this._createMaskCanvas(Ke),yi=hi.canvas;Ue.save(),Ue.setTransform(1,0,0,1,0,0),Ue.drawImage(yi,hi.offsetX,hi.offsetY),Ue.restore(),this.compose()}paintImageMaskXObjectRepeat(Ke,Ve,Ue=0,ti=0,hi,yi){if(!this.contentVisible)return;Ke=this.getObject(Ke.data,Ke);const wi=this.ctx;wi.save();const Ci=(0,Ge.getCurrentTransform)(wi);wi.transform(Ve,Ue,ti,hi,0,0);const ki=this._createMaskCanvas(Ke);wi.setTransform(1,0,0,1,0,0);for(let fi=0,xi=yi.length;fi<xi;fi+=2){const li=Re.Util.transform(Ci,[Ve,Ue,ti,hi,yi[fi],yi[fi+1]]),[pi,ri]=Re.Util.applyTransform([0,0],li);wi.drawImage(ki.canvas,pi,ri)}wi.restore(),this.compose()}paintImageMaskXObjectGroup(Ke){if(!this.contentVisible)return;const Ve=this.ctx,Ue=this.current.fillColor,ti=this.current.patternFill;for(const hi of Ke){const{data:yi,width:wi,height:Ci,transform:ki}=hi,fi=this.cachedCanvases.getCanvas("maskCanvas",wi,Ci),xi=fi.context;xi.save();const li=this.getObject(yi,hi);Be(xi,li),xi.globalCompositeOperation="source-in",xi.fillStyle=ti?Ue.getPattern(xi,this,(0,Ge.getCurrentTransformInverse)(Ve),Je.PathType.FILL):Ue,xi.fillRect(0,0,wi,Ci),xi.restore(),Ve.save(),Ve.transform(...ki),Ve.scale(1,-1),Pe(Ve,fi.canvas,0,0,wi,Ci,0,-1,1,1),Ve.restore()}this.compose()}paintImageXObject(Ke){if(!this.contentVisible)return;const Ve=this.getObject(Ke);if(!Ve){(0,Re.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ve)}paintImageXObjectRepeat(Ke,Ve,Ue,ti){if(!this.contentVisible)return;const hi=this.getObject(Ke);if(!hi){(0,Re.warn)("Dependent image isn't ready yet");return}const yi=hi.width,wi=hi.height,Ci=[];for(let ki=0,fi=ti.length;ki<fi;ki+=2)Ci.push({transform:[Ve,0,0,Ue,ti[ki],ti[ki+1]],x:0,y:0,w:yi,h:wi});this.paintInlineImageXObjectGroup(hi,Ci)}paintInlineImageXObject(Ke){if(!this.contentVisible)return;const Ve=Ke.width,Ue=Ke.height,ti=this.ctx;this.save(),ti.scale(1/Ve,-1/Ue);let hi;if(typeof HTMLElement=="function"&&Ke instanceof HTMLElement||!Ke.data)hi=Ke;else{const wi=this.cachedCanvases.getCanvas("inlineImage",Ve,Ue),Ci=wi.context;Ae(Ci,Ke,this.current.transferMaps),hi=wi.canvas}const yi=this._scaleImage(hi,(0,Ge.getCurrentTransformInverse)(ti));ti.imageSmoothingEnabled=ai((0,Ge.getCurrentTransform)(ti),Ke.interpolate),Pe(ti,yi.img,0,0,yi.paintWidth,yi.paintHeight,0,-Ue,Ve,Ue),this.compose(),this.restore()}paintInlineImageXObjectGroup(Ke,Ve){if(!this.contentVisible)return;const Ue=this.ctx,ti=Ke.width,hi=Ke.height,yi=this.cachedCanvases.getCanvas("inlineImage",ti,hi),wi=yi.context;Ae(wi,Ke,this.current.transferMaps);for(const Ci of Ve)Ue.save(),Ue.transform(...Ci.transform),Ue.scale(1,-1),Pe(Ue,yi.canvas,Ci.x,Ci.y,Ci.w,Ci.h,0,-1,1,1),Ue.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Ke){}markPointProps(Ke,Ve){}beginMarkedContent(Ke){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Ke,Ve){Ke==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ve)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Ke){const Ve=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ke);const Ue=this.ctx;this.pendingClip&&(Ve||(this.pendingClip===ci?Ue.clip("evenodd"):Ue.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ue.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Ke=(0,Ge.getCurrentTransform)(this.ctx);if(Ke[1]===0&&Ke[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Ke[0]),Math.abs(Ke[3]));else{const Ve=Math.abs(Ke[0]*Ke[3]-Ke[2]*Ke[1]),Ue=Math.hypot(Ke[0],Ke[2]),ti=Math.hypot(Ke[1],Ke[3]);this._cachedGetSinglePixelWidth=Math.max(Ue,ti)/Ve}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Ke}=this.current,Ve=(0,Ge.getCurrentTransform)(this.ctx);let Ue,ti;if(Ve[1]===0&&Ve[2]===0){const hi=Math.abs(Ve[0]),yi=Math.abs(Ve[3]);if(Ke===0)Ue=1/hi,ti=1/yi;else{const wi=hi*Ke,Ci=yi*Ke;Ue=wi<1?1/wi:1,ti=Ci<1?1/Ci:1}}else{const hi=Math.abs(Ve[0]*Ve[3]-Ve[2]*Ve[1]),yi=Math.hypot(Ve[0],Ve[1]),wi=Math.hypot(Ve[2],Ve[3]);if(Ke===0)Ue=wi/hi,ti=yi/hi;else{const Ci=Ke*hi;Ue=wi>Ci?wi/Ci:1,ti=yi>Ci?yi/Ci:1}}this._cachedScaleForStroking=[Ue,ti]}return this._cachedScaleForStroking}rescaleAndStroke(Ke){const{ctx:Ve}=this,{lineWidth:Ue}=this.current,[ti,hi]=this.getScaleForStroking();if(Ve.lineWidth=Ue||1,ti===1&&hi===1){Ve.stroke();return}let yi,wi,Ci;Ke&&(yi=(0,Ge.getCurrentTransform)(Ve),wi=Ve.getLineDash().slice(),Ci=Ve.lineDashOffset),Ve.scale(ti,hi);const ki=Math.max(ti,hi);Ve.setLineDash(Ve.getLineDash().map(fi=>fi/ki)),Ve.lineDashOffset/=ki,Ve.stroke(),Ke&&(Ve.setTransform(...yi),Ve.setLineDash(wi),Ve.lineDashOffset=Ci)}isContentVisible(){for(let Ke=this.markedContentStack.length-1;Ke>=0;Ke--)if(!this.markedContentStack[Ke].visible)return!1;return!0}};let ze=ni;We=new WeakSet,$c=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},r.CanvasGraphics=ze;for(const $e in Re.OPS)ze.prototype[$e]!==void 0&&(ze.prototype[Re.OPS[$e]]=ze.prototype[$e])},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TilingPattern=r.PathType=void 0,r.getShadingPattern=ke;var Re=Ie(1),Ge=Ie(6),Je=Ie(12);const ii={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};r.PathType=ii;function Se(Pe,De){if(!De||Je.isNodeJS)return;const Me=De[2]-De[0],Ae=De[3]-De[1],Be=new Path2D;Be.rect(De[0],De[1],Me,Ae),Pe.clip(Be)}class _e{constructor(){this.constructor===_e&&(0,Re.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Re.unreachable)("Abstract method `getPattern` called.")}}class t extends _e{constructor(De){super(),this._type=De[1],this._bbox=De[2],this._colorStops=De[3],this._p0=De[4],this._p1=De[5],this._r0=De[6],this._r1=De[7],this.matrix=null}_createGradient(De){let Me;this._type==="axial"?Me=De.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Me=De.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ae of this._colorStops)Me.addColorStop(Ae[0],Ae[1]);return Me}getPattern(De,Me,Ae,Be){let He;if(Be===ii.STROKE||Be===ii.FILL){const je=Me.current.getClippedPathBoundingBox(Be,(0,Ge.getCurrentTransform)(De))||[0,0,0,0],Xe=Math.ceil(je[2]-je[0])||1,St=Math.ceil(je[3]-je[1])||1,qe=Me.cachedCanvases.getCanvas("pattern",Xe,St,!0),Ye=qe.context;Ye.clearRect(0,0,Ye.canvas.width,Ye.canvas.height),Ye.beginPath(),Ye.rect(0,0,Ye.canvas.width,Ye.canvas.height),Ye.translate(-je[0],-je[1]),Ae=Re.Util.transform(Ae,[1,0,0,1,je[0],je[1]]),Ye.transform(...Me.baseTransform),this.matrix&&Ye.transform(...this.matrix),Se(Ye,this._bbox),Ye.fillStyle=this._createGradient(Ye),Ye.fill(),He=De.createPattern(qe.canvas,"no-repeat");const gi=new DOMMatrix(Ae);He.setTransform(gi)}else Se(De,this._bbox),He=this._createGradient(De);return He}}function xe(Pe,De,Me,Ae,Be,He,je,Xe){const St=De.coords,qe=De.colors,Ye=Pe.data,gi=Pe.width*4;let ai;St[Me+1]>St[Ae+1]&&(ai=Me,Me=Ae,Ae=ai,ai=He,He=je,je=ai),St[Ae+1]>St[Be+1]&&(ai=Ae,Ae=Be,Be=ai,ai=je,je=Xe,Xe=ai),St[Me+1]>St[Ae+1]&&(ai=Me,Me=Ae,Ae=ai,ai=He,He=je,je=ai);const ui=(St[Me]+De.offsetX)*De.scaleX,Qe=(St[Me+1]+De.offsetY)*De.scaleY,Ze=(St[Ae]+De.offsetX)*De.scaleX,ci=(St[Ae+1]+De.offsetY)*De.scaleY,ze=(St[Be]+De.offsetX)*De.scaleX,We=(St[Be+1]+De.offsetY)*De.scaleY;if(Qe>=We)return;const si=qe[He],ni=qe[He+1],$e=qe[He+2],Ke=qe[je],Ve=qe[je+1],Ue=qe[je+2],ti=qe[Xe],hi=qe[Xe+1],yi=qe[Xe+2],wi=Math.round(Qe),Ci=Math.round(We);let ki,fi,xi,li,pi,ri,oi,di;for(let bi=wi;bi<=Ci;bi++){if(bi<ci){let Si;bi<Qe?Si=0:Si=(Qe-bi)/(Qe-ci),ki=ui-(ui-Ze)*Si,fi=si-(si-Ke)*Si,xi=ni-(ni-Ve)*Si,li=$e-($e-Ue)*Si}else{let Si;bi>We?Si=1:ci===We?Si=0:Si=(ci-bi)/(ci-We),ki=Ze-(Ze-ze)*Si,fi=Ke-(Ke-ti)*Si,xi=Ve-(Ve-hi)*Si,li=Ue-(Ue-yi)*Si}let Ai;bi<Qe?Ai=0:bi>We?Ai=1:Ai=(Qe-bi)/(Qe-We),pi=ui-(ui-ze)*Ai,ri=si-(si-ti)*Ai,oi=ni-(ni-hi)*Ai,di=$e-($e-yi)*Ai;const Ei=Math.round(Math.min(ki,pi)),mi=Math.round(Math.max(ki,pi));let _i=gi*bi+Ei*4;for(let Si=Ei;Si<=mi;Si++)Ai=(ki-Si)/(ki-pi),Ai<0?Ai=0:Ai>1&&(Ai=1),Ye[_i++]=fi-(fi-ri)*Ai|0,Ye[_i++]=xi-(xi-oi)*Ai|0,Ye[_i++]=li-(li-di)*Ai|0,Ye[_i++]=255}}function Fe(Pe,De,Me){const Ae=De.coords,Be=De.colors;let He,je;switch(De.type){case"lattice":const Xe=De.verticesPerRow,St=Math.floor(Ae.length/Xe)-1,qe=Xe-1;for(He=0;He<St;He++){let Ye=He*Xe;for(let gi=0;gi<qe;gi++,Ye++)xe(Pe,Me,Ae[Ye],Ae[Ye+1],Ae[Ye+Xe],Be[Ye],Be[Ye+1],Be[Ye+Xe]),xe(Pe,Me,Ae[Ye+Xe+1],Ae[Ye+1],Ae[Ye+Xe],Be[Ye+Xe+1],Be[Ye+1],Be[Ye+Xe])}break;case"triangles":for(He=0,je=Ae.length;He<je;He+=3)xe(Pe,Me,Ae[He],Ae[He+1],Ae[He+2],Be[He],Be[He+1],Be[He+2]);break;default:throw new Error("illegal figure")}}class Te extends _e{constructor(De){super(),this._coords=De[2],this._colors=De[3],this._figures=De[4],this._bounds=De[5],this._bbox=De[7],this._background=De[8],this.matrix=null}_createMeshCanvas(De,Me,Ae){const Xe=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),qe=Math.ceil(this._bounds[2])-Xe,Ye=Math.ceil(this._bounds[3])-St,gi=Math.min(Math.ceil(Math.abs(qe*De[0]*1.1)),3e3),ai=Math.min(Math.ceil(Math.abs(Ye*De[1]*1.1)),3e3),ui=qe/gi,Qe=Ye/ai,Ze={coords:this._coords,colors:this._colors,offsetX:-Xe,offsetY:-St,scaleX:1/ui,scaleY:1/Qe},ci=gi+2*2,ze=ai+2*2,We=Ae.getCanvas("mesh",ci,ze,!1),si=We.context,ni=si.createImageData(gi,ai);if(Me){const Ke=ni.data;for(let Ve=0,Ue=Ke.length;Ve<Ue;Ve+=4)Ke[Ve]=Me[0],Ke[Ve+1]=Me[1],Ke[Ve+2]=Me[2],Ke[Ve+3]=255}for(const Ke of this._figures)Fe(ni,Ke,Ze);return si.putImageData(ni,2,2),{canvas:We.canvas,offsetX:Xe-2*ui,offsetY:St-2*Qe,scaleX:ui,scaleY:Qe}}getPattern(De,Me,Ae,Be){Se(De,this._bbox);let He;if(Be===ii.SHADING)He=Re.Util.singularValueDecompose2dScale((0,Ge.getCurrentTransform)(De));else if(He=Re.Util.singularValueDecompose2dScale(Me.baseTransform),this.matrix){const Xe=Re.Util.singularValueDecompose2dScale(this.matrix);He=[He[0]*Xe[0],He[1]*Xe[1]]}const je=this._createMeshCanvas(He,Be===ii.SHADING?null:this._background,Me.cachedCanvases);return Be!==ii.SHADING&&(De.setTransform(...Me.baseTransform),this.matrix&&De.transform(...this.matrix)),De.translate(je.offsetX,je.offsetY),De.scale(je.scaleX,je.scaleY),De.createPattern(je.canvas,"no-repeat")}}class e extends _e{getPattern(){return"hotpink"}}function ke(Pe){switch(Pe[0]){case"RadialAxial":return new t(Pe);case"Mesh":return new Te(Pe);case"Dummy":return new e}throw new Error(`Unknown IR type: ${Pe[0]}`)}const Oe={COLORED:1,UNCOLORED:2};class Ee{static get MAX_PATTERN_SIZE(){return(0,Re.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(De,Me,Ae,Be,He){this.operatorList=De[2],this.matrix=De[3]||[1,0,0,1,0,0],this.bbox=De[4],this.xstep=De[5],this.ystep=De[6],this.paintType=De[7],this.tilingType=De[8],this.color=Me,this.ctx=Ae,this.canvasGraphicsFactory=Be,this.baseTransform=He}createPatternCanvas(De){const Me=this.operatorList,Ae=this.bbox,Be=this.xstep,He=this.ystep,je=this.paintType,Xe=this.tilingType,St=this.color,qe=this.canvasGraphicsFactory;(0,Re.info)("TilingType: "+Xe);const Ye=Ae[0],gi=Ae[1],ai=Ae[2],ui=Ae[3],Qe=Re.Util.singularValueDecompose2dScale(this.matrix),Ze=Re.Util.singularValueDecompose2dScale(this.baseTransform),ci=[Qe[0]*Ze[0],Qe[1]*Ze[1]],ze=this.getSizeAndScale(Be,this.ctx.canvas.width,ci[0]),We=this.getSizeAndScale(He,this.ctx.canvas.height,ci[1]),si=De.cachedCanvases.getCanvas("pattern",ze.size,We.size,!0),ni=si.context,$e=qe.createCanvasGraphics(ni);$e.groupLevel=De.groupLevel,this.setFillAndStrokeStyleToContext($e,je,St);let Ke=Ye,Ve=gi,Ue=ai,ti=ui;return Ye<0&&(Ke=0,Ue+=Math.abs(Ye)),gi<0&&(Ve=0,ti+=Math.abs(gi)),ni.translate(-(ze.scale*Ke),-(We.scale*Ve)),$e.transform(ze.scale,0,0,We.scale,0,0),ni.save(),this.clipBbox($e,Ke,Ve,Ue,ti),$e.baseTransform=(0,Ge.getCurrentTransform)($e.ctx),$e.executeOperatorList(Me),$e.endDrawing(),{canvas:si.canvas,scaleX:ze.scale,scaleY:We.scale,offsetX:Ke,offsetY:Ve}}getSizeAndScale(De,Me,Ae){De=Math.abs(De);const Be=Math.max(Ee.MAX_PATTERN_SIZE,Me);let He=Math.ceil(De*Ae);return He>=Be?He=Be:Ae=He/De,{scale:Ae,size:He}}clipBbox(De,Me,Ae,Be,He){const je=Be-Me,Xe=He-Ae;De.ctx.rect(Me,Ae,je,Xe),De.current.updateRectMinMax((0,Ge.getCurrentTransform)(De.ctx),[Me,Ae,Be,He]),De.clip(),De.endPath()}setFillAndStrokeStyleToContext(De,Me,Ae){const Be=De.ctx,He=De.current;switch(Me){case Oe.COLORED:const je=this.ctx;Be.fillStyle=je.fillStyle,Be.strokeStyle=je.strokeStyle,He.fillColor=je.fillStyle,He.strokeColor=je.strokeStyle;break;case Oe.UNCOLORED:const Xe=Re.Util.makeHexColor(Ae[0],Ae[1],Ae[2]);Be.fillStyle=Xe,Be.strokeStyle=Xe,He.fillColor=Xe,He.strokeColor=Xe;break;default:throw new Re.FormatError(`Unsupported paint type: ${Me}`)}}getPattern(De,Me,Ae,Be){let He=Ae;Be!==ii.SHADING&&(He=Re.Util.transform(He,Me.baseTransform),this.matrix&&(He=Re.Util.transform(He,this.matrix)));const je=this.createPatternCanvas(Me);let Xe=new DOMMatrix(He);Xe=Xe.translate(je.offsetX,je.offsetY),Xe=Xe.scale(1/je.scaleX,1/je.scaleY);const St=De.createPattern(je.canvas,"repeat");return St.setTransform(Xe),St}}r.TilingPattern=Ee},(Ce,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isNodeJS=void 0;const Ie=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");r.isNodeJS=Ie},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.applyMaskImageData=Ge;var Re=Ie(1);function Ge({src:Je,srcPos:ii=0,dest:Se,destPos:_e=0,width:t,height:xe,inverseDecode:Fe=!1}){const Te=Re.FeatureTest.isLittleEndian?4278190080:255,[e,ke]=Fe?[0,Te]:[Te,0],Oe=t>>3,Ee=t&7,Pe=Je.length;Se=new Uint32Array(Se.buffer);for(let De=0;De<xe;De++){for(const Ae=ii+Oe;ii<Ae;ii++){const Be=ii<Pe?Je[ii]:255;Se[_e++]=Be&128?ke:e,Se[_e++]=Be&64?ke:e,Se[_e++]=Be&32?ke:e,Se[_e++]=Be&16?ke:e,Se[_e++]=Be&8?ke:e,Se[_e++]=Be&4?ke:e,Se[_e++]=Be&2?ke:e,Se[_e++]=Be&1?ke:e}if(Ee===0)continue;const Me=ii<Pe?Je[ii++]:255;for(let Ae=0;Ae<Ee;Ae++)Se[_e++]=Me&1<<7-Ae?ke:e}return{srcPos:ii,destPos:_e}}},(Ce,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GlobalWorkerOptions=void 0;const Ie=Object.create(null);r.GlobalWorkerOptions=Ie,Ie.workerPort=Ie.workerPort===void 0?null:Ie.workerPort,Ie.workerSrc=Ie.workerSrc===void 0?"":Ie.workerSrc},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MessageHandler=void 0;var Re=Ie(1);const Ge={UNKNOWN:0,DATA:1,ERROR:2},Je={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ii(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,Re.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new Re.AbortException(_e.message);case"MissingPDFException":return new Re.MissingPDFException(_e.message);case"PasswordException":return new Re.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new Re.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new Re.UnknownErrorException(_e.message,_e.details);default:return new Re.UnknownErrorException(_e.message,_e.toString())}}class Se{constructor(t,xe,Fe){this.sourceName=t,this.targetName=xe,this.comObj=Fe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Te=>{const e=Te.data;if(e.targetName!==this.sourceName)return;if(e.stream){this._processStreamMessage(e);return}if(e.callback){const Oe=e.callbackId,Ee=this.callbackCapabilities[Oe];if(!Ee)throw new Error(`Cannot resolve callback ${Oe}`);if(delete this.callbackCapabilities[Oe],e.callback===Ge.DATA)Ee.resolve(e.data);else if(e.callback===Ge.ERROR)Ee.reject(ii(e.reason));else throw new Error("Unexpected callback case");return}const ke=this.actionHandler[e.action];if(!ke)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const Oe=this.sourceName,Ee=e.sourceName;new Promise(function(Pe){Pe(ke(e.data))}).then(function(Pe){Fe.postMessage({sourceName:Oe,targetName:Ee,callback:Ge.DATA,callbackId:e.callbackId,data:Pe})},function(Pe){Fe.postMessage({sourceName:Oe,targetName:Ee,callback:Ge.ERROR,callbackId:e.callbackId,reason:ii(Pe)})});return}if(e.streamId){this._createStreamSink(e);return}ke(e.data)},Fe.addEventListener("message",this._onComObjOnMessage)}on(t,xe){const Fe=this.actionHandler;if(Fe[t])throw new Error(`There is already an actionName called "${t}"`);Fe[t]=xe}send(t,xe,Fe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:xe},Fe)}sendWithPromise(t,xe,Fe){const Te=this.callbackId++,e=(0,Re.createPromiseCapability)();this.callbackCapabilities[Te]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:Te,data:xe},Fe)}catch(ke){e.reject(ke)}return e.promise}sendWithStream(t,xe,Fe,Te){const e=this.streamId++,ke=this.sourceName,Oe=this.targetName,Ee=this.comObj;return new ReadableStream({start:Pe=>{const De=(0,Re.createPromiseCapability)();return this.streamControllers[e]={controller:Pe,startCall:De,pullCall:null,cancelCall:null,isClosed:!1},Ee.postMessage({sourceName:ke,targetName:Oe,action:t,streamId:e,data:xe,desiredSize:Pe.desiredSize},Te),De.promise},pull:Pe=>{const De=(0,Re.createPromiseCapability)();return this.streamControllers[e].pullCall=De,Ee.postMessage({sourceName:ke,targetName:Oe,stream:Je.PULL,streamId:e,desiredSize:Pe.desiredSize}),De.promise},cancel:Pe=>{(0,Re.assert)(Pe instanceof Error,"cancel must have a valid reason");const De=(0,Re.createPromiseCapability)();return this.streamControllers[e].cancelCall=De,this.streamControllers[e].isClosed=!0,Ee.postMessage({sourceName:ke,targetName:Oe,stream:Je.CANCEL,streamId:e,reason:ii(Pe)}),De.promise}},Fe)}_createStreamSink(t){const xe=t.streamId,Fe=this.sourceName,Te=t.sourceName,e=this.comObj,ke=this,Oe=this.actionHandler[t.action],Ee={enqueue(Pe,De=1,Me){if(this.isCancelled)return;const Ae=this.desiredSize;this.desiredSize-=De,Ae>0&&this.desiredSize<=0&&(this.sinkCapability=(0,Re.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:Fe,targetName:Te,stream:Je.ENQUEUE,streamId:xe,chunk:Pe},Me)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:Fe,targetName:Te,stream:Je.CLOSE,streamId:xe}),delete ke.streamSinks[xe])},error(Pe){(0,Re.assert)(Pe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,e.postMessage({sourceName:Fe,targetName:Te,stream:Je.ERROR,streamId:xe,reason:ii(Pe)}))},sinkCapability:(0,Re.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};Ee.sinkCapability.resolve(),Ee.ready=Ee.sinkCapability.promise,this.streamSinks[xe]=Ee,new Promise(function(Pe){Pe(Oe(t.data,Ee))}).then(function(){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.START_COMPLETE,streamId:xe,success:!0})},function(Pe){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.START_COMPLETE,streamId:xe,reason:ii(Pe)})})}_processStreamMessage(t){const xe=t.streamId,Fe=this.sourceName,Te=t.sourceName,e=this.comObj,ke=this.streamControllers[xe],Oe=this.streamSinks[xe];switch(t.stream){case Je.START_COMPLETE:t.success?ke.startCall.resolve():ke.startCall.reject(ii(t.reason));break;case Je.PULL_COMPLETE:t.success?ke.pullCall.resolve():ke.pullCall.reject(ii(t.reason));break;case Je.PULL:if(!Oe){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.PULL_COMPLETE,streamId:xe,success:!0});break}Oe.desiredSize<=0&&t.desiredSize>0&&Oe.sinkCapability.resolve(),Oe.desiredSize=t.desiredSize,new Promise(function(Ee){Ee(Oe.onPull&&Oe.onPull())}).then(function(){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.PULL_COMPLETE,streamId:xe,success:!0})},function(Ee){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.PULL_COMPLETE,streamId:xe,reason:ii(Ee)})});break;case Je.ENQUEUE:if((0,Re.assert)(ke,"enqueue should have stream controller"),ke.isClosed)break;ke.controller.enqueue(t.chunk);break;case Je.CLOSE:if((0,Re.assert)(ke,"close should have stream controller"),ke.isClosed)break;ke.isClosed=!0,ke.controller.close(),this._deleteStreamController(ke,xe);break;case Je.ERROR:(0,Re.assert)(ke,"error should have stream controller"),ke.controller.error(ii(t.reason)),this._deleteStreamController(ke,xe);break;case Je.CANCEL_COMPLETE:t.success?ke.cancelCall.resolve():ke.cancelCall.reject(ii(t.reason)),this._deleteStreamController(ke,xe);break;case Je.CANCEL:if(!Oe)break;new Promise(function(Ee){Ee(Oe.onCancel&&Oe.onCancel(ii(t.reason)))}).then(function(){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.CANCEL_COMPLETE,streamId:xe,success:!0})},function(Ee){e.postMessage({sourceName:Fe,targetName:Te,stream:Je.CANCEL_COMPLETE,streamId:xe,reason:ii(Ee)})}),Oe.sinkCapability.reject(ii(t.reason)),Oe.isCancelled=!0,delete this.streamSinks[xe];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,xe){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[xe]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}r.MessageHandler=Se},(Ce,r,Ie)=>{var Je,ii;Object.defineProperty(r,"__esModule",{value:!0}),r.Metadata=void 0;var Re=Ie(1);class Ge{constructor({parsedData:_e,rawData:t}){yn(this,Je,void 0);yn(this,ii,void 0);Zn(this,Je,_e),Zn(this,ii,t)}getRaw(){return zi(this,ii)}get(_e){var t;return(t=zi(this,Je).get(_e))!=null?t:null}getAll(){return(0,Re.objectFromMap)(zi(this,Je))}has(_e){return zi(this,Je).has(_e)}}Je=new WeakMap,ii=new WeakMap,r.Metadata=Ge},(Ce,r,Ie)=>{var _e,t,xe,Fe,Te,e,Hc;Object.defineProperty(r,"__esModule",{value:!0}),r.OptionalContentConfig=void 0;var Re=Ie(1),Ge=Ie(8);const Je=Symbol("INTERNAL");class ii{constructor(Ee,Pe){yn(this,_e,!0);this.name=Ee,this.intent=Pe}get visible(){return zi(this,_e)}_setVisible(Ee,Pe){Ee!==Je&&(0,Re.unreachable)("Internal method `_setVisible` called."),Zn(this,_e,Pe)}}_e=new WeakMap;class Se{constructor(Ee){yn(this,e);yn(this,t,null);yn(this,xe,new Map);yn(this,Fe,null);yn(this,Te,null);if(this.name=null,this.creator=null,Ee!==null){this.name=Ee.name,this.creator=Ee.creator,Zn(this,Te,Ee.order);for(const Pe of Ee.groups)zi(this,xe).set(Pe.id,new ii(Pe.name,Pe.intent));if(Ee.baseState==="OFF")for(const Pe of zi(this,xe).values())Pe._setVisible(Je,!1);for(const Pe of Ee.on)zi(this,xe).get(Pe)._setVisible(Je,!0);for(const Pe of Ee.off)zi(this,xe).get(Pe)._setVisible(Je,!1);Zn(this,Fe,this.getHash())}}isVisible(Ee){if(zi(this,xe).size===0)return!0;if(!Ee)return(0,Re.warn)("Optional content group not defined."),!0;if(Ee.type==="OCG")return zi(this,xe).has(Ee.id)?zi(this,xe).get(Ee.id).visible:((0,Re.warn)(`Optional content group not found: ${Ee.id}`),!0);if(Ee.type==="OCMD"){if(Ee.expression)return Cn(this,e,Hc).call(this,Ee.expression);if(!Ee.policy||Ee.policy==="AnyOn"){for(const Pe of Ee.ids){if(!zi(this,xe).has(Pe))return(0,Re.warn)(`Optional content group not found: ${Pe}`),!0;if(zi(this,xe).get(Pe).visible)return!0}return!1}else if(Ee.policy==="AllOn"){for(const Pe of Ee.ids){if(!zi(this,xe).has(Pe))return(0,Re.warn)(`Optional content group not found: ${Pe}`),!0;if(!zi(this,xe).get(Pe).visible)return!1}return!0}else if(Ee.policy==="AnyOff"){for(const Pe of Ee.ids){if(!zi(this,xe).has(Pe))return(0,Re.warn)(`Optional content group not found: ${Pe}`),!0;if(!zi(this,xe).get(Pe).visible)return!0}return!1}else if(Ee.policy==="AllOff"){for(const Pe of Ee.ids){if(!zi(this,xe).has(Pe))return(0,Re.warn)(`Optional content group not found: ${Pe}`),!0;if(zi(this,xe).get(Pe).visible)return!1}return!0}return(0,Re.warn)(`Unknown optional content policy ${Ee.policy}.`),!0}return(0,Re.warn)(`Unknown group type ${Ee.type}.`),!0}setVisibility(Ee,Pe=!0){if(!zi(this,xe).has(Ee)){(0,Re.warn)(`Optional content group not found: ${Ee}`);return}zi(this,xe).get(Ee)._setVisible(Je,!!Pe),Zn(this,t,null)}get hasInitialVisibility(){return this.getHash()===zi(this,Fe)}getOrder(){return zi(this,xe).size?zi(this,Te)?zi(this,Te).slice():[...zi(this,xe).keys()]:null}getGroups(){return zi(this,xe).size>0?(0,Re.objectFromMap)(zi(this,xe)):null}getGroup(Ee){return zi(this,xe).get(Ee)||null}getHash(){if(zi(this,t)!==null)return zi(this,t);const Ee=new Ge.MurmurHash3_64;for(const[Pe,De]of zi(this,xe))Ee.update(`${Pe}:${De.visible}`);return Zn(this,t,Ee.hexdigest())}}t=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Te=new WeakMap,e=new WeakSet,Hc=function(Ee){const Pe=Ee.length;if(Pe<2)return!0;const De=Ee[0];for(let Me=1;Me<Pe;Me++){const Ae=Ee[Me];let Be;if(Array.isArray(Ae))Be=Cn(this,e,Hc).call(this,Ae);else if(zi(this,xe).has(Ae))Be=zi(this,xe).get(Ae).visible;else return(0,Re.warn)(`Optional content group not found: ${Ae}`),!0;switch(De){case"And":if(!Be)return!1;break;case"Or":if(Be)return!0;break;case"Not":return!Be;default:return!0}}return De==="And"},r.OptionalContentConfig=Se},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFDataTransportStream=void 0;var Re=Ie(1),Ge=Ie(6);class Je{constructor(t,xe){(0,Re.assert)(xe,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const Fe=t.initialData;if((Fe==null?void 0:Fe.length)>0){const Te=new Uint8Array(Fe).buffer;this._queuedChunks.push(Te)}this._pdfDataRangeTransport=xe,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Te,e)=>{this._onReceiveData({begin:Te,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((Te,e)=>{this._onProgress({loaded:Te,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(Te=>{this._onReceiveData({chunk:Te})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const xe=new Uint8Array(t.chunk).buffer;if(t.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(xe):this._queuedChunks.push(xe);else{const Fe=this._rangeReaders.some(function(Te){return Te._begin!==t.begin?!1:(Te._enqueue(xe),!0)});(0,Re.assert)(Fe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,xe;return(xe=(t=this._fullRequestReader)==null?void 0:t._loaded)!=null?xe:0}_onProgress(t){var xe,Fe,Te,e;t.total===void 0?(Fe=(xe=this._rangeReaders[0])==null?void 0:xe.onProgress)==null||Fe.call(xe,{loaded:t.loaded}):(e=(Te=this._fullRequestReader)==null?void 0:Te.onProgress)==null||e.call(Te,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const xe=this._rangeReaders.indexOf(t);xe>=0&&this._rangeReaders.splice(xe,1)}getFullReader(){(0,Re.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ii(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,xe){if(xe<=this._progressiveDataLength)return null;const Fe=new Se(this,t,xe);return this._pdfDataRangeTransport.requestDataRange(t,xe),this._rangeReaders.push(Fe),Fe}cancelAllRequests(t){var xe;(xe=this._fullRequestReader)==null||xe.cancel(t);for(const Fe of this._rangeReaders.slice(0))Fe.cancel(t);this._pdfDataRangeTransport.abort()}}r.PDFDataTransportStream=Je;class ii{constructor(t,xe,Fe=!1,Te=null){this._stream=t,this._done=Fe||!1,this._filename=(0,Ge.isPdfFile)(Te)?Te:null,this._queuedChunks=xe||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,Re.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Se{constructor(t,xe,Fe){this._stream=t,this._begin=xe,this._end=Fe,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const Fe of this._requests)Fe.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const xe=this._queuedChunk;return this._queuedChunk=null,{value:xe,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,Re.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ce,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaText=void 0;class Ie{static textContent(Ge){const Je=[],ii={items:Je,styles:Object.create(null)};function Se(_e){var Fe;if(!_e)return;let t=null;const xe=_e.name;if(xe==="#text")t=_e.value;else if(Ie.shouldBuildText(xe))(Fe=_e==null?void 0:_e.attributes)!=null&&Fe.textContent?t=_e.attributes.textContent:_e.value&&(t=_e.value);else return;if(t!==null&&Je.push({str:t}),!!_e.children)for(const Te of _e.children)Se(Te)}return Se(Ge),ii}static shouldBuildText(Ge){return!(Ge==="textarea"||Ge==="input"||Ge==="option"||Ge==="select")}}r.XfaText=Ie},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NodeStandardFontDataFactory=r.NodeCanvasFactory=r.NodeCMapReaderFactory=void 0;var Re=Ie(7);const Ge=function(_e){return new Promise((t,xe)=>{require$$2.readFile(_e,(Te,e)=>{if(Te||!e){xe(new Error(Te));return}t(new Uint8Array(e))})})};class Je extends Re.BaseCanvasFactory{_createCanvas(t,xe){return require$$2.createCanvas(t,xe)}}r.NodeCanvasFactory=Je;class ii extends Re.BaseCMapReaderFactory{_fetchData(t,xe){return Ge(t).then(Fe=>({cMapData:Fe,compressionType:xe}))}}r.NodeCMapReaderFactory=ii;class Se extends Re.BaseStandardFontDataFactory{_fetchData(t){return Ge(t)}}r.NodeStandardFontDataFactory=Se},(Ce,r,Ie)=>{var _e,t,xe,Fe,Te,e,ke,Oe,Ee,Vc,De,Ql,Ae,Xc,He,e0;Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationEditorLayer=void 0;var Re=Ie(5),Ge=Ie(1),Je=Ie(22),ii=Ie(23);const Xe=class{constructor(qe){yn(this,Ee);yn(this,De);yn(this,Ae);yn(this,He);yn(this,_e,void 0);yn(this,t,!1);yn(this,xe,this.pointerup.bind(this));yn(this,Fe,this.pointerdown.bind(this));yn(this,Te,new Map);yn(this,e,!1);yn(this,ke,!1);yn(this,Oe,void 0);Xe._initialized||(Xe._initialized=!0,Je.FreeTextEditor.initialize(qe.l10n),ii.InkEditor.initialize(qe.l10n)),qe.uiManager.registerEditorTypes([Je.FreeTextEditor,ii.InkEditor]),Zn(this,Oe,qe.uiManager),this.annotationStorage=qe.annotationStorage,this.pageIndex=qe.pageIndex,this.div=qe.div,Zn(this,_e,qe.accessibilityManager),zi(this,Oe).addLayer(this)}updateToolbar(qe){zi(this,Oe).updateToolbar(qe)}updateMode(qe=zi(this,Oe).getMode()){Cn(this,He,e0).call(this),qe===Ge.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),zi(this,Oe).unselectAll(),this.div.classList.toggle("freeTextEditing",qe===Ge.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",qe===Ge.AnnotationEditorType.INK)}addInkEditorIfNeeded(qe){if(!qe&&zi(this,Oe).getMode()!==Ge.AnnotationEditorType.INK)return;if(!qe){for(const gi of zi(this,Te).values())if(gi.isEmpty()){gi.setInBackground();return}}Cn(this,Ae,Xc).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(qe){zi(this,Oe).setEditingState(qe)}addCommands(qe){zi(this,Oe).addCommands(qe)}enable(){this.div.style.pointerEvents="auto";for(const qe of zi(this,Te).values())qe.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const qe of zi(this,Te).values())qe.disableEditing()}setActiveEditor(qe){zi(this,Oe).getActive()!==qe&&zi(this,Oe).setActiveEditor(qe)}enableClick(){this.div.addEventListener("pointerdown",zi(this,Fe)),this.div.addEventListener("pointerup",zi(this,xe))}disableClick(){this.div.removeEventListener("pointerdown",zi(this,Fe)),this.div.removeEventListener("pointerup",zi(this,xe))}attach(qe){zi(this,Te).set(qe.id,qe)}detach(qe){var Ye;zi(this,Te).delete(qe.id),(Ye=zi(this,_e))==null||Ye.removePointerInTextLayer(qe.contentDiv)}remove(qe){zi(this,Oe).removeEditor(qe),this.detach(qe),this.annotationStorage.remove(qe.id),qe.div.style.display="none",setTimeout(()=>{qe.div.style.display="",qe.div.remove(),qe.isAttachedToDOM=!1,document.activeElement===document.body&&zi(this,Oe).focusMainContainer()},0),zi(this,ke)||this.addInkEditorIfNeeded(!1)}add(qe){if(Cn(this,Ee,Vc).call(this,qe),zi(this,Oe).addEditor(qe),this.attach(qe),!qe.isAttachedToDOM){const Ye=qe.render();this.div.append(Ye),qe.isAttachedToDOM=!0}this.moveEditorInDOM(qe),qe.onceAdded(),this.addToAnnotationStorage(qe)}moveEditorInDOM(qe){var Ye;(Ye=zi(this,_e))==null||Ye.moveElementInDOM(this.div,qe.div,qe.contentDiv,!0)}addToAnnotationStorage(qe){!qe.isEmpty()&&!this.annotationStorage.has(qe.id)&&this.annotationStorage.setValue(qe.id,qe)}addOrRebuild(qe){qe.needsToBeRebuilt()?qe.rebuild():this.add(qe)}addANewEditor(qe){const Ye=()=>{this.addOrRebuild(qe)},gi=()=>{qe.remove()};this.addCommands({cmd:Ye,undo:gi,mustExec:!0})}addUndoableEditor(qe){const Ye=()=>{this.addOrRebuild(qe)},gi=()=>{qe.remove()};this.addCommands({cmd:Ye,undo:gi,mustExec:!1})}getNextId(){return zi(this,Oe).getId()}deserialize(qe){switch(qe.annotationType){case Ge.AnnotationEditorType.FREETEXT:return Je.FreeTextEditor.deserialize(qe,this);case Ge.AnnotationEditorType.INK:return ii.InkEditor.deserialize(qe,this)}return null}setSelected(qe){zi(this,Oe).setSelected(qe)}toggleSelected(qe){zi(this,Oe).toggleSelected(qe)}isSelected(qe){return zi(this,Oe).isSelected(qe)}unselect(qe){zi(this,Oe).unselect(qe)}pointerup(qe){const Ye=Re.KeyboardManager.platform.isMac;if(!(qe.button!==0||qe.ctrlKey&&Ye)&&qe.target===this.div&&!!zi(this,e)){if(Zn(this,e,!1),!zi(this,t)){Zn(this,t,!0);return}Cn(this,Ae,Xc).call(this,qe)}}pointerdown(qe){const Ye=Re.KeyboardManager.platform.isMac;if(qe.button!==0||qe.ctrlKey&&Ye||qe.target!==this.div)return;Zn(this,e,!0);const gi=zi(this,Oe).getActive();Zn(this,t,!gi||gi.isEmpty())}drop(qe){const Ye=qe.dataTransfer.getData("text/plain"),gi=zi(this,Oe).getEditor(Ye);if(!gi)return;qe.preventDefault(),qe.dataTransfer.dropEffect="move",Cn(this,Ee,Vc).call(this,gi);const ai=this.div.getBoundingClientRect(),ui=qe.clientX-ai.x,Qe=qe.clientY-ai.y;gi.translate(ui-gi.startX,Qe-gi.startY),this.moveEditorInDOM(gi),gi.div.focus()}dragover(qe){qe.preventDefault()}destroy(){var qe,Ye;((qe=zi(this,Oe).getActive())==null?void 0:qe.parent)===this&&zi(this,Oe).setActiveEditor(null);for(const gi of zi(this,Te).values())(Ye=zi(this,_e))==null||Ye.removePointerInTextLayer(gi.contentDiv),gi.isAttachedToDOM=!1,gi.div.remove(),gi.parent=null;this.div=null,zi(this,Te).clear(),zi(this,Oe).removeLayer(this)}render(qe){this.viewport=qe.viewport,(0,Re.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Ye of zi(this,Oe).getEditors(this.pageIndex))this.add(Ye);this.updateMode()}update(qe){zi(this,Oe).commitOrRemove(),this.viewport=qe.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[qe,Ye,gi,ai]=this.viewport.viewBox,ui=gi-qe,Qe=ai-Ye;return[ui,Qe]}get viewportBaseDimensions(){const{width:qe,height:Ye,rotation:gi}=this.viewport;return gi%180===0?[qe,Ye]:[Ye,qe]}setDimensions(){const{width:qe,height:Ye,rotation:gi}=this.viewport,ai=gi%180!==0,ui=Math.floor(qe)+"px",Qe=Math.floor(Ye)+"px";this.div.style.width=ai?Qe:ui,this.div.style.height=ai?ui:Qe,this.div.setAttribute("data-main-rotation",gi)}};let Se=Xe;_e=new WeakMap,t=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Te=new WeakMap,e=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Ee=new WeakSet,Vc=function(qe){var Ye;qe.parent!==this&&(this.attach(qe),qe.pageIndex=this.pageIndex,(Ye=qe.parent)==null||Ye.detach(qe),qe.parent=this,qe.div&&qe.isAttachedToDOM&&(qe.div.remove(),this.div.append(qe.div)))},De=new WeakSet,Ql=function(qe){switch(zi(this,Oe).getMode()){case Ge.AnnotationEditorType.FREETEXT:return new Je.FreeTextEditor(qe);case Ge.AnnotationEditorType.INK:return new ii.InkEditor(qe)}return null},Ae=new WeakSet,Xc=function(qe){const Ye=this.getNextId(),gi=Cn(this,De,Ql).call(this,{parent:this,id:Ye,x:qe.offsetX,y:qe.offsetY});return gi&&this.add(gi),gi},He=new WeakSet,e0=function(){Zn(this,ke,!0);for(const qe of zi(this,Te).values())qe.isEmpty()&&qe.remove();Zn(this,ke,!1)},ns(Se,"_initialized",!1),r.AnnotationEditorLayer=Se},(Ce,r,Ie)=>{var Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,t0,De,i0,Ae,n0,He,zc;Object.defineProperty(r,"__esModule",{value:!0}),r.FreeTextEditor=void 0;var Re=Ie(1),Ge=Ie(5),Je=Ie(4);const Xe=class extends Je.AnnotationEditor{constructor(Ye){super({...Ye,name:"freeTextEditor"});yn(this,Ee);yn(this,De);yn(this,Ae);yn(this,He);yn(this,Se,this.editorDivBlur.bind(this));yn(this,_e,this.editorDivFocus.bind(this));yn(this,t,this.editorDivInput.bind(this));yn(this,xe,this.editorDivKeydown.bind(this));yn(this,Fe,void 0);yn(this,Te,"");yn(this,e,`${this.id}-editor`);yn(this,ke,!1);yn(this,Oe,void 0);Zn(this,Fe,Ye.color||Xe._defaultColor||Je.AnnotationEditor._defaultLineColor),Zn(this,Oe,Ye.fontSize||Xe._defaultFontSize)}static initialize(Ye){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(ai=>[ai,Ye.get(ai)]));const gi=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(gi.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ye,gi){switch(Ye){case Re.AnnotationEditorParamsType.FREETEXT_SIZE:Xe._defaultFontSize=gi;break;case Re.AnnotationEditorParamsType.FREETEXT_COLOR:Xe._defaultColor=gi;break}}updateParams(Ye,gi){switch(Ye){case Re.AnnotationEditorParamsType.FREETEXT_SIZE:Cn(this,Ee,t0).call(this,gi);break;case Re.AnnotationEditorParamsType.FREETEXT_COLOR:Cn(this,De,i0).call(this,gi);break}}static get defaultPropertiesToUpdate(){return[[Re.AnnotationEditorParamsType.FREETEXT_SIZE,Xe._defaultFontSize],[Re.AnnotationEditorParamsType.FREETEXT_COLOR,Xe._defaultColor||Je.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Re.AnnotationEditorParamsType.FREETEXT_SIZE,zi(this,Oe)],[Re.AnnotationEditorParamsType.FREETEXT_COLOR,zi(this,Fe)]]}getInitialTranslation(){return[-Xe._internalPadding*this.parent.scaleFactor,-(Xe._internalPadding+zi(this,Oe))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Re.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",zi(this,xe)),this.editorDiv.addEventListener("focus",zi(this,_e)),this.editorDiv.addEventListener("blur",zi(this,Se)),this.editorDiv.addEventListener("input",zi(this,t)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",zi(this,e)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",zi(this,xe)),this.editorDiv.removeEventListener("focus",zi(this,_e)),this.editorDiv.removeEventListener("blur",zi(this,Se)),this.editorDiv.removeEventListener("input",zi(this,t)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ye){super.focusin(Ye),Ye.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),zi(this,ke)||(Zn(this,ke,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Zn(this,Te,Cn(this,Ae,n0).call(this).trimEnd()),Cn(this,He,zc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ye){this.enableEditMode(),this.editorDiv.focus()}keydown(Ye){Ye.target===this.div&&Ye.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ye){Xe._keyboardManager.exec(this,Ye)}editorDivFocus(Ye){this.isEditing=!0}editorDivBlur(Ye){this.isEditing=!1}editorDivInput(Ye){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ye,gi;this.width&&(Ye=this.x,gi=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",zi(this,e)),this.enableEditing(),Xe._l10nPromise.get("editor_free_text2_aria_label").then(ui=>{var Qe;return(Qe=this.editorDiv)==null?void 0:Qe.setAttribute("aria-label",ui)}),Xe._l10nPromise.get("free_text2_default_content").then(ui=>{var Qe;return(Qe=this.editorDiv)==null?void 0:Qe.setAttribute("default-content",ui)}),this.editorDiv.contentEditable=!0;const{style:ai}=this.editorDiv;if(ai.fontSize=`calc(${zi(this,Oe)}px * var(--scale-factor))`,ai.color=zi(this,Fe),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ge.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ui,Qe]=this.parent.viewportBaseDimensions;this.setAt(Ye*ui,gi*Qe,this.width*ui,this.height*Qe);for(const Ze of zi(this,Te).split(`
`)){const ci=document.createElement("div");ci.append(Ze?document.createTextNode(Ze):document.createElement("br")),this.editorDiv.append(ci)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ye,gi){const ai=super.deserialize(Ye,gi);return Zn(ai,Oe,Ye.fontSize),Zn(ai,Fe,Re.Util.makeHexColor(...Ye.color)),Zn(ai,Te,Ye.value),ai}serialize(){if(this.isEmpty())return null;const Ye=Xe._internalPadding*this.parent.scaleFactor,gi=this.getRect(Ye,Ye),ai=Je.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:Re.AnnotationEditorType.FREETEXT,color:ai,fontSize:zi(this,Oe),value:zi(this,Te),pageIndex:this.parent.pageIndex,rect:gi,rotation:this.rotation}}};let ii=Xe;Se=new WeakMap,_e=new WeakMap,t=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Te=new WeakMap,e=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Ee=new WeakSet,t0=function(Ye){const gi=ui=>{this.editorDiv.style.fontSize=`calc(${ui}px * var(--scale-factor))`,this.translate(0,-(ui-zi(this,Oe))*this.parent.scaleFactor),Zn(this,Oe,ui),Cn(this,He,zc).call(this)},ai=zi(this,Oe);this.parent.addCommands({cmd:()=>{gi(Ye)},undo:()=>{gi(ai)},mustExec:!0,type:Re.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,i0=function(Ye){const gi=zi(this,Fe);this.parent.addCommands({cmd:()=>{Zn(this,Fe,Ye),this.editorDiv.style.color=Ye},undo:()=>{Zn(this,Fe,gi),this.editorDiv.style.color=gi},mustExec:!0,type:Re.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ae=new WeakSet,n0=function(){const Ye=this.editorDiv.getElementsByTagName("div");if(Ye.length===0)return this.editorDiv.innerText;const gi=[];for(const ai of Ye){const ui=ai.firstChild;(ui==null?void 0:ui.nodeName)==="#text"?gi.push(ui.data):gi.push("")}return gi.join(`
`)},He=new WeakSet,zc=function(){const[Ye,gi]=this.parent.viewportBaseDimensions,ai=this.div.getBoundingClientRect();this.width=ai.width/Ye,this.height=ai.height/gi},ns(ii,"_freeTextDefaultContent",""),ns(ii,"_l10nPromise"),ns(ii,"_internalPadding",0),ns(ii,"_defaultColor",null),ns(ii,"_defaultFontSize",10),ns(ii,"_keyboardManager",new Ge.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Xe.prototype.commitOrRemove]])),ns(ii,"_type","freetext"),r.FreeTextEditor=ii},(Ce,r,Ie)=>{var xe,Fe,Te,e,ke,Oe,Ee,Pe,De,Me,Ae,Be,He,je,Xe,r0,qe,s0,gi,a0,ui,o0,Ze,Wc,ze,c0,si,l0,$e,u0,Ve,na,ti,Gc,yi,sc,Ci,ac,fi,co,li,qc,ri,oc,di,Yc,Ai,h0,mi,f0,Si,d0,Pi,Kc,Ii,cc,$i,lo,rn,Jc;Object.defineProperty(r,"__esModule",{value:!0}),r.InkEditor=void 0,Object.defineProperty(r,"fitCurve",{enumerable:!0,get:function(){return Je.fitCurve}});var Re=Ie(1),Ge=Ie(4),Je=Ie(24),ii=Ie(5);const Se=16,_e=100,on=class extends Ge.AnnotationEditor{constructor(Ri){super({...Ri,name:"inkEditor"});yn(this,Xe);yn(this,qe);yn(this,gi);yn(this,ui);yn(this,Ze);yn(this,ze);yn(this,si);yn(this,$e);yn(this,Ve);yn(this,ti);yn(this,yi);yn(this,Ci);yn(this,fi);yn(this,li);yn(this,ri);yn(this,Ai);yn(this,mi);yn(this,Si);yn(this,Pi);yn(this,Ii);yn(this,$i);yn(this,rn);yn(this,xe,0);yn(this,Fe,0);yn(this,Te,0);yn(this,e,this.canvasPointermove.bind(this));yn(this,ke,this.canvasPointerleave.bind(this));yn(this,Oe,this.canvasPointerup.bind(this));yn(this,Ee,this.canvasPointerdown.bind(this));yn(this,Pe,!1);yn(this,De,!1);yn(this,Me,null);yn(this,Ae,null);yn(this,Be,0);yn(this,He,0);yn(this,je,null);this.color=Ri.color||null,this.thickness=Ri.thickness||null,this.opacity=Ri.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ri){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ji=>[ji,Ri.get(ji)]))}static updateDefaultParams(Ri,ji){switch(Ri){case Re.AnnotationEditorParamsType.INK_THICKNESS:on._defaultThickness=ji;break;case Re.AnnotationEditorParamsType.INK_COLOR:on._defaultColor=ji;break;case Re.AnnotationEditorParamsType.INK_OPACITY:on._defaultOpacity=ji/100;break}}updateParams(Ri,ji){switch(Ri){case Re.AnnotationEditorParamsType.INK_THICKNESS:Cn(this,Xe,r0).call(this,ji);break;case Re.AnnotationEditorParamsType.INK_COLOR:Cn(this,qe,s0).call(this,ji);break;case Re.AnnotationEditorParamsType.INK_OPACITY:Cn(this,gi,a0).call(this,ji);break}}static get defaultPropertiesToUpdate(){return[[Re.AnnotationEditorParamsType.INK_THICKNESS,on._defaultThickness],[Re.AnnotationEditorParamsType.INK_COLOR,on._defaultColor||Ge.AnnotationEditor._defaultLineColor],[Re.AnnotationEditorParamsType.INK_OPACITY,Math.round(on._defaultOpacity*100)]]}get propertiesToUpdate(){var Ri;return[[Re.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||on._defaultThickness],[Re.AnnotationEditorParamsType.INK_COLOR,this.color||on._defaultColor||Ge.AnnotationEditor._defaultLineColor],[Re.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ri=this.opacity)!=null?Ri:on._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Cn(this,yi,sc).call(this),Cn(this,Ci,ac).call(this)),this.isAttachedToDOM||(this.parent.add(this),Cn(this,fi,co).call(this)),Cn(this,$i,lo).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,zi(this,Ae).disconnect(),Zn(this,Ae,null),super.remove())}enableEditMode(){zi(this,Pe)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",zi(this,Ee)),this.canvas.addEventListener("pointerup",zi(this,Oe)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",zi(this,Ee)),this.canvas.removeEventListener("pointerup",zi(this,Oe)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){zi(this,Pe)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Zn(this,Pe,!0),this.div.classList.add("disabled"),Cn(this,$i,lo).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Ri){super.focusin(Ri),this.enableEditMode()}canvasPointerdown(Ri){Ri.button!==0||!this.isInEditMode()||zi(this,Pe)||(this.setInForeground(),Ri.type!=="mouse"&&this.div.focus(),Ri.stopPropagation(),this.canvas.addEventListener("pointerleave",zi(this,ke)),this.canvas.addEventListener("pointermove",zi(this,e)),Cn(this,ze,c0).call(this,Ri.offsetX,Ri.offsetY))}canvasPointermove(Ri){Ri.stopPropagation(),Cn(this,si,l0).call(this,Ri.offsetX,Ri.offsetY)}canvasPointerup(Ri){Ri.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ri.stopPropagation(),Cn(this,ti,Gc).call(this,Ri),this.setInBackground())}canvasPointerleave(Ri){Cn(this,ti,Gc).call(this,Ri),this.setInBackground()}render(){if(this.div)return this.div;let Ri,ji;this.width&&(Ri=this.x,ji=this.y),super.render(),on._l10nPromise.get("editor_ink2_aria_label").then(Qi=>{var qi;return(qi=this.div)==null?void 0:qi.setAttribute("aria-label",Qi)});const[Ui,en,nn,Sn]=Cn(this,ui,o0).call(this);if(this.setAt(Ui,en,0,0),this.setDims(nn,Sn),Cn(this,yi,sc).call(this),this.width){const[Qi,qi]=this.parent.viewportBaseDimensions;this.setAt(Ri*Qi,ji*qi,this.width*Qi,this.height*qi),Zn(this,De,!0),Cn(this,fi,co).call(this),this.setDims(this.width*Qi,this.height*qi),Cn(this,Ve,na).call(this),Cn(this,rn,Jc).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Cn(this,Ci,ac).call(this),this.div}setDimensions(Ri,ji){const Ui=Math.round(Ri),en=Math.round(ji);if(zi(this,Be)===Ui&&zi(this,He)===en)return;Zn(this,Be,Ui),Zn(this,He,en),this.canvas.style.visibility="hidden",zi(this,xe)&&Math.abs(zi(this,xe)-Ri/ji)>.01&&(ji=Math.ceil(Ri/zi(this,xe)),this.setDims(Ri,ji));const[nn,Sn]=this.parent.viewportBaseDimensions;this.width=Ri/nn,this.height=ji/Sn,zi(this,Pe)&&Cn(this,li,qc).call(this,Ri,ji),Cn(this,fi,co).call(this),Cn(this,Ve,na).call(this),this.canvas.style.visibility="visible"}static deserialize(Ri,ji){var Nn,Dn;const Ui=super.deserialize(Ri,ji);Ui.thickness=Ri.thickness,Ui.color=Re.Util.makeHexColor(...Ri.color),Ui.opacity=Ri.opacity;const[en,nn]=ji.pageDimensions,Sn=Ui.width*en,Qi=Ui.height*nn,qi=ji.scaleFactor,Zi=Ri.thickness/2;Zn(Ui,xe,Sn/Qi),Zn(Ui,Pe,!0),Zn(Ui,Be,Math.round(Sn)),Zn(Ui,He,Math.round(Qi));for(const{bezier:hn}of Ri.paths){const Fn=[];Ui.paths.push(Fn);let Xn=qi*(hn[0]-Zi),Rn=qi*(Qi-hn[1]-Zi);for(let Kn=2,Mn=hn.length;Kn<Mn;Kn+=6){const er=qi*(hn[Kn]-Zi),Hn=qi*(Qi-hn[Kn+1]-Zi),hr=qi*(hn[Kn+2]-Zi),or=qi*(Qi-hn[Kn+3]-Zi),dr=qi*(hn[Kn+4]-Zi),nr=qi*(Qi-hn[Kn+5]-Zi);Fn.push([[Xn,Rn],[er,Hn],[hr,or],[dr,nr]]),Xn=dr,Rn=nr}const Wn=Cn(this,di,Yc).call(this,Fn);Ui.bezierPath2D.push(Wn)}const an=Cn(Nn=Ui,Pi,Kc).call(Nn);return Zn(Ui,Te,Math.max(Se,an[2]-an[0])),Zn(Ui,Fe,Math.max(Se,an[3]-an[1])),Cn(Dn=Ui,li,qc).call(Dn,Sn,Qi),Ui}serialize(){if(this.isEmpty())return null;const Ri=this.getRect(0,0),ji=this.rotation%180===0?Ri[3]-Ri[1]:Ri[2]-Ri[0],Ui=Ge.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Re.AnnotationEditorType.INK,color:Ui,thickness:this.thickness,opacity:this.opacity,paths:Cn(this,Ai,h0).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,ji),pageIndex:this.parent.pageIndex,rect:Ri,rotation:this.rotation}}};let t=on;xe=new WeakMap,Fe=new WeakMap,Te=new WeakMap,e=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,De=new WeakMap,Me=new WeakMap,Ae=new WeakMap,Be=new WeakMap,He=new WeakMap,je=new WeakMap,Xe=new WeakSet,r0=function(Ri){const ji=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Ri,Cn(this,$i,lo).call(this)},undo:()=>{this.thickness=ji,Cn(this,$i,lo).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},qe=new WeakSet,s0=function(Ri){const ji=this.color;this.parent.addCommands({cmd:()=>{this.color=Ri,Cn(this,Ve,na).call(this)},undo:()=>{this.color=ji,Cn(this,Ve,na).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gi=new WeakSet,a0=function(Ri){Ri/=100;const ji=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Ri,Cn(this,Ve,na).call(this)},undo:()=>{this.opacity=ji,Cn(this,Ve,na).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ui=new WeakSet,o0=function(){const{width:Ri,height:ji,rotation:Ui}=this.parent.viewport;switch(Ui){case 90:return[0,Ri,Ri,ji];case 180:return[Ri,ji,Ri,ji];case 270:return[ji,0,Ri,ji];default:return[0,0,Ri,ji]}},Ze=new WeakSet,Wc=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,ii.opacityToHex)(this.opacity)}`},ze=new WeakSet,c0=function(Ri,ji){var Ui;this.isEditing=!0,zi(this,De)||(Zn(this,De,!0),Cn(this,fi,co).call(this),this.thickness||(this.thickness=on._defaultThickness),this.color||(this.color=on._defaultColor||Ge.AnnotationEditor._defaultLineColor),(Ui=this.opacity)!=null||(this.opacity=on._defaultOpacity)),this.currentPath.push([Ri,ji]),Zn(this,Me,null),Cn(this,Ze,Wc).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ri,ji),Zn(this,je,()=>{!zi(this,je)||(zi(this,Me)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Cn(this,Ve,na).call(this),this.ctx.lineTo(...zi(this,Me)),Zn(this,Me,null),this.ctx.stroke()),window.requestAnimationFrame(zi(this,je)))}),window.requestAnimationFrame(zi(this,je))},si=new WeakSet,l0=function(Ri,ji){const[Ui,en]=this.currentPath.at(-1);Ri===Ui&&ji===en||(this.currentPath.push([Ri,ji]),Zn(this,Me,[Ri,ji]))},$e=new WeakSet,u0=function(Ri,ji){var Zi;this.ctx.closePath(),Zn(this,je,null),Ri=Math.min(Math.max(Ri,0),this.canvas.width),ji=Math.min(Math.max(ji,0),this.canvas.height);const[Ui,en]=this.currentPath.at(-1);(Ri!==Ui||ji!==en)&&this.currentPath.push([Ri,ji]);let nn;if(this.currentPath.length!==1)nn=(0,Je.fitCurve)(this.currentPath,30,null);else{const an=[Ri,ji];nn=[[an,an.slice(),an.slice(),an]]}const Sn=Cn(Zi=on,di,Yc).call(Zi,nn);this.currentPath.length=0;const Qi=()=>{this.paths.push(nn),this.bezierPath2D.push(Sn),this.rebuild()},qi=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Cn(this,yi,sc).call(this),Cn(this,Ci,ac).call(this)),Cn(this,$i,lo).call(this))};this.parent.addCommands({cmd:Qi,undo:qi,mustExec:!0})},Ve=new WeakSet,na=function(){if(this.isEmpty()){Cn(this,ri,oc).call(this);return}Cn(this,Ze,Wc).call(this);const{canvas:Ri,ctx:ji}=this;ji.setTransform(1,0,0,1,0,0),ji.clearRect(0,0,Ri.width,Ri.height),Cn(this,ri,oc).call(this);for(const Ui of this.bezierPath2D)ji.stroke(Ui)},ti=new WeakSet,Gc=function(Ri){Cn(this,$e,u0).call(this,Ri.offsetX,Ri.offsetY),this.canvas.removeEventListener("pointerleave",zi(this,ke)),this.canvas.removeEventListener("pointermove",zi(this,e)),this.parent.addToAnnotationStorage(this)},yi=new WeakSet,sc=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",on._l10nPromise.get("editor_ink_canvas_aria_label").then(Ri=>{var ji;return(ji=this.canvas)==null?void 0:ji.setAttribute("aria-label",Ri)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ci=new WeakSet,ac=function(){let Ri=null;Zn(this,Ae,new ResizeObserver(ji=>{const Ui=ji[0].contentRect;Ui.width&&Ui.height&&(Ri!==null&&clearTimeout(Ri),Ri=setTimeout(()=>{this.fixDims(),Ri=null},_e),this.setDimensions(Ui.width,Ui.height))})),zi(this,Ae).observe(this.div)},fi=new WeakSet,co=function(){if(!zi(this,De))return;const[Ri,ji]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Ri),this.canvas.height=Math.ceil(this.height*ji),Cn(this,ri,oc).call(this)},li=new WeakSet,qc=function(Ri,ji){const Ui=Cn(this,Ii,cc).call(this),en=(Ri-Ui)/zi(this,Te),nn=(ji-Ui)/zi(this,Fe);this.scaleFactor=Math.min(en,nn)},ri=new WeakSet,oc=function(){const Ri=Cn(this,Ii,cc).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ri,this.translationY*this.scaleFactor+Ri)},di=new WeakSet,Yc=function(Ri){const ji=new Path2D;for(let Ui=0,en=Ri.length;Ui<en;Ui++){const[nn,Sn,Qi,qi]=Ri[Ui];Ui===0&&ji.moveTo(...nn),ji.bezierCurveTo(Sn[0],Sn[1],Qi[0],Qi[1],qi[0],qi[1])}return ji},Ai=new WeakSet,h0=function(Ri,ji,Ui,en){const Sn=[],Qi=this.thickness/2;let qi,Zi;for(const an of this.paths){qi=[],Zi=[];for(let Nn=0,Dn=an.length;Nn<Dn;Nn++){const[hn,Fn,Xn,Rn]=an[Nn],Wn=Ri*(hn[0]+ji)+Qi,Kn=en-Ri*(hn[1]+Ui)-Qi,Mn=Ri*(Fn[0]+ji)+Qi,er=en-Ri*(Fn[1]+Ui)-Qi,Hn=Ri*(Xn[0]+ji)+Qi,hr=en-Ri*(Xn[1]+Ui)-Qi,or=Ri*(Rn[0]+ji)+Qi,dr=en-Ri*(Rn[1]+Ui)-Qi;Nn===0&&(qi.push(Wn,Kn),Zi.push(Wn,Kn)),qi.push(Mn,er,Hn,hr,or,dr),Cn(this,mi,f0).call(this,Wn,Kn,Mn,er,Hn,hr,or,dr,4,Zi)}Sn.push({bezier:qi,points:Zi})}return Sn},mi=new WeakSet,f0=function(Ri,ji,Ui,en,nn,Sn,Qi,qi,Zi,an){if(Cn(this,Si,d0).call(this,Ri,ji,Ui,en,nn,Sn,Qi,qi)){an.push(Qi,qi);return}for(let Nn=1;Nn<Zi-1;Nn++){const Dn=Nn/Zi,hn=1-Dn;let Fn=Dn*Ri+hn*Ui,Xn=Dn*ji+hn*en,Rn=Dn*Ui+hn*nn,Wn=Dn*en+hn*Sn;const Kn=Dn*nn+hn*Qi,Mn=Dn*Sn+hn*qi;Fn=Dn*Fn+hn*Rn,Xn=Dn*Xn+hn*Wn,Rn=Dn*Rn+hn*Kn,Wn=Dn*Wn+hn*Mn,Fn=Dn*Fn+hn*Rn,Xn=Dn*Xn+hn*Wn,an.push(Fn,Xn)}an.push(Qi,qi)},Si=new WeakSet,d0=function(Ri,ji,Ui,en,nn,Sn,Qi,qi){const an=(3*Ui-2*Ri-Qi)**2,Nn=(3*en-2*ji-qi)**2,Dn=(3*nn-Ri-2*Qi)**2,hn=(3*Sn-ji-2*qi)**2;return Math.max(an,Dn)+Math.max(Nn,hn)<=10},Pi=new WeakSet,Kc=function(){let Ri=1/0,ji=-1/0,Ui=1/0,en=-1/0;for(const nn of this.paths)for(const[Sn,Qi,qi,Zi]of nn){const an=Re.Util.bezierBoundingBox(...Sn,...Qi,...qi,...Zi);Ri=Math.min(Ri,an[0]),Ui=Math.min(Ui,an[1]),ji=Math.max(ji,an[2]),en=Math.max(en,an[3])}return[Ri,Ui,ji,en]},Ii=new WeakSet,cc=function(){return zi(this,Pe)?Math.ceil(this.thickness*this.parent.scaleFactor):0},$i=new WeakSet,lo=function(Ri=!1){if(this.isEmpty())return;if(!zi(this,Pe)){Cn(this,Ve,na).call(this);return}const ji=Cn(this,Pi,Kc).call(this),Ui=Cn(this,Ii,cc).call(this);Zn(this,Te,Math.max(Se,ji[2]-ji[0])),Zn(this,Fe,Math.max(Se,ji[3]-ji[1]));const en=Math.ceil(Ui+zi(this,Te)*this.scaleFactor),nn=Math.ceil(Ui+zi(this,Fe)*this.scaleFactor),[Sn,Qi]=this.parent.viewportBaseDimensions;this.width=en/Sn,this.height=nn/Qi,Zn(this,xe,en/nn),Cn(this,rn,Jc).call(this);const qi=this.translationX,Zi=this.translationY;this.translationX=-ji[0],this.translationY=-ji[1],Cn(this,fi,co).call(this),Cn(this,Ve,na).call(this),Zn(this,Be,en),Zn(this,He,nn),this.setDims(en,nn);const an=Ri?Ui/this.scaleFactor/2:0;this.translate(qi-this.translationX-an,Zi-this.translationY-an)},rn=new WeakSet,Jc=function(){const{style:Ri}=this.div;zi(this,xe)>=1?(Ri.minHeight=`${Se}px`,Ri.minWidth=`${Math.round(zi(this,xe)*Se)}px`):(Ri.minWidth=`${Se}px`,Ri.minHeight=`${Math.round(Se/zi(this,xe))}px`)},yn(t,di),ns(t,"_defaultColor",null),ns(t,"_defaultOpacity",1),ns(t,"_defaultThickness",1),ns(t,"_l10nPromise"),ns(t,"_type","ink"),r.InkEditor=t},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fitCurve=void 0;const Re=Ie(25);r.fitCurve=Re},Ce=>{function r(ke,Oe,Ee){if(!Array.isArray(ke))throw new TypeError("First argument should be an array");if(ke.forEach(Ae=>{if(!Array.isArray(Ae)||Ae.some(Be=>typeof Be!="number")||Ae.length!==ke[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),ke=ke.filter((Ae,Be)=>Be===0||!Ae.every((He,je)=>He===ke[Be-1][je])),ke.length<2)return[];const Pe=ke.length,De=Fe(ke[1],ke[0]),Me=Fe(ke[Pe-2],ke[Pe-1]);return Ie(ke,De,Me,Oe,Ee)}function Ie(ke,Oe,Ee,Pe,De){var Ae,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze;if(ke.length===2)return Qe=Te.vectorLen(Te.subtract(ke[0],ke[1]))/3,Ae=[ke[0],Te.addArrays(ke[0],Te.mulItems(Oe,Qe)),Te.addArrays(ke[1],Te.mulItems(Ee,Qe)),ke[1]],[Ae];if(Be=Se(ke),[Ae,je,St]=Re(ke,Be,Be,Oe,Ee,De),je===0||je<Pe)return[Ae];if(je<Pe*Pe)for(He=Be,Xe=je,qe=St,Ze=0;Ze<20;Ze++){if(He=Je(Ae,ke,He),[Ae,je,St]=Re(ke,Be,He,Oe,Ee,De),je<Pe)return[Ae];if(St===qe){let ci=je/Xe;if(ci>.9999&&ci<1.0001)break}Xe=je,qe=St}return ui=[],Ye=Te.subtract(ke[St-1],ke[St+1]),Ye.every(ci=>ci===0)&&(Ye=Te.subtract(ke[St-1],ke[St]),[Ye[0],Ye[1]]=[-Ye[1],Ye[0]]),gi=Te.normalize(Ye),ai=Te.mulItems(gi,-1),ui=ui.concat(Ie(ke.slice(0,St+1),Oe,gi,Pe,De)),ui=ui.concat(Ie(ke.slice(St),ai,Ee,Pe,De)),ui}function Re(ke,Oe,Ee,Pe,De,Me){var Ae,Be,He;return Ae=Ge(ke,Ee,Pe,De),[Be,He]=_e(ke,Ae,Oe),Me&&Me({bez:Ae,points:ke,params:Oe,maxErr:Be,maxPoint:He}),[Ae,Be,He]}function Ge(ke,Oe,Ee,Pe){var De,Me,Ae,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We=ke[0],si=ke[ke.length-1];for(De=[We,null,null,si],Me=Te.zeros_Xx2x2(Oe.length),ui=0,Qe=Oe.length;ui<Qe;ui++)ci=Oe[ui],ze=1-ci,Ae=Me[ui],Ae[0]=Te.mulItems(Ee,3*ci*(ze*ze)),Ae[1]=Te.mulItems(Pe,3*ze*(ci*ci));for(Be=[[0,0],[0,0]],He=[0,0],ui=0,Qe=ke.length;ui<Qe;ui++)ci=Oe[ui],Ae=Me[ui],Be[0][0]+=Te.dot(Ae[0],Ae[0]),Be[0][1]+=Te.dot(Ae[0],Ae[1]),Be[1][0]+=Te.dot(Ae[0],Ae[1]),Be[1][1]+=Te.dot(Ae[1],Ae[1]),Ze=Te.subtract(ke[ui],e.q([We,We,si,si],ci)),He[0]+=Te.dot(Ae[0],Ze),He[1]+=Te.dot(Ae[1],Ze);return je=Be[0][0]*Be[1][1]-Be[1][0]*Be[0][1],Xe=Be[0][0]*He[1]-Be[1][0]*He[0],St=He[0]*Be[1][1]-He[1]*Be[0][1],qe=je===0?0:St/je,Ye=je===0?0:Xe/je,ai=Te.vectorLen(Te.subtract(We,si)),gi=1e-6*ai,qe<gi||Ye<gi?(De[1]=Te.addArrays(We,Te.mulItems(Ee,ai/3)),De[2]=Te.addArrays(si,Te.mulItems(Pe,ai/3))):(De[1]=Te.addArrays(We,Te.mulItems(Ee,qe)),De[2]=Te.addArrays(si,Te.mulItems(Pe,Ye))),De}function Je(ke,Oe,Ee){return Ee.map((Pe,De)=>ii(ke,Oe[De],Pe))}function ii(ke,Oe,Ee){var Pe=Te.subtract(e.q(ke,Ee),Oe),De=e.qprime(ke,Ee),Me=Te.mulMatrix(Pe,De),Ae=Te.sum(Te.squareItems(De))+2*Te.mulMatrix(Pe,e.qprimeprime(ke,Ee));return Ae===0?Ee:Ee-Me/Ae}function Se(ke){var Oe=[],Ee,Pe,De;return ke.forEach((Me,Ae)=>{Ee=Ae?Pe+Te.vectorLen(Te.subtract(Me,De)):0,Oe.push(Ee),Pe=Ee,De=Me}),Oe=Oe.map(Me=>Me/Pe),Oe}function _e(ke,Oe,Ee){var Pe,De,Me,Ae,Be,He,je,Xe;De=0,Me=Math.floor(ke.length/2);const St=t(Oe,10);for(Be=0,He=ke.length;Be<He;Be++)je=ke[Be],Xe=xe(Oe,Ee[Be],St,10),Ae=Te.subtract(e.q(Oe,Xe),je),Pe=Ae[0]*Ae[0]+Ae[1]*Ae[1],Pe>De&&(De=Pe,Me=Be);return[De,Me]}var t=function(ke,Oe){for(var Ee,Pe=[0],De=ke[0],Me=0,Ae=1;Ae<=Oe;Ae++)Ee=e.q(ke,Ae/Oe),Me+=Te.vectorLen(Te.subtract(Ee,De)),Pe.push(Me),De=Ee;return Pe=Pe.map(Be=>Be/Me),Pe};function xe(ke,Oe,Ee,Pe){if(Oe<0)return 0;if(Oe>1)return 1;for(var De,Me,Ae,Be,He,je=1;je<=Pe;je++)if(Oe<=Ee[je]){Be=(je-1)/Pe,Ae=je/Pe,Me=Ee[je-1],De=Ee[je],He=(Oe-Me)/(De-Me)*(Ae-Be)+Be;break}return He}function Fe(ke,Oe){return Te.normalize(Te.subtract(ke,Oe))}class Te{static zeros_Xx2x2(Oe){for(var Ee=[];Oe--;)Ee.push([0,0]);return Ee}static mulItems(Oe,Ee){return Oe.map(Pe=>Pe*Ee)}static mulMatrix(Oe,Ee){return Oe.reduce((Pe,De,Me)=>Pe+De*Ee[Me],0)}static subtract(Oe,Ee){return Oe.map((Pe,De)=>Pe-Ee[De])}static addArrays(Oe,Ee){return Oe.map((Pe,De)=>Pe+Ee[De])}static addItems(Oe,Ee){return Oe.map(Pe=>Pe+Ee)}static sum(Oe){return Oe.reduce((Ee,Pe)=>Ee+Pe)}static dot(Oe,Ee){return Te.mulMatrix(Oe,Ee)}static vectorLen(Oe){return Math.hypot(...Oe)}static divItems(Oe,Ee){return Oe.map(Pe=>Pe/Ee)}static squareItems(Oe){return Oe.map(Ee=>Ee*Ee)}static normalize(Oe){return this.divItems(Oe,this.vectorLen(Oe))}}class e{static q(Oe,Ee){var Pe=1-Ee,De=Te.mulItems(Oe[0],Pe*Pe*Pe),Me=Te.mulItems(Oe[1],3*Pe*Pe*Ee),Ae=Te.mulItems(Oe[2],3*Pe*Ee*Ee),Be=Te.mulItems(Oe[3],Ee*Ee*Ee);return Te.addArrays(Te.addArrays(De,Me),Te.addArrays(Ae,Be))}static qprime(Oe,Ee){var Pe=1-Ee,De=Te.mulItems(Te.subtract(Oe[1],Oe[0]),3*Pe*Pe),Me=Te.mulItems(Te.subtract(Oe[2],Oe[1]),6*Pe*Ee),Ae=Te.mulItems(Te.subtract(Oe[3],Oe[2]),3*Ee*Ee);return Te.addArrays(Te.addArrays(De,Me),Ae)}static qprimeprime(Oe,Ee){return Te.addArrays(Te.mulItems(Te.addArrays(Te.subtract(Oe[2],Te.mulItems(Oe[1],2)),Oe[0]),6*(1-Ee)),Te.mulItems(Te.addArrays(Te.subtract(Oe[3],Te.mulItems(Oe[2],2)),Oe[1]),6*Ee))}}Ce.exports=r,Ce.exports.fitCubic=Ie,Ce.exports.createTangent=Fe},(Ce,r,Ie)=>{var Ke,g0,ti,Zc,yi,Qc,Ci,el;Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationLayer=void 0;var Re=Ie(1),Ge=Ie(6),Je=Ie(3),ii=Ie(27),Se=Ie(28);const _e=1e3,t=9,xe=new WeakSet;function Fe(xi){return{width:xi[2]-xi[0],height:xi[3]-xi[1]}}class Te{static create(li){switch(li.data.annotationType){case Re.AnnotationType.LINK:return new ke(li);case Re.AnnotationType.TEXT:return new Oe(li);case Re.AnnotationType.WIDGET:switch(li.data.fieldType){case"Tx":return new Pe(li);case"Btn":return li.data.radioButton?new Me(li):li.data.checkBox?new De(li):new Ae(li);case"Ch":return new Be(li)}return new Ee(li);case Re.AnnotationType.POPUP:return new He(li);case Re.AnnotationType.FREETEXT:return new Xe(li);case Re.AnnotationType.LINE:return new St(li);case Re.AnnotationType.SQUARE:return new qe(li);case Re.AnnotationType.CIRCLE:return new Ye(li);case Re.AnnotationType.POLYLINE:return new gi(li);case Re.AnnotationType.CARET:return new ui(li);case Re.AnnotationType.INK:return new Qe(li);case Re.AnnotationType.POLYGON:return new ai(li);case Re.AnnotationType.HIGHLIGHT:return new Ze(li);case Re.AnnotationType.UNDERLINE:return new ci(li);case Re.AnnotationType.SQUIGGLY:return new ze(li);case Re.AnnotationType.STRIKEOUT:return new We(li);case Re.AnnotationType.STAMP:return new si(li);case Re.AnnotationType.FILEATTACHMENT:return new ni(li);default:return new e(li)}}}class e{constructor(li,{isRenderable:pi=!1,ignoreBorder:ri=!1,createQuadrilaterals:oi=!1}={}){this.isRenderable=pi,this.data=li.data,this.layer=li.layer,this.page=li.page,this.viewport=li.viewport,this.linkService=li.linkService,this.downloadManager=li.downloadManager,this.imageResourcesPath=li.imageResourcesPath,this.renderForms=li.renderForms,this.svgFactory=li.svgFactory,this.annotationStorage=li.annotationStorage,this.enableScripting=li.enableScripting,this.hasJSActions=li.hasJSActions,this._fieldObjects=li.fieldObjects,this._mouseState=li.mouseState,pi&&(this.container=this._createContainer(ri)),oi&&(this.quadrilaterals=this._createQuadrilaterals(ri))}_createContainer(li=!1){const pi=this.data,ri=this.page,oi=this.viewport,di=document.createElement("section"),{width:bi,height:Ai}=Fe(pi.rect),[Ei,mi,_i,Si]=oi.viewBox,Fi=_i-Ei,Pi=Si-mi;di.setAttribute("data-annotation-id",pi.id);const Di=Re.Util.normalizeRect([pi.rect[0],ri.view[3]-pi.rect[1]+ri.view[1],pi.rect[2],ri.view[3]-pi.rect[3]+ri.view[1]]);if(!li&&pi.borderStyle.width>0){di.style.borderWidth=`${pi.borderStyle.width}px`;const Mi=pi.borderStyle.horizontalCornerRadius,$i=pi.borderStyle.verticalCornerRadius;if(Mi>0||$i>0){const rn=`calc(${Mi}px * var(--scale-factor)) / calc(${$i}px * var(--scale-factor))`;di.style.borderRadius=rn}else if(this instanceof Me){const rn=`calc(${bi}px * var(--scale-factor)) / calc(${Ai}px * var(--scale-factor))`;di.style.borderRadius=rn}switch(pi.borderStyle.style){case Re.AnnotationBorderStyleType.SOLID:di.style.borderStyle="solid";break;case Re.AnnotationBorderStyleType.DASHED:di.style.borderStyle="dashed";break;case Re.AnnotationBorderStyleType.BEVELED:(0,Re.warn)("Unimplemented border style: beveled");break;case Re.AnnotationBorderStyleType.INSET:(0,Re.warn)("Unimplemented border style: inset");break;case Re.AnnotationBorderStyleType.UNDERLINE:di.style.borderBottomStyle="solid";break}const Xi=pi.borderColor||null;Xi?di.style.borderColor=Re.Util.makeHexColor(Xi[0]|0,Xi[1]|0,Xi[2]|0):di.style.borderWidth=0}di.style.left=`${100*(Di[0]-Ei)/Fi}%`,di.style.top=`${100*(Di[1]-mi)/Pi}%`;const{rotation:Ii}=pi;return pi.hasOwnCanvas||Ii===0?(di.style.width=`${100*bi/Fi}%`,di.style.height=`${100*Ai/Pi}%`):this.setRotation(Ii,di),di}setRotation(li,pi=this.container){const[ri,oi,di,bi]=this.viewport.viewBox,Ai=di-ri,Ei=bi-oi,{width:mi,height:_i}=Fe(this.data.rect);let Si,Fi;li%180===0?(Si=100*mi/Ai,Fi=100*_i/Ei):(Si=100*_i/Ai,Fi=100*mi/Ei),pi.style.width=`${Si}%`,pi.style.height=`${Fi}%`,pi.setAttribute("data-main-rotation",(360-li)%360)}get _commonActions(){const li=(pi,ri,oi)=>{const di=oi.detail[pi];oi.target.style[ri]=ii.ColorConverters[`${di[0]}_HTML`](di.slice(1))};return(0,Re.shadow)(this,"_commonActions",{display:pi=>{const ri=pi.detail.display%2===1;this.container.style.visibility=ri?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ri,print:pi.detail.display===0||pi.detail.display===3})},print:pi=>{this.annotationStorage.setValue(this.data.id,{print:pi.detail.print})},hidden:pi=>{this.container.style.visibility=pi.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:pi.detail.hidden})},focus:pi=>{setTimeout(()=>pi.target.focus({preventScroll:!1}),0)},userName:pi=>{pi.target.title=pi.detail.userName},readonly:pi=>{pi.detail.readonly?pi.target.setAttribute("readonly",""):pi.target.removeAttribute("readonly")},required:pi=>{this._setRequired(pi.target,pi.detail.required)},bgColor:pi=>{li("bgColor","backgroundColor",pi)},fillColor:pi=>{li("fillColor","backgroundColor",pi)},fgColor:pi=>{li("fgColor","color",pi)},textColor:pi=>{li("textColor","color",pi)},borderColor:pi=>{li("borderColor","borderColor",pi)},strokeColor:pi=>{li("strokeColor","borderColor",pi)},rotation:pi=>{const ri=pi.detail.rotation;this.setRotation(ri),this.annotationStorage.setValue(this.data.id,{rotation:ri})}})}_dispatchEventFromSandbox(li,pi){const ri=this._commonActions;for(const oi of Object.keys(pi.detail)){const di=li[oi]||ri[oi];di==null||di(pi)}}_setDefaultPropertiesFromJS(li){if(!this.enableScripting)return;const pi=this.annotationStorage.getRawValue(this.data.id);if(!pi)return;const ri=this._commonActions;for(const[oi,di]of Object.entries(pi)){const bi=ri[oi];if(bi){const Ai={detail:{[oi]:di},target:li};bi(Ai),delete pi[oi]}}}_createQuadrilaterals(li=!1){if(!this.data.quadPoints)return null;const pi=[],ri=this.data.rect;for(const oi of this.data.quadPoints)this.data.rect=[oi[2].x,oi[2].y,oi[1].x,oi[1].y],pi.push(this._createContainer(li));return this.data.rect=ri,pi}_createPopup(li,pi){let ri=this.container;this.quadrilaterals&&(li=li||this.quadrilaterals,ri=this.quadrilaterals[0]),li||(li=document.createElement("div"),li.className="popupTriggerArea",ri.append(li));const di=new je({container:ri,trigger:li,color:pi.color,titleObj:pi.titleObj,modificationDate:pi.modificationDate,contentsObj:pi.contentsObj,richText:pi.richText,hideWrapper:!0}).render();di.style.left="100%",ri.append(di)}_renderQuadrilaterals(li){for(const pi of this.quadrilaterals)pi.className=li;return this.quadrilaterals}render(){(0,Re.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(li,pi=null){const ri=[];if(this._fieldObjects){const oi=this._fieldObjects[li];if(oi)for(const{page:di,id:bi,exportValues:Ai}of oi){if(di===-1||bi===pi)continue;const Ei=typeof Ai=="string"?Ai:null,mi=document.querySelector(`[data-element-id="${bi}"]`);if(mi&&!xe.has(mi)){(0,Re.warn)(`_getElementsByName - element not allowed: ${bi}`);continue}ri.push({id:bi,exportValue:Ei,domElement:mi})}return ri}for(const oi of document.getElementsByName(li)){const{exportValue:di}=oi,bi=oi.getAttribute("data-element-id");bi!==pi&&(!xe.has(oi)||ri.push({id:bi,exportValue:di,domElement:oi}))}return ri}static get platform(){const li=typeof navigator<"u"?navigator.platform:"";return(0,Re.shadow)(this,"platform",{isWin:li.includes("Win"),isMac:li.includes("Mac")})}}class ke extends e{constructor(pi,ri=null){super(pi,{isRenderable:!0,ignoreBorder:!!(ri!=null&&ri.ignoreBorder),createQuadrilaterals:!0});yn(this,Ke);this.isTooltipOnly=pi.data.isTooltipOnly}render(){const{data:pi,linkService:ri}=this,oi=document.createElement("a");oi.setAttribute("data-element-id",pi.id);let di=!1;return pi.url?(ri.addLinkAttributes(oi,pi.url,pi.newWindow),di=!0):pi.action?(this._bindNamedAction(oi,pi.action),di=!0):pi.attachment?(this._bindAttachment(oi,pi.attachment),di=!0):pi.setOCGState?(Cn(this,Ke,g0).call(this,oi,pi.setOCGState),di=!0):pi.dest?(this._bindLink(oi,pi.dest),di=!0):(pi.actions&&(pi.actions.Action||pi.actions["Mouse Up"]||pi.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(oi,pi),di=!0),pi.resetForm?(this._bindResetFormAction(oi,pi.resetForm),di=!0):this.isTooltipOnly&&!di&&(this._bindLink(oi,""),di=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((bi,Ai)=>{const Ei=Ai===0?oi:oi.cloneNode();return bi.append(Ei),bi}):(this.container.className="linkAnnotation",di&&this.container.append(oi),this.container)}_bindLink(pi,ri){pi.href=this.linkService.getDestinationHash(ri),pi.onclick=()=>(ri&&this.linkService.goToDestination(ri),!1),(ri||ri==="")&&(pi.className="internalLink")}_bindNamedAction(pi,ri){pi.href=this.linkService.getAnchorUrl(""),pi.onclick=()=>(this.linkService.executeNamedAction(ri),!1),pi.className="internalLink"}_bindAttachment(pi,ri){pi.href=this.linkService.getAnchorUrl(""),pi.onclick=()=>{var oi;return(oi=this.downloadManager)==null||oi.openOrDownloadData(this.container,ri.content,ri.filename),!1},pi.className="internalLink"}_bindJSAction(pi,ri){pi.href=this.linkService.getAnchorUrl("");const oi=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const di of Object.keys(ri.actions)){const bi=oi.get(di);!bi||(pi[bi]=()=>{var Ai;return(Ai=this.linkService.eventBus)==null||Ai.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ri.id,name:di}}),!1})}pi.onclick||(pi.onclick=()=>!1),pi.className="internalLink"}_bindResetFormAction(pi,ri){const oi=pi.onclick;if(oi||(pi.href=this.linkService.getAnchorUrl("")),pi.className="internalLink",!this._fieldObjects){(0,Re.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),oi||(pi.onclick=()=>!1);return}pi.onclick=()=>{var Si;oi==null||oi();const{fields:di,refs:bi,include:Ai}=ri,Ei=[];if(di.length!==0||bi.length!==0){const Fi=new Set(bi);for(const Pi of di){const Di=this._fieldObjects[Pi]||[];for(const{id:Ii}of Di)Fi.add(Ii)}for(const Pi of Object.values(this._fieldObjects))for(const Di of Pi)Fi.has(Di.id)===Ai&&Ei.push(Di)}else for(const Fi of Object.values(this._fieldObjects))Ei.push(...Fi);const mi=this.annotationStorage,_i=[];for(const Fi of Ei){const{id:Pi}=Fi;switch(_i.push(Pi),Fi.type){case"text":{const Ii=Fi.defaultValue||"";mi.setValue(Pi,{value:Ii});break}case"checkbox":case"radiobutton":{const Ii=Fi.defaultValue===Fi.exportValues;mi.setValue(Pi,{value:Ii});break}case"combobox":case"listbox":{const Ii=Fi.defaultValue||"";mi.setValue(Pi,{value:Ii});break}default:continue}const Di=document.querySelector(`[data-element-id="${Pi}"]`);if(Di){if(!xe.has(Di)){(0,Re.warn)(`_bindResetFormAction - element not allowed: ${Pi}`);continue}}else continue;Di.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Si=this.linkService.eventBus)==null||Si.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_i,name:"ResetForm"}})),!1}}}Ke=new WeakSet,g0=function(pi,ri){pi.href=this.linkService.getAnchorUrl(""),pi.onclick=()=>(this.linkService.executeSetOCGState(ri),!1),pi.className="internalLink"};class Oe extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi})}render(){this.container.className="textAnnotation";const li=document.createElement("img");return li.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",li.alt="[{{type}} Annotation]",li.dataset.l10nId="text_annotation_type",li.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(li,this.data),this.container.append(li),this.container}}class Ee extends e{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(li){const{isWin:pi,isMac:ri}=e.platform;return pi&&li.ctrlKey||ri&&li.metaKey}_setEventListener(li,pi,ri,oi){pi.includes("mouse")?li.addEventListener(pi,di=>{var bi;(bi=this.linkService.eventBus)==null||bi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ri,value:oi(di),shift:di.shiftKey,modifier:this._getKeyModifier(di)}})}):li.addEventListener(pi,di=>{var bi;(bi=this.linkService.eventBus)==null||bi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ri,value:oi(di)}})})}_setEventListeners(li,pi,ri){var oi;for(const[di,bi]of pi)(bi==="Action"||((oi=this.data.actions)==null?void 0:oi[bi]))&&this._setEventListener(li,di,bi,ri)}_setBackgroundColor(li){const pi=this.data.backgroundColor||null;li.style.backgroundColor=pi===null?"transparent":Re.Util.makeHexColor(pi[0],pi[1],pi[2])}_setTextStyle(li){const pi=["left","center","right"],{fontColor:ri}=this.data.defaultAppearanceData,oi=this.data.defaultAppearanceData.fontSize||t,di=li.style;let bi;const Ai=2,Ei=mi=>Math.round(10*mi)/10;if(this.data.multiLine){const mi=Math.abs(this.data.rect[3]-this.data.rect[1]-Ai),_i=Math.round(mi/(Re.LINE_FACTOR*oi))||1,Si=mi/_i;bi=Math.min(oi,Ei(Si/Re.LINE_FACTOR))}else{const mi=Math.abs(this.data.rect[3]-this.data.rect[1]-Ai);bi=Math.min(oi,Ei(mi/Re.LINE_FACTOR))}di.fontSize=`calc(${bi}px * var(--scale-factor))`,di.color=Re.Util.makeHexColor(ri[0],ri[1],ri[2]),this.data.textAlignment!==null&&(di.textAlign=pi[this.data.textAlignment])}_setRequired(li,pi){pi?li.setAttribute("required",!0):li.removeAttribute("required"),li.setAttribute("aria-required",pi)}}class Pe extends Ee{constructor(li){const pi=li.renderForms||!li.data.hasAppearance&&!!li.data.fieldValue;super(li,{isRenderable:pi})}setPropertyOnSiblings(li,pi,ri,oi){const di=this.annotationStorage;for(const bi of this._getElementsByName(li.name,li.id))bi.domElement&&(bi.domElement[pi]=ri),di.setValue(bi.id,{[oi]:ri})}render(){var oi;const li=this.annotationStorage,pi=this.data.id;this.container.className="textWidgetAnnotation";let ri=null;if(this.renderForms){const di=li.getValue(pi,{value:this.data.fieldValue});let bi=di.formattedValue||di.value||"";const Ai=li.getValue(pi,{charLimit:this.data.maxLen}).charLimit;Ai&&bi.length>Ai&&(bi=bi.slice(0,Ai));const Ei={userValue:bi,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ri=document.createElement("textarea"),ri.textContent=bi,this.data.doNotScroll&&(ri.style.overflowY="hidden")):(ri=document.createElement("input"),ri.type="text",ri.setAttribute("value",bi),this.data.doNotScroll&&(ri.style.overflowX="hidden")),xe.add(ri),ri.setAttribute("data-element-id",pi),ri.disabled=this.data.readOnly,ri.name=this.data.fieldName,ri.tabIndex=_e,this._setRequired(ri,this.data.required),Ai&&(ri.maxLength=Ai),ri.addEventListener("input",_i=>{li.setValue(pi,{value:_i.target.value}),this.setPropertyOnSiblings(ri,"value",_i.target.value,"value")}),ri.addEventListener("resetform",_i=>{var Fi;const Si=(Fi=this.data.defaultFieldValue)!=null?Fi:"";ri.value=Ei.userValue=Si,Ei.formattedValue=null});let mi=_i=>{const{formattedValue:Si}=Ei;Si!=null&&(_i.target.value=Si),_i.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ri.addEventListener("focus",Si=>{Ei.userValue&&(Si.target.value=Ei.userValue),Ei.valueOnFocus=Si.target.value}),ri.addEventListener("updatefromsandbox",Si=>{const Fi={value(Pi){var Di;Ei.userValue=(Di=Pi.detail.value)!=null?Di:"",li.setValue(pi,{value:Ei.userValue.toString()}),Pi.target.value=Ei.userValue},formattedValue(Pi){const{formattedValue:Di}=Pi.detail;Ei.formattedValue=Di,Di!=null&&Pi.target!==document.activeElement&&(Pi.target.value=Di),li.setValue(pi,{formattedValue:Di})},selRange(Pi){Pi.target.setSelectionRange(...Pi.detail.selRange)},charLimit:Pi=>{var $i;const{charLimit:Di}=Pi.detail,{target:Ii}=Pi;if(Di===0){Ii.removeAttribute("maxLength");return}Ii.setAttribute("maxLength",Di);let Mi=Ei.userValue;!Mi||Mi.length<=Di||(Mi=Mi.slice(0,Di),Ii.value=Ei.userValue=Mi,li.setValue(pi,{value:Mi}),($i=this.linkService.eventBus)==null||$i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pi,name:"Keystroke",value:Mi,willCommit:!0,commitKey:1,selStart:Ii.selectionStart,selEnd:Ii.selectionEnd}}))}};this._dispatchEventFromSandbox(Fi,Si)}),ri.addEventListener("keydown",Si=>{var Di;let Fi=-1;if(Si.key==="Escape"?Fi=0:Si.key==="Enter"&&!this.data.multiLine?Fi=2:Si.key==="Tab"&&(Fi=3),Fi===-1)return;const{value:Pi}=Si.target;Ei.valueOnFocus!==Pi&&(Ei.userValue=Pi,(Di=this.linkService.eventBus)==null||Di.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pi,name:"Keystroke",value:Pi,willCommit:!0,commitKey:Fi,selStart:Si.target.selectionStart,selEnd:Si.target.selectionEnd}}))});const _i=mi;mi=null,ri.addEventListener("blur",Si=>{var Pi;const{value:Fi}=Si.target;Ei.userValue=Fi,this._mouseState.isDown&&Ei.valueOnFocus!==Fi&&((Pi=this.linkService.eventBus)==null||Pi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pi,name:"Keystroke",value:Fi,willCommit:!0,commitKey:1,selStart:Si.target.selectionStart,selEnd:Si.target.selectionEnd}})),_i(Si)}),(oi=this.data.actions)!=null&&oi.Keystroke&&ri.addEventListener("beforeinput",Si=>{var rn;const{data:Fi,target:Pi}=Si,{value:Di,selectionStart:Ii,selectionEnd:Mi}=Pi;let $i=Ii,Xi=Mi;switch(Si.inputType){case"deleteWordBackward":{const tn=Di.substring(0,Ii).match(/\w*[^\w]*$/);tn&&($i-=tn[0].length);break}case"deleteWordForward":{const tn=Di.substring(Ii).match(/^[^\w]*\w*/);tn&&(Xi+=tn[0].length);break}case"deleteContentBackward":Ii===Mi&&($i-=1);break;case"deleteContentForward":Ii===Mi&&(Xi+=1);break}Si.preventDefault(),(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pi,name:"Keystroke",value:Di,change:Fi||"",willCommit:!1,selStart:$i,selEnd:Xi}})}),this._setEventListeners(ri,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Si=>Si.target.value)}if(mi&&ri.addEventListener("blur",mi),this.data.comb){const Si=(this.data.rect[2]-this.data.rect[0])/Ai;ri.classList.add("comb"),ri.style.letterSpacing=`calc(${Si}px * var(--scale-factor) - 1ch)`}}else ri=document.createElement("div"),ri.textContent=this.data.fieldValue,ri.style.verticalAlign="middle",ri.style.display="table-cell";return this._setTextStyle(ri),this._setBackgroundColor(ri),this._setDefaultPropertiesFromJS(ri),this.container.append(ri),this.container}}class De extends Ee{constructor(li){super(li,{isRenderable:li.renderForms})}render(){const li=this.annotationStorage,pi=this.data,ri=pi.id;let oi=li.getValue(ri,{value:pi.exportValue===pi.fieldValue}).value;typeof oi=="string"&&(oi=oi!=="Off",li.setValue(ri,{value:oi})),this.container.className="buttonWidgetAnnotation checkBox";const di=document.createElement("input");return xe.add(di),di.setAttribute("data-element-id",ri),di.disabled=pi.readOnly,this._setRequired(di,this.data.required),di.type="checkbox",di.name=pi.fieldName,oi&&di.setAttribute("checked",!0),di.setAttribute("exportValue",pi.exportValue),di.tabIndex=_e,di.addEventListener("change",bi=>{const{name:Ai,checked:Ei}=bi.target;for(const mi of this._getElementsByName(Ai,ri)){const _i=Ei&&mi.exportValue===pi.exportValue;mi.domElement&&(mi.domElement.checked=_i),li.setValue(mi.id,{value:_i})}li.setValue(ri,{value:Ei})}),di.addEventListener("resetform",bi=>{const Ai=pi.defaultFieldValue||"Off";bi.target.checked=Ai===pi.exportValue}),this.enableScripting&&this.hasJSActions&&(di.addEventListener("updatefromsandbox",bi=>{const Ai={value(Ei){Ei.target.checked=Ei.detail.value!=="Off",li.setValue(ri,{value:Ei.target.checked})}};this._dispatchEventFromSandbox(Ai,bi)}),this._setEventListeners(di,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bi=>bi.target.checked)),this._setBackgroundColor(di),this._setDefaultPropertiesFromJS(di),this.container.append(di),this.container}}class Me extends Ee{constructor(li){super(li,{isRenderable:li.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const li=this.annotationStorage,pi=this.data,ri=pi.id;let oi=li.getValue(ri,{value:pi.fieldValue===pi.buttonValue}).value;typeof oi=="string"&&(oi=oi!==pi.buttonValue,li.setValue(ri,{value:oi}));const di=document.createElement("input");if(xe.add(di),di.setAttribute("data-element-id",ri),di.disabled=pi.readOnly,this._setRequired(di,this.data.required),di.type="radio",di.name=pi.fieldName,oi&&di.setAttribute("checked",!0),di.tabIndex=_e,di.addEventListener("change",bi=>{const{name:Ai,checked:Ei}=bi.target;for(const mi of this._getElementsByName(Ai,ri))li.setValue(mi.id,{value:!1});li.setValue(ri,{value:Ei})}),di.addEventListener("resetform",bi=>{const Ai=pi.defaultFieldValue;bi.target.checked=Ai!=null&&Ai===pi.buttonValue}),this.enableScripting&&this.hasJSActions){const bi=pi.buttonValue;di.addEventListener("updatefromsandbox",Ai=>{const Ei={value:mi=>{const _i=bi===mi.detail.value;for(const Si of this._getElementsByName(mi.target.name)){const Fi=_i&&Si.id===ri;Si.domElement&&(Si.domElement.checked=Fi),li.setValue(Si.id,{value:Fi})}}};this._dispatchEventFromSandbox(Ei,Ai)}),this._setEventListeners(di,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ai=>Ai.target.checked)}return this._setBackgroundColor(di),this._setDefaultPropertiesFromJS(di),this.container.append(di),this.container}}class Ae extends ke{constructor(li){super(li,{ignoreBorder:li.data.hasAppearance})}render(){const li=super.render();li.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(li.title=this.data.alternativeText);const pi=li.lastChild;return this.enableScripting&&this.hasJSActions&&pi&&(this._setDefaultPropertiesFromJS(pi),pi.addEventListener("updatefromsandbox",ri=>{this._dispatchEventFromSandbox({},ri)})),li}}class Be extends Ee{constructor(li){super(li,{isRenderable:li.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const li=this.annotationStorage,pi=this.data.id,ri=li.getValue(pi,{value:this.data.fieldValue}),oi=document.createElement("select");xe.add(oi),oi.setAttribute("data-element-id",pi),oi.disabled=this.data.readOnly,this._setRequired(oi,this.data.required),oi.name=this.data.fieldName,oi.tabIndex=_e;let di=this.data.combo&&this.data.options.length>0;this.data.combo||(oi.size=this.data.options.length,this.data.multiSelect&&(oi.multiple=!0)),oi.addEventListener("resetform",mi=>{const _i=this.data.defaultFieldValue;for(const Si of oi.options)Si.selected=Si.value===_i});for(const mi of this.data.options){const _i=document.createElement("option");_i.textContent=mi.displayValue,_i.value=mi.exportValue,ri.value.includes(mi.exportValue)&&(_i.setAttribute("selected",!0),di=!1),oi.append(_i)}let bi=null;if(di){const mi=document.createElement("option");mi.value=" ",mi.setAttribute("hidden",!0),mi.setAttribute("selected",!0),oi.prepend(mi),bi=()=>{mi.remove(),oi.removeEventListener("input",bi),bi=null},oi.addEventListener("input",bi)}const Ai=(mi,_i)=>{const Si=_i?"value":"textContent",Fi=mi.target.options;return mi.target.multiple?Array.prototype.filter.call(Fi,Pi=>Pi.selected).map(Pi=>Pi[Si]):Fi.selectedIndex===-1?null:Fi[Fi.selectedIndex][Si]},Ei=mi=>{const _i=mi.target.options;return Array.prototype.map.call(_i,Si=>({displayValue:Si.textContent,exportValue:Si.value}))};return this.enableScripting&&this.hasJSActions?(oi.addEventListener("updatefromsandbox",mi=>{const _i={value(Si){bi==null||bi();const Fi=Si.detail.value,Pi=new Set(Array.isArray(Fi)?Fi:[Fi]);for(const Di of oi.options)Di.selected=Pi.has(Di.value);li.setValue(pi,{value:Ai(Si,!0)})},multipleSelection(Si){oi.multiple=!0},remove(Si){const Fi=oi.options,Pi=Si.detail.remove;Fi[Pi].selected=!1,oi.remove(Pi),Fi.length>0&&Array.prototype.findIndex.call(Fi,Ii=>Ii.selected)===-1&&(Fi[0].selected=!0),li.setValue(pi,{value:Ai(Si,!0),items:Ei(Si)})},clear(Si){for(;oi.length!==0;)oi.remove(0);li.setValue(pi,{value:null,items:[]})},insert(Si){const{index:Fi,displayValue:Pi,exportValue:Di}=Si.detail.insert,Ii=oi.children[Fi],Mi=document.createElement("option");Mi.textContent=Pi,Mi.value=Di,Ii?Ii.before(Mi):oi.append(Mi),li.setValue(pi,{value:Ai(Si,!0),items:Ei(Si)})},items(Si){const{items:Fi}=Si.detail;for(;oi.length!==0;)oi.remove(0);for(const Pi of Fi){const{displayValue:Di,exportValue:Ii}=Pi,Mi=document.createElement("option");Mi.textContent=Di,Mi.value=Ii,oi.append(Mi)}oi.options.length>0&&(oi.options[0].selected=!0),li.setValue(pi,{value:Ai(Si,!0),items:Ei(Si)})},indices(Si){const Fi=new Set(Si.detail.indices);for(const Pi of Si.target.options)Pi.selected=Fi.has(Pi.index);li.setValue(pi,{value:Ai(Si,!0)})},editable(Si){Si.target.disabled=!Si.detail.editable}};this._dispatchEventFromSandbox(_i,mi)}),oi.addEventListener("input",mi=>{var Fi;const _i=Ai(mi,!0),Si=Ai(mi,!1);li.setValue(pi,{value:_i}),(Fi=this.linkService.eventBus)==null||Fi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pi,name:"Keystroke",value:Si,changeEx:_i,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(oi,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],mi=>mi.target.checked)):oi.addEventListener("input",function(mi){li.setValue(pi,{value:Ai(mi,!0)})}),this.data.combo&&this._setTextStyle(oi),this._setBackgroundColor(oi),this._setDefaultPropertiesFromJS(oi),this.container.append(oi),this.container}}const Ue=class extends e{constructor(li){var oi,di,bi;const{data:pi}=li,ri=!Ue.IGNORE_TYPES.has(pi.parentType)&&!!(((oi=pi.titleObj)==null?void 0:oi.str)||((di=pi.contentsObj)==null?void 0:di.str)||((bi=pi.richText)==null?void 0:bi.str));super(li,{isRenderable:ri})}render(){this.container.className="popupAnnotation";const li=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(li.length===0)return this.container;const pi=new je({container:this.container,trigger:Array.from(li),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ri=this.page,oi=Re.Util.normalizeRect([this.data.parentRect[0],ri.view[3]-this.data.parentRect[1]+ri.view[1],this.data.parentRect[2],ri.view[3]-this.data.parentRect[3]+ri.view[1]]),di=oi[0]+this.data.parentRect[2]-this.data.parentRect[0],bi=oi[1],[Ai,Ei,mi,_i]=this.viewport.viewBox,Si=mi-Ai,Fi=_i-Ei;return this.container.style.left=`${100*(di-Ai)/Si}%`,this.container.style.top=`${100*(bi-Ei)/Fi}%`,this.container.append(pi.render()),this.container}};let He=Ue;ns(He,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class je{constructor(li){this.container=li.container,this.trigger=li.trigger,this.color=li.color,this.titleObj=li.titleObj,this.modificationDate=li.modificationDate,this.contentsObj=li.contentsObj,this.richText=li.richText,this.hideWrapper=li.hideWrapper||!1,this.pinned=!1}render(){var Ai,Ei;const pi=document.createElement("div");pi.className="popupWrapper",this.hideElement=this.hideWrapper?pi:this.container,this.hideElement.hidden=!0;const ri=document.createElement("div");ri.className="popup";const oi=this.color;if(oi){const mi=.7*(255-oi[0])+oi[0],_i=.7*(255-oi[1])+oi[1],Si=.7*(255-oi[2])+oi[2];ri.style.backgroundColor=Re.Util.makeHexColor(mi|0,_i|0,Si|0)}const di=document.createElement("h1");di.dir=this.titleObj.dir,di.textContent=this.titleObj.str,ri.append(di);const bi=Ge.PDFDateString.toDateObject(this.modificationDate);if(bi){const mi=document.createElement("span");mi.className="popupDate",mi.textContent="{{date}}, {{time}}",mi.dataset.l10nId="annotation_date_string",mi.dataset.l10nArgs=JSON.stringify({date:bi.toLocaleDateString(),time:bi.toLocaleTimeString()}),ri.append(mi)}if(((Ai=this.richText)==null?void 0:Ai.str)&&(!((Ei=this.contentsObj)!=null&&Ei.str)||this.contentsObj.str===this.richText.str))Se.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ri}),ri.lastChild.className="richText popupContent";else{const mi=this._formatContents(this.contentsObj);ri.append(mi)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const mi of this.trigger)mi.addEventListener("click",this._toggle.bind(this)),mi.addEventListener("mouseover",this._show.bind(this,!1)),mi.addEventListener("mouseout",this._hide.bind(this,!1));return ri.addEventListener("click",this._hide.bind(this,!0)),pi.append(ri),pi}_formatContents({str:li,dir:pi}){const ri=document.createElement("p");ri.className="popupContent",ri.dir=pi;const oi=li.split(/(?:\r\n?|\n)/);for(let di=0,bi=oi.length;di<bi;++di){const Ai=oi[di];ri.append(document.createTextNode(Ai)),di<bi-1&&ri.append(document.createElement("br"))}return ri}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(li=!1){li&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(li=!0){li&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Xe extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0}),this.textContent=li.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const li=document.createElement("div");li.className="annotationTextContent",li.setAttribute("role","comment");for(const pi of this.textContent){const ri=document.createElement("span");ri.textContent=pi,li.append(ri)}this.container.append(li)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class St extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const li=this.data,{width:pi,height:ri}=Fe(li.rect),oi=this.svgFactory.create(pi,ri,!0),di=this.svgFactory.createElement("svg:line");return di.setAttribute("x1",li.rect[2]-li.lineCoordinates[0]),di.setAttribute("y1",li.rect[3]-li.lineCoordinates[1]),di.setAttribute("x2",li.rect[2]-li.lineCoordinates[2]),di.setAttribute("y2",li.rect[3]-li.lineCoordinates[3]),di.setAttribute("stroke-width",li.borderStyle.width||1),di.setAttribute("stroke","transparent"),di.setAttribute("fill","transparent"),oi.append(di),this.container.append(oi),this._createPopup(di,li),this.container}}class qe extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const li=this.data,{width:pi,height:ri}=Fe(li.rect),oi=this.svgFactory.create(pi,ri,!0),di=li.borderStyle.width,bi=this.svgFactory.createElement("svg:rect");return bi.setAttribute("x",di/2),bi.setAttribute("y",di/2),bi.setAttribute("width",pi-di),bi.setAttribute("height",ri-di),bi.setAttribute("stroke-width",di||1),bi.setAttribute("stroke","transparent"),bi.setAttribute("fill","transparent"),oi.append(bi),this.container.append(oi),this._createPopup(bi,li),this.container}}class Ye extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const li=this.data,{width:pi,height:ri}=Fe(li.rect),oi=this.svgFactory.create(pi,ri,!0),di=li.borderStyle.width,bi=this.svgFactory.createElement("svg:ellipse");return bi.setAttribute("cx",pi/2),bi.setAttribute("cy",ri/2),bi.setAttribute("rx",pi/2-di/2),bi.setAttribute("ry",ri/2-di/2),bi.setAttribute("stroke-width",di||1),bi.setAttribute("stroke","transparent"),bi.setAttribute("fill","transparent"),oi.append(bi),this.container.append(oi),this._createPopup(bi,li),this.container}}class gi extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const li=this.data,{width:pi,height:ri}=Fe(li.rect),oi=this.svgFactory.create(pi,ri,!0);let di=[];for(const Ai of li.vertices){const Ei=Ai.x-li.rect[0],mi=li.rect[3]-Ai.y;di.push(Ei+","+mi)}di=di.join(" ");const bi=this.svgFactory.createElement(this.svgElementName);return bi.setAttribute("points",di),bi.setAttribute("stroke-width",li.borderStyle.width||1),bi.setAttribute("stroke","transparent"),bi.setAttribute("fill","transparent"),oi.append(bi),this.container.append(oi),this._createPopup(bi,li),this.container}}class ai extends gi{constructor(li){super(li),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ui extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Qe extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const li=this.data,{width:pi,height:ri}=Fe(li.rect),oi=this.svgFactory.create(pi,ri,!0);for(const di of li.inkLists){let bi=[];for(const Ei of di){const mi=Ei.x-li.rect[0],_i=li.rect[3]-Ei.y;bi.push(`${mi},${_i}`)}bi=bi.join(" ");const Ai=this.svgFactory.createElement(this.svgElementName);Ai.setAttribute("points",bi),Ai.setAttribute("stroke-width",li.borderStyle.width||1),Ai.setAttribute("stroke","transparent"),Ai.setAttribute("fill","transparent"),this._createPopup(Ai,li),oi.append(Ai)}return this.container.append(oi),this.container}}class Ze extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ci extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ze extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class We extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class si extends e{constructor(li){var ri,oi,di;const pi=!!(li.data.hasPopup||((ri=li.data.titleObj)==null?void 0:ri.str)||((oi=li.data.contentsObj)==null?void 0:oi.str)||((di=li.data.richText)==null?void 0:di.str));super(li,{isRenderable:pi,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ni extends e{constructor(li){var oi;super(li,{isRenderable:!0});const{filename:pi,content:ri}=this.data.file;this.filename=(0,Ge.getFilenameFromUrl)(pi),this.content=ri,(oi=this.linkService.eventBus)==null||oi.dispatch("fileattachmentannotation",{source:this,filename:pi,content:ri})}render(){var pi,ri;this.container.className="fileAttachmentAnnotation";const li=document.createElement("div");return li.className="popupTriggerArea",li.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((pi=this.data.titleObj)==null?void 0:pi.str)||((ri=this.data.contentsObj)==null?void 0:ri.str)||this.data.richText)&&this._createPopup(li,this.data),this.container.append(li),this.container}_download(){var li;(li=this.downloadManager)==null||li.openOrDownloadData(this.container,this.content,this.filename)}}const fi=class{static render(li){var Ai,Ei;const{annotations:pi,div:ri,viewport:oi,accessibilityManager:di}=li;Cn(this,yi,Qc).call(this,ri,oi);let bi=0;for(const mi of pi){if(mi.annotationType!==Re.AnnotationType.POPUP){const{width:Si,height:Fi}=Fe(mi.rect);if(Si<=0||Fi<=0)continue}const _i=Te.create({data:mi,layer:ri,page:li.page,viewport:oi,linkService:li.linkService,downloadManager:li.downloadManager,imageResourcesPath:li.imageResourcesPath||"",renderForms:li.renderForms!==!1,svgFactory:new Ge.DOMSVGFactory,annotationStorage:li.annotationStorage||new Je.AnnotationStorage,enableScripting:li.enableScripting,hasJSActions:li.hasJSActions,fieldObjects:li.fieldObjects,mouseState:li.mouseState||{isDown:!1}});if(_i.isRenderable){const Si=_i.render();if(mi.hidden&&(Si.style.visibility="hidden"),Array.isArray(Si))for(const Fi of Si)Fi.style.zIndex=bi++,Cn(Ai=fi,ti,Zc).call(Ai,Fi,mi.id,ri,di);else Si.style.zIndex=bi++,_i instanceof He?ri.prepend(Si):Cn(Ei=fi,ti,Zc).call(Ei,Si,mi.id,ri,di)}}Cn(this,Ci,el).call(this,ri,li.annotationCanvasMap)}static update(li){const{annotationCanvasMap:pi,div:ri,viewport:oi}=li;Cn(this,yi,Qc).call(this,ri,oi),Cn(this,Ci,el).call(this,ri,pi),ri.hidden=!1}};let $e=fi;ti=new WeakSet,Zc=function(li,pi,ri,oi){const di=li.firstChild||li;di.id=`${Ge.AnnotationPrefix}${pi}`,ri.append(li),oi==null||oi.moveElementInDOM(ri,li,di,!1)},yi=new WeakSet,Qc=function(li,{width:pi,height:ri,rotation:oi}){const{style:di}=li,bi=oi%180!==0,Ai=Math.floor(pi)+"px",Ei=Math.floor(ri)+"px";di.width=bi?Ei:Ai,di.height=bi?Ai:Ei,li.setAttribute("data-main-rotation",oi)},Ci=new WeakSet,el=function(li,pi){if(!!pi){for(const[ri,oi]of pi){const di=li.querySelector(`[data-annotation-id="${ri}"]`);if(!di)continue;const{firstChild:bi}=di;bi?bi.nodeName==="CANVAS"?bi.replaceWith(oi):bi.before(oi):di.append(oi)}pi.clear()}},yn($e,ti),yn($e,yi),yn($e,Ci),r.AnnotationLayer=$e},(Ce,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorConverters=void 0;function Ie(Ge){return Math.floor(Math.max(0,Math.min(1,Ge))*255).toString(16).padStart(2,"0")}class Re{static CMYK_G([Je,ii,Se,_e]){return["G",1-Math.min(1,.3*Je+.59*Se+.11*ii+_e)]}static G_CMYK([Je]){return["CMYK",0,0,0,1-Je]}static G_RGB([Je]){return["RGB",Je,Je,Je]}static G_HTML([Je]){const ii=Ie(Je);return`#${ii}${ii}${ii}`}static RGB_G([Je,ii,Se]){return["G",.3*Je+.59*ii+.11*Se]}static RGB_HTML([Je,ii,Se]){const _e=Ie(Je),t=Ie(ii),xe=Ie(Se);return`#${_e}${t}${xe}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Je,ii,Se,_e]){return["RGB",1-Math.min(1,Je+_e),1-Math.min(1,Se+_e),1-Math.min(1,ii+_e)]}static CMYK_HTML(Je){const ii=this.CMYK_RGB(Je).slice(1);return this.RGB_HTML(ii)}static RGB_CMYK([Je,ii,Se]){const _e=1-Je,t=1-ii,xe=1-Se,Fe=Math.min(_e,t,xe);return["CMYK",_e,t,xe,Fe]}}r.ColorConverters=Re},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaLayer=void 0;var Re=Ie(19);class Ge{static setupStorage(ii,Se,_e,t,xe){const Fe=t.getValue(Se,{value:null});switch(_e.name){case"textarea":if(Fe.value!==null&&(ii.textContent=Fe.value),xe==="print")break;ii.addEventListener("input",Te=>{t.setValue(Se,{value:Te.target.value})});break;case"input":if(_e.attributes.type==="radio"||_e.attributes.type==="checkbox"){if(Fe.value===_e.attributes.xfaOn?ii.setAttribute("checked",!0):Fe.value===_e.attributes.xfaOff&&ii.removeAttribute("checked"),xe==="print")break;ii.addEventListener("change",Te=>{t.setValue(Se,{value:Te.target.checked?Te.target.getAttribute("xfaOn"):Te.target.getAttribute("xfaOff")})})}else{if(Fe.value!==null&&ii.setAttribute("value",Fe.value),xe==="print")break;ii.addEventListener("input",Te=>{t.setValue(Se,{value:Te.target.value})})}break;case"select":if(Fe.value!==null)for(const Te of _e.children)Te.attributes.value===Fe.value&&(Te.attributes.selected=!0);ii.addEventListener("input",Te=>{const e=Te.target.options,ke=e.selectedIndex===-1?"":e[e.selectedIndex].value;t.setValue(Se,{value:ke})});break}}static setAttributes({html:ii,element:Se,storage:_e=null,intent:t,linkService:xe}){const{attributes:Fe}=Se,Te=ii instanceof HTMLAnchorElement;Fe.type==="radio"&&(Fe.name=`${Fe.name}-${t}`);for(const[e,ke]of Object.entries(Fe))if(ke!=null)switch(e){case"class":ke.length&&ii.setAttribute(e,ke.join(" "));break;case"dataId":break;case"id":ii.setAttribute("data-element-id",ke);break;case"style":Object.assign(ii.style,ke);break;case"textContent":ii.textContent=ke;break;default:(!Te||e!=="href"&&e!=="newWindow")&&ii.setAttribute(e,ke)}Te&&xe.addLinkAttributes(ii,Fe.href,Fe.newWindow),_e&&Fe.dataId&&this.setupStorage(ii,Fe.dataId,Se,_e)}static render(ii){var Oe;const Se=ii.annotationStorage,_e=ii.linkService,t=ii.xfaHtml,xe=ii.intent||"display",Fe=document.createElement(t.name);t.attributes&&this.setAttributes({html:Fe,element:t,intent:xe,linkService:_e});const Te=[[t,-1,Fe]],e=ii.div;if(e.append(Fe),ii.viewport){const Ee=`matrix(${ii.viewport.transform.join(",")})`;e.style.transform=Ee}xe!=="richText"&&e.setAttribute("class","xfaLayer xfaFont");const ke=[];for(;Te.length>0;){const[Ee,Pe,De]=Te.at(-1);if(Pe+1===Ee.children.length){Te.pop();continue}const Me=Ee.children[++Te.at(-1)[1]];if(Me===null)continue;const{name:Ae}=Me;if(Ae==="#text"){const He=document.createTextNode(Me.value);ke.push(He),De.append(He);continue}let Be;if((Oe=Me==null?void 0:Me.attributes)!=null&&Oe.xmlns?Be=document.createElementNS(Me.attributes.xmlns,Ae):Be=document.createElement(Ae),De.append(Be),Me.attributes&&this.setAttributes({html:Be,element:Me,storage:Se,intent:xe,linkService:_e}),Me.children&&Me.children.length>0)Te.push([Me,-1,Be]);else if(Me.value){const He=document.createTextNode(Me.value);Re.XfaText.shouldBuildText(Ae)&&ke.push(He),Be.append(He)}}for(const Ee of e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ee.setAttribute("readOnly",!0);return{textDivs:ke}}static update(ii){const Se=`matrix(${ii.viewport.transform.join(",")})`;ii.div.style.transform=Se,ii.div.hidden=!1}}r.XfaLayer=Ge},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextLayerRenderTask=void 0,r.renderTextLayer=Te;var Re=Ie(1);const Ge=1e5,Je=30,ii=.8,Se=new Map;function _e(e,ke){const Oe=Se.get(e);if(Oe)return Oe;ke.save(),ke.font=`${Je}px ${e}`;const Ee=ke.measureText("");let Pe=Ee.fontBoundingBoxAscent,De=Math.abs(Ee.fontBoundingBoxDescent);if(Pe){ke.restore();const Ae=Pe/(Pe+De);return Se.set(e,Ae),Ae}ke.strokeStyle="red",ke.clearRect(0,0,Je,Je),ke.strokeText("g",0,0);let Me=ke.getImageData(0,0,Je,Je).data;De=0;for(let Ae=Me.length-1-3;Ae>=0;Ae-=4)if(Me[Ae]>0){De=Math.ceil(Ae/4/Je);break}ke.clearRect(0,0,Je,Je),ke.strokeText("A",0,Je),Me=ke.getImageData(0,0,Je,Je).data,Pe=0;for(let Ae=0,Be=Me.length;Ae<Be;Ae+=4)if(Me[Ae]>0){Pe=Je-Math.floor(Ae/4/Je);break}if(ke.restore(),Pe){const Ae=Pe/(Pe+De);return Se.set(e,Ae),Ae}return Se.set(e,ii),ii}function t(e,ke,Oe,Ee){const Pe=document.createElement("span"),De={angle:0,canvasWidth:0,hasText:ke.str!=="",hasEOL:ke.hasEOL,fontSize:0};e._textDivs.push(Pe);const Me=Re.Util.transform(e._viewport.transform,ke.transform);let Ae=Math.atan2(Me[1],Me[0]);const Be=Oe[ke.fontName];Be.vertical&&(Ae+=Math.PI/2);const He=Math.hypot(Me[2],Me[3]),je=He*_e(Be.fontFamily,Ee);let Xe,St;Ae===0?(Xe=Me[4],St=Me[5]-je):(Xe=Me[4]+je*Math.sin(Ae),St=Me[5]-je*Math.cos(Ae)),Pe.style.left=`${Xe}px`,Pe.style.top=`${St}px`,Pe.style.fontSize=`${He}px`,Pe.style.fontFamily=Be.fontFamily,De.fontSize=He,Pe.setAttribute("role","presentation"),Pe.textContent=ke.str,Pe.dir=ke.dir,e._fontInspectorEnabled&&(Pe.dataset.fontName=ke.fontName),Ae!==0&&(De.angle=Ae*(180/Math.PI));let qe=!1;if(ke.str.length>1)qe=!0;else if(ke.str!==" "&&ke.transform[0]!==ke.transform[3]){const Ye=Math.abs(ke.transform[0]),gi=Math.abs(ke.transform[3]);Ye!==gi&&Math.max(Ye,gi)/Math.min(Ye,gi)>1.5&&(qe=!0)}qe&&(Be.vertical?De.canvasWidth=ke.height*e._viewport.scale:De.canvasWidth=ke.width*e._viewport.scale),e._textDivProperties.set(Pe,De),e._textContentStream&&e._layoutText(Pe)}function xe(e){if(e._canceled)return;const ke=e._textDivs,Oe=e._capability;if(ke.length>Ge){e._renderingDone=!0,Oe.resolve();return}if(!e._textContentStream)for(const Pe of ke)e._layoutText(Pe);e._renderingDone=!0,Oe.resolve()}class Fe{constructor({textContent:ke,textContentStream:Oe,container:Ee,viewport:Pe,textDivs:De,textContentItemsStr:Me}){var Ae;this._textContent=ke,this._textContentStream=Oe,this._container=Ee,this._document=Ee.ownerDocument,this._viewport=Pe,this._textDivs=De||[],this._textContentItemsStr=Me||[],this._fontInspectorEnabled=!!((Ae=globalThis.FontInspector)!=null&&Ae.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,Re.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Re.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(ke,Oe){for(const Ee of ke){if(Ee.str===void 0){if(Ee.type==="beginMarkedContentProps"||Ee.type==="beginMarkedContent"){const Pe=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ee.id!==null&&this._container.setAttribute("id",`${Ee.id}`),Pe.append(this._container)}else Ee.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ee.str),t(this,Ee,Oe,this._layoutTextCtx)}}_layoutText(ke){const Oe=this._textDivProperties.get(ke);let Ee="";if(Oe.canvasWidth!==0&&Oe.hasText){const{fontFamily:Pe}=ke.style,{fontSize:De}=Oe;(De!==this._layoutTextLastFontSize||Pe!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${De*this._devicePixelRatio}px ${Pe}`,this._layoutTextLastFontSize=De,this._layoutTextLastFontFamily=Pe);const{width:Me}=this._layoutTextCtx.measureText(ke.textContent);Me>0&&(Ee=`scaleX(${this._devicePixelRatio*Oe.canvasWidth/Me})`)}if(Oe.angle!==0&&(Ee=`rotate(${Oe.angle}deg) ${Ee}`),Ee.length>0&&(ke.style.transform=Ee),Oe.hasText&&this._container.append(ke),Oe.hasEOL){const Pe=document.createElement("br");Pe.setAttribute("role","presentation"),this._container.append(Pe)}}_render(ke=0){const Oe=(0,Re.createPromiseCapability)();let Ee=Object.create(null);const Pe=this._document.createElement("canvas");if(Pe.height=Pe.width=Je,this._layoutTextCtx=Pe.getContext("2d",{alpha:!1}),this._textContent){const De=this._textContent.items,Me=this._textContent.styles;this._processItems(De,Me),Oe.resolve()}else if(this._textContentStream){const De=()=>{this._reader.read().then(({value:Me,done:Ae})=>{if(Ae){Oe.resolve();return}Object.assign(Ee,Me.styles),this._processItems(Me.items,Ee),De()},Oe.reject)};this._reader=this._textContentStream.getReader(),De()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Oe.promise.then(()=>{Ee=null,ke?this._renderTimer=setTimeout(()=>{xe(this),this._renderTimer=null},ke):xe(this)},this._capability.reject)}}r.TextLayerRenderTask=Fe;function Te(e){const ke=new Fe({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr});return ke._render(e.timeout),ke}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SVGGraphics=void 0;var Re=Ie(6),Ge=Ie(1),Je=Ie(12);let ii=class{constructor(){(0,Ge.unreachable)("Not implemented: SVGGraphics")}};r.SVGGraphics=ii;{let Oe=function(Be){let He=[];const je=[];for(const Xe of Be){if(Xe.fn==="save"){He.push({fnId:92,fn:"group",items:[]}),je.push(He),He=He.at(-1).items;continue}Xe.fn==="restore"?He=je.pop():He.push(Xe)}return He},Ee=function(Be){if(Number.isInteger(Be))return Be.toString();const He=Be.toFixed(10);let je=He.length-1;if(He[je]!=="0")return He;do je--;while(He[je]==="0");return He.substring(0,He[je]==="."?je:je+1)},Pe=function(Be){if(Be[4]===0&&Be[5]===0){if(Be[1]===0&&Be[2]===0)return Be[0]===1&&Be[3]===1?"":`scale(${Ee(Be[0])} ${Ee(Be[3])})`;if(Be[0]===Be[3]&&Be[1]===-Be[2]){const He=Math.acos(Be[0])*180/Math.PI;return`rotate(${Ee(He)})`}}else if(Be[0]===1&&Be[1]===0&&Be[2]===0&&Be[3]===1)return`translate(${Ee(Be[4])} ${Ee(Be[5])})`;return`matrix(${Ee(Be[0])} ${Ee(Be[1])} ${Ee(Be[2])} ${Ee(Be[3])} ${Ee(Be[4])} ${Ee(Be[5])})`};const Se={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},_e="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",xe=["butt","round","square"],Fe=["miter","round","bevel"],Te=function(Be,He="",je=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!je)return URL.createObjectURL(new Blob([Be],{type:He}));const Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let St=`data:${He};base64,`;for(let qe=0,Ye=Be.length;qe<Ye;qe+=3){const gi=Be[qe]&255,ai=Be[qe+1]&255,ui=Be[qe+2]&255,Qe=gi>>2,Ze=(gi&3)<<4|ai>>4,ci=qe+1<Ye?(ai&15)<<2|ui>>6:64,ze=qe+2<Ye?ui&63:64;St+=Xe[Qe]+Xe[Ze]+Xe[ci]+Xe[ze]}return St},e=function(){const Be=new Uint8Array([137,80,78,71,13,10,26,10]),He=12,je=new Int32Array(256);for(let ui=0;ui<256;ui++){let Qe=ui;for(let Ze=0;Ze<8;Ze++)Qe&1?Qe=3988292384^Qe>>1&2147483647:Qe=Qe>>1&2147483647;je[ui]=Qe}function Xe(ui,Qe,Ze){let ci=-1;for(let ze=Qe;ze<Ze;ze++){const We=(ci^ui[ze])&255,si=je[We];ci=ci>>>8^si}return ci^-1}function St(ui,Qe,Ze,ci){let ze=ci;const We=Qe.length;Ze[ze]=We>>24&255,Ze[ze+1]=We>>16&255,Ze[ze+2]=We>>8&255,Ze[ze+3]=We&255,ze+=4,Ze[ze]=ui.charCodeAt(0)&255,Ze[ze+1]=ui.charCodeAt(1)&255,Ze[ze+2]=ui.charCodeAt(2)&255,Ze[ze+3]=ui.charCodeAt(3)&255,ze+=4,Ze.set(Qe,ze),ze+=Qe.length;const si=Xe(Ze,ci+4,ze);Ze[ze]=si>>24&255,Ze[ze+1]=si>>16&255,Ze[ze+2]=si>>8&255,Ze[ze+3]=si&255}function qe(ui,Qe,Ze){let ci=1,ze=0;for(let We=Qe;We<Ze;++We)ci=(ci+(ui[We]&255))%65521,ze=(ze+ci)%65521;return ze<<16|ci}function Ye(ui){if(!Je.isNodeJS)return gi(ui);try{let Qe;parseInt(process.versions.node)>=8?Qe=ui:Qe=Buffer.from(ui);const Ze=require$$2.deflateSync(Qe,{level:9});return Ze instanceof Uint8Array?Ze:new Uint8Array(Ze)}catch(Qe){(0,Ge.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Qe)}return gi(ui)}function gi(ui){let Qe=ui.length;const Ze=65535,ci=Math.ceil(Qe/Ze),ze=new Uint8Array(2+Qe+ci*5+4);let We=0;ze[We++]=120,ze[We++]=156;let si=0;for(;Qe>Ze;)ze[We++]=0,ze[We++]=255,ze[We++]=255,ze[We++]=0,ze[We++]=0,ze.set(ui.subarray(si,si+Ze),We),We+=Ze,si+=Ze,Qe-=Ze;ze[We++]=1,ze[We++]=Qe&255,ze[We++]=Qe>>8&255,ze[We++]=~Qe&65535&255,ze[We++]=(~Qe&65535)>>8&255,ze.set(ui.subarray(si),We),We+=ui.length-si;const ni=qe(ui,0,ui.length);return ze[We++]=ni>>24&255,ze[We++]=ni>>16&255,ze[We++]=ni>>8&255,ze[We++]=ni&255,ze}function ai(ui,Qe,Ze,ci){const ze=ui.width,We=ui.height;let si,ni,$e;const Ke=ui.data;switch(Qe){case Ge.ImageKind.GRAYSCALE_1BPP:ni=0,si=1,$e=ze+7>>3;break;case Ge.ImageKind.RGB_24BPP:ni=2,si=8,$e=ze*3;break;case Ge.ImageKind.RGBA_32BPP:ni=6,si=8,$e=ze*4;break;default:throw new Error("invalid format")}const Ve=new Uint8Array((1+$e)*We);let Ue=0,ti=0;for(let fi=0;fi<We;++fi)Ve[Ue++]=0,Ve.set(Ke.subarray(ti,ti+$e),Ue),ti+=$e,Ue+=$e;if(Qe===Ge.ImageKind.GRAYSCALE_1BPP&&ci){Ue=0;for(let fi=0;fi<We;fi++){Ue++;for(let xi=0;xi<$e;xi++)Ve[Ue++]^=255}}const hi=new Uint8Array([ze>>24&255,ze>>16&255,ze>>8&255,ze&255,We>>24&255,We>>16&255,We>>8&255,We&255,si,ni,0,0,0]),yi=Ye(Ve),wi=Be.length+He*3+hi.length+yi.length,Ci=new Uint8Array(wi);let ki=0;return Ci.set(Be,ki),ki+=Be.length,St("IHDR",hi,Ci,ki),ki+=He+hi.length,St("IDATA",yi,Ci,ki),ki+=He+yi.length,St("IEND",new Uint8Array(0),Ci,ki),Te(Ci,"image/png",Ze)}return function(Qe,Ze,ci){const ze=Qe.kind===void 0?Ge.ImageKind.GRAYSCALE_1BPP:Qe.kind;return ai(Qe,ze,Ze,ci)}}();class ke{constructor(){this.fontSizeScale=1,this.fontWeight=Se.fontWeight,this.fontSize=0,this.textMatrix=Ge.IDENTITY_MATRIX,this.fontMatrix=Ge.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Ge.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Se.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(He,je){this.x=He,this.y=je}}let De=0,Me=0,Ae=0;r.SVGGraphics=ii=class{constructor(Be,He,je=!1){(0,Re.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Re.DOMSVGFactory,this.current=new ke,this.transformMatrix=Ge.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Be,this.objs=He,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!je,this._operatorIdMapping=[];for(const Xe in Ge.OPS)this._operatorIdMapping[Ge.OPS[Xe]]=Xe}getObject(Be,He=null){return typeof Be=="string"?Be.startsWith("g_")?this.commonObjs.get(Be):this.objs.get(Be):He}save(){this.transformStack.push(this.transformMatrix);const Be=this.current;this.extraStack.push(Be),this.current=Be.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Be){this.save(),this.executeOpTree(Be),this.restore()}loadDependencies(Be){const He=Be.fnArray,je=Be.argsArray;for(let Xe=0,St=He.length;Xe<St;Xe++)if(He[Xe]===Ge.OPS.dependency)for(const qe of je[Xe]){const Ye=qe.startsWith("g_")?this.commonObjs:this.objs,gi=new Promise(ai=>{Ye.get(qe,ai)});this.current.dependencies.push(gi)}return Promise.all(this.current.dependencies)}transform(Be,He,je,Xe,St,qe){const Ye=[Be,He,je,Xe,St,qe];this.transformMatrix=Ge.Util.transform(this.transformMatrix,Ye),this.tgrp=null}getSVG(Be,He){this.viewport=He;const je=this._initialize(He);return this.loadDependencies(Be).then(()=>(this.transformMatrix=Ge.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Be)),je))}convertOpList(Be){const He=this._operatorIdMapping,je=Be.argsArray,Xe=Be.fnArray,St=[];for(let qe=0,Ye=Xe.length;qe<Ye;qe++){const gi=Xe[qe];St.push({fnId:gi,fn:He[gi],args:je[qe]})}return Oe(St)}executeOpTree(Be){for(const He of Be){const je=He.fn,Xe=He.fnId,St=He.args;switch(Xe|0){case Ge.OPS.beginText:this.beginText();break;case Ge.OPS.dependency:break;case Ge.OPS.setLeading:this.setLeading(St);break;case Ge.OPS.setLeadingMoveText:this.setLeadingMoveText(St[0],St[1]);break;case Ge.OPS.setFont:this.setFont(St);break;case Ge.OPS.showText:this.showText(St[0]);break;case Ge.OPS.showSpacedText:this.showText(St[0]);break;case Ge.OPS.endText:this.endText();break;case Ge.OPS.moveText:this.moveText(St[0],St[1]);break;case Ge.OPS.setCharSpacing:this.setCharSpacing(St[0]);break;case Ge.OPS.setWordSpacing:this.setWordSpacing(St[0]);break;case Ge.OPS.setHScale:this.setHScale(St[0]);break;case Ge.OPS.setTextMatrix:this.setTextMatrix(St[0],St[1],St[2],St[3],St[4],St[5]);break;case Ge.OPS.setTextRise:this.setTextRise(St[0]);break;case Ge.OPS.setTextRenderingMode:this.setTextRenderingMode(St[0]);break;case Ge.OPS.setLineWidth:this.setLineWidth(St[0]);break;case Ge.OPS.setLineJoin:this.setLineJoin(St[0]);break;case Ge.OPS.setLineCap:this.setLineCap(St[0]);break;case Ge.OPS.setMiterLimit:this.setMiterLimit(St[0]);break;case Ge.OPS.setFillRGBColor:this.setFillRGBColor(St[0],St[1],St[2]);break;case Ge.OPS.setStrokeRGBColor:this.setStrokeRGBColor(St[0],St[1],St[2]);break;case Ge.OPS.setStrokeColorN:this.setStrokeColorN(St);break;case Ge.OPS.setFillColorN:this.setFillColorN(St);break;case Ge.OPS.shadingFill:this.shadingFill(St[0]);break;case Ge.OPS.setDash:this.setDash(St[0],St[1]);break;case Ge.OPS.setRenderingIntent:this.setRenderingIntent(St[0]);break;case Ge.OPS.setFlatness:this.setFlatness(St[0]);break;case Ge.OPS.setGState:this.setGState(St[0]);break;case Ge.OPS.fill:this.fill();break;case Ge.OPS.eoFill:this.eoFill();break;case Ge.OPS.stroke:this.stroke();break;case Ge.OPS.fillStroke:this.fillStroke();break;case Ge.OPS.eoFillStroke:this.eoFillStroke();break;case Ge.OPS.clip:this.clip("nonzero");break;case Ge.OPS.eoClip:this.clip("evenodd");break;case Ge.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Ge.OPS.paintImageXObject:this.paintImageXObject(St[0]);break;case Ge.OPS.paintInlineImageXObject:this.paintInlineImageXObject(St[0]);break;case Ge.OPS.paintImageMaskXObject:this.paintImageMaskXObject(St[0]);break;case Ge.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(St[0],St[1]);break;case Ge.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Ge.OPS.closePath:this.closePath();break;case Ge.OPS.closeStroke:this.closeStroke();break;case Ge.OPS.closeFillStroke:this.closeFillStroke();break;case Ge.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Ge.OPS.nextLine:this.nextLine();break;case Ge.OPS.transform:this.transform(St[0],St[1],St[2],St[3],St[4],St[5]);break;case Ge.OPS.constructPath:this.constructPath(St[0],St[1]);break;case Ge.OPS.endPath:this.endPath();break;case 92:this.group(He.items);break;default:(0,Ge.warn)(`Unimplemented operator ${je}`);break}}}setWordSpacing(Be){this.current.wordSpacing=Be}setCharSpacing(Be){this.current.charSpacing=Be}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Be,He,je,Xe,St,qe){const Ye=this.current;Ye.textMatrix=Ye.lineMatrix=[Be,He,je,Xe,St,qe],Ye.textMatrixScale=Math.hypot(Be,He),Ye.x=Ye.lineX=0,Ye.y=Ye.lineY=0,Ye.xcoords=[],Ye.ycoords=[],Ye.tspan=this.svgFactory.createElement("svg:tspan"),Ye.tspan.setAttributeNS(null,"font-family",Ye.fontFamily),Ye.tspan.setAttributeNS(null,"font-size",`${Ee(Ye.fontSize)}px`),Ye.tspan.setAttributeNS(null,"y",Ee(-Ye.y)),Ye.txtElement=this.svgFactory.createElement("svg:text"),Ye.txtElement.append(Ye.tspan)}beginText(){const Be=this.current;Be.x=Be.lineX=0,Be.y=Be.lineY=0,Be.textMatrix=Ge.IDENTITY_MATRIX,Be.lineMatrix=Ge.IDENTITY_MATRIX,Be.textMatrixScale=1,Be.tspan=this.svgFactory.createElement("svg:tspan"),Be.txtElement=this.svgFactory.createElement("svg:text"),Be.txtgrp=this.svgFactory.createElement("svg:g"),Be.xcoords=[],Be.ycoords=[]}moveText(Be,He){const je=this.current;je.x=je.lineX+=Be,je.y=je.lineY+=He,je.xcoords=[],je.ycoords=[],je.tspan=this.svgFactory.createElement("svg:tspan"),je.tspan.setAttributeNS(null,"font-family",je.fontFamily),je.tspan.setAttributeNS(null,"font-size",`${Ee(je.fontSize)}px`),je.tspan.setAttributeNS(null,"y",Ee(-je.y))}showText(Be){const He=this.current,je=He.font,Xe=He.fontSize;if(Xe===0)return;const St=He.fontSizeScale,qe=He.charSpacing,Ye=He.wordSpacing,gi=He.fontDirection,ai=He.textHScale*gi,ui=je.vertical,Qe=ui?1:-1,Ze=je.defaultVMetrics,ci=Xe*He.fontMatrix[0];let ze=0;for(const ni of Be){if(ni===null){ze+=gi*Ye;continue}else if(typeof ni=="number"){ze+=Qe*ni*Xe/1e3;continue}const $e=(ni.isSpace?Ye:0)+qe,Ke=ni.fontChar;let Ve,Ue,ti=ni.width;if(ui){let yi;const wi=ni.vmetric||Ze;yi=ni.vmetric?wi[1]:ti*.5,yi=-yi*ci;const Ci=wi[2]*ci;ti=wi?-wi[0]:ti,Ve=yi/St,Ue=(ze+Ci)/St}else Ve=ze/St,Ue=0;(ni.isInFont||je.missingFile)&&(He.xcoords.push(He.x+Ve),ui&&He.ycoords.push(-He.y+Ue),He.tspan.textContent+=Ke);let hi;ui?hi=ti*ci-$e*gi:hi=ti*ci+$e*gi,ze+=hi}He.tspan.setAttributeNS(null,"x",He.xcoords.map(Ee).join(" ")),ui?He.tspan.setAttributeNS(null,"y",He.ycoords.map(Ee).join(" ")):He.tspan.setAttributeNS(null,"y",Ee(-He.y)),ui?He.y-=ze:He.x+=ze*ai,He.tspan.setAttributeNS(null,"font-family",He.fontFamily),He.tspan.setAttributeNS(null,"font-size",`${Ee(He.fontSize)}px`),He.fontStyle!==Se.fontStyle&&He.tspan.setAttributeNS(null,"font-style",He.fontStyle),He.fontWeight!==Se.fontWeight&&He.tspan.setAttributeNS(null,"font-weight",He.fontWeight);const We=He.textRenderingMode&Ge.TextRenderingMode.FILL_STROKE_MASK;if(We===Ge.TextRenderingMode.FILL||We===Ge.TextRenderingMode.FILL_STROKE?(He.fillColor!==Se.fillColor&&He.tspan.setAttributeNS(null,"fill",He.fillColor),He.fillAlpha<1&&He.tspan.setAttributeNS(null,"fill-opacity",He.fillAlpha)):He.textRenderingMode===Ge.TextRenderingMode.ADD_TO_PATH?He.tspan.setAttributeNS(null,"fill","transparent"):He.tspan.setAttributeNS(null,"fill","none"),We===Ge.TextRenderingMode.STROKE||We===Ge.TextRenderingMode.FILL_STROKE){const ni=1/(He.textMatrixScale||1);this._setStrokeAttributes(He.tspan,ni)}let si=He.textMatrix;He.textRise!==0&&(si=si.slice(),si[5]+=He.textRise),He.txtElement.setAttributeNS(null,"transform",`${Pe(si)} scale(${Ee(ai)}, -1)`),He.txtElement.setAttributeNS(_e,"xml:space","preserve"),He.txtElement.append(He.tspan),He.txtgrp.append(He.txtElement),this._ensureTransformGroup().append(He.txtElement)}setLeadingMoveText(Be,He){this.setLeading(-He),this.moveText(Be,He)}addFontStyle(Be){if(!Be.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const He=Te(Be.data,Be.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Be.loadedName}"; src: url(${He}); }
`}setFont(Be){const He=this.current,je=this.commonObjs.get(Be[0]);let Xe=Be[1];He.font=je,this.embedFonts&&!je.missingFile&&!this.embeddedFonts[je.loadedName]&&(this.addFontStyle(je),this.embeddedFonts[je.loadedName]=je),He.fontMatrix=je.fontMatrix||Ge.FONT_IDENTITY_MATRIX;let St="normal";je.black?St="900":je.bold&&(St="bold");const qe=je.italic?"italic":"normal";Xe<0?(Xe=-Xe,He.fontDirection=-1):He.fontDirection=1,He.fontSize=Xe,He.fontFamily=je.loadedName,He.fontWeight=St,He.fontStyle=qe,He.tspan=this.svgFactory.createElement("svg:tspan"),He.tspan.setAttributeNS(null,"y",Ee(-He.y)),He.xcoords=[],He.ycoords=[]}endText(){var He;const Be=this.current;Be.textRenderingMode&Ge.TextRenderingMode.ADD_TO_PATH_FLAG&&((He=Be.txtElement)==null?void 0:He.hasChildNodes())&&(Be.element=Be.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Be){Be>0&&(this.current.lineWidth=Be)}setLineCap(Be){this.current.lineCap=xe[Be]}setLineJoin(Be){this.current.lineJoin=Fe[Be]}setMiterLimit(Be){this.current.miterLimit=Be}setStrokeAlpha(Be){this.current.strokeAlpha=Be}setStrokeRGBColor(Be,He,je){this.current.strokeColor=Ge.Util.makeHexColor(Be,He,je)}setFillAlpha(Be){this.current.fillAlpha=Be}setFillRGBColor(Be,He,je){this.current.fillColor=Ge.Util.makeHexColor(Be,He,je),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Be){this.current.strokeColor=this._makeColorN_Pattern(Be)}setFillColorN(Be){this.current.fillColor=this._makeColorN_Pattern(Be)}shadingFill(Be){const He=this.viewport.width,je=this.viewport.height,Xe=Ge.Util.inverseTransform(this.transformMatrix),St=Ge.Util.applyTransform([0,0],Xe),qe=Ge.Util.applyTransform([0,je],Xe),Ye=Ge.Util.applyTransform([He,0],Xe),gi=Ge.Util.applyTransform([He,je],Xe),ai=Math.min(St[0],qe[0],Ye[0],gi[0]),ui=Math.min(St[1],qe[1],Ye[1],gi[1]),Qe=Math.max(St[0],qe[0],Ye[0],gi[0]),Ze=Math.max(St[1],qe[1],Ye[1],gi[1]),ci=this.svgFactory.createElement("svg:rect");ci.setAttributeNS(null,"x",ai),ci.setAttributeNS(null,"y",ui),ci.setAttributeNS(null,"width",Qe-ai),ci.setAttributeNS(null,"height",Ze-ui),ci.setAttributeNS(null,"fill",this._makeShadingPattern(Be)),this.current.fillAlpha<1&&ci.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ci)}_makeColorN_Pattern(Be){return Be[0]==="TilingPattern"?this._makeTilingPattern(Be):this._makeShadingPattern(Be)}_makeTilingPattern(Be){const He=Be[1],je=Be[2],Xe=Be[3]||Ge.IDENTITY_MATRIX,[St,qe,Ye,gi]=Be[4],ai=Be[5],ui=Be[6],Qe=Be[7],Ze=`shading${Ae++}`,[ci,ze,We,si]=Ge.Util.normalizeRect([...Ge.Util.applyTransform([St,qe],Xe),...Ge.Util.applyTransform([Ye,gi],Xe)]),[ni,$e]=Ge.Util.singularValueDecompose2dScale(Xe),Ke=ai*ni,Ve=ui*$e,Ue=this.svgFactory.createElement("svg:pattern");Ue.setAttributeNS(null,"id",Ze),Ue.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ue.setAttributeNS(null,"width",Ke),Ue.setAttributeNS(null,"height",Ve),Ue.setAttributeNS(null,"x",`${ci}`),Ue.setAttributeNS(null,"y",`${ze}`);const ti=this.svg,hi=this.transformMatrix,yi=this.current.fillColor,wi=this.current.strokeColor,Ci=this.svgFactory.create(We-ci,si-ze);if(this.svg=Ci,this.transformMatrix=Xe,Qe===2){const ki=Ge.Util.makeHexColor(...He);this.current.fillColor=ki,this.current.strokeColor=ki}return this.executeOpTree(this.convertOpList(je)),this.svg=ti,this.transformMatrix=hi,this.current.fillColor=yi,this.current.strokeColor=wi,Ue.append(Ci.childNodes[0]),this.defs.append(Ue),`url(#${Ze})`}_makeShadingPattern(Be){switch(typeof Be=="string"&&(Be=this.objs.get(Be)),Be[0]){case"RadialAxial":const He=`shading${Ae++}`,je=Be[3];let Xe;switch(Be[1]){case"axial":const St=Be[4],qe=Be[5];Xe=this.svgFactory.createElement("svg:linearGradient"),Xe.setAttributeNS(null,"id",He),Xe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Xe.setAttributeNS(null,"x1",St[0]),Xe.setAttributeNS(null,"y1",St[1]),Xe.setAttributeNS(null,"x2",qe[0]),Xe.setAttributeNS(null,"y2",qe[1]);break;case"radial":const Ye=Be[4],gi=Be[5],ai=Be[6],ui=Be[7];Xe=this.svgFactory.createElement("svg:radialGradient"),Xe.setAttributeNS(null,"id",He),Xe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Xe.setAttributeNS(null,"cx",gi[0]),Xe.setAttributeNS(null,"cy",gi[1]),Xe.setAttributeNS(null,"r",ui),Xe.setAttributeNS(null,"fx",Ye[0]),Xe.setAttributeNS(null,"fy",Ye[1]),Xe.setAttributeNS(null,"fr",ai);break;default:throw new Error(`Unknown RadialAxial type: ${Be[1]}`)}for(const St of je){const qe=this.svgFactory.createElement("svg:stop");qe.setAttributeNS(null,"offset",St[0]),qe.setAttributeNS(null,"stop-color",St[1]),Xe.append(qe)}return this.defs.append(Xe),`url(#${He})`;case"Mesh":return(0,Ge.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Be[0]}`)}}setDash(Be,He){this.current.dashArray=Be,this.current.dashPhase=He}constructPath(Be,He){const je=this.current;let Xe=je.x,St=je.y,qe=[],Ye=0;for(const gi of Be)switch(gi|0){case Ge.OPS.rectangle:Xe=He[Ye++],St=He[Ye++];const ai=He[Ye++],ui=He[Ye++],Qe=Xe+ai,Ze=St+ui;qe.push("M",Ee(Xe),Ee(St),"L",Ee(Qe),Ee(St),"L",Ee(Qe),Ee(Ze),"L",Ee(Xe),Ee(Ze),"Z");break;case Ge.OPS.moveTo:Xe=He[Ye++],St=He[Ye++],qe.push("M",Ee(Xe),Ee(St));break;case Ge.OPS.lineTo:Xe=He[Ye++],St=He[Ye++],qe.push("L",Ee(Xe),Ee(St));break;case Ge.OPS.curveTo:Xe=He[Ye+4],St=He[Ye+5],qe.push("C",Ee(He[Ye]),Ee(He[Ye+1]),Ee(He[Ye+2]),Ee(He[Ye+3]),Ee(Xe),Ee(St)),Ye+=6;break;case Ge.OPS.curveTo2:qe.push("C",Ee(Xe),Ee(St),Ee(He[Ye]),Ee(He[Ye+1]),Ee(He[Ye+2]),Ee(He[Ye+3])),Xe=He[Ye+2],St=He[Ye+3],Ye+=4;break;case Ge.OPS.curveTo3:Xe=He[Ye+2],St=He[Ye+3],qe.push("C",Ee(He[Ye]),Ee(He[Ye+1]),Ee(Xe),Ee(St),Ee(Xe),Ee(St)),Ye+=4;break;case Ge.OPS.closePath:qe.push("Z");break}qe=qe.join(" "),je.path&&Be.length>0&&Be[0]!==Ge.OPS.rectangle&&Be[0]!==Ge.OPS.moveTo?qe=je.path.getAttributeNS(null,"d")+qe:(je.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(je.path)),je.path.setAttributeNS(null,"d",qe),je.path.setAttributeNS(null,"fill","none"),je.element=je.path,je.setCurrentPoint(Xe,St)}endPath(){const Be=this.current;if(Be.path=null,!this.pendingClip)return;if(!Be.element){this.pendingClip=null;return}const He=`clippath${De++}`,je=this.svgFactory.createElement("svg:clipPath");je.setAttributeNS(null,"id",He),je.setAttributeNS(null,"transform",Pe(this.transformMatrix));const Xe=Be.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Xe.setAttributeNS(null,"clip-rule","evenodd"):Xe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,je.append(Xe),this.defs.append(je),Be.activeClipUrl){Be.clipGroup=null;for(const St of this.extraStack)St.clipGroup=null;je.setAttributeNS(null,"clip-path",Be.activeClipUrl)}Be.activeClipUrl=`url(#${He})`,this.tgrp=null}clip(Be){this.pendingClip=Be}closePath(){const Be=this.current;if(Be.path){const He=`${Be.path.getAttributeNS(null,"d")}Z`;Be.path.setAttributeNS(null,"d",He)}}setLeading(Be){this.current.leading=-Be}setTextRise(Be){this.current.textRise=Be}setTextRenderingMode(Be){this.current.textRenderingMode=Be}setHScale(Be){this.current.textHScale=Be/100}setRenderingIntent(Be){}setFlatness(Be){}setGState(Be){for(const[He,je]of Be)switch(He){case"LW":this.setLineWidth(je);break;case"LC":this.setLineCap(je);break;case"LJ":this.setLineJoin(je);break;case"ML":this.setMiterLimit(je);break;case"D":this.setDash(je[0],je[1]);break;case"RI":this.setRenderingIntent(je);break;case"FL":this.setFlatness(je);break;case"Font":this.setFont(je);break;case"CA":this.setStrokeAlpha(je);break;case"ca":this.setFillAlpha(je);break;default:(0,Ge.warn)(`Unimplemented graphic state operator ${He}`);break}}fill(){const Be=this.current;Be.element&&(Be.element.setAttributeNS(null,"fill",Be.fillColor),Be.element.setAttributeNS(null,"fill-opacity",Be.fillAlpha),this.endPath())}stroke(){const Be=this.current;Be.element&&(this._setStrokeAttributes(Be.element),Be.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Be,He=1){const je=this.current;let Xe=je.dashArray;He!==1&&Xe.length>0&&(Xe=Xe.map(function(St){return He*St})),Be.setAttributeNS(null,"stroke",je.strokeColor),Be.setAttributeNS(null,"stroke-opacity",je.strokeAlpha),Be.setAttributeNS(null,"stroke-miterlimit",Ee(je.miterLimit)),Be.setAttributeNS(null,"stroke-linecap",je.lineCap),Be.setAttributeNS(null,"stroke-linejoin",je.lineJoin),Be.setAttributeNS(null,"stroke-width",Ee(He*je.lineWidth)+"px"),Be.setAttributeNS(null,"stroke-dasharray",Xe.map(Ee).join(" ")),Be.setAttributeNS(null,"stroke-dashoffset",Ee(He*je.dashPhase)+"px")}eoFill(){var Be;(Be=this.current.element)==null||Be.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Be;(Be=this.current.element)==null||Be.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Be=this.svgFactory.createElement("svg:rect");Be.setAttributeNS(null,"x","0"),Be.setAttributeNS(null,"y","0"),Be.setAttributeNS(null,"width","1px"),Be.setAttributeNS(null,"height","1px"),Be.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Be)}paintImageXObject(Be){const He=this.getObject(Be);if(!He){(0,Ge.warn)(`Dependent image with object ID ${Be} is not ready yet`);return}this.paintInlineImageXObject(He)}paintInlineImageXObject(Be,He){const je=Be.width,Xe=Be.height,St=e(Be,this.forceDataSchema,!!He),qe=this.svgFactory.createElement("svg:rect");qe.setAttributeNS(null,"x","0"),qe.setAttributeNS(null,"y","0"),qe.setAttributeNS(null,"width",Ee(je)),qe.setAttributeNS(null,"height",Ee(Xe)),this.current.element=qe,this.clip("nonzero");const Ye=this.svgFactory.createElement("svg:image");Ye.setAttributeNS(t,"xlink:href",St),Ye.setAttributeNS(null,"x","0"),Ye.setAttributeNS(null,"y",Ee(-Xe)),Ye.setAttributeNS(null,"width",Ee(je)+"px"),Ye.setAttributeNS(null,"height",Ee(Xe)+"px"),Ye.setAttributeNS(null,"transform",`scale(${Ee(1/je)} ${Ee(-1/Xe)})`),He?He.append(Ye):this._ensureTransformGroup().append(Ye)}paintImageMaskXObject(Be){const He=this.getObject(Be.data,Be);if(He.bitmap){(0,Ge.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const je=this.current,Xe=He.width,St=He.height,qe=je.fillColor;je.maskId=`mask${Me++}`;const Ye=this.svgFactory.createElement("svg:mask");Ye.setAttributeNS(null,"id",je.maskId);const gi=this.svgFactory.createElement("svg:rect");gi.setAttributeNS(null,"x","0"),gi.setAttributeNS(null,"y","0"),gi.setAttributeNS(null,"width",Ee(Xe)),gi.setAttributeNS(null,"height",Ee(St)),gi.setAttributeNS(null,"fill",qe),gi.setAttributeNS(null,"mask",`url(#${je.maskId})`),this.defs.append(Ye),this._ensureTransformGroup().append(gi),this.paintInlineImageXObject(He,Ye)}paintFormXObjectBegin(Be,He){if(Array.isArray(Be)&&Be.length===6&&this.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]),He){const je=He[2]-He[0],Xe=He[3]-He[1],St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",He[0]),St.setAttributeNS(null,"y",He[1]),St.setAttributeNS(null,"width",Ee(je)),St.setAttributeNS(null,"height",Ee(Xe)),this.current.element=St,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Be){const He=this.svgFactory.create(Be.width,Be.height),je=this.svgFactory.createElement("svg:defs");He.append(je),this.defs=je;const Xe=this.svgFactory.createElement("svg:g");return Xe.setAttributeNS(null,"transform",Pe(Be.transform)),He.append(Xe),this.svg=Xe,He}_ensureClipGroup(){if(!this.current.clipGroup){const Be=this.svgFactory.createElement("svg:g");Be.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Be),this.current.clipGroup=Be}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Pe(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNodeStream=void 0;var Re=Ie(1),Ge=Ie(32);const Je=require$$2,ii=require$$2,Se=require$$2,_e=require$$2,t=/^file:\/\/\/[a-zA-Z]:\//;function xe(Me){const Ae=_e.parse(Me);return Ae.protocol==="file:"||Ae.host?Ae:/^[a-z]:[/\\]/i.test(Me)?_e.parse(`file:///${Me}`):(Ae.host||(Ae.protocol="file:"),Ae)}class Fe{constructor(Ae){this.source=Ae,this.url=xe(Ae.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ae.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ae,Be;return(Be=(Ae=this._fullRequestReader)==null?void 0:Ae._loaded)!=null?Be:0}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Pe(this):new Oe(this),this._fullRequestReader}getRangeReader(Ae,Be){if(Be<=this._progressiveDataLength)return null;const He=this.isFsUrl?new De(this,Ae,Be):new Ee(this,Ae,Be);return this._rangeRequestReaders.push(He),He}cancelAllRequests(Ae){var Be;(Be=this._fullRequestReader)==null||Be.cancel(Ae);for(const He of this._rangeRequestReaders.slice(0))He.cancel(Ae)}}r.PDFNodeStream=Fe;class Te{constructor(Ae){this._url=Ae.url,this._done=!1,this._storedError=null,this.onProgress=null;const Be=Ae.source;this._contentLength=Be.length,this._loaded=0,this._filename=null,this._disableRange=Be.disableRange||!1,this._rangeChunkSize=Be.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Be.disableStream,this._isRangeSupported=!Be.disableRange,this._readableStream=null,this._readCapability=(0,Re.createPromiseCapability)(),this._headersCapability=(0,Re.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ae=this._readableStream.read();return Ae===null?(this._readCapability=(0,Re.createPromiseCapability)(),this.read()):(this._loaded+=Ae.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ae).buffer,done:!1})}cancel(Ae){if(!this._readableStream){this._error(Ae);return}this._readableStream.destroy(Ae)}_error(Ae){this._storedError=Ae,this._readCapability.resolve()}_setReadableStream(Ae){this._readableStream=Ae,Ae.on("readable",()=>{this._readCapability.resolve()}),Ae.on("end",()=>{Ae.destroy(),this._done=!0,this._readCapability.resolve()}),Ae.on("error",Be=>{this._error(Be)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Re.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e{constructor(Ae){this._url=Ae.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,Re.createPromiseCapability)();const Be=Ae.source;this._isStreamingSupported=!Be.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ae=this._readableStream.read();return Ae===null?(this._readCapability=(0,Re.createPromiseCapability)(),this.read()):(this._loaded+=Ae.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ae).buffer,done:!1})}cancel(Ae){if(!this._readableStream){this._error(Ae);return}this._readableStream.destroy(Ae)}_error(Ae){this._storedError=Ae,this._readCapability.resolve()}_setReadableStream(Ae){this._readableStream=Ae,Ae.on("readable",()=>{this._readCapability.resolve()}),Ae.on("end",()=>{Ae.destroy(),this._done=!0,this._readCapability.resolve()}),Ae.on("error",Be=>{this._error(Be)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ke(Me,Ae){return{protocol:Me.protocol,auth:Me.auth,host:Me.hostname,port:Me.port,path:Me.path,method:"GET",headers:Ae}}class Oe extends Te{constructor(Ae){super(Ae);const Be=He=>{if(He.statusCode===404){const qe=new Re.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=qe,this._headersCapability.reject(qe);return}this._headersCapability.resolve(),this._setReadableStream(He);const je=qe=>this._readableStream.headers[qe.toLowerCase()],{allowRangeRequests:Xe,suggestedLength:St}=(0,Ge.validateRangeRequestCapabilities)({getResponseHeader:je,isHttp:Ae.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Xe,this._contentLength=St||this._contentLength,this._filename=(0,Ge.extractFilenameFromHeader)(je)};this._request=null,this._url.protocol==="http:"?this._request=ii.request(ke(this._url,Ae.httpHeaders),Be):this._request=Se.request(ke(this._url,Ae.httpHeaders),Be),this._request.on("error",He=>{this._storedError=He,this._headersCapability.reject(He)}),this._request.end()}}class Ee extends e{constructor(Ae,Be,He){super(Ae),this._httpHeaders={};for(const Xe in Ae.httpHeaders){const St=Ae.httpHeaders[Xe];typeof St>"u"||(this._httpHeaders[Xe]=St)}this._httpHeaders.Range=`bytes=${Be}-${He-1}`;const je=Xe=>{if(Xe.statusCode===404){const St=new Re.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=St;return}this._setReadableStream(Xe)};this._request=null,this._url.protocol==="http:"?this._request=ii.request(ke(this._url,this._httpHeaders),je):this._request=Se.request(ke(this._url,this._httpHeaders),je),this._request.on("error",Xe=>{this._storedError=Xe}),this._request.end()}}class Pe extends Te{constructor(Ae){super(Ae);let Be=decodeURIComponent(this._url.path);t.test(this._url.href)&&(Be=Be.replace(/^\//,"")),Je.lstat(Be,(He,je)=>{if(He){He.code==="ENOENT"&&(He=new Re.MissingPDFException(`Missing PDF "${Be}".`)),this._storedError=He,this._headersCapability.reject(He);return}this._contentLength=je.size,this._setReadableStream(Je.createReadStream(Be)),this._headersCapability.resolve()})}}class De extends e{constructor(Ae,Be,He){super(Ae);let je=decodeURIComponent(this._url.path);t.test(this._url.href)&&(je=je.replace(/^\//,"")),this._setReadableStream(Je.createReadStream(je,{start:Be,end:He-1}))}}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createResponseStatusError=_e,r.extractFilenameFromHeader=Se,r.validateRangeRequestCapabilities=ii,r.validateResponseStatus=t;var Re=Ie(1),Ge=Ie(33),Je=Ie(6);function ii({getResponseHeader:xe,isHttp:Fe,rangeChunkSize:Te,disableRange:e}){const ke={allowRangeRequests:!1,suggestedLength:void 0},Oe=parseInt(xe("Content-Length"),10);return!Number.isInteger(Oe)||(ke.suggestedLength=Oe,Oe<=2*Te)||e||!Fe||xe("Accept-Ranges")!=="bytes"||(xe("Content-Encoding")||"identity")!=="identity"||(ke.allowRangeRequests=!0),ke}function Se(xe){const Fe=xe("Content-Disposition");if(Fe){let Te=(0,Ge.getFilenameFromContentDispositionHeader)(Fe);if(Te.includes("%"))try{Te=decodeURIComponent(Te)}catch{}if((0,Je.isPdfFile)(Te))return Te}return null}function _e(xe,Fe){return xe===404||xe===0&&Fe.startsWith("file:")?new Re.MissingPDFException('Missing PDF "'+Fe+'".'):new Re.UnexpectedResponseException(`Unexpected server response (${xe}) while retrieving PDF "${Fe}".`,xe)}function t(xe){return xe===200||xe===206}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getFilenameFromContentDispositionHeader=Ge;var Re=Ie(1);function Ge(Je){let ii=!0,Se=_e("filename\\*","i").exec(Je);if(Se){Se=Se[1];let Oe=Te(Se);return Oe=unescape(Oe),Oe=e(Oe),Oe=ke(Oe),xe(Oe)}if(Se=Fe(Je),Se){const Oe=ke(Se);return xe(Oe)}if(Se=_e("filename","i").exec(Je),Se){Se=Se[1];let Oe=Te(Se);return Oe=ke(Oe),xe(Oe)}function _e(Oe,Ee){return new RegExp("(?:^|;)\\s*"+Oe+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ee)}function t(Oe,Ee){if(Oe){if(!/^[\x00-\xFF]+$/.test(Ee))return Ee;try{const Pe=new TextDecoder(Oe,{fatal:!0}),De=(0,Re.stringToBytes)(Ee);Ee=Pe.decode(De),ii=!1}catch{}}return Ee}function xe(Oe){return ii&&/[\x80-\xff]/.test(Oe)&&(Oe=t("utf-8",Oe),ii&&(Oe=t("iso-8859-1",Oe))),Oe}function Fe(Oe){const Ee=[];let Pe;const De=_e("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Pe=De.exec(Oe))!==null;){let[,Ae,Be,He]=Pe;if(Ae=parseInt(Ae,10),Ae in Ee){if(Ae===0)break;continue}Ee[Ae]=[Be,He]}const Me=[];for(let Ae=0;Ae<Ee.length&&Ae in Ee;++Ae){let[Be,He]=Ee[Ae];He=Te(He),Be&&(He=unescape(He),Ae===0&&(He=e(He))),Me.push(He)}return Me.join("")}function Te(Oe){if(Oe.startsWith('"')){const Ee=Oe.slice(1).split('\\"');for(let Pe=0;Pe<Ee.length;++Pe){const De=Ee[Pe].indexOf('"');De!==-1&&(Ee[Pe]=Ee[Pe].slice(0,De),Ee.length=Pe+1),Ee[Pe]=Ee[Pe].replace(/\\(.)/g,"$1")}Oe=Ee.join('"')}return Oe}function e(Oe){const Ee=Oe.indexOf("'");if(Ee===-1)return Oe;const Pe=Oe.slice(0,Ee),Me=Oe.slice(Ee+1).replace(/^[^']*'/,"");return t(Pe,Me)}function ke(Oe){return!Oe.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Oe)?Oe:Oe.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ee,Pe,De,Me){if(De==="q"||De==="Q")return Me=Me.replace(/_/g," "),Me=Me.replace(/=([0-9a-fA-F]{2})/g,function(Ae,Be){return String.fromCharCode(parseInt(Be,16))}),t(Pe,Me);try{Me=atob(Me)}catch{}return t(Pe,Me)})}return""}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNetworkStream=void 0;var Re=Ie(1),Ge=Ie(32);const Je=200,ii=206;function Se(Te){const e=Te.response;return typeof e!="string"?e:(0,Re.stringToBytes)(e).buffer}class _e{constructor(e,ke={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&ke.httpHeaders||Object.create(null),this.withCredentials=ke.withCredentials||!1,this.getXhr=ke.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,ke,Oe){const Ee={begin:e,end:ke};for(const Pe in Oe)Ee[Pe]=Oe[Pe];return this.request(Ee)}requestFull(e){return this.request(e)}request(e){const ke=this.getXhr(),Oe=this.currXhrId++,Ee=this.pendingRequests[Oe]={xhr:ke};ke.open("GET",this.url),ke.withCredentials=this.withCredentials;for(const Pe in this.httpHeaders){const De=this.httpHeaders[Pe];typeof De>"u"||ke.setRequestHeader(Pe,De)}return this.isHttp&&"begin"in e&&"end"in e?(ke.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),Ee.expectedStatus=ii):Ee.expectedStatus=Je,ke.responseType="arraybuffer",e.onError&&(ke.onerror=function(Pe){e.onError(ke.status)}),ke.onreadystatechange=this.onStateChange.bind(this,Oe),ke.onprogress=this.onProgress.bind(this,Oe),Ee.onHeadersReceived=e.onHeadersReceived,Ee.onDone=e.onDone,Ee.onError=e.onError,Ee.onProgress=e.onProgress,ke.send(null),Oe}onProgress(e,ke){var Ee;const Oe=this.pendingRequests[e];!Oe||(Ee=Oe.onProgress)==null||Ee.call(Oe,ke)}onStateChange(e,ke){var Ae,Be,He;const Oe=this.pendingRequests[e];if(!Oe)return;const Ee=Oe.xhr;if(Ee.readyState>=2&&Oe.onHeadersReceived&&(Oe.onHeadersReceived(),delete Oe.onHeadersReceived),Ee.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],Ee.status===0&&this.isHttp){(Ae=Oe.onError)==null||Ae.call(Oe,Ee.status);return}const Pe=Ee.status||Je;if(!(Pe===Je&&Oe.expectedStatus===ii)&&Pe!==Oe.expectedStatus){(Be=Oe.onError)==null||Be.call(Oe,Ee.status);return}const Me=Se(Ee);if(Pe===ii){const je=Ee.getResponseHeader("Content-Range"),Xe=/bytes (\d+)-(\d+)\/(\d+)/.exec(je);Oe.onDone({begin:parseInt(Xe[1],10),chunk:Me})}else Me?Oe.onDone({begin:0,chunk:Me}):(He=Oe.onError)==null||He.call(Oe,Ee.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const ke=this.pendingRequests[e].xhr;delete this.pendingRequests[e],ke.abort()}}class t{constructor(e){this._source=e,this._manager=new _e(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const ke=this._rangeRequestReaders.indexOf(e);ke>=0&&this._rangeRequestReaders.splice(ke,1)}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,ke){const Oe=new Fe(this._manager,e,ke);return Oe.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Oe),Oe}cancelAllRequests(e){var ke;(ke=this._fullRequestReader)==null||ke.cancel(e);for(const Oe of this._rangeRequestReaders.slice(0))Oe.cancel(e)}}r.PDFNetworkStream=t;class xe{constructor(e,ke){this._manager=e;const Oe={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ke.url,this._fullRequestId=e.requestFull(Oe),this._headersReceivedCapability=(0,Re.createPromiseCapability)(),this._disableRange=ke.disableRange||!1,this._contentLength=ke.length,this._rangeChunkSize=ke.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,ke=this._manager.getRequestXhr(e),Oe=De=>ke.getResponseHeader(De),{allowRangeRequests:Ee,suggestedLength:Pe}=(0,Ge.validateRangeRequestCapabilities)({getResponseHeader:Oe,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Ee&&(this._isRangeSupported=!0),this._contentLength=Pe||this._contentLength,this._filename=(0,Ge.extractFilenameFromHeader)(Oe),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,Ge.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ke of this._requests)ke.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var ke;(ke=this.onProgress)==null||ke.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,Re.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Fe{constructor(e,ke,Oe){this._manager=e;const Ee={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(ke,Oe,Ee),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const ke=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:ke,done:!1}):this._queuedChunk=ke,this._done=!0;for(const Oe of this._requests)Oe.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,Ge.createResponseStatusError)(e,this._url);for(const ke of this._requests)ke.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var ke;this.isStreamingSupported||(ke=this.onProgress)==null||ke.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ke=this._queuedChunk;return this._queuedChunk=null,{value:ke,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,Re.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ce,r,Ie)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFFetchStream=void 0;var Re=Ie(1),Ge=Ie(32);function Je(xe,Fe,Te){return{method:"GET",headers:xe,signal:Te.signal,mode:"cors",credentials:Fe?"include":"same-origin",redirect:"follow"}}function ii(xe){const Fe=new Headers;for(const Te in xe){const e=xe[Te];typeof e>"u"||Fe.append(Te,e)}return Fe}class Se{constructor(Fe){this.source=Fe,this.isHttp=/^https?:/i.test(Fe.url),this.httpHeaders=this.isHttp&&Fe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Fe,Te;return(Te=(Fe=this._fullRequestReader)==null?void 0:Fe._loaded)!=null?Te:0}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this),this._fullRequestReader}getRangeReader(Fe,Te){if(Te<=this._progressiveDataLength)return null;const e=new t(this,Fe,Te);return this._rangeRequestReaders.push(e),e}cancelAllRequests(Fe){var Te;(Te=this._fullRequestReader)==null||Te.cancel(Fe);for(const e of this._rangeRequestReaders.slice(0))e.cancel(Fe)}}r.PDFFetchStream=Se;class _e{constructor(Fe){this._stream=Fe,this._reader=null,this._loaded=0,this._filename=null;const Te=Fe.source;this._withCredentials=Te.withCredentials||!1,this._contentLength=Te.length,this._headersCapability=(0,Re.createPromiseCapability)(),this._disableRange=Te.disableRange||!1,this._rangeChunkSize=Te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Te.disableStream,this._isRangeSupported=!Te.disableRange,this._headers=ii(this._stream.httpHeaders);const e=Te.url;fetch(e,Je(this._headers,this._withCredentials,this._abortController)).then(ke=>{if(!(0,Ge.validateResponseStatus)(ke.status))throw(0,Ge.createResponseStatusError)(ke.status,e);this._reader=ke.body.getReader(),this._headersCapability.resolve();const Oe=De=>ke.headers.get(De),{allowRangeRequests:Ee,suggestedLength:Pe}=(0,Ge.validateRangeRequestCapabilities)({getResponseHeader:Oe,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ee,this._contentLength=Pe||this._contentLength,this._filename=(0,Ge.extractFilenameFromHeader)(Oe),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Re.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ke;await this._headersCapability.promise;const{value:Fe,done:Te}=await this._reader.read();return Te?{value:Fe,done:Te}:(this._loaded+=Fe.byteLength,(ke=this.onProgress)==null||ke.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Fe).buffer,done:!1})}cancel(Fe){var Te;(Te=this._reader)==null||Te.cancel(Fe),this._abortController.abort()}}class t{constructor(Fe,Te,e){this._stream=Fe,this._reader=null,this._loaded=0;const ke=Fe.source;this._withCredentials=ke.withCredentials||!1,this._readCapability=(0,Re.createPromiseCapability)(),this._isStreamingSupported=!ke.disableStream,this._abortController=new AbortController,this._headers=ii(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Te}-${e-1}`);const Oe=ke.url;fetch(Oe,Je(this._headers,this._withCredentials,this._abortController)).then(Ee=>{if(!(0,Ge.validateResponseStatus)(Ee.status))throw(0,Ge.createResponseStatusError)(Ee.status,Oe);this._readCapability.resolve(),this._reader=Ee.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ke;await this._readCapability.promise;const{value:Fe,done:Te}=await this._reader.read();return Te?{value:Fe,done:Te}:(this._loaded+=Fe.byteLength,(ke=this.onProgress)==null||ke.call(this,{loaded:this._loaded}),{value:new Uint8Array(Fe).buffer,done:!1})}cancel(Fe){var Te;(Te=this._reader)==null||Te.cancel(Fe),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ce){var r=__webpack_module_cache__[Ce];if(r!==void 0)return r.exports;var Ie=__webpack_module_cache__[Ce]={exports:{}};return __webpack_modules__[Ce](Ie,Ie.exports,__w_pdfjs_require__),Ie.exports}var __webpack_exports__={};return(()=>{var Ce=__webpack_exports__;Object.defineProperty(Ce,"__esModule",{value:!0}),Object.defineProperty(Ce,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Ge.AnnotationEditorLayer}}),Object.defineProperty(Ce,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return r.AnnotationEditorParamsType}}),Object.defineProperty(Ce,"AnnotationEditorType",{enumerable:!0,get:function(){return r.AnnotationEditorType}}),Object.defineProperty(Ce,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Je.AnnotationEditorUIManager}}),Object.defineProperty(Ce,"AnnotationLayer",{enumerable:!0,get:function(){return ii.AnnotationLayer}}),Object.defineProperty(Ce,"AnnotationMode",{enumerable:!0,get:function(){return r.AnnotationMode}}),Object.defineProperty(Ce,"CMapCompressionType",{enumerable:!0,get:function(){return r.CMapCompressionType}}),Object.defineProperty(Ce,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Se.GlobalWorkerOptions}}),Object.defineProperty(Ce,"InvalidPDFException",{enumerable:!0,get:function(){return r.InvalidPDFException}}),Object.defineProperty(Ce,"MissingPDFException",{enumerable:!0,get:function(){return r.MissingPDFException}}),Object.defineProperty(Ce,"OPS",{enumerable:!0,get:function(){return r.OPS}}),Object.defineProperty(Ce,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Ie.PDFDataRangeTransport}}),Object.defineProperty(Ce,"PDFDateString",{enumerable:!0,get:function(){return Re.PDFDateString}}),Object.defineProperty(Ce,"PDFWorker",{enumerable:!0,get:function(){return Ie.PDFWorker}}),Object.defineProperty(Ce,"PasswordResponses",{enumerable:!0,get:function(){return r.PasswordResponses}}),Object.defineProperty(Ce,"PermissionFlag",{enumerable:!0,get:function(){return r.PermissionFlag}}),Object.defineProperty(Ce,"PixelsPerInch",{enumerable:!0,get:function(){return Re.PixelsPerInch}}),Object.defineProperty(Ce,"RenderingCancelledException",{enumerable:!0,get:function(){return Re.RenderingCancelledException}}),Object.defineProperty(Ce,"SVGGraphics",{enumerable:!0,get:function(){return xe.SVGGraphics}}),Object.defineProperty(Ce,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return r.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ce,"UnexpectedResponseException",{enumerable:!0,get:function(){return r.UnexpectedResponseException}}),Object.defineProperty(Ce,"Util",{enumerable:!0,get:function(){return r.Util}}),Object.defineProperty(Ce,"VerbosityLevel",{enumerable:!0,get:function(){return r.VerbosityLevel}}),Object.defineProperty(Ce,"XfaLayer",{enumerable:!0,get:function(){return Fe.XfaLayer}}),Object.defineProperty(Ce,"build",{enumerable:!0,get:function(){return Ie.build}}),Object.defineProperty(Ce,"createPromiseCapability",{enumerable:!0,get:function(){return r.createPromiseCapability}}),Object.defineProperty(Ce,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return r.createValidAbsoluteUrl}}),Object.defineProperty(Ce,"getDocument",{enumerable:!0,get:function(){return Ie.getDocument}}),Object.defineProperty(Ce,"getFilenameFromUrl",{enumerable:!0,get:function(){return Re.getFilenameFromUrl}}),Object.defineProperty(Ce,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Re.getPdfFilenameFromUrl}}),Object.defineProperty(Ce,"getXfaPageViewport",{enumerable:!0,get:function(){return Re.getXfaPageViewport}}),Object.defineProperty(Ce,"isPdfFile",{enumerable:!0,get:function(){return Re.isPdfFile}}),Object.defineProperty(Ce,"loadScript",{enumerable:!0,get:function(){return Re.loadScript}}),Object.defineProperty(Ce,"renderTextLayer",{enumerable:!0,get:function(){return t.renderTextLayer}}),Object.defineProperty(Ce,"shadow",{enumerable:!0,get:function(){return r.shadow}}),Object.defineProperty(Ce,"version",{enumerable:!0,get:function(){return Ie.version}});var r=__w_pdfjs_require__(1),Ie=__w_pdfjs_require__(2),Re=__w_pdfjs_require__(6),Ge=__w_pdfjs_require__(21),Je=__w_pdfjs_require__(5),ii=__w_pdfjs_require__(26),Se=__w_pdfjs_require__(14),_e=__w_pdfjs_require__(12),t=__w_pdfjs_require__(29),xe=__w_pdfjs_require__(30),Fe=__w_pdfjs_require__(28);if(_e.isNodeJS){const{PDFNodeStream:Te}=__w_pdfjs_require__(31);(0,Ie.setPDFNetworkStreamFactory)(e=>new Te(e))}else{const{PDFNetworkStream:Te}=__w_pdfjs_require__(34),{PDFFetchStream:e}=__w_pdfjs_require__(35);(0,Ie.setPDFNetworkStreamFactory)(ke=>(0,Re.isValidFetchUrl)(ke.url)?new e(ke):new Te(ke))}})(),__webpack_exports__})())})(pdf);(function(Ce,r){(function(Re,Ge){Ce.exports=Ge()})(globalThis,()=>(()=>{var Ie=[,(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DefaultXfaLayerFactory=Se.DefaultTextLayerFactory=Se.DefaultStructTreeLayerFactory=Se.DefaultAnnotationLayerFactory=Se.DefaultAnnotationEditorLayerFactory=void 0;var t=_e(2),xe=_e(5),Fe=_e(4),Te=_e(6),e=_e(8),ke=_e(9),Oe=_e(10);class Ee{createAnnotationLayerBuilder({pageDiv:He,pdfPage:je,annotationStorage:Xe=null,imageResourcesPath:St="",renderForms:qe=!0,l10n:Ye=Fe.NullL10n,enableScripting:gi=!1,hasJSActionsPromise:ai=null,mouseState:ui=null,fieldObjectsPromise:Qe=null,annotationCanvasMap:Ze=null,accessibilityManager:ci=null}){return new xe.AnnotationLayerBuilder({pageDiv:He,pdfPage:je,imageResourcesPath:St,renderForms:qe,linkService:new Te.SimpleLinkService,l10n:Ye,annotationStorage:Xe,enableScripting:gi,hasJSActionsPromise:ai,fieldObjectsPromise:Qe,mouseState:ui,annotationCanvasMap:Ze,accessibilityManager:ci})}}Se.DefaultAnnotationLayerFactory=Ee;class Pe{createAnnotationEditorLayerBuilder({uiManager:He=null,pageDiv:je,pdfPage:Xe,accessibilityManager:St=null,l10n:qe,annotationStorage:Ye=null}){return new t.AnnotationEditorLayerBuilder({uiManager:He,pageDiv:je,pdfPage:Xe,accessibilityManager:St,l10n:qe,annotationStorage:Ye})}}Se.DefaultAnnotationEditorLayerFactory=Pe;class De{createStructTreeLayerBuilder({pdfPage:He}){return new e.StructTreeLayerBuilder({pdfPage:He})}}Se.DefaultStructTreeLayerFactory=De;class Me{createTextLayerBuilder({textLayerDiv:He,pageIndex:je,viewport:Xe,eventBus:St,highlighter:qe,accessibilityManager:Ye=null}){return new ke.TextLayerBuilder({textLayerDiv:He,pageIndex:je,viewport:Xe,eventBus:St,highlighter:qe,accessibilityManager:Ye})}}Se.DefaultTextLayerFactory=Me;class Ae{createXfaLayerBuilder({pageDiv:He,pdfPage:je,annotationStorage:Xe=null}){return new Oe.XfaLayerBuilder({pageDiv:He,pdfPage:je,annotationStorage:Xe,linkService:new Te.SimpleLinkService})}}Se.DefaultXfaLayerFactory=Ae},(ii,Se,_e)=>{var Te;Object.defineProperty(Se,"__esModule",{value:!0}),Se.AnnotationEditorLayerBuilder=void 0;var t=_e(3),xe=_e(4);class Fe{constructor(ke){yn(this,Te,void 0);this.pageDiv=ke.pageDiv,this.pdfPage=ke.pdfPage,this.annotationStorage=ke.annotationStorage||null,this.accessibilityManager=ke.accessibilityManager,this.l10n=ke.l10n||xe.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,Zn(this,Te,ke.uiManager)}async render(ke,Oe="display"){if(Oe!=="display"||this._cancelled)return;const Ee=ke.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:Ee}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new t.AnnotationEditorLayer({uiManager:zi(this,Te),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:Ee});const Pe={viewport:Ee,div:this.div,annotations:null,intent:Oe};this.annotationEditorLayer.render(Pe)}cancel(){this._cancelled=!0,this.destroy()}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||(this.div.hidden=!1)}destroy(){!this.div||(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}Te=new WeakMap,Se.AnnotationEditorLayerBuilder=Fe},ii=>{let Se;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?Se=window["pdfjs-dist/build/pdf"]:Se=pdf.exports,ii.exports=Se},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.NullL10n=void 0,Se.fixupLangCode=Fe,Se.getL10nFallback=t;const _e={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};_e.print_progress_percent="{{progress}}%";function t(ke,Oe){switch(ke){case"find_match_count":ke=`find_match_count[${Oe.total===1?"one":"other"}]`;break;case"find_match_count_limit":ke=`find_match_count_limit[${Oe.limit===1?"one":"other"}]`;break}return _e[ke]||""}const xe={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function Fe(ke){return xe[ke==null?void 0:ke.toLowerCase()]||ke}function Te(ke,Oe){return Oe?ke.replace(/\{\{\s*(\w+)\s*\}\}/g,(Ee,Pe)=>Pe in Oe?Oe[Pe]:"{{"+Pe+"}}"):ke}const e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(ke,Oe=null,Ee=t(ke,Oe)){return Te(Ee,Oe)},async translate(ke){}};Se.NullL10n=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.AnnotationLayerBuilder=void 0;var t=_e(3),xe=_e(4);class Fe{constructor({pageDiv:e,pdfPage:ke,linkService:Oe,downloadManager:Ee,annotationStorage:Pe=null,imageResourcesPath:De="",renderForms:Me=!0,l10n:Ae=xe.NullL10n,enableScripting:Be=!1,hasJSActionsPromise:He=null,fieldObjectsPromise:je=null,mouseState:Xe=null,annotationCanvasMap:St=null,accessibilityManager:qe=null}){this.pageDiv=e,this.pdfPage=ke,this.linkService=Oe,this.downloadManager=Ee,this.imageResourcesPath=De,this.renderForms=Me,this.l10n=Ae,this.annotationStorage=Pe,this.enableScripting=Be,this._hasJSActionsPromise=He,this._fieldObjectsPromise=je,this._mouseState=Xe,this._annotationCanvasMap=St,this._accessibilityManager=qe,this.div=null,this._cancelled=!1}async render(e,ke="display"){const[Oe,Ee=!1,Pe=null]=await Promise.all([this.pdfPage.getAnnotations({intent:ke}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||Oe.length===0)return;const De={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:Oe,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:Ee,fieldObjects:Pe,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?t.AnnotationLayer.update(De):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),De.div=this.div,t.AnnotationLayer.render(De),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}Se.AnnotationLayerBuilder=Fe},(ii,Se,_e)=>{var Oe,Ee,tl,De,p0;Object.defineProperty(Se,"__esModule",{value:!0}),Se.SimpleLinkService=Se.PDFLinkService=Se.LinkTarget=void 0;var t=_e(7);const xe="noopener noreferrer nofollow",Fe={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};Se.LinkTarget=Fe;function Te(Be,{url:He,target:je,rel:Xe,enabled:St=!0}={}){if(!He||typeof He!="string")throw new Error('A valid "url" parameter must provided.');const qe=(0,t.removeNullCharacters)(He);St?Be.href=Be.title=qe:(Be.href="",Be.title=`Disabled: ${qe}`,Be.onclick=()=>!1);let Ye="";switch(je){case Fe.NONE:break;case Fe.SELF:Ye="_self";break;case Fe.BLANK:Ye="_blank";break;case Fe.PARENT:Ye="_parent";break;case Fe.TOP:Ye="_top";break}Be.target=Ye,Be.rel=typeof Xe=="string"?Xe:xe}const Ae=class{constructor({eventBus:He,externalLinkTarget:je=null,externalLinkRel:Xe=null,ignoreDestinationZoom:St=!1}={}){yn(this,Ee);yn(this,Oe,new Map);this.eventBus=He,this.externalLinkTarget=je,this.externalLinkRel=Xe,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=St,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(He,je=null){this.baseUrl=je,this.pdfDocument=He,zi(this,Oe).clear()}setViewer(He){this.pdfViewer=He}setHistory(He){this.pdfHistory=He}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(He){this.pdfViewer.currentPageNumber=He}get rotation(){return this.pdfViewer.pagesRotation}set rotation(He){this.pdfViewer.pagesRotation=He}async goToDestination(He){if(!this.pdfDocument)return;let je,Xe;if(typeof He=="string"?(je=He,Xe=await this.pdfDocument.getDestination(He)):(je=null,Xe=await He),!Array.isArray(Xe)){console.error(`PDFLinkService.goToDestination: "${Xe}" is not a valid destination array, for dest="${He}".`);return}Cn(this,Ee,tl).call(this,He,je,Xe)}goToPage(He){if(!this.pdfDocument)return;const je=typeof He=="string"&&this.pdfViewer.pageLabelToPageNumber(He)||He|0;if(!(Number.isInteger(je)&&je>0&&je<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${He}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(je)),this.pdfViewer.scrollPageIntoView({pageNumber:je})}addLinkAttributes(He,je,Xe=!1){Te(He,{url:je,target:Xe?Fe.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(He){if(typeof He=="string"){if(He.length>0)return this.getAnchorUrl("#"+escape(He))}else if(Array.isArray(He)){const je=JSON.stringify(He);if(je.length>0)return this.getAnchorUrl("#"+escape(je))}return this.getAnchorUrl("")}getAnchorUrl(He){return(this.baseUrl||"")+He}setHash(He){var St;if(!this.pdfDocument)return;let je,Xe;if(He.includes("=")){const qe=(0,t.parseQueryString)(He);if(qe.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:qe.get("search").replace(/"/g,""),phraseSearch:qe.get("phrase")==="true"}),qe.has("page")&&(je=qe.get("page")|0||1),qe.has("zoom")){const Ye=qe.get("zoom").split(","),gi=Ye[0],ai=parseFloat(gi);gi.includes("Fit")?gi==="Fit"||gi==="FitB"?Xe=[null,{name:gi}]:gi==="FitH"||gi==="FitBH"||gi==="FitV"||gi==="FitBV"?Xe=[null,{name:gi},Ye.length>1?Ye[1]|0:null]:gi==="FitR"?Ye.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Xe=[null,{name:gi},Ye[1]|0,Ye[2]|0,Ye[3]|0,Ye[4]|0]:console.error(`PDFLinkService.setHash: "${gi}" is not a valid zoom value.`):Xe=[null,{name:"XYZ"},Ye.length>1?Ye[1]|0:null,Ye.length>2?Ye[2]|0:null,ai?ai/100:gi]}Xe?this.pdfViewer.scrollPageIntoView({pageNumber:je||this.page,destArray:Xe,allowNegativeOffset:!0}):je&&(this.page=je),qe.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:qe.get("pagemode")}),qe.has("nameddest")&&this.goToDestination(qe.get("nameddest"))}else{Xe=unescape(He);try{Xe=JSON.parse(Xe),Array.isArray(Xe)||(Xe=Xe.toString())}catch{}if(typeof Xe=="string"||Cn(St=Ae,De,p0).call(St,Xe)){this.goToDestination(Xe);return}console.error(`PDFLinkService.setHash: "${unescape(He)}" is not a valid destination.`)}}executeNamedAction(He){var je,Xe;switch(He){case"GoBack":(je=this.pdfHistory)==null||je.back();break;case"GoForward":(Xe=this.pdfHistory)==null||Xe.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:He})}async executeSetOCGState(He){const je=this.pdfDocument,Xe=await this.pdfViewer.optionalContentConfigPromise;if(je!==this.pdfDocument)return;let St;for(const qe of He.state){switch(qe){case"ON":case"OFF":case"Toggle":St=qe;continue}switch(St){case"ON":Xe.setVisibility(qe,!0);break;case"OFF":Xe.setVisibility(qe,!1);break;case"Toggle":const Ye=Xe.getGroup(qe);Ye&&Xe.setVisibility(qe,!Ye.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(Xe)}cachePageRef(He,je){if(!je)return;const Xe=je.gen===0?`${je.num}R`:`${je.num}R${je.gen}`;zi(this,Oe).set(Xe,He)}_cachedPageNumber(He){if(!He)return null;const je=He.gen===0?`${He.num}R`:`${He.num}R${He.gen}`;return zi(this,Oe).get(je)||null}isPageVisible(He){return this.pdfViewer.isPageVisible(He)}isPageCached(He){return this.pdfViewer.isPageCached(He)}};let e=Ae;Oe=new WeakMap,Ee=new WeakSet,tl=function(He,je=null,Xe){const St=Xe[0];let qe;if(typeof St=="object"&&St!==null){if(qe=this._cachedPageNumber(St),!qe){this.pdfDocument.getPageIndex(St).then(Ye=>{this.cachePageRef(Ye+1,St),Cn(this,Ee,tl).call(this,He,je,Xe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${St}" is not a valid page reference, for dest="${He}".`)});return}}else if(Number.isInteger(St))qe=St+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${St}" is not a valid destination reference, for dest="${He}".`);return}if(!qe||qe<1||qe>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${qe}" is not a valid page number, for dest="${He}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:je,explicitDest:Xe,pageNumber:qe})),this.pdfViewer.scrollPageIntoView({pageNumber:qe,destArray:Xe,ignoreDestinationZoom:this._ignoreDestinationZoom})},De=new WeakSet,p0=function(He){if(!Array.isArray(He))return!1;const je=He.length;if(je<2)return!1;const Xe=He[0];if(!(typeof Xe=="object"&&Number.isInteger(Xe.num)&&Number.isInteger(Xe.gen))&&!(Number.isInteger(Xe)&&Xe>=0))return!1;const St=He[1];if(!(typeof St=="object"&&typeof St.name=="string"))return!1;let qe=!0;switch(St.name){case"XYZ":if(je!==5)return!1;break;case"Fit":case"FitB":return je===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(je!==3)return!1;break;case"FitR":if(je!==6)return!1;qe=!1;break;default:return!1}for(let Ye=2;Ye<je;Ye++){const gi=He[Ye];if(!(typeof gi=="number"||qe&&gi===null))return!1}return!0},yn(e,De),Se.PDFLinkService=e;class ke{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(He){}get rotation(){return 0}set rotation(He){}async goToDestination(He){}goToPage(He){}addLinkAttributes(He,je,Xe=!1){Te(He,{url:je,enabled:this.externalLinkEnabled})}getDestinationHash(He){return"#"}getAnchorUrl(He){return"#"}setHash(He){}executeNamedAction(He){}executeSetOCGState(He){}cachePageRef(He,je){}isPageVisible(He){return!0}isPageCached(He){return!0}}Se.SimpleLinkService=ke},(ii,Se)=>{var ri,oi,di;Object.defineProperty(Se,"__esModule",{value:!0}),Se.animationStarted=Se.VERTICAL_PADDING=Se.UNKNOWN_SCALE=Se.TextLayerMode=Se.SpreadMode=Se.SidebarView=Se.ScrollMode=Se.SCROLLBAR_PADDING=Se.RenderingStates=Se.RendererType=Se.ProgressBar=Se.PresentationModeState=Se.OutputScale=Se.MIN_SCALE=Se.MAX_SCALE=Se.MAX_AUTO_SCALE=Se.DEFAULT_SCALE_VALUE=Se.DEFAULT_SCALE_DELTA=Se.DEFAULT_SCALE=Se.AutoPrintRegExp=void 0,Se.apiPageLayoutToViewerModes=li,Se.apiPageModeToSidebarView=pi,Se.approximateFraction=ci,Se.backtrackBeforeAllVisibleElements=si,Se.binarySearchFirstItem=Ze,Se.docStyle=void 0,Se.getActiveOrFocusedElement=xi,Se.getPageSizeInches=We,Se.getVisibleElements=ni,Se.isPortraitOrientation=yi,Se.isValidRotation=Ue,Se.isValidScrollMode=ti,Se.isValidSpreadMode=hi,Se.noContextMenuHandler=$e,Se.normalizeWheelEventDelta=Ve,Se.normalizeWheelEventDirection=Ke,Se.parseQueryString=gi,Se.removeNullCharacters=Qe,Se.roundToDivide=ze,Se.scrollIntoView=qe,Se.watchScroll=Ye;const _e="auto";Se.DEFAULT_SCALE_VALUE=_e;const t=1;Se.DEFAULT_SCALE=t;const xe=1.1;Se.DEFAULT_SCALE_DELTA=xe;const Fe=.1;Se.MIN_SCALE=Fe;const Te=10;Se.MAX_SCALE=Te;const e=0;Se.UNKNOWN_SCALE=e;const ke=1.25;Se.MAX_AUTO_SCALE=ke;const Oe=40;Se.SCROLLBAR_PADDING=Oe;const Ee=5;Se.VERTICAL_PADDING=Ee;const Pe={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};Se.RenderingStates=Pe;const De={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};Se.PresentationModeState=De;const Me={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};Se.SidebarView=Me;const Ae={CANVAS:"canvas",SVG:"svg"};Se.RendererType=Ae;const Be={DISABLE:0,ENABLE:1};Se.TextLayerMode=Be;const He={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};Se.ScrollMode=He;const je={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};Se.SpreadMode=je;const Xe=/\bprint\s*\(/;Se.AutoPrintRegExp=Xe;class St{constructor(){const Ai=window.devicePixelRatio||1;this.sx=Ai,this.sy=Ai}get scaled(){return this.sx!==1||this.sy!==1}}Se.OutputScale=St;function qe(bi,Ai,Ei=!1){let mi=bi.offsetParent;if(!mi){console.error("offsetParent is not set -- cannot scroll");return}let _i=bi.offsetTop+bi.clientTop,Si=bi.offsetLeft+bi.clientLeft;for(;mi.clientHeight===mi.scrollHeight&&mi.clientWidth===mi.scrollWidth||Ei&&(mi.classList.contains("markedContent")||getComputedStyle(mi).overflow==="hidden");)if(_i+=mi.offsetTop,Si+=mi.offsetLeft,mi=mi.offsetParent,!mi)return;Ai&&(Ai.top!==void 0&&(_i+=Ai.top),Ai.left!==void 0&&(Si+=Ai.left,mi.scrollLeft=Si)),mi.scrollTop=_i}function Ye(bi,Ai){const Ei=function(Si){_i||(_i=window.requestAnimationFrame(function(){_i=null;const Pi=bi.scrollLeft,Di=mi.lastX;Pi!==Di&&(mi.right=Pi>Di),mi.lastX=Pi;const Ii=bi.scrollTop,Mi=mi.lastY;Ii!==Mi&&(mi.down=Ii>Mi),mi.lastY=Ii,Ai(mi)}))},mi={right:!0,down:!0,lastX:bi.scrollLeft,lastY:bi.scrollTop,_eventHandler:Ei};let _i=null;return bi.addEventListener("scroll",Ei,!0),mi}function gi(bi){const Ai=new Map;for(const[Ei,mi]of new URLSearchParams(bi))Ai.set(Ei.toLowerCase(),mi);return Ai}const ai=/\x00/g,ui=/[\x01-\x1F]/g;function Qe(bi,Ai=!1){return typeof bi!="string"?(console.error("The argument must be a string."),bi):(Ai&&(bi=bi.replace(ui," ")),bi.replace(ai,""))}function Ze(bi,Ai,Ei=0){let mi=Ei,_i=bi.length-1;if(_i<0||!Ai(bi[_i]))return bi.length;if(Ai(bi[mi]))return mi;for(;mi<_i;){const Si=mi+_i>>1,Fi=bi[Si];Ai(Fi)?_i=Si:mi=Si+1}return mi}function ci(bi){if(Math.floor(bi)===bi)return[bi,1];const Ai=1/bi,Ei=8;if(Ai>Ei)return[1,Ei];if(Math.floor(Ai)===Ai)return[1,Ai];const mi=bi>1?Ai:bi;let _i=0,Si=1,Fi=1,Pi=1;for(;;){const Ii=_i+Fi,Mi=Si+Pi;if(Mi>Ei)break;mi<=Ii/Mi?(Fi=Ii,Pi=Mi):(_i=Ii,Si=Mi)}let Di;return mi-_i/Si<Fi/Pi-mi?Di=mi===bi?[_i,Si]:[Si,_i]:Di=mi===bi?[Fi,Pi]:[Pi,Fi],Di}function ze(bi,Ai){const Ei=bi%Ai;return Ei===0?bi:Math.round(bi-Ei+Ai)}function We({view:bi,userUnit:Ai,rotate:Ei}){const[mi,_i,Si,Fi]=bi,Pi=Ei%180!==0,Di=(Si-mi)/72*Ai,Ii=(Fi-_i)/72*Ai;return{width:Pi?Ii:Di,height:Pi?Di:Ii}}function si(bi,Ai,Ei){if(bi<2)return bi;let mi=Ai[bi].div,_i=mi.offsetTop+mi.clientTop;_i>=Ei&&(mi=Ai[bi-1].div,_i=mi.offsetTop+mi.clientTop);for(let Si=bi-2;Si>=0&&(mi=Ai[Si].div,!(mi.offsetTop+mi.clientTop+mi.clientHeight<=_i));--Si)bi=Si;return bi}function ni({scrollEl:bi,views:Ai,sortByVisibility:Ei=!1,horizontal:mi=!1,rtl:_i=!1}){const Si=bi.scrollTop,Fi=Si+bi.clientHeight,Pi=bi.scrollLeft,Di=Pi+bi.clientWidth;function Ii(Ri){const ji=Ri.div;return ji.offsetTop+ji.clientTop+ji.clientHeight>Si}function Mi(Ri){const ji=Ri.div,Ui=ji.offsetLeft+ji.clientLeft,en=Ui+ji.clientWidth;return _i?Ui<Di:en>Pi}const $i=[],Xi=new Set,rn=Ai.length;let tn=Ze(Ai,mi?Mi:Ii);tn>0&&tn<rn&&!mi&&(tn=si(tn,Ai,Si));let on=mi?Di:-1;for(let Ri=tn;Ri<rn;Ri++){const ji=Ai[Ri],Ui=ji.div,en=Ui.offsetLeft+Ui.clientLeft,nn=Ui.offsetTop+Ui.clientTop,Sn=Ui.clientWidth,Qi=Ui.clientHeight,qi=en+Sn,Zi=nn+Qi;if(on===-1)Zi>=Fi&&(on=Zi);else if((mi?en:nn)>on)break;if(Zi<=Si||nn>=Fi||qi<=Pi||en>=Di)continue;const an=Math.max(0,Si-nn)+Math.max(0,Zi-Fi),Nn=Math.max(0,Pi-en)+Math.max(0,qi-Di),Dn=(Qi-an)/Qi,hn=(Sn-Nn)/Sn,Fn=Dn*hn*100|0;$i.push({id:ji.id,x:en,y:nn,view:ji,percent:Fn,widthPercent:hn*100|0}),Xi.add(ji.id)}const fn=$i[0],Yi=$i.at(-1);return Ei&&$i.sort(function(Ri,ji){const Ui=Ri.percent-ji.percent;return Math.abs(Ui)>.001?-Ui:Ri.id-ji.id}),{first:fn,last:Yi,views:$i,ids:Xi}}function $e(bi){bi.preventDefault()}function Ke(bi){let Ai=Math.hypot(bi.deltaX,bi.deltaY);const Ei=Math.atan2(bi.deltaY,bi.deltaX);return-.25*Math.PI<Ei&&Ei<.75*Math.PI&&(Ai=-Ai),Ai}function Ve(bi){let Ai=Ke(bi);const Ei=0,mi=1,_i=30,Si=30;return bi.deltaMode===Ei?Ai/=_i*Si:bi.deltaMode===mi&&(Ai/=Si),Ai}function Ue(bi){return Number.isInteger(bi)&&bi%90===0}function ti(bi){return Number.isInteger(bi)&&Object.values(He).includes(bi)&&bi!==He.UNKNOWN}function hi(bi){return Number.isInteger(bi)&&Object.values(je).includes(bi)&&bi!==je.UNKNOWN}function yi(bi){return bi.width<=bi.height}const wi=new Promise(function(bi){window.requestAnimationFrame(bi)});Se.animationStarted=wi;const Ci=document.documentElement.style;Se.docStyle=Ci;function ki(bi,Ai,Ei){return Math.min(Math.max(bi,Ai),Ei)}class fi{constructor(Ai){yn(this,ri,null);yn(this,oi,0);yn(this,di,!0);const Ei=document.getElementById(Ai);Zn(this,ri,Ei.classList)}get percent(){return zi(this,oi)}set percent(Ai){if(Zn(this,oi,ki(Ai,0,100)),isNaN(Ai)){zi(this,ri).add("indeterminate");return}zi(this,ri).remove("indeterminate"),Ci.setProperty("--progressBar-percent",`${zi(this,oi)}%`)}setWidth(Ai){if(!Ai)return;const mi=Ai.parentNode.offsetWidth-Ai.offsetWidth;mi>0&&Ci.setProperty("--progressBar-end-offset",`${mi}px`)}hide(){!zi(this,di)||(Zn(this,di,!1),zi(this,ri).add("hidden"))}show(){zi(this,di)||(Zn(this,di,!0),zi(this,ri).remove("hidden"))}}ri=new WeakMap,oi=new WeakMap,di=new WeakMap,Se.ProgressBar=fi;function xi(){let bi=document,Ai=bi.activeElement||bi.querySelector(":focus");for(;Ai!=null&&Ai.shadowRoot;)bi=Ai.shadowRoot,Ai=bi.activeElement||bi.querySelector(":focus");return Ai}function li(bi){let Ai=He.VERTICAL,Ei=je.NONE;switch(bi){case"SinglePage":Ai=He.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ai=He.PAGE;case"TwoColumnLeft":Ei=je.ODD;break;case"TwoPageRight":Ai=He.PAGE;case"TwoColumnRight":Ei=je.EVEN;break}return{scrollMode:Ai,spreadMode:Ei}}function pi(bi){switch(bi){case"UseNone":return Me.NONE;case"UseThumbs":return Me.THUMBS;case"UseOutlines":return Me.OUTLINE;case"UseAttachments":return Me.ATTACHMENTS;case"UseOC":return Me.LAYERS}return Me.NONE}},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.StructTreeLayerBuilder=void 0;const _e={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},t=/^H(\d+)$/;class xe{constructor({pdfPage:Te}){this.pdfPage=Te}render(Te){return this._walk(Te)}_setAttributes(Te,e){Te.alt!==void 0&&e.setAttribute("aria-label",Te.alt),Te.id!==void 0&&e.setAttribute("aria-owns",Te.id),Te.lang!==void 0&&e.setAttribute("lang",Te.lang)}_walk(Te){if(!Te)return null;const e=document.createElement("span");if("role"in Te){const{role:ke}=Te,Oe=ke.match(t);Oe?(e.setAttribute("role","heading"),e.setAttribute("aria-level",Oe[1])):_e[ke]&&e.setAttribute("role",_e[ke])}if(this._setAttributes(Te,e),Te.children)if(Te.children.length===1&&"id"in Te.children[0])this._setAttributes(Te.children[0],e);else for(const ke of Te.children)e.append(this._walk(ke));return e}}Se.StructTreeLayerBuilder=xe},(ii,Se,_e)=>{var Fe,m0,e,b0;Object.defineProperty(Se,"__esModule",{value:!0}),Se.TextLayerBuilder=void 0;var t=_e(3);class xe{constructor({textLayerDiv:Ee,eventBus:Pe,pageIndex:De,viewport:Me,highlighter:Ae=null,accessibilityManager:Be=null}){yn(this,Fe);yn(this,e);this.textLayerDiv=Ee,this.eventBus=Pe,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=De+1,this.viewport=Me,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=Ae,this.accessibilityManager=Be,Cn(this,e,b0).call(this)}render(Ee=0){var De,Me;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(De=this.highlighter)==null||De.setTextMapping(this.textDivs,this.textContentItemsStr),(Me=this.accessibilityManager)==null||Me.setTextMapping(this.textDivs);const Pe=document.createDocumentFragment();this.textLayerRenderTask=(0,t.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:Pe,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:Ee}),this.textLayerRenderTask.promise.then(()=>{var Ae,Be;this.textLayerDiv.append(Pe),Cn(this,Fe,m0).call(this),(Ae=this.highlighter)==null||Ae.enable(),(Be=this.accessibilityManager)==null||Be.enable()},function(Ae){})}cancel(){var Ee,Pe;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(Ee=this.highlighter)==null||Ee.disable(),(Pe=this.accessibilityManager)==null||Pe.disable()}setTextContentStream(Ee){this.cancel(),this.textContentStream=Ee}setTextContent(Ee){this.cancel(),this.textContent=Ee}}Fe=new WeakSet,m0=function(){this.renderingDone=!0;const Ee=document.createElement("div");Ee.className="endOfContent",this.textLayerDiv.append(Ee),this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},e=new WeakSet,b0=function(){const Ee=this.textLayerDiv;Ee.addEventListener("mousedown",Pe=>{const De=Ee.querySelector(".endOfContent");if(!De)return;let Me=Pe.target!==Ee;if(Me&&(Me=getComputedStyle(De).getPropertyValue("-moz-user-select")!=="none"),Me){const Ae=Ee.getBoundingClientRect(),Be=Math.max(0,(Pe.pageY-Ae.top)/Ae.height);De.style.top=(Be*100).toFixed(2)+"%"}De.classList.add("active")}),Ee.addEventListener("mouseup",()=>{const Pe=Ee.querySelector(".endOfContent");!Pe||(Pe.style.top="",Pe.classList.remove("active"))})},Se.TextLayerBuilder=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XfaLayerBuilder=void 0;var t=_e(3);class xe{constructor({pageDiv:Te,pdfPage:e,annotationStorage:ke=null,linkService:Oe,xfaHtml:Ee=null}){this.pageDiv=Te,this.pdfPage=e,this.annotationStorage=ke,this.linkService=Oe,this.xfaHtml=Ee,this.div=null,this._cancelled=!1}render(Te,e="display"){if(e==="print"){const ke={viewport:Te.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e},Oe=document.createElement("div");this.pageDiv.append(Oe),ke.div=Oe;const Ee=t.XfaLayer.render(ke);return Promise.resolve(Ee)}return this.pdfPage.getXfa().then(ke=>{if(this._cancelled||!ke)return{textDivs:[]};const Oe={viewport:Te.clone({dontFlip:!0}),div:this.div,xfaHtml:ke,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e};return this.div?t.XfaLayer.update(Oe):(this.div=document.createElement("div"),this.pageDiv.append(this.div),Oe.div=this.div,t.XfaLayer.render(Oe))}).catch(ke=>{console.error(ke)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}Se.XfaLayerBuilder=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DownloadManager=void 0;var t=_e(3);function xe(Te,e){const ke=document.createElement("a");if(!ke.click)throw new Error('DownloadManager: "a.click()" is not supported.');ke.href=Te,ke.target="_parent","download"in ke&&(ke.download=e),(document.body||document.documentElement).append(ke),ke.click(),ke.remove()}class Fe{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(e,ke){if(!(0,t.createValidAbsoluteUrl)(e,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${e}`);return}xe(e+"#pdfjs.action=download",ke)}downloadData(e,ke,Oe){const Ee=URL.createObjectURL(new Blob([e],{type:Oe}));xe(Ee,ke)}openOrDownloadData(e,ke,Oe){const Ee=(0,t.isPdfFile)(Oe),Pe=Ee?"application/pdf":"";if(Ee){let De=this._openBlobUrls.get(e);De||(De=URL.createObjectURL(new Blob([ke],{type:Pe})),this._openBlobUrls.set(e,De));let Me;Me="?file="+encodeURIComponent(De+"#"+Oe);try{return window.open(Me),!0}catch(Ae){console.error(`openOrDownloadData: ${Ae}`),URL.revokeObjectURL(De),this._openBlobUrls.delete(e)}}return this.downloadData(ke,Oe,Pe),!1}download(e,ke,Oe){const Ee=URL.createObjectURL(e);xe(Ee,Oe)}}Se.DownloadManager=Fe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.WaitOnType=Se.EventBus=Se.AutomationEventBus=void 0,Se.waitOnEventOrTimeout=t;const _e={EVENT:"event",TIMEOUT:"timeout"};Se.WaitOnType=_e;function t({target:Te,name:e,delay:ke=0}){return new Promise(function(Oe,Ee){if(typeof Te!="object"||!(e&&typeof e=="string")||!(Number.isInteger(ke)&&ke>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Pe(Be){Te instanceof xe?Te._off(e,De):Te.removeEventListener(e,De),Ae&&clearTimeout(Ae),Oe(Be)}const De=Pe.bind(null,_e.EVENT);Te instanceof xe?Te._on(e,De):Te.addEventListener(e,De);const Me=Pe.bind(null,_e.TIMEOUT),Ae=setTimeout(Me,ke)})}class xe{constructor(){this._listeners=Object.create(null)}on(e,ke,Oe=null){this._on(e,ke,{external:!0,once:Oe==null?void 0:Oe.once})}off(e,ke,Oe=null){this._off(e,ke,{external:!0,once:Oe==null?void 0:Oe.once})}dispatch(e,ke){const Oe=this._listeners[e];if(!Oe||Oe.length===0)return;let Ee;for(const{listener:Pe,external:De,once:Me}of Oe.slice(0)){if(Me&&this._off(e,Pe),De){(Ee||(Ee=[])).push(Pe);continue}Pe(ke)}if(Ee){for(const Pe of Ee)Pe(ke);Ee=null}}_on(e,ke,Oe=null){var Pe;((Pe=this._listeners)[e]||(Pe[e]=[])).push({listener:ke,external:(Oe==null?void 0:Oe.external)===!0,once:(Oe==null?void 0:Oe.once)===!0})}_off(e,ke,Oe=null){const Ee=this._listeners[e];if(!!Ee){for(let Pe=0,De=Ee.length;Pe<De;Pe++)if(Ee[Pe].listener===ke){Ee.splice(Pe,1);return}}}}Se.EventBus=xe;class Fe extends xe{dispatch(e,ke){throw new Error("Not implemented: AutomationEventBus.dispatch")}}Se.AutomationEventBus=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.GenericL10n=void 0,_e(14);var t=_e(4);const xe=document.webL10n;class Fe{constructor(e){this._lang=e,this._ready=new Promise((ke,Oe)=>{xe.setLanguage((0,t.fixupLangCode)(e),()=>{ke(xe)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e,ke=null,Oe=(0,t.getL10nFallback)(e,ke)){return(await this._ready).get(e,ke,Oe)}async translate(e){return(await this._ready).translate(e)}}Se.GenericL10n=Fe},()=>{document.webL10n=function(ii,Se,_e){var t={},xe="",Fe="textContent",Te="",e={},ke="loading",Oe=!0;function Ee(){return Se.querySelectorAll('link[type="application/l10n"]')}function Pe(){var Qe=Se.querySelector('script[type="application/l10n"]');return Qe?JSON.parse(Qe.innerHTML):null}function De(Qe){return Qe?Qe.querySelectorAll("*[data-l10n-id]"):[]}function Me(Qe){if(!Qe)return{};var Ze=Qe.getAttribute("data-l10n-id"),ci=Qe.getAttribute("data-l10n-args"),ze={};if(ci)try{ze=JSON.parse(ci)}catch{console.warn("could not parse arguments for #"+Ze)}return{id:Ze,args:ze}}function Ae(Qe,Ze,ci){Ze=Ze||function(si){},ci=ci||function(){};var ze=new XMLHttpRequest;ze.open("GET",Qe,Oe),ze.overrideMimeType&&ze.overrideMimeType("text/plain; charset=utf-8"),ze.onreadystatechange=function(){ze.readyState==4&&(ze.status==200||ze.status===0?Ze(ze.responseText):ci())},ze.onerror=ci,ze.ontimeout=ci;try{ze.send(null)}catch{ci()}}function Be(Qe,Ze,ci,ze){var We=Qe.replace(/[^\/]*$/,"")||"./";function si($e){return $e.lastIndexOf("\\")<0?$e:$e.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function ni($e,Ke){var Ve={},Ue=/^\s*|\s*$/,ti=/^\s*#|^\s*$/,hi=/^\s*\[(.*)\]\s*$/,yi=/^\s*@import\s+url\((.*)\)\s*$/i,wi=/^([^=\s]*)\s*=\s*(.+)$/;function Ci(fi,xi,li){var pi=fi.replace(Ue,"").split(/[\r\n]+/),ri="*",oi=Ze.split("-",1)[0],di=!1,bi="";function Ai(){for(;;){if(!pi.length){li();return}var Ei=pi.shift();if(!ti.test(Ei)){if(xi){if(bi=hi.exec(Ei),bi){ri=bi[1].toLowerCase(),di=ri!=="*"&&ri!==Ze&&ri!==oi;continue}else if(di)continue;if(bi=yi.exec(Ei),bi){ki(We+bi[1],Ai);return}}var mi=Ei.match(wi);mi&&mi.length==3&&(Ve[mi[1]]=si(mi[2]))}}}Ai()}function ki(fi,xi){Ae(fi,function(li){Ci(li,!1,xi)},function(){console.warn(fi+" not found."),xi()})}Ci($e,!0,function(){Ke(Ve)})}Ae(Qe,function($e){xe+=$e,ni($e,function(Ke){for(var Ve in Ke){var Ue,ti,hi=Ve.lastIndexOf(".");hi>0?(Ue=Ve.substring(0,hi),ti=Ve.substring(hi+1)):(Ue=Ve,ti=Fe),t[Ue]||(t[Ue]={}),t[Ue][ti]=Ke[Ve]}ci&&ci()})},ze)}function He(Qe,Ze){Qe&&(Qe=Qe.toLowerCase()),Ze=Ze||function(){},je(),Te=Qe;var ci=Ee(),ze=ci.length;if(ze===0){var We=Pe();if(We&&We.locales&&We.default_locale){if(console.log("using the embedded JSON directory, early way out"),t=We.locales[Qe],!t){var si=We.default_locale.toLowerCase();for(var ni in We.locales)if(ni=ni.toLowerCase(),ni===Qe){t=We.locales[Qe];break}else ni===si&&(t=We.locales[si])}Ze()}else console.log("no resource to load, early way out");ke="complete";return}var $e=null,Ke=0;$e=function(){Ke++,Ke>=ze&&(Ze(),ke="complete")};function Ve(hi){var yi=hi.href;this.load=function(wi,Ci){Be(yi,wi,Ci,function(){console.warn(yi+" not found."),console.warn('"'+wi+'" resource not found'),Te="",Ci()})}}for(var Ue=0;Ue<ze;Ue++){var ti=new Ve(ci[Ue]);ti.load(Qe,$e)}}function je(){t={},xe="",Te=""}function Xe(Qe){var Ze={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function ci(ni,$e){return $e.indexOf(ni)!==-1}function ze(ni,$e,Ke){return $e<=ni&&ni<=Ke}var We={0:function(ni){return"other"},1:function(ni){return ze(ni%100,3,10)?"few":ni===0?"zero":ze(ni%100,11,99)?"many":ni==2?"two":ni==1?"one":"other"},2:function(ni){return ni!==0&&ni%10===0?"many":ni==2?"two":ni==1?"one":"other"},3:function(ni){return ni==1?"one":"other"},4:function(ni){return ze(ni,0,1)?"one":"other"},5:function(ni){return ze(ni,0,2)&&ni!=2?"one":"other"},6:function(ni){return ni===0?"zero":ni%10==1&&ni%100!=11?"one":"other"},7:function(ni){return ni==2?"two":ni==1?"one":"other"},8:function(ni){return ze(ni,3,6)?"few":ze(ni,7,10)?"many":ni==2?"two":ni==1?"one":"other"},9:function(ni){return ni===0||ni!=1&&ze(ni%100,1,19)?"few":ni==1?"one":"other"},10:function(ni){return ze(ni%10,2,9)&&!ze(ni%100,11,19)?"few":ni%10==1&&!ze(ni%100,11,19)?"one":"other"},11:function(ni){return ze(ni%10,2,4)&&!ze(ni%100,12,14)?"few":ni%10===0||ze(ni%10,5,9)||ze(ni%100,11,14)?"many":ni%10==1&&ni%100!=11?"one":"other"},12:function(ni){return ze(ni,2,4)?"few":ni==1?"one":"other"},13:function(ni){return ze(ni%10,2,4)&&!ze(ni%100,12,14)?"few":ni!=1&&ze(ni%10,0,1)||ze(ni%10,5,9)||ze(ni%100,12,14)?"many":ni==1?"one":"other"},14:function(ni){return ze(ni%100,3,4)?"few":ni%100==2?"two":ni%100==1?"one":"other"},15:function(ni){return ni===0||ze(ni%100,2,10)?"few":ze(ni%100,11,19)?"many":ni==1?"one":"other"},16:function(ni){return ni%10==1&&ni!=11?"one":"other"},17:function(ni){return ni==3?"few":ni===0?"zero":ni==6?"many":ni==2?"two":ni==1?"one":"other"},18:function(ni){return ni===0?"zero":ze(ni,0,2)&&ni!==0&&ni!=2?"one":"other"},19:function(ni){return ze(ni,2,10)?"few":ze(ni,0,1)?"one":"other"},20:function(ni){return(ze(ni%10,3,4)||ni%10==9)&&!(ze(ni%100,10,19)||ze(ni%100,70,79)||ze(ni%100,90,99))?"few":ni%1e6===0&&ni!==0?"many":ni%10==2&&!ci(ni%100,[12,72,92])?"two":ni%10==1&&!ci(ni%100,[11,71,91])?"one":"other"},21:function(ni){return ni===0?"zero":ni==1?"one":"other"},22:function(ni){return ze(ni,0,1)||ze(ni,11,99)?"one":"other"},23:function(ni){return ze(ni%10,1,2)||ni%20===0?"one":"other"},24:function(ni){return ze(ni,3,10)||ze(ni,13,19)?"few":ci(ni,[2,12])?"two":ci(ni,[1,11])?"one":"other"}},si=Ze[Qe.replace(/-.*$/,"")];return si in We?We[si]:(console.warn("plural form unknown for ["+Qe+"]"),function(){return"other"})}e.plural=function(Qe,Ze,ci,ze){var We=parseFloat(Ze);if(isNaN(We)||ze!=Fe)return Qe;e._pluralRules||(e._pluralRules=Xe(Te));var si="["+e._pluralRules(We)+"]";return We===0&&ci+"[zero]"in t?Qe=t[ci+"[zero]"][ze]:We==1&&ci+"[one]"in t?Qe=t[ci+"[one]"][ze]:We==2&&ci+"[two]"in t?Qe=t[ci+"[two]"][ze]:ci+si in t?Qe=t[ci+si][ze]:ci+"[other]"in t&&(Qe=t[ci+"[other]"][ze]),Qe};function St(Qe,Ze,ci){var ze=t[Qe];if(!ze){if(console.warn("#"+Qe+" is undefined."),!ci)return null;ze=ci}var We={};for(var si in ze){var ni=ze[si];ni=qe(ni,Ze,Qe,si),ni=Ye(ni,Ze,Qe),We[si]=ni}return We}function qe(Qe,Ze,ci,ze){var We=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,si=We.exec(Qe);if(!si||!si.length)return Qe;var ni=si[1],$e=si[2],Ke;if(Ze&&$e in Ze?Ke=Ze[$e]:$e in t&&(Ke=t[$e]),ni in e){var Ve=e[ni];Qe=Ve(Qe,Ke,ci,ze)}return Qe}function Ye(Qe,Ze,ci){var ze=/\{\{\s*(.+?)\s*\}\}/g;return Qe.replace(ze,function(We,si){return Ze&&si in Ze?Ze[si]:si in t?t[si]:(console.log("argument {{"+si+"}} for #"+ci+" is undefined."),We)})}function gi(Qe){var Ze=Me(Qe);if(!!Ze.id){var ci=St(Ze.id,Ze.args);if(!ci){console.warn("#"+Ze.id+" is undefined.");return}if(ci[Fe]){if(ai(Qe)===0)Qe[Fe]=ci[Fe];else{for(var ze=Qe.childNodes,We=!1,si=0,ni=ze.length;si<ni;si++)ze[si].nodeType===3&&/\S/.test(ze[si].nodeValue)&&(We?ze[si].nodeValue="":(ze[si].nodeValue=ci[Fe],We=!0));if(!We){var $e=Se.createTextNode(ci[Fe]);Qe.prepend($e)}}delete ci[Fe]}for(var Ke in ci)Qe[Ke]=ci[Ke]}}function ai(Qe){if(Qe.children)return Qe.children.length;if(typeof Qe.childElementCount<"u")return Qe.childElementCount;for(var Ze=0,ci=0;ci<Qe.childNodes.length;ci++)Ze+=Qe.nodeType===1?1:0;return Ze}function ui(Qe){Qe=Qe||Se.documentElement;for(var Ze=De(Qe),ci=Ze.length,ze=0;ze<ci;ze++)gi(Ze[ze]);gi(Qe)}return{get:function(Qe,Ze,ci){var ze=Qe.lastIndexOf("."),We=Fe;ze>0&&(We=Qe.substring(ze+1),Qe=Qe.substring(0,ze));var si;ci&&(si={},si[We]=ci);var ni=St(Qe,Ze,si);return ni&&We in ni?ni[We]:"{{"+Qe+"}}"},getData:function(){return t},getText:function(){return xe},getLanguage:function(){return Te},setLanguage:function(Qe,Ze){He(Qe,function(){Ze&&Ze()})},getDirection:function(){var Qe=["ar","he","fa","ps","ur"],Ze=Te.split("-",1)[0];return Qe.indexOf(Ze)>=0?"rtl":"ltr"},translate:ui,getReadyState:function(){return ke},ready:function(Qe){if(Qe)ke=="complete"||ke=="interactive"?ii.setTimeout(function(){Qe()}):Se.addEventListener&&Se.addEventListener("localized",function Ze(){Se.removeEventListener("localized",Ze),Qe()});else return}}}(window,document)},(ii,Se,_e)=>{var Qe,x0,ci,il,We,nl,ni,y0,Ke,v0,Ue,w0,hi,rl,wi,S0,ki,A0,xi,uc,pi,Lo,oi,uo,bi,_0,Ei,sl,_i,al,Fi,hc,Di,C0,Mi,ol,Xi,E0,tn,No;Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFFindController=Se.FindState=void 0;var t=_e(7),xe=_e(3),Fe=_e(16);const Te={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};Se.FindState=Te;const e=250,ke=-50,Oe=-400,Ee={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Pe=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),De=[...Pe.values()].map(fn=>String.fromCharCode(fn)).join(""),Me=/\p{M}+/gu,Ae=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,Be=/([^\p{M}])\p{M}*$/u,He=/^\p{M}*([^\p{M}])/u,je=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Xe=new Map,St="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let qe=null,Ye=null;function gi(fn){const Yi=[];let Ri;for(;(Ri=je.exec(fn))!==null;){let{index:Dn}=Ri;for(const hn of Ri[0]){let Fn=Xe.get(hn);Fn||(Fn=hn.normalize("NFD").length,Xe.set(hn,Fn)),Yi.push([Fn,Dn++])}}let ji;if(Yi.length===0&&qe)ji=qe;else if(Yi.length>0&&Ye)ji=Ye;else{const hn=`([${Object.keys(Ee).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\p{Ideographic}\\n)|(\\n)`;Yi.length===0?ji=qe=new RegExp(hn+"|(\\u0000)","gum"):ji=Ye=new RegExp(hn+`|(${St})`,"gum")}const Ui=[];for(;(Ri=Me.exec(fn))!==null;)Ui.push([Ri[0].length,Ri.index]);let en=fn.normalize("NFD");const nn=[[0,0]];let Sn=0,Qi=0,qi=0,Zi=0,an=0,Nn=!1;return en=en.replace(ji,(Dn,hn,Fn,Xn,Rn,Wn,Kn,Mn)=>{var er,Hn;if(Mn-=Zi,hn){const hr=Ee[Dn],or=hr.length;for(let dr=1;dr<or;dr++)nn.push([Mn-qi+dr,qi-dr]);return qi-=or-1,hr}if(Fn){const hr=Fn.endsWith(`
`),or=hr?Fn.length-2:Fn.length;Nn=!0;let dr=or;Mn+an===((er=Ui[Sn])==null?void 0:er[1])&&(dr-=Ui[Sn][0],++Sn);for(let nr=1;nr<=dr;nr++)nn.push([Mn-1-qi+nr,qi-nr]);return qi-=dr,Zi+=dr,hr?(Mn+=or-1,nn.push([Mn-qi+1,1+qi]),qi+=1,Zi+=1,an+=1,Fn.slice(0,or)):Fn}if(Xn)return nn.push([Mn-qi+1,1+qi]),qi+=1,Zi+=1,an+=1,Xn.charAt(0);if(Rn)return nn.push([Mn-qi+1,qi]),Zi+=1,an+=1,Rn.charAt(0);if(Wn)return nn.push([Mn-qi+1,qi-1]),qi-=1,Zi+=1,an+=1," ";if(Mn+an===((Hn=Yi[Qi])==null?void 0:Hn[1])){const hr=Yi[Qi][0]-1;++Qi;for(let or=1;or<=hr;or++)nn.push([Mn-(qi-or),qi-or]);qi-=hr,Zi+=hr}return Kn}),nn.push([en.length,qi]),[en,nn,Nn]}function ai(fn,Yi,Ri){if(!fn)return[Yi,Ri];const ji=Yi,Ui=Yi+Ri;let en=(0,t.binarySearchFirstItem)(fn,Sn=>Sn[0]>=ji);fn[en][0]>ji&&--en;let nn=(0,t.binarySearchFirstItem)(fn,Sn=>Sn[0]>=Ui,en);return fn[nn][0]>Ui&&--nn,[ji+fn[en][1],Ri+fn[nn][1]-fn[en][1]]}class ui{constructor({linkService:Yi,eventBus:Ri}){yn(this,Qe);yn(this,ci);yn(this,We);yn(this,ni);yn(this,Ke);yn(this,Ue);yn(this,hi);yn(this,wi);yn(this,ki);yn(this,xi);yn(this,pi);yn(this,oi);yn(this,bi);yn(this,Ei);yn(this,_i);yn(this,Fi);yn(this,Di);yn(this,Mi);yn(this,Xi);yn(this,tn);this._linkService=Yi,this._eventBus=Ri,Cn(this,ci,il).call(this),Ri._on("find",Cn(this,Qe,x0).bind(this)),Ri._on("findbarclose",Cn(this,Di,C0).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Yi){this._pdfDocument&&Cn(this,ci,il).call(this),Yi&&(this._pdfDocument=Yi,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Yi=null,selectedLeft:Ri=0,pageIndex:ji=-1,matchIndex:Ui=-1}){if(!this._scrollMatches||!Yi)return;if(Ui===-1||Ui!==this._selected.matchIdx)return;if(ji===-1||ji!==this._selected.pageIdx)return;this._scrollMatches=!1;const en={top:ke,left:Ri+Oe};(0,t.scrollIntoView)(Yi,en,!0)}}Qe=new WeakSet,x0=function(Yi){if(!Yi)return;const Ri=this._pdfDocument,{type:ji}=Yi;(this._state===null||Cn(this,ni,y0).call(this,Yi))&&(this._dirtyMatch=!0),this._state=Yi,ji!=="highlightallchange"&&Cn(this,tn,No).call(this,Te.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ri&&this._pdfDocument!==Ri)return;Cn(this,ki,A0).call(this);const Ui=!this._highlightMatches,en=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ji?this._dirtyMatch?Cn(this,oi,uo).call(this):ji==="again"?(Cn(this,oi,uo).call(this),Ui&&this._state.highlightAll&&Cn(this,pi,Lo).call(this)):ji==="highlightallchange"?(en?Cn(this,oi,uo).call(this):this._highlightMatches=!0,Cn(this,pi,Lo).call(this)):Cn(this,oi,uo).call(this):this._findTimeout=setTimeout(()=>{Cn(this,oi,uo).call(this),this._findTimeout=null},e)})},ci=new WeakSet,il=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,xe.createPromiseCapability)()},We=new WeakSet,nl=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=gi(this._state.query)),this._normalizedQuery},ni=new WeakSet,y0=function(Yi){if(Yi.query!==this._state.query)return!0;switch(Yi.type){case"again":const Ri=this._selected.pageIdx+1,ji=this._linkService;return Ri>=1&&Ri<=ji.pagesCount&&Ri!==ji.page&&!ji.isPageVisible(Ri);case"highlightallchange":return!1}return!0},Ke=new WeakSet,v0=function(Yi,Ri,ji){let Ui=Yi.slice(0,Ri).match(Be);if(Ui){const en=Yi.charCodeAt(Ri),nn=Ui[1].charCodeAt(0);if((0,Fe.getCharacterType)(en)===(0,Fe.getCharacterType)(nn))return!1}if(Ui=Yi.slice(Ri+ji).match(He),Ui){const en=Yi.charCodeAt(Ri+ji-1),nn=Ui[1].charCodeAt(0);if((0,Fe.getCharacterType)(en)===(0,Fe.getCharacterType)(nn))return!1}return!0},Ue=new WeakSet,w0=function(Yi,Ri,ji,Ui){const en=[],nn=[],Sn=this._pageDiffs[ji];let Qi;for(;(Qi=Yi.exec(Ui))!==null;){if(Ri&&!Cn(this,Ke,v0).call(this,Ui,Qi.index,Qi[0].length))continue;const[qi,Zi]=ai(Sn,Qi.index,Qi[0].length);Zi&&(en.push(qi),nn.push(Zi))}this._pageMatches[ji]=en,this._pageMatchesLength[ji]=nn},hi=new WeakSet,rl=function(Yi,Ri){const{matchDiacritics:ji}=this._state;let Ui=!1;Yi=Yi.replace(Ae,(nn,Sn,Qi,qi,Zi,an)=>Sn?`[ ]*\\${Sn}[ ]*`:Qi?`[ ]*${Qi}[ ]*`:qi?"[ ]+":ji?Zi||an:Zi?Pe.has(Zi.charCodeAt(0))?Zi:"":Ri?(Ui=!0,`${an}\\p{M}*`):an);const en="[ ]*";return Yi.endsWith(en)&&(Yi=Yi.slice(0,Yi.length-en.length)),ji&&Ri&&(Ui=!0,Yi=`${Yi}(?=[${De}]|[^\\p{M}]|$)`),[Ui,Yi]},wi=new WeakSet,S0=function(Yi){let Ri=zi(this,We,nl);if(Ri.length===0)return;const{caseSensitive:ji,entireWord:Ui,phraseSearch:en}=this._state,nn=this._pageContents[Yi],Sn=this._hasDiacritics[Yi];let Qi=!1;if(en)[Qi,Ri]=Cn(this,hi,rl).call(this,Ri,Sn);else{const an=Ri.match(/\S+/g);an&&(Ri=an.sort().reverse().map(Nn=>{const[Dn,hn]=Cn(this,hi,rl).call(this,Nn,Sn);return Qi||(Qi=Dn),`(${hn})`}).join("|"))}const qi=`g${Qi?"u":""}${ji?"":"i"}`;Ri=new RegExp(Ri,qi),Cn(this,Ue,w0).call(this,Ri,Ui,Yi,nn),this._state.highlightAll&&Cn(this,xi,uc).call(this,Yi),this._resumePageIdx===Yi&&(this._resumePageIdx=null,Cn(this,Ei,sl).call(this));const Zi=this._pageMatches[Yi].length;Zi>0&&(this._matchesCountTotal+=Zi,Cn(this,Xi,E0).call(this))},ki=new WeakSet,A0=function(){if(this._extractTextPromises.length>0)return;let Yi=Promise.resolve();for(let Ri=0,ji=this._linkService.pagesCount;Ri<ji;Ri++){const Ui=(0,xe.createPromiseCapability)();this._extractTextPromises[Ri]=Ui.promise,Yi=Yi.then(()=>this._pdfDocument.getPage(Ri+1).then(en=>en.getTextContent()).then(en=>{const nn=[];for(const Sn of en.items)nn.push(Sn.str),Sn.hasEOL&&nn.push(`
`);[this._pageContents[Ri],this._pageDiffs[Ri],this._hasDiacritics[Ri]]=gi(nn.join("")),Ui.resolve()},en=>{console.error(`Unable to get text content for page ${Ri+1}`,en),this._pageContents[Ri]="",this._pageDiffs[Ri]=null,this._hasDiacritics[Ri]=!1,Ui.resolve()}))}},xi=new WeakSet,uc=function(Yi){this._scrollMatches&&this._selected.pageIdx===Yi&&(this._linkService.page=Yi+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Yi})},pi=new WeakSet,Lo=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},oi=new WeakSet,uo=function(){const Yi=this._state.findPrevious,Ri=this._linkService.page-1,ji=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ri,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Cn(this,pi,Lo).call(this);for(let en=0;en<ji;en++)this._pendingFindMatches.has(en)||(this._pendingFindMatches.add(en),this._extractTextPromises[en].then(()=>{this._pendingFindMatches.delete(en),Cn(this,wi,S0).call(this,en)}))}if(zi(this,We,nl)===""){Cn(this,tn,No).call(this,Te.FOUND);return}if(this._resumePageIdx)return;const Ui=this._offset;if(this._pagesToSearch=ji,Ui.matchIdx!==null){const en=this._pageMatches[Ui.pageIdx].length;if(!Yi&&Ui.matchIdx+1<en||Yi&&Ui.matchIdx>0){Ui.matchIdx=Yi?Ui.matchIdx-1:Ui.matchIdx+1,Cn(this,Fi,hc).call(this,!0);return}Cn(this,_i,al).call(this,Yi)}Cn(this,Ei,sl).call(this)},bi=new WeakSet,_0=function(Yi){const Ri=this._offset,ji=Yi.length,Ui=this._state.findPrevious;return ji?(Ri.matchIdx=Ui?ji-1:0,Cn(this,Fi,hc).call(this,!0),!0):(Cn(this,_i,al).call(this,Ui),Ri.wrapped&&(Ri.matchIdx=null,this._pagesToSearch<0)?(Cn(this,Fi,hc).call(this,!1),!0):!1)},Ei=new WeakSet,sl=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Yi=null;do{const Ri=this._offset.pageIdx;if(Yi=this._pageMatches[Ri],!Yi){this._resumePageIdx=Ri;break}}while(!Cn(this,bi,_0).call(this,Yi))},_i=new WeakSet,al=function(Yi){const Ri=this._offset,ji=this._linkService.pagesCount;Ri.pageIdx=Yi?Ri.pageIdx-1:Ri.pageIdx+1,Ri.matchIdx=null,this._pagesToSearch--,(Ri.pageIdx>=ji||Ri.pageIdx<0)&&(Ri.pageIdx=Yi?ji-1:0,Ri.wrapped=!0)},Fi=new WeakSet,hc=function(Yi=!1){let Ri=Te.NOT_FOUND;const ji=this._offset.wrapped;if(this._offset.wrapped=!1,Yi){const Ui=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ri=ji?Te.WRAPPED:Te.FOUND,Ui!==-1&&Ui!==this._selected.pageIdx&&Cn(this,xi,uc).call(this,Ui)}Cn(this,tn,No).call(this,Ri,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,Cn(this,xi,uc).call(this,this._selected.pageIdx))},Di=new WeakSet,C0=function(Yi){const Ri=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ri&&this._pdfDocument!==Ri||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Cn(this,tn,No).call(this,Te.FOUND),this._highlightMatches=!1,Cn(this,pi,Lo).call(this))})},Mi=new WeakSet,ol=function(){var en;const{pageIdx:Yi,matchIdx:Ri}=this._selected;let ji=0,Ui=this._matchesCountTotal;if(Ri!==-1){for(let nn=0;nn<Yi;nn++)ji+=((en=this._pageMatches[nn])==null?void 0:en.length)||0;ji+=Ri+1}return(ji<1||ji>Ui)&&(ji=Ui=0),{current:ji,total:Ui}},Xi=new WeakSet,E0=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Cn(this,Mi,ol).call(this)})},tn=new WeakSet,No=function(Yi,Ri=!1){var ji,Ui;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Yi,previous:Ri,matchesCount:Cn(this,Mi,ol).call(this),rawQuery:(Ui=(ji=this._state)==null?void 0:ji.query)!=null?Ui:null})},Se.PDFFindController=ui},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CharacterType=void 0,Se.getCharacterType=Me;const _e={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};Se.CharacterType=_e;function t(Ae){return Ae<11904}function xe(Ae){return(Ae&65408)===0}function Fe(Ae){return Ae>=97&&Ae<=122||Ae>=65&&Ae<=90}function Te(Ae){return Ae>=48&&Ae<=57}function e(Ae){return Ae===32||Ae===9||Ae===13||Ae===10}function ke(Ae){return Ae>=13312&&Ae<=40959||Ae>=63744&&Ae<=64255}function Oe(Ae){return Ae>=12448&&Ae<=12543}function Ee(Ae){return Ae>=12352&&Ae<=12447}function Pe(Ae){return Ae>=65376&&Ae<=65439}function De(Ae){return(Ae&65408)===3584}function Me(Ae){return t(Ae)?xe(Ae)?e(Ae)?_e.SPACE:Fe(Ae)||Te(Ae)||Ae===95?_e.ALPHA_LETTER:_e.PUNCT:De(Ae)?_e.THAI_LETTER:Ae===160?_e.SPACE:_e.ALPHA_LETTER:ke(Ae)?_e.HAN_LETTER:Oe(Ae)?_e.KATAKANA_LETTER:Ee(Ae)?_e.HIRAGANA_LETTER:Pe(Ae)?_e.HALFWIDTH_KATAKANA_LETTER:_e.ALPHA_LETTER}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFHistory=void 0,Se.isDestArraysEqual=Pe,Se.isDestHashesEqual=Ee;var t=_e(7),xe=_e(12);const Fe=1e3,Te=50,e=1e3;function ke(){return document.location.hash}class Oe{constructor({linkService:Me,eventBus:Ae}){this.linkService=Me,this.eventBus=Ae,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",Be=>{this._isPagesLoaded=!!Be.pagesCount},{once:!0})})}initialize({fingerprint:Me,resetHistory:Ae=!1,updateUrl:Be=!1}){if(!Me||typeof Me!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const He=this._fingerprint!==""&&this._fingerprint!==Me;this._fingerprint=Me,this._updateUrl=Be===!0,this._initialized=!0,this._bindEvents();const je=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=ke(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(je,!0)||Ae){const{hash:St,page:qe,rotation:Ye}=this._parseCurrentHash(!0);if(!St||He||Ae){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:St,page:qe,rotation:Ye},!0);return}const Xe=je.destination;this._updateInternalState(Xe,je.uid,!0),Xe.rotation!==void 0&&(this._initialRotation=Xe.rotation),Xe.dest?(this._initialBookmark=JSON.stringify(Xe.dest),this._destination.page=null):Xe.hash?this._initialBookmark=Xe.hash:Xe.page&&(this._initialBookmark=`page=${Xe.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:Me=null,explicitDest:Ae,pageNumber:Be}){if(!this._initialized)return;if(Me&&typeof Me!="string"){console.error(`PDFHistory.push: "${Me}" is not a valid namedDest parameter.`);return}else if(Array.isArray(Ae)){if(!this._isValidPage(Be)&&(Be!==null||this._destination)){console.error(`PDFHistory.push: "${Be}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${Ae}" is not a valid explicitDest parameter.`);return}const He=Me||JSON.stringify(Ae);if(!He)return;let je=!1;if(this._destination&&(Ee(this._destination.hash,He)||Pe(this._destination.dest,Ae))){if(this._destination.page)return;je=!0}this._popStateInProgress&&!je||(this._pushOrReplaceState({dest:Ae,hash:He,page:Be,rotation:this.linkService.rotation},je),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(Me){var Ae;if(!!this._initialized){if(!this._isValidPage(Me)){console.error(`PDFHistory.pushPage: "${Me}" is not a valid page number.`);return}((Ae=this._destination)==null?void 0:Ae.page)!==Me&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${Me}`,page:Me,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const Me=window.history.state;this._isValidState(Me)&&Me.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const Me=window.history.state;this._isValidState(Me)&&Me.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(Me,Ae=!1){const Be=Ae||!this._destination,He={fingerprint:this._fingerprint,uid:Be?this._uid:this._uid+1,destination:Me};this._updateInternalState(Me,He.uid);let je;if(this._updateUrl&&(Me==null?void 0:Me.hash)){const Xe=document.location.href.split("#")[0];Xe.startsWith("file://")||(je=`${Xe}#${Me.hash}`)}Be?window.history.replaceState(He,"",je):window.history.pushState(He,"",je)}_tryPushCurrentPosition(Me=!1){if(!this._position)return;let Ae=this._position;if(Me&&(Ae=Object.assign(Object.create(null),this._position),Ae.temporary=!0),!this._destination){this._pushOrReplaceState(Ae);return}if(this._destination.temporary){this._pushOrReplaceState(Ae,!0);return}if(this._destination.hash===Ae.hash||!this._destination.page&&this._numPositionUpdates<=Te)return;let Be=!1;if(this._destination.page>=Ae.first&&this._destination.page<=Ae.page){if(this._destination.dest!==void 0||!this._destination.first)return;Be=!0}this._pushOrReplaceState(Ae,Be)}_isValidPage(Me){return Number.isInteger(Me)&&Me>0&&Me<=this.linkService.pagesCount}_isValidState(Me,Ae=!1){if(!Me)return!1;if(Me.fingerprint!==this._fingerprint)if(Ae){if(typeof Me.fingerprint!="string"||Me.fingerprint.length!==this._fingerprint.length)return!1;const[Be]=performance.getEntriesByType("navigation");if((Be==null?void 0:Be.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(Me.uid)||Me.uid<0||Me.destination===null||typeof Me.destination!="object")}_updateInternalState(Me,Ae,Be=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),Be&&(Me==null?void 0:Me.temporary)&&delete Me.temporary,this._destination=Me,this._uid=Ae,this._maxUid=Math.max(this._maxUid,Ae),this._numPositionUpdates=0}_parseCurrentHash(Me=!1){const Ae=unescape(ke()).substring(1),Be=(0,t.parseQueryString)(Ae),He=Be.get("nameddest")||"";let je=Be.get("page")|0;return(!this._isValidPage(je)||Me&&He.length>0)&&(je=null),{hash:Ae,page:je,rotation:this.linkService.rotation}}_updateViewarea({location:Me}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:Me.pdfOpenParams.substring(1),page:this.linkService.page,first:Me.pageNumber,rotation:Me.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},e))}_popState({state:Me}){const Ae=ke(),Be=this._currentHash!==Ae;if(this._currentHash=Ae,!Me){this._uid++;const{hash:je,page:Xe,rotation:St}=this._parseCurrentHash();this._pushOrReplaceState({hash:je,page:Xe,rotation:St},!0);return}if(!this._isValidState(Me))return;this._popStateInProgress=!0,Be&&(this._blockHashChange++,(0,xe.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:Fe}).then(()=>{this._blockHashChange--}));const He=Me.destination;this._updateInternalState(He,Me.uid,!0),(0,t.isValidRotation)(He.rotation)&&(this.linkService.rotation=He.rotation),He.dest?this.linkService.goToDestination(He.dest):He.hash?this.linkService.setHash(He.hash):He.page&&(this.linkService.page=He.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}Se.PDFHistory=Oe;function Ee(De,Me){return typeof De!="string"||typeof Me!="string"?!1:De===Me||(0,t.parseQueryString)(De).get("nameddest")===Me}function Pe(De,Me){function Ae(Be,He){if(typeof Be!=typeof He||Array.isArray(Be)||Array.isArray(He))return!1;if(Be!==null&&typeof Be=="object"&&He!==null){if(Object.keys(Be).length!==Object.keys(He).length)return!1;for(const je in Be)if(!Ae(Be[je],He[je]))return!1;return!0}return Be===He||Number.isNaN(Be)&&Number.isNaN(He)}if(!(Array.isArray(De)&&Array.isArray(Me))||De.length!==Me.length)return!1;for(let Be=0,He=De.length;Be<He;Be++)if(!Ae(De[Be],Me[Be]))return!1;return!0}},(ii,Se,_e)=>{var Ee,Pe;Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFPageView=void 0;var t=_e(3),xe=_e(7),Fe=_e(19),Te=_e(4),e=_e(20);const ke=Fe.compatibilityParams.maxCanvasPixels||16777216;class Oe{constructor(Me){yn(this,Ee,t.AnnotationMode.ENABLE_FORMS);yn(this,Pe,{initialOptionalContent:!0,regularAnnotations:!0});var je,Xe,St,qe;const Ae=Me.container,Be=Me.defaultViewport;this.id=Me.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=Me.scale||xe.DEFAULT_SCALE,this.viewport=Be,this.pdfPageRotate=Be.rotation,this._optionalContentConfigPromise=Me.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(je=Me.textLayerMode)!=null?je:xe.TextLayerMode.ENABLE,Zn(this,Ee,(Xe=Me.annotationMode)!=null?Xe:t.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=Me.imageResourcesPath||"",this.useOnlyCssZoom=Me.useOnlyCssZoom||!1,this.maxCanvasPixels=Me.maxCanvasPixels||ke,this.pageColors=Me.pageColors||null,this.eventBus=Me.eventBus,this.renderingQueue=Me.renderingQueue,this.textLayerFactory=Me.textLayerFactory,this.annotationLayerFactory=Me.annotationLayerFactory,this.annotationEditorLayerFactory=Me.annotationEditorLayerFactory,this.xfaLayerFactory=Me.xfaLayerFactory,this.textHighlighter=(St=Me.textHighlighterFactory)==null?void 0:St.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=Me.structTreeLayerFactory,this.renderer=Me.renderer||xe.RendererType.CANVAS,this.l10n=Me.l10n||Te.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=xe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((qe=this.renderingQueue)!=null&&qe.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const He=document.createElement("div");if(He.className="page",He.style.width=Math.floor(this.viewport.width)+"px",He.style.height=Math.floor(this.viewport.height)+"px",He.setAttribute("data-page-number",this.id),He.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Ye=>{He.setAttribute("aria-label",Ye)}),this.div=He,Ae==null||Ae.append(He),this._isStandalone){const{optionalContentConfigPromise:Ye}=Me;Ye&&Ye.then(gi=>{Ye===this._optionalContentConfigPromise&&(zi(this,Pe).initialOptionalContent=gi.hasInitialVisibility)})}}setPdfPage(Me){this.pdfPage=Me,this.pdfPageRotate=Me.rotate;const Ae=(this.rotation+this.pdfPageRotate)%360;this.viewport=Me.getViewport({scale:this.scale*t.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:Ae}),this.reset()}destroy(){var Me;this.reset(),(Me=this.pdfPage)==null||Me.cleanup()}async _renderAnnotationLayer(){let Me=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(Ae){console.error(`_renderAnnotationLayer: "${Ae}".`),Me=Ae}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:Me})}}async _renderAnnotationEditorLayer(){let Me=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(Ae){console.error(`_renderAnnotationEditorLayer: "${Ae}".`),Me=Ae}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:Me})}}async _renderXfaLayer(){let Me=null;try{const Ae=await this.xfaLayer.render(this.viewport,"display");(Ae==null?void 0:Ae.textDivs)&&this.textHighlighter&&this._buildXfaTextContentItems(Ae.textDivs)}catch(Ae){console.error(`_renderXfaLayer: "${Ae}".`),Me=Ae}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:Me})}}async _buildXfaTextContentItems(Me){const Ae=await this.pdfPage.getTextContent(),Be=[];for(const He of Ae.items)Be.push(He.str);this.textHighlighter.setTextMapping(Me,Be),this.textHighlighter.enable()}_resetZoomLayer(Me=!1){if(!this.zoomLayer)return;const Ae=this.zoomLayer.firstChild;this.paintedViewportMap.delete(Ae),Ae.width=0,Ae.height=0,Me&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:Me=!1,keepAnnotationLayer:Ae=!1,keepAnnotationEditorLayer:Be=!1,keepXfaLayer:He=!1}={}){var ai,ui,Qe,Ze;this.cancelRendering({keepAnnotationLayer:Ae,keepAnnotationEditorLayer:Be,keepXfaLayer:He}),this.renderingState=xe.RenderingStates.INITIAL;const je=this.div;je.style.width=Math.floor(this.viewport.width)+"px",je.style.height=Math.floor(this.viewport.height)+"px";const Xe=je.childNodes,St=Me&&this.zoomLayer||null,qe=Ae&&((ai=this.annotationLayer)==null?void 0:ai.div)||null,Ye=Be&&((ui=this.annotationEditorLayer)==null?void 0:ui.div)||null,gi=He&&((Qe=this.xfaLayer)==null?void 0:Qe.div)||null;for(let ci=Xe.length-1;ci>=0;ci--){const ze=Xe[ci];switch(ze){case St:case qe:case Ye:case gi:continue}ze.remove()}je.removeAttribute("data-loaded"),qe&&this.annotationLayer.hide(),Ye?this.annotationEditorLayer.hide():(Ze=this.annotationEditorLayer)==null||Ze.destroy(),gi&&this.xfaLayer.hide(),St||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ci=>{var ze;(ze=this.loadingIconDiv)==null||ze.setAttribute("aria-label",ci)}),je.append(this.loadingIconDiv)}update({scale:Me=0,rotation:Ae=null,optionalContentConfigPromise:Be=null}){this.scale=Me||this.scale,typeof Ae=="number"&&(this.rotation=Ae),Be instanceof Promise&&(this._optionalContentConfigPromise=Be,Be.then(Xe=>{Be===this._optionalContentConfigPromise&&(zi(this,Pe).initialOptionalContent=Xe.hasInitialVisibility)}));const He=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*t.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:He}),this._isStandalone&&xe.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let je=!1;if(this.canvas&&this.maxCanvasPixels>0){const Xe=this.outputScale;(Math.floor(this.viewport.width)*Xe.sx|0)*(Math.floor(this.viewport.height)*Xe.sy|0)>this.maxCanvasPixels&&(je=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&je){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:Me=!1,keepAnnotationEditorLayer:Ae=!1,keepXfaLayer:Be=!1}={}){var He;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!Me||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!Ae||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Be||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(He=this.textHighlighter)==null||He.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:Me,redrawAnnotationLayer:Ae=!1,redrawAnnotationEditorLayer:Be=!1,redrawXfaLayer:He=!1}){const je=this.viewport.width,Xe=this.viewport.height,St=this.div;Me.style.width=Me.parentNode.style.width=St.style.width=Math.floor(je)+"px",Me.style.height=Me.parentNode.style.height=St.style.height=Math.floor(Xe)+"px";const qe=this.viewport.rotation-this.paintedViewportMap.get(Me).rotation,Ye=Math.abs(qe);let gi=1,ai=1;if((Ye===90||Ye===270)&&(gi=Xe/je,ai=je/Xe),Me.style.transform=`rotate(${qe}deg) scale(${gi}, ${ai})`,this.textLayer){const ui=this.textLayer.viewport,Qe=this.viewport.rotation-ui.rotation,Ze=Math.abs(Qe);let ci=je/ui.width;(Ze===90||Ze===270)&&(ci=je/ui.height);const ze=this.textLayer.textLayerDiv;let We,si;switch(Ze){case 0:We=si=0;break;case 90:We=0,si="-"+ze.style.height;break;case 180:We="-"+ze.style.width,si="-"+ze.style.height;break;case 270:We="-"+ze.style.width,si=0;break;default:console.error("Bad rotation value.");break}ze.style.transform=`rotate(${Ze}deg) scale(${ci}) translate(${We}, ${si})`,ze.style.transformOrigin="0% 0%"}Ae&&this.annotationLayer&&this._renderAnnotationLayer(),Be&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),He&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(Me,Ae){return this.viewport.convertToPdfPoint(Me,Ae)}toggleLoadingIconSpinner(Me=!1){var Ae;(Ae=this.loadingIconDiv)==null||Ae.classList.toggle("notVisible",!Me)}draw(){var gi,ai,ui;this.renderingState!==xe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:Me,pdfPage:Ae}=this;if(!Ae)return this.renderingState=xe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=xe.RenderingStates.RUNNING;const Be=document.createElement("div");Be.style.width=Me.style.width,Be.style.height=Me.style.height,Be.classList.add("canvasWrapper");const He=((gi=this.annotationLayer)==null?void 0:gi.div)||((ai=this.annotationEditorLayer)==null?void 0:ai.div);He?He.before(Be):Me.append(Be);let je=null;if(this.textLayerMode!==xe.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new e.TextAccessibilityManager);const Qe=document.createElement("div");Qe.className="textLayer",Qe.style.width=Be.style.width,Qe.style.height=Be.style.height,He?He.before(Qe):Me.append(Qe),je=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:Qe,pageIndex:this.id-1,viewport:this.viewport,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=je,zi(this,Ee)!==t.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:Me,pdfPage:Ae,imageResourcesPath:this.imageResourcesPath,renderForms:zi(this,Ee)===t.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(ui=this.xfaLayer)!=null&&ui.div&&Me.append(this.xfaLayer.div);let Xe=null;this.renderingQueue&&(Xe=Qe=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=xe.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=xe.RenderingStates.RUNNING,Qe()};return}Qe()});const St=async(Qe=null)=>{if(qe===this.paintTask&&(this.paintTask=null),Qe instanceof t.RenderingCancelledException){this._renderError=null;return}if(this._renderError=Qe,this.renderingState=xe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),zi(this,Pe).regularAnnotations=!qe.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),Qe)throw Qe},qe=this.renderer===xe.RendererType.SVG?this.paintOnSvg(Be):this.paintOnCanvas(Be);qe.onRenderContinue=Xe,this.paintTask=qe;const Ye=qe.promise.then(()=>St(null).then(()=>{if(je){const Qe=Ae.streamTextContent({includeMarkedContent:!0});je.setTextContentStream(Qe),je.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:Me,pdfPage:Ae,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(Qe){return St(Qe)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:Me,pdfPage:Ae})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Qe=>{Qe.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Ze=>{if(!Ze||!this.canvas)return;const ci=this.structTreeLayer.render(Ze);ci.classList.add("structTree"),this.canvas.append(ci)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:Ae})),Me.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Ye}paintOnCanvas(Me){const Ae=(0,t.createPromiseCapability)(),Be={promise:Ae.promise,onRenderContinue(ci){ci()},cancel(){Ze.cancel()},get separateAnnots(){return Ze.separateAnnots}},He=this.viewport,je=document.createElement("canvas");je.setAttribute("role","presentation"),je.hidden=!0;let Xe=!0;const St=function(){Xe&&(je.hidden=!1,Xe=!1)};Me.append(je),this.canvas=je;const qe=je.getContext("2d",{alpha:!1}),Ye=this.outputScale=new xe.OutputScale;if(this.useOnlyCssZoom){const ci=He.clone({scale:t.PixelsPerInch.PDF_TO_CSS_UNITS});Ye.sx*=ci.width/He.width,Ye.sy*=ci.height/He.height}if(this.maxCanvasPixels>0){const ci=He.width*He.height,ze=Math.sqrt(this.maxCanvasPixels/ci);Ye.sx>ze||Ye.sy>ze?(Ye.sx=ze,Ye.sy=ze,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const gi=(0,xe.approximateFraction)(Ye.sx),ai=(0,xe.approximateFraction)(Ye.sy);je.width=(0,xe.roundToDivide)(He.width*Ye.sx,gi[0]),je.height=(0,xe.roundToDivide)(He.height*Ye.sy,ai[0]),je.style.width=(0,xe.roundToDivide)(He.width,gi[1])+"px",je.style.height=(0,xe.roundToDivide)(He.height,ai[1])+"px",this.paintedViewportMap.set(je,He);const ui=Ye.scaled?[Ye.sx,0,0,Ye.sy,0,0]:null,Qe={canvasContext:qe,transform:ui,viewport:this.viewport,annotationMode:zi(this,Ee),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Ze=this.pdfPage.render(Qe);return Ze.onContinue=function(ci){St(),Be.onRenderContinue?Be.onRenderContinue(ci):ci()},Ze.promise.then(function(){St(),Ae.resolve()},function(ci){St(),Ae.reject(ci)}),Be}paintOnSvg(Me){let Ae=!1;const Be=()=>{if(Ae)throw new t.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},He=this.pdfPage,je=this.viewport.clone({scale:t.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:He.getOperatorList({annotationMode:zi(this,Ee)}).then(St=>(Be(),new t.SVGGraphics(He.commonObjs,He.objs).getSVG(St,je).then(Ye=>{Be(),this.svg=Ye,this.paintedViewportMap.set(Ye,je),Ye.style.width=Me.style.width,Ye.style.height=Me.style.height,this.renderingState=xe.RenderingStates.FINISHED,Me.append(Ye)}))),onRenderContinue(St){St()},cancel(){Ae=!0},get separateAnnots(){return!1}}}setPageLabel(Me){this.pageLabel=typeof Me=="string"?Me:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:Me,regularAnnotations:Ae}=zi(this,Pe);return Me&&Ae?this.canvas:null}}Ee=new WeakMap,Pe=new WeakMap,Se.PDFPageView=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.compatibilityParams=Se.OptionKind=Se.AppOptions=void 0;const _e=Object.create(null);Se.compatibilityParams=_e;{const e=navigator.userAgent||"",ke=navigator.platform||"",Oe=navigator.maxTouchPoints||1,Ee=/Android/.test(e),Pe=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||ke==="MacIntel"&&Oe>1;(function(){(Pe||Ee)&&(_e.maxCanvasPixels=5242880)})()}const t={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};Se.OptionKind=t;const xe={annotationEditorMode:{value:0,kind:t.VIEWER+t.PREFERENCE},annotationMode:{value:2,kind:t.VIEWER+t.PREFERENCE},cursorToolOnLoad:{value:0,kind:t.VIEWER+t.PREFERENCE},defaultZoomValue:{value:"",kind:t.VIEWER+t.PREFERENCE},disableHistory:{value:!1,kind:t.VIEWER},disablePageLabels:{value:!1,kind:t.VIEWER+t.PREFERENCE},enablePermissions:{value:!1,kind:t.VIEWER+t.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:t.VIEWER+t.PREFERENCE},enableScripting:{value:!0,kind:t.VIEWER+t.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:t.VIEWER},externalLinkTarget:{value:0,kind:t.VIEWER+t.PREFERENCE},historyUpdateUrl:{value:!1,kind:t.VIEWER+t.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:t.VIEWER+t.PREFERENCE},imageResourcesPath:{value:"./images/",kind:t.VIEWER},maxCanvasPixels:{value:16777216,kind:t.VIEWER},forcePageColors:{value:!1,kind:t.VIEWER+t.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:t.VIEWER+t.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:t.VIEWER+t.PREFERENCE},pdfBugEnabled:{value:!1,kind:t.VIEWER+t.PREFERENCE},printResolution:{value:150,kind:t.VIEWER},sidebarViewOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},scrollModeOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},spreadModeOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},textLayerMode:{value:1,kind:t.VIEWER+t.PREFERENCE},useOnlyCssZoom:{value:!1,kind:t.VIEWER+t.PREFERENCE},viewerCssTheme:{value:0,kind:t.VIEWER+t.PREFERENCE},viewOnLoad:{value:0,kind:t.VIEWER+t.PREFERENCE},cMapPacked:{value:!0,kind:t.API},cMapUrl:{value:"../web/cmaps/",kind:t.API},disableAutoFetch:{value:!1,kind:t.API+t.PREFERENCE},disableFontFace:{value:!1,kind:t.API+t.PREFERENCE},disableRange:{value:!1,kind:t.API+t.PREFERENCE},disableStream:{value:!1,kind:t.API+t.PREFERENCE},docBaseUrl:{value:"",kind:t.API},enableXfa:{value:!0,kind:t.API+t.PREFERENCE},fontExtraProperties:{value:!1,kind:t.API},isEvalSupported:{value:!0,kind:t.API},isOffscreenCanvasSupported:{value:!0,kind:t.API},maxImageSize:{value:-1,kind:t.API},pdfBug:{value:!1,kind:t.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:t.API},verbosity:{value:1,kind:t.API},workerPort:{value:null,kind:t.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:t.WORKER}};xe.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:t.VIEWER},xe.disablePreferences={value:!1,kind:t.VIEWER},xe.locale={value:navigator.language||"en-US",kind:t.VIEWER},xe.renderer={value:"canvas",kind:t.VIEWER+t.PREFERENCE},xe.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:t.VIEWER};const Fe=Object.create(null);class Te{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(ke){var Pe;const Oe=Fe[ke];if(Oe!==void 0)return Oe;const Ee=xe[ke];if(Ee!==void 0)return(Pe=_e[ke])!=null?Pe:Ee.value}static getAll(ke=null){var Ee;const Oe=Object.create(null);for(const Pe in xe){const De=xe[Pe];if(ke){if((ke&De.kind)===0)continue;if(ke===t.PREFERENCE){const Ae=De.value,Be=typeof Ae;if(Be==="boolean"||Be==="string"||Be==="number"&&Number.isInteger(Ae)){Oe[Pe]=Ae;continue}throw new Error(`Invalid type for preference: ${Pe}`)}}const Me=Fe[Pe];Oe[Pe]=Me!==void 0?Me:(Ee=_e[Pe])!=null?Ee:De.value}return Oe}static set(ke,Oe){Fe[ke]=Oe}static setAll(ke){for(const Oe in ke)Fe[Oe]=ke[Oe]}static remove(ke){delete Fe[ke]}static _hasUserOptions(){return Object.keys(Fe).length>0}}Se.AppOptions=Te},(ii,Se,_e)=>{var Fe,Te,e,ke,Oe,fc,Pe,cl;Object.defineProperty(Se,"__esModule",{value:!0}),Se.TextAccessibilityManager=void 0;var t=_e(7);const Me=class{constructor(){yn(this,Pe);yn(this,Fe,!1);yn(this,Te,null);yn(this,e,new Map);yn(this,ke,new Map)}setTextMapping(Be){Zn(this,Te,Be)}enable(){if(zi(this,Fe))throw new Error("TextAccessibilityManager is already enabled.");if(!zi(this,Te))throw new Error("Text divs and strings have not been set.");if(Zn(this,Fe,!0),Zn(this,Te,zi(this,Te).slice()),zi(this,Te).sort(Cn(Me,Oe,fc)),zi(this,e).size>0){const Be=zi(this,Te);for(const[He,je]of zi(this,e)){if(!document.getElementById(He)){zi(this,e).delete(He);continue}Cn(this,Pe,cl).call(this,He,Be[je])}}for(const[Be,He]of zi(this,ke))this.addPointerInTextLayer(Be,He);zi(this,ke).clear()}disable(){!zi(this,Fe)||(zi(this,ke).clear(),Zn(this,Te,null),Zn(this,Fe,!1))}removePointerInTextLayer(Be){if(!zi(this,Fe)){zi(this,ke).delete(Be);return}const He=zi(this,Te);if(!He||He.length===0)return;const{id:je}=Be,Xe=zi(this,e).get(je);if(Xe===void 0)return;const St=He[Xe];zi(this,e).delete(je);let qe=St.getAttribute("aria-owns");qe!=null&&qe.includes(je)&&(qe=qe.split(" ").filter(Ye=>Ye!==je).join(" "),qe?St.setAttribute("aria-owns",qe):(St.removeAttribute("aria-owns"),St.setAttribute("role","presentation")))}addPointerInTextLayer(Be,He){const{id:je}=Be;if(!je)return;if(!zi(this,Fe)){zi(this,ke).set(Be,He);return}He&&this.removePointerInTextLayer(Be);const Xe=zi(this,Te);if(!Xe||Xe.length===0)return;const St=(0,t.binarySearchFirstItem)(Xe,Ye=>{var gi;return Cn(gi=Me,Oe,fc).call(gi,Be,Ye)<0}),qe=Math.max(0,St-1);Cn(this,Pe,cl).call(this,je,Xe[qe]),zi(this,e).set(je,qe)}moveElementInDOM(Be,He,je,Xe){if(this.addPointerInTextLayer(je,Xe),!Be.hasChildNodes()){Be.append(He);return}const St=Array.from(Be.childNodes).filter(gi=>gi!==He);if(St.length===0)return;const qe=je||He,Ye=(0,t.binarySearchFirstItem)(St,gi=>{var ai;return Cn(ai=Me,Oe,fc).call(ai,qe,gi)<0});Ye===0?St[0].before(He):St[Ye-1].after(He)}};let xe=Me;Fe=new WeakMap,Te=new WeakMap,e=new WeakMap,ke=new WeakMap,Oe=new WeakSet,fc=function(Be,He){const je=Be.getBoundingClientRect(),Xe=He.getBoundingClientRect();if(je.width===0&&je.height===0)return 1;if(Xe.width===0&&Xe.height===0)return-1;const St=je.y,qe=je.y+je.height,Ye=je.y+je.height/2,gi=Xe.y,ai=Xe.y+Xe.height,ui=Xe.y+Xe.height/2;if(Ye<=gi&&ui>=qe)return-1;if(ui<=St&&Ye>=ai)return 1;const Qe=je.x+je.width/2,Ze=Xe.x+Xe.width/2;return Qe-Ze},Pe=new WeakSet,cl=function(Be,He){const je=He.getAttribute("aria-owns");je!=null&&je.includes(Be)||He.setAttribute("aria-owns",je?`${je} ${Be}`:Be),He.removeAttribute("role")},yn(xe,Oe),Se.TextAccessibilityManager=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFScriptingManager=void 0;var t=_e(7),xe=_e(3);class Fe{constructor({eventBus:e,sandboxBundleSrc:ke=null,scriptingFactory:Oe=null,docPropertiesLookup:Ee=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=e,this._sandboxBundleSrc=ke,this._scriptingFactory=Oe,this._docPropertiesLookup=Ee,this._scriptingFactory||window.addEventListener("updatefromsandbox",Pe=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:Pe.detail})})}setViewer(e){this._pdfViewer=e}async setDocument(e){var Pe;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=e,!e)return;const[ke,Oe,Ee]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!ke&&!Ee){await this._destroyScripting();return}if(e===this._pdfDocument){try{this._scripting=this._createScripting()}catch(De){console.error(`PDFScriptingManager.setDocument: "${De==null?void 0:De.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",De=>{(De==null?void 0:De.source)===window&&this._updateFromSandbox(De.detail)}),this._internalEvents.set("dispatcheventinsandbox",De=>{var Me;(Me=this._scripting)==null||Me.dispatchEventInSandbox(De.detail)}),this._internalEvents.set("pagechanging",({pageNumber:De,previous:Me})=>{De!==Me&&(this._dispatchPageClose(Me),this._dispatchPageOpen(De))}),this._internalEvents.set("pagerendered",({pageNumber:De})=>{!this._pageOpenPending.has(De)||De===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(De)}),this._internalEvents.set("pagesdestroy",async De=>{var Me,Ae;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((Me=this._scripting)==null?void 0:Me.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(Ae=this._closeCapability)==null||Ae.resolve()}),this._domEvents.set("mousedown",De=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",De=>{this._mouseState.isDown=!1});for(const[De,Me]of this._internalEvents)this._eventBus._on(De,Me);for(const[De,Me]of this._domEvents)window.addEventListener(De,Me,!0);try{const De=await this._getDocProperties();if(e!==this._pdfDocument)return;await this._scripting.createSandbox({objects:ke,calculationOrder:Oe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...De,actions:Ee}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(De){console.error(`PDFScriptingManager.setDocument: "${De==null?void 0:De.message}".`),await this._destroyScripting();return}await((Pe=this._scripting)==null?void 0:Pe.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{e===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(e){var ke;return(ke=this._scripting)==null?void 0:ke.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){var ke;return(ke=this._scripting)==null?void 0:ke.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){var ke;return(ke=this._scripting)==null?void 0:ke.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){var ke;return(ke=this._scripting)==null?void 0:ke.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var e;return((e=this._destroyCapability)==null?void 0:e.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,xe.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,xe.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,xe.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,xe.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){var Ae;const ke=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:Oe,siblings:Ee,command:Pe,value:De}=e;if(!Oe){switch(Pe){case"clear":console.clear();break;case"error":console.error(De);break;case"layout":if(ke)return;const Be=(0,t.apiPageLayoutToViewerModes)(De);this._pdfViewer.spreadMode=Be.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=De+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(De);break;case"zoom":if(ke)return;this._pdfViewer.currentScaleValue=De;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(ke)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(ke)return;this._pdfViewer.decreaseScale();break}return}if(ke&&e.focus)return;delete e.id,delete e.siblings;const Me=Ee?[Oe,...Ee]:[Oe];for(const Be of Me){const He=document.querySelector(`[data-element-id="${Be}"]`);He?He.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(Ae=this._pdfDocument)==null||Ae.annotationStorage.setValue(Be,e)}}async _dispatchPageOpen(e,ke=!1){const Oe=this._pdfDocument,Ee=this._visitedPages;if(ke&&(this._closeCapability=(0,xe.createPromiseCapability)()),!this._closeCapability)return;const Pe=this._pdfViewer.getPageView(e-1);if((Pe==null?void 0:Pe.renderingState)!==t.RenderingStates.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const De=(async()=>{var Ae,Be;const Me=await(Ee.has(e)?null:(Ae=Pe.pdfPage)==null?void 0:Ae.getJSActions());Oe===this._pdfDocument&&await((Be=this._scripting)==null?void 0:Be.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:Me}))})();Ee.set(e,De)}async _dispatchPageClose(e){var Pe;const ke=this._pdfDocument,Oe=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(e))return;const Ee=Oe.get(e);!Ee||(Oe.set(e,null),await Ee,ke===this._pdfDocument&&await((Pe=this._scripting)==null?void 0:Pe.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:e}=_e(22);return e(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,xe.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:e}=_e(22);return new e(this._sandboxBundleSrc)}async _destroyScripting(){var e,ke;if(!this._scripting){this._pdfDocument=null,(e=this._destroyCapability)==null||e.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(Oe=>{setTimeout(Oe,1e3)})]).catch(Oe=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[Oe,Ee]of this._internalEvents)this._eventBus._off(Oe,Ee);this._internalEvents.clear();for(const[Oe,Ee]of this._domEvents)window.removeEventListener(Oe,Ee,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(ke=this._destroyCapability)==null||ke.resolve()}}Se.PDFScriptingManager=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.GenericScripting=void 0,Se.docPropertiesLookup=xe;var t=_e(3);async function xe(Te){const e="",ke=e.split("#")[0];let{info:Oe,metadata:Ee,contentDispositionFilename:Pe,contentLength:De}=await Te.getMetadata();if(!De){const{length:Me}=await Te.getDownloadInfo();De=Me}return{...Oe,baseURL:ke,filesize:De,filename:Pe||(0,t.getPdfFilenameFromUrl)(e),metadata:Ee==null?void 0:Ee.getRaw(),authors:Ee==null?void 0:Ee.get("dc:creator"),numPages:Te.numPages,URL:e}}class Fe{constructor(e){this._ready=(0,t.loadScript)(e,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const ke=await this._ready;setTimeout(()=>ke.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}Se.GenericScripting=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFSinglePageViewer=void 0;var t=_e(7),xe=_e(24);class Fe extends xe.PDFViewer{_resetView(){super._resetView(),this._scrollMode=t.ScrollMode.PAGE,this._spreadMode=t.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}Se.PDFSinglePageViewer=Fe},(ii,Se,_e)=>{var Ye,gi,ai,ll,Qe,Ze,ci,ze,We,si,ni,$e,Ke,T0,Ue,F0,hi,Do,wi,dc,ki,k0,xi,ul,pi,P0,oi,O0,bi,I0;Object.defineProperty(Se,"__esModule",{value:!0}),Se.PagesCountLimit=Se.PDFViewer=Se.PDFPageViewBuffer=void 0;var t=_e(3),xe=_e(7),Fe=_e(2),Te=_e(5),e=_e(4),ke=_e(18),Oe=_e(25),Ee=_e(6),Pe=_e(8),De=_e(26),Me=_e(9),Ae=_e(10);const Be=10,He="enablePermissions",je={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};Se.PagesCountLimit=je;function Xe(Ei){return Object.values(t.AnnotationEditorType).includes(Ei)&&Ei!==t.AnnotationEditorType.DISABLE}class St{constructor(mi){yn(this,ai);yn(this,Ye,new Set);yn(this,gi,0);Zn(this,gi,mi)}push(mi){const _i=zi(this,Ye);_i.has(mi)&&_i.delete(mi),_i.add(mi),_i.size>zi(this,gi)&&Cn(this,ai,ll).call(this)}resize(mi,_i=null){Zn(this,gi,mi);const Si=zi(this,Ye);if(_i){const Fi=Si.size;let Pi=1;for(const Di of Si)if(_i.has(Di.id)&&(Si.delete(Di),Si.add(Di)),++Pi>Fi)break}for(;Si.size>zi(this,gi);)Cn(this,ai,ll).call(this)}has(mi){return zi(this,Ye).has(mi)}[Symbol.iterator](){return zi(this,Ye).keys()}}Ye=new WeakMap,gi=new WeakMap,ai=new WeakSet,ll=function(){const mi=zi(this,Ye).keys().next().value;mi==null||mi.destroy(),zi(this,Ye).delete(mi)},Se.PDFPageViewBuffer=St;class qe{constructor(mi){yn(this,Ke);yn(this,Ue);yn(this,hi);yn(this,wi);yn(this,ki);yn(this,xi);yn(this,pi);yn(this,oi);yn(this,bi);yn(this,Qe,null);yn(this,Ze,t.AnnotationEditorType.NONE);yn(this,ci,null);yn(this,ze,t.AnnotationMode.ENABLE_FORMS);yn(this,We,!1);yn(this,si,0);yn(this,ni,null);yn(this,$e,null);var Si,Fi,Pi,Di,Ii;const _i="3.0.279";if(t.version!==_i)throw new Error(`The API version "${t.version}" does not match the Viewer version "${_i}".`);if(this.container=mi.container,this.viewer=mi.viewer||mi.container.firstElementChild,!(((Si=this.container)==null?void 0:Si.tagName.toUpperCase())==="DIV"&&((Fi=this.viewer)==null?void 0:Fi.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=mi.eventBus,this.linkService=mi.linkService||new Ee.SimpleLinkService,this.downloadManager=mi.downloadManager||null,this.findController=mi.findController||null,this._scriptingManager=mi.scriptingManager||null,this.removePageBorders=mi.removePageBorders||!1,this.textLayerMode=(Pi=mi.textLayerMode)!=null?Pi:xe.TextLayerMode.ENABLE,Zn(this,ze,(Di=mi.annotationMode)!=null?Di:t.AnnotationMode.ENABLE_FORMS),Zn(this,Ze,(Ii=mi.annotationEditorMode)!=null?Ii:t.AnnotationEditorType.NONE),this.imageResourcesPath=mi.imageResourcesPath||"",this.enablePrintAutoRotate=mi.enablePrintAutoRotate||!1,this.renderer=mi.renderer||xe.RendererType.CANVAS,this.useOnlyCssZoom=mi.useOnlyCssZoom||!1,this.maxCanvasPixels=mi.maxCanvasPixels,this.l10n=mi.l10n||e.NullL10n,Zn(this,We,mi.enablePermissions||!1),this.pageColors=mi.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("PDFViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!mi.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Oe.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=mi.renderingQueue,this.scroll=(0,xe.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=xe.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(mi){return this._pages[mi]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(mi){return mi==null?void 0:mi.pdfPage}):!1}get renderForms(){return zi(this,ze)===t.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(mi){if(!Number.isInteger(mi))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(mi,!0)||console.error(`currentPageNumber: "${mi}" is not a valid page.`)}_setCurrentPageNumber(mi,_i=!1){var Fi,Pi;if(this._currentPageNumber===mi)return _i&&Cn(this,xi,ul).call(this),!0;if(!(0<mi&&mi<=this.pagesCount))return!1;const Si=this._currentPageNumber;return this._currentPageNumber=mi,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:mi,pageLabel:(Pi=(Fi=this._pageLabels)==null?void 0:Fi[mi-1])!=null?Pi:null,previous:Si}),_i&&Cn(this,xi,ul).call(this),!0}get currentPageLabel(){var mi,_i;return(_i=(mi=this._pageLabels)==null?void 0:mi[this._currentPageNumber-1])!=null?_i:null}set currentPageLabel(mi){if(!this.pdfDocument)return;let _i=mi|0;if(this._pageLabels){const Si=this._pageLabels.indexOf(mi);Si>=0&&(_i=Si+1)}this._setCurrentPageNumber(_i,!0)||console.error(`currentPageLabel: "${mi}" is not a valid page.`)}get currentScale(){return this._currentScale!==xe.UNKNOWN_SCALE?this._currentScale:xe.DEFAULT_SCALE}set currentScale(mi){if(isNaN(mi))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(mi,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(mi){!this.pdfDocument||this._setScale(mi,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(mi){if(!(0,xe.isValidRotation)(mi))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(mi%=360,mi<0&&(mi+=360),this._pagesRotation===mi))return;this._pagesRotation=mi;const _i=this._currentPageNumber,Si={rotation:mi};for(const Fi of this._pages)Fi.update(Si);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:mi,pageNumber:_i}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(mi){var Ii,Mi;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(Ii=this.findController)==null||Ii.setDocument(null),(Mi=this._scriptingManager)==null||Mi.setDocument(null),zi(this,ci)&&(zi(this,ci).destroy(),Zn(this,ci,null))),this.pdfDocument=mi,!mi)return;const _i=mi.isPureXfa,Si=mi.numPages,Fi=mi.getPage(1),Pi=mi.getOptionalContentConfig(),Di=zi(this,We)?mi.getPermissions():Promise.resolve();if(Si>je.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const $i=this._scrollMode=xe.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:$i})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Si})},()=>{}),this._onBeforeDraw=$i=>{const Xi=this._pages[$i.pageNumber-1];!Xi||zi(this,Qe).push(Xi)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=$i=>{$i.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:$i.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,zi(this,$e)&&(document.removeEventListener("visibilitychange",zi(this,$e)),Zn(this,$e,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Fi,Di]).then(([$i,Xi])=>{if(mi!==this.pdfDocument)return;this._firstPageCapability.resolve($i),this._optionalContentConfigPromise=Pi;const{annotationEditorMode:rn,annotationMode:tn,textLayerMode:on}=Cn(this,Ke,T0).call(this,Xi);if(rn!==t.AnnotationEditorType.DISABLE){const Qi=rn;_i?console.warn("Warning: XFA-editing is not implemented."):Xe(Qi)?(Zn(this,ci,new t.AnnotationEditorUIManager(this.container,this.eventBus)),Qi!==t.AnnotationEditorType.NONE&&zi(this,ci).updateMode(Qi)):console.error(`Invalid AnnotationEditor mode: ${Qi}`)}const fn=this._scrollMode===xe.ScrollMode.PAGE?null:this.viewer,Yi=this.currentScale,Ri=$i.getViewport({scale:Yi*t.PixelsPerInch.PDF_TO_CSS_UNITS}),ji=on!==xe.TextLayerMode.DISABLE&&!_i?this:null,Ui=tn!==t.AnnotationMode.DISABLE?this:null,en=_i?this:null,nn=zi(this,ci)?this:null;for(let Qi=1;Qi<=Si;++Qi){const qi=new ke.PDFPageView({container:fn,eventBus:this.eventBus,id:Qi,scale:Yi,defaultViewport:Ri.clone(),optionalContentConfigPromise:Pi,renderingQueue:this.renderingQueue,textLayerFactory:ji,textLayerMode:on,annotationLayerFactory:Ui,annotationMode:tn,xfaLayerFactory:en,annotationEditorLayerFactory:nn,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(qi)}const Sn=this._pages[0];Sn&&(Sn.setPdfPage($i),this.linkService.cachePageRef(1,$i.ref)),this._scrollMode===xe.ScrollMode.PAGE?Cn(this,hi,Do).call(this):this._spreadMode!==xe.SpreadMode.NONE&&this._updateSpreadMode(),Cn(this,Ue,F0).call(this).then(async()=>{var qi,Zi;if((qi=this.findController)==null||qi.setDocument(mi),(Zi=this._scriptingManager)==null||Zi.setDocument(mi),zi(this,ci)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:zi(this,Ze)}),mi.loadingParams.disableAutoFetch||Si>je.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let Qi=Si-1;if(Qi<=0){this._pagesCapability.resolve();return}for(let an=2;an<=Si;++an){const Nn=mi.getPage(an).then(Dn=>{const hn=this._pages[an-1];hn.pdfPage||hn.setPdfPage(Dn),this.linkService.cachePageRef(an,Dn.ref),--Qi===0&&this._pagesCapability.resolve()},Dn=>{console.error(`Unable to get page ${an} to initialize viewer`,Dn),--Qi===0&&this._pagesCapability.resolve()});an%je.PAUSE_EAGER_PAGE_INIT===0&&await Nn}}),this.eventBus.dispatch("pagesinit",{source:this}),mi.getMetadata().then(({info:Qi})=>{mi===this.pdfDocument&&Qi.Language&&(this.viewer.lang=Qi.Language)}),this.defaultRenderingQueue&&this.update()}).catch($i=>{console.error("Unable to initialize viewer",$i),this._pagesCapability.reject($i)})}setPageLabels(mi){var _i,Si;if(!!this.pdfDocument){mi?Array.isArray(mi)&&this.pdfDocument.numPages===mi.length?this._pageLabels=mi:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Fi=0,Pi=this._pages.length;Fi<Pi;Fi++)this._pages[Fi].setPageLabel((Si=(_i=this._pageLabels)==null?void 0:_i[Fi])!=null?Si:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=xe.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Zn(this,Qe,new St(Be)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,t.createPromiseCapability)(),this._onePageRenderedCapability=(0,t.createPromiseCapability)(),this._pagesCapability=(0,t.createPromiseCapability)(),this._scrollMode=xe.ScrollMode.VERTICAL,this._previousScrollMode=xe.ScrollMode.UNKNOWN,this._spreadMode=xe.SpreadMode.NONE,Zn(this,ni,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),zi(this,$e)&&(document.removeEventListener("visibilitychange",zi(this,$e)),Zn(this,$e,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(He)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(mi,_i,Si=!1,Fi=!1){if(this._currentScaleValue=_i.toString(),Cn(this,ki,k0).call(this,mi)){Fi&&this.eventBus.dispatch("scalechanging",{source:this,scale:mi,presetValue:_i});return}xe.docStyle.setProperty("--scale-factor",mi*t.PixelsPerInch.PDF_TO_CSS_UNITS);const Pi={scale:mi};for(const Di of this._pages)Di.update(Pi);if(this._currentScale=mi,!Si){let Di=this._currentPageNumber,Ii;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Di=this._location.pageNumber,Ii=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Di,destArray:Ii,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:mi,presetValue:Fi?_i:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==xe.SpreadMode.NONE&&this._scrollMode!==xe.ScrollMode.HORIZONTAL?2:1}_setScale(mi,_i=!1){let Si=parseFloat(mi);if(Si>0)this._setScaleUpdatePages(Si,mi,_i,!1);else{const Fi=this._pages[this._currentPageNumber-1];if(!Fi)return;let Pi=xe.SCROLLBAR_PADDING,Di=xe.VERTICAL_PADDING;this.isInPresentationMode?Pi=Di=4:this.removePageBorders?Pi=Di=0:this._scrollMode===xe.ScrollMode.HORIZONTAL&&([Pi,Di]=[Di,Pi]);const Ii=(this.container.clientWidth-Pi)/Fi.width*Fi.scale/this._pageWidthScaleFactor,Mi=(this.container.clientHeight-Di)/Fi.height*Fi.scale;switch(mi){case"page-actual":Si=1;break;case"page-width":Si=Ii;break;case"page-height":Si=Mi;break;case"page-fit":Si=Math.min(Ii,Mi);break;case"auto":const $i=(0,xe.isPortraitOrientation)(Fi)?Ii:Math.min(Mi,Ii);Si=Math.min(xe.MAX_AUTO_SCALE,$i);break;default:console.error(`_setScale: "${mi}" is an unknown zoom value.`);return}this._setScaleUpdatePages(Si,mi,_i,!0)}}pageLabelToPageNumber(mi){if(!this._pageLabels)return null;const _i=this._pageLabels.indexOf(mi);return _i<0?null:_i+1}scrollPageIntoView({pageNumber:mi,destArray:_i=null,allowNegativeOffset:Si=!1,ignoreDestinationZoom:Fi=!1}){if(!this.pdfDocument)return;const Pi=Number.isInteger(mi)&&this._pages[mi-1];if(!Pi){console.error(`scrollPageIntoView: "${mi}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!_i){this._setCurrentPageNumber(mi,!0);return}let Di=0,Ii=0,Mi=0,$i=0,Xi,rn;const tn=Pi.rotation%180!==0,on=(tn?Pi.height:Pi.width)/Pi.scale/t.PixelsPerInch.PDF_TO_CSS_UNITS,fn=(tn?Pi.width:Pi.height)/Pi.scale/t.PixelsPerInch.PDF_TO_CSS_UNITS;let Yi=0;switch(_i[1].name){case"XYZ":Di=_i[2],Ii=_i[3],Yi=_i[4],Di=Di!==null?Di:0,Ii=Ii!==null?Ii:fn;break;case"Fit":case"FitB":Yi="page-fit";break;case"FitH":case"FitBH":Ii=_i[2],Yi="page-width",Ii===null&&this._location?(Di=this._location.left,Ii=this._location.top):(typeof Ii!="number"||Ii<0)&&(Ii=fn);break;case"FitV":case"FitBV":Di=_i[2],Mi=on,$i=fn,Yi="page-height";break;case"FitR":Di=_i[2],Ii=_i[3],Mi=_i[4]-Di,$i=_i[5]-Ii;const en=this.removePageBorders?0:xe.SCROLLBAR_PADDING,nn=this.removePageBorders?0:xe.VERTICAL_PADDING;Xi=(this.container.clientWidth-en)/Mi/t.PixelsPerInch.PDF_TO_CSS_UNITS,rn=(this.container.clientHeight-nn)/$i/t.PixelsPerInch.PDF_TO_CSS_UNITS,Yi=Math.min(Math.abs(Xi),Math.abs(rn));break;default:console.error(`scrollPageIntoView: "${_i[1].name}" is not a valid destination type.`);return}if(Fi||(Yi&&Yi!==this._currentScale?this.currentScaleValue=Yi:this._currentScale===xe.UNKNOWN_SCALE&&(this.currentScaleValue=xe.DEFAULT_SCALE_VALUE)),Yi==="page-fit"&&!_i[4]){Cn(this,wi,dc).call(this,Pi);return}const Ri=[Pi.viewport.convertToViewportPoint(Di,Ii),Pi.viewport.convertToViewportPoint(Di+Mi,Ii+$i)];let ji=Math.min(Ri[0][0],Ri[1][0]),Ui=Math.min(Ri[0][1],Ri[1][1]);Si||(ji=Math.max(ji,0),Ui=Math.max(Ui,0)),Cn(this,wi,dc).call(this,Pi,{left:ji,top:Ui})}_updateLocation(mi){const _i=this._currentScale,Si=this._currentScaleValue,Fi=parseFloat(Si)===_i?Math.round(_i*1e4)/100:Si,Pi=mi.id,Di=this._pages[Pi-1],Ii=this.container,Mi=Di.getPagePoint(Ii.scrollLeft-mi.x,Ii.scrollTop-mi.y),$i=Math.round(Mi[0]),Xi=Math.round(Mi[1]);let rn=`#page=${Pi}`;this.isInPresentationMode||(rn+=`&zoom=${Fi},${$i},${Xi}`),this._location={pageNumber:Pi,scale:Fi,top:Xi,left:$i,rotation:this._pagesRotation,pdfOpenParams:rn}}update(){const mi=this._getVisiblePages(),_i=mi.views,Si=_i.length;if(Si===0)return;const Fi=Math.max(Be,2*Si+1);zi(this,Qe).resize(Fi,mi.ids),this.renderingQueue.renderHighestPriority(mi);const Pi=this._spreadMode===xe.SpreadMode.NONE&&(this._scrollMode===xe.ScrollMode.PAGE||this._scrollMode===xe.ScrollMode.VERTICAL),Di=this._currentPageNumber;let Ii=!1;for(const Mi of _i){if(Mi.percent<100)break;if(Mi.id===Di&&Pi){Ii=!0;break}}this._setCurrentPageNumber(Ii?Di:_i[0].id),this._updateLocation(mi.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(mi){return this.container.contains(mi)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===xe.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===xe.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const mi=this._scrollMode===xe.ScrollMode.PAGE?zi(this,ni).pages:this._pages,_i=this._scrollMode===xe.ScrollMode.HORIZONTAL,Si=_i&&this._isContainerRtl;return(0,xe.getVisibleElements)({scrollEl:this.container,views:mi,sortByVisibility:!0,horizontal:_i,rtl:Si})}isPageVisible(mi){return this.pdfDocument?Number.isInteger(mi)&&mi>0&&mi<=this.pagesCount?this._getVisiblePages().ids.has(mi):(console.error(`isPageVisible: "${mi}" is not a valid page.`),!1):!1}isPageCached(mi){if(!this.pdfDocument)return!1;if(!(Number.isInteger(mi)&&mi>0&&mi<=this.pagesCount))return console.error(`isPageCached: "${mi}" is not a valid page.`),!1;const _i=this._pages[mi-1];return zi(this,Qe).has(_i)}cleanup(){for(const mi of this._pages)mi.renderingState!==xe.RenderingStates.FINISHED&&mi.reset()}_cancelRendering(){for(const mi of this._pages)mi.cancelRendering()}forceRendering(mi){const _i=mi||this._getVisiblePages(),Si=Cn(this,oi,O0).call(this,_i),Fi=this._spreadMode!==xe.SpreadMode.NONE&&this._scrollMode!==xe.ScrollMode.HORIZONTAL,Pi=this.renderingQueue.getHighestPriority(_i,this._pages,Si,Fi);return Cn(this,bi,I0).call(this,_i.ids),Pi?(Cn(this,pi,P0).call(this,Pi).then(()=>{this.renderingQueue.renderView(Pi)}),!0):!1}createTextLayerBuilder({textLayerDiv:mi,pageIndex:_i,viewport:Si,eventBus:Fi,highlighter:Pi,accessibilityManager:Di=null}){return new Me.TextLayerBuilder({textLayerDiv:mi,eventBus:Fi,pageIndex:_i,viewport:Si,highlighter:Pi,accessibilityManager:Di})}createTextHighlighter({pageIndex:mi,eventBus:_i}){return new De.TextHighlighter({eventBus:_i,pageIndex:mi,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:mi,pdfPage:_i,annotationStorage:Si=(on=>(on=this.pdfDocument)==null?void 0:on.annotationStorage)(),imageResourcesPath:Fi="",renderForms:Pi=!0,l10n:Di=e.NullL10n,enableScripting:Ii=this.enableScripting,hasJSActionsPromise:Mi=(fn=>(fn=this.pdfDocument)==null?void 0:fn.hasJSActions())(),mouseState:$i=(Yi=>(Yi=this._scriptingManager)==null?void 0:Yi.mouseState)(),fieldObjectsPromise:Xi=(Ri=>(Ri=this.pdfDocument)==null?void 0:Ri.getFieldObjects())(),annotationCanvasMap:rn=null,accessibilityManager:tn=null}){return new Te.AnnotationLayerBuilder({pageDiv:mi,pdfPage:_i,annotationStorage:Si,imageResourcesPath:Fi,renderForms:Pi,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Di,enableScripting:Ii,hasJSActionsPromise:Mi,mouseState:$i,fieldObjectsPromise:Xi,annotationCanvasMap:rn,accessibilityManager:tn})}createAnnotationEditorLayerBuilder({uiManager:mi=zi(this,ci),pageDiv:_i,pdfPage:Si,accessibilityManager:Fi=null,l10n:Pi,annotationStorage:Di=(Ii=>(Ii=this.pdfDocument)==null?void 0:Ii.annotationStorage)()}){return new Fe.AnnotationEditorLayerBuilder({uiManager:mi,pageDiv:_i,pdfPage:Si,annotationStorage:Di,accessibilityManager:Fi,l10n:Pi})}createXfaLayerBuilder({pageDiv:mi,pdfPage:_i,annotationStorage:Si=(Fi=>(Fi=this.pdfDocument)==null?void 0:Fi.annotationStorage)()}){return new Ae.XfaLayerBuilder({pageDiv:mi,pdfPage:_i,annotationStorage:Si,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:mi}){return new Pe.StructTreeLayerBuilder({pdfPage:mi})}get hasEqualPageSizes(){const mi=this._pages[0];for(let _i=1,Si=this._pages.length;_i<Si;++_i){const Fi=this._pages[_i];if(Fi.width!==mi.width||Fi.height!==mi.height)return!1}return!0}getPagesOverview(){return this._pages.map(mi=>{const _i=mi.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,xe.isPortraitOrientation)(_i)?{width:_i.width,height:_i.height,rotation:_i.rotation}:{width:_i.height,height:_i.width,rotation:(_i.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(mi){if(!(mi instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${mi}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=mi;const _i={optionalContentConfigPromise:mi};for(const Si of this._pages)Si.update(_i);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:mi})}get scrollMode(){return this._scrollMode}set scrollMode(mi){if(this._scrollMode!==mi){if(!(0,xe.isValidScrollMode)(mi))throw new Error(`Invalid scroll mode: ${mi}`);this.pagesCount>je.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=mi,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:mi}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(mi=null){const _i=this._scrollMode,Si=this.viewer;Si.classList.toggle("scrollHorizontal",_i===xe.ScrollMode.HORIZONTAL),Si.classList.toggle("scrollWrapped",_i===xe.ScrollMode.WRAPPED),!(!this.pdfDocument||!mi)&&(_i===xe.ScrollMode.PAGE?Cn(this,hi,Do).call(this):this._previousScrollMode===xe.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(mi,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(mi){if(this._spreadMode!==mi){if(!(0,xe.isValidSpreadMode)(mi))throw new Error(`Invalid spread mode: ${mi}`);this._spreadMode=mi,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:mi}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(mi=null){if(!this.pdfDocument)return;const _i=this.viewer,Si=this._pages;if(this._scrollMode===xe.ScrollMode.PAGE)Cn(this,hi,Do).call(this);else if(_i.textContent="",this._spreadMode===xe.SpreadMode.NONE)for(const Fi of this._pages)_i.append(Fi.div);else{const Fi=this._spreadMode-1;let Pi=null;for(let Di=0,Ii=Si.length;Di<Ii;++Di)Pi===null?(Pi=document.createElement("div"),Pi.className="spread",_i.append(Pi)):Di%2===Fi&&(Pi=Pi.cloneNode(!1),_i.append(Pi)),Pi.append(Si[Di].div)}!mi||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(mi,!0),this.update())}_getPageAdvance(mi,_i=!1){switch(this._scrollMode){case xe.ScrollMode.WRAPPED:{const{views:Si}=this._getVisiblePages(),Fi=new Map;for(const{id:Pi,y:Di,percent:Ii,widthPercent:Mi}of Si){if(Ii===0||Mi<100)continue;let $i=Fi.get(Di);$i||Fi.set(Di,$i||($i=[])),$i.push(Pi)}for(const Pi of Fi.values()){const Di=Pi.indexOf(mi);if(Di===-1)continue;const Ii=Pi.length;if(Ii===1)break;if(_i)for(let Mi=Di-1,$i=0;Mi>=$i;Mi--){const Xi=Pi[Mi],rn=Pi[Mi+1]-1;if(Xi<rn)return mi-rn}else for(let Mi=Di+1,$i=Ii;Mi<$i;Mi++){const Xi=Pi[Mi],rn=Pi[Mi-1]+1;if(Xi>rn)return rn-mi}if(_i){const Mi=Pi[0];if(Mi<mi)return mi-Mi+1}else{const Mi=Pi[Ii-1];if(Mi>mi)return Mi-mi+1}break}break}case xe.ScrollMode.HORIZONTAL:break;case xe.ScrollMode.PAGE:case xe.ScrollMode.VERTICAL:{if(this._spreadMode===xe.SpreadMode.NONE)break;const Si=this._spreadMode-1;if(_i&&mi%2!==Si)break;if(!_i&&mi%2===Si)break;const{views:Fi}=this._getVisiblePages(),Pi=_i?mi-1:mi+1;for(const{id:Di,percent:Ii,widthPercent:Mi}of Fi)if(Di===Pi){if(Ii>0&&Mi===100)return 2;break}break}}return 1}nextPage(){const mi=this._currentPageNumber,_i=this.pagesCount;if(mi>=_i)return!1;const Si=this._getPageAdvance(mi,!1)||1;return this.currentPageNumber=Math.min(mi+Si,_i),!0}previousPage(){const mi=this._currentPageNumber;if(mi<=1)return!1;const _i=this._getPageAdvance(mi,!0)||1;return this.currentPageNumber=Math.max(mi-_i,1),!0}increaseScale(mi=1){let _i=this._currentScale;do _i=(_i*xe.DEFAULT_SCALE_DELTA).toFixed(2),_i=Math.ceil(_i*10)/10,_i=Math.min(xe.MAX_SCALE,_i);while(--mi>0&&_i<xe.MAX_SCALE);this.currentScaleValue=_i}decreaseScale(mi=1){let _i=this._currentScale;do _i=(_i/xe.DEFAULT_SCALE_DELTA).toFixed(2),_i=Math.floor(_i*10)/10,_i=Math.max(xe.MIN_SCALE,_i);while(--mi>0&&_i>xe.MIN_SCALE);this.currentScaleValue=_i}updateContainerHeightCss(){const mi=this.container.clientHeight;mi!==zi(this,si)&&(Zn(this,si,mi),xe.docStyle.setProperty("--viewer-container-height",`${mi}px`))}get annotationEditorMode(){return zi(this,ci)?zi(this,Ze):t.AnnotationEditorType.DISABLE}set annotationEditorMode(mi){if(!zi(this,ci))throw new Error("The AnnotationEditor is not enabled.");if(zi(this,Ze)!==mi){if(!Xe(mi))throw new Error(`Invalid AnnotationEditor mode: ${mi}`);!this.pdfDocument||(Zn(this,Ze,mi),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:mi}),zi(this,ci).updateMode(mi))}}set annotationEditorParams({type:mi,value:_i}){if(!zi(this,ci))throw new Error("The AnnotationEditor is not enabled.");zi(this,ci).updateParams(mi,_i)}refresh(){if(!this.pdfDocument)return;const mi={};for(const _i of this._pages)_i.update(mi);this.update()}}Qe=new WeakMap,Ze=new WeakMap,ci=new WeakMap,ze=new WeakMap,We=new WeakMap,si=new WeakMap,ni=new WeakMap,$e=new WeakMap,Ke=new WeakSet,T0=function(mi){const _i={annotationEditorMode:zi(this,Ze),annotationMode:zi(this,ze),textLayerMode:this.textLayerMode};return mi&&(mi.includes(t.PermissionFlag.COPY)||this.viewer.classList.add(He),mi.includes(t.PermissionFlag.MODIFY_CONTENTS)||(_i.annotationEditorMode=t.AnnotationEditorType.DISABLE),!mi.includes(t.PermissionFlag.MODIFY_ANNOTATIONS)&&!mi.includes(t.PermissionFlag.FILL_INTERACTIVE_FORMS)&&zi(this,ze)===t.AnnotationMode.ENABLE_FORMS&&(_i.annotationMode=t.AnnotationMode.ENABLE)),_i},Ue=new WeakSet,F0=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const mi=new Promise(_i=>{Zn(this,$e,()=>{document.visibilityState==="hidden"&&(_i(),document.removeEventListener("visibilitychange",zi(this,$e)),Zn(this,$e,null))}),document.addEventListener("visibilitychange",zi(this,$e))});return Promise.race([this._onePageRenderedCapability.promise,mi])},hi=new WeakSet,Do=function(){if(this._scrollMode!==xe.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const mi=this._currentPageNumber,_i=zi(this,ni),Si=this.viewer;if(Si.textContent="",_i.pages.length=0,this._spreadMode===xe.SpreadMode.NONE&&!this.isInPresentationMode){const Fi=this._pages[mi-1];Si.append(Fi.div),_i.pages.push(Fi)}else{const Fi=new Set,Pi=this._spreadMode-1;Pi===-1?Fi.add(mi-1):mi%2!==Pi?(Fi.add(mi-1),Fi.add(mi)):(Fi.add(mi-2),Fi.add(mi-1));const Di=document.createElement("div");if(Di.className="spread",this.isInPresentationMode){const Ii=document.createElement("div");Ii.className="dummyPage",Di.append(Ii)}for(const Ii of Fi){const Mi=this._pages[Ii];!Mi||(Di.append(Mi.div),_i.pages.push(Mi))}Si.append(Di)}_i.scrollDown=mi>=_i.previousPageNumber,_i.previousPageNumber=mi},wi=new WeakSet,dc=function(mi,_i=null){const{div:Si,id:Fi}=mi;if(this._scrollMode===xe.ScrollMode.PAGE&&(this._setCurrentPageNumber(Fi),Cn(this,hi,Do).call(this),this.update()),!_i&&!this.isInPresentationMode){const Pi=Si.offsetLeft+Si.clientLeft,Di=Pi+Si.clientWidth,{scrollLeft:Ii,clientWidth:Mi}=this.container;(this._scrollMode===xe.ScrollMode.HORIZONTAL||Pi<Ii||Di>Ii+Mi)&&(_i={left:0,top:0})}(0,xe.scrollIntoView)(Si,_i)},ki=new WeakSet,k0=function(mi){return mi===this._currentScale||Math.abs(mi-this._currentScale)<1e-15},xi=new WeakSet,ul=function(){const mi=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Cn(this,wi,dc).call(this,mi)},pi=new WeakSet,P0=async function(mi){var _i,Si;if(mi.pdfPage)return mi.pdfPage;try{const Fi=await this.pdfDocument.getPage(mi.id);return mi.pdfPage||mi.setPdfPage(Fi),(Si=(_i=this.linkService)._cachedPageNumber)!=null&&Si.call(_i,Fi.ref)||this.linkService.cachePageRef(mi.id,Fi.ref),Fi}catch(Fi){return console.error("Unable to get page for page view",Fi),null}},oi=new WeakSet,O0=function(mi){var _i,Si;if(((_i=mi.first)==null?void 0:_i.id)===1)return!0;if(((Si=mi.last)==null?void 0:Si.id)===this.pagesCount)return!1;switch(this._scrollMode){case xe.ScrollMode.PAGE:return zi(this,ni).scrollDown;case xe.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},bi=new WeakSet,I0=function(mi){for(const _i of mi){const Si=this._pages[_i-1];Si==null||Si.toggleLoadingIconSpinner(!0)}for(const _i of zi(this,Qe))mi.has(_i.id)||_i.toggleLoadingIconSpinner(!1)},Se.PDFViewer=qe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFRenderingQueue=void 0;var t=_e(3),xe=_e(7);const Fe=3e4;class Te{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(ke){this.pdfViewer=ke}setThumbnailViewer(ke){this.pdfThumbnailViewer=ke}isHighestPriority(ke){return this.highestPriorityPage===ke.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(ke){var Oe;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(ke)&&(this.isThumbnailViewEnabled&&((Oe=this.pdfThumbnailViewer)==null?void 0:Oe.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Fe)))}getHighestPriority(ke,Oe,Ee,Pe=!1){const De=ke.views,Me=De.length;if(Me===0)return null;for(let Xe=0;Xe<Me;Xe++){const St=De[Xe].view;if(!this.isViewFinished(St))return St}const Ae=ke.first.id,Be=ke.last.id;if(Be-Ae+1>Me){const Xe=ke.ids;for(let St=1,qe=Be-Ae;St<qe;St++){const Ye=Ee?Ae+St:Be-St;if(Xe.has(Ye))continue;const gi=Oe[Ye-1];if(!this.isViewFinished(gi))return gi}}let He=Ee?Be:Ae-2,je=Oe[He];return je&&!this.isViewFinished(je)||Pe&&(He+=Ee?1:-1,je=Oe[He],je&&!this.isViewFinished(je))?je:null}isViewFinished(ke){return ke.renderingState===xe.RenderingStates.FINISHED}renderView(ke){switch(ke.renderingState){case xe.RenderingStates.FINISHED:return!1;case xe.RenderingStates.PAUSED:this.highestPriorityPage=ke.renderingId,ke.resume();break;case xe.RenderingStates.RUNNING:this.highestPriorityPage=ke.renderingId;break;case xe.RenderingStates.INITIAL:this.highestPriorityPage=ke.renderingId,ke.draw().finally(()=>{this.renderHighestPriority()}).catch(Oe=>{Oe instanceof t.RenderingCancelledException||console.error(`renderView: "${Oe}"`)});break}return!0}}Se.PDFRenderingQueue=Te},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.TextHighlighter=void 0;class _e{constructor({findController:xe,eventBus:Fe,pageIndex:Te}){this.findController=xe,this.matches=[],this.eventBus=Fe,this.pageIdx=Te,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(xe,Fe){this.textDivs=xe,this.textContentItemsStr=Fe}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=xe=>{(xe.pageIndex===this.pageIdx||xe.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(xe,Fe){if(!xe)return[];const{textContentItemsStr:Te}=this;let e=0,ke=0;const Oe=Te.length-1,Ee=[];for(let Pe=0,De=xe.length;Pe<De;Pe++){let Me=xe[Pe];for(;e!==Oe&&Me>=ke+Te[e].length;)ke+=Te[e].length,e++;e===Te.length&&console.error("Could not find a matching mapping");const Ae={begin:{divIdx:e,offset:Me-ke}};for(Me+=Fe[Pe];e!==Oe&&Me>ke+Te[e].length;)ke+=Te[e].length,e++;Ae.end={divIdx:e,offset:Me-ke},Ee.push(Ae)}return Ee}_renderMatches(xe){if(xe.length===0)return;const{findController:Fe,pageIdx:Te}=this,{textContentItemsStr:e,textDivs:ke}=this,Oe=Te===Fe.selected.pageIdx,Ee=Fe.selected.matchIdx,Pe=Fe.state.highlightAll;let De=null;const Me={divIdx:-1,offset:void 0};function Ae(Xe,St){const qe=Xe.divIdx;return ke[qe].textContent="",Be(qe,0,Xe.offset,St)}function Be(Xe,St,qe,Ye){let gi=ke[Xe];if(gi.nodeType===Node.TEXT_NODE){const Qe=document.createElement("span");gi.before(Qe),Qe.append(gi),ke[Xe]=Qe,gi=Qe}const ai=e[Xe].substring(St,qe),ui=document.createTextNode(ai);if(Ye){const Qe=document.createElement("span");return Qe.className=`${Ye} appended`,Qe.append(ui),gi.append(Qe),Ye.includes("selected")?Qe.offsetLeft:0}return gi.append(ui),0}let He=Ee,je=He+1;if(Pe)He=0,je=xe.length;else if(!Oe)return;for(let Xe=He;Xe<je;Xe++){const St=xe[Xe],qe=St.begin,Ye=St.end,gi=Oe&&Xe===Ee,ai=gi?" selected":"";let ui=0;if(!De||qe.divIdx!==De.divIdx?(De!==null&&Be(De.divIdx,De.offset,Me.offset),Ae(qe)):Be(De.divIdx,De.offset,qe.offset),qe.divIdx===Ye.divIdx)ui=Be(qe.divIdx,qe.offset,Ye.offset,"highlight"+ai);else{ui=Be(qe.divIdx,qe.offset,Me.offset,"highlight begin"+ai);for(let Qe=qe.divIdx+1,Ze=Ye.divIdx;Qe<Ze;Qe++)ke[Qe].className="highlight middle"+ai;Ae(Ye,"highlight end"+ai)}De=Ye,gi&&Fe.scrollMatchIntoView({element:ke[qe.divIdx],selectedLeft:ui,pageIndex:Te,matchIndex:Ee})}De&&Be(De.divIdx,De.offset,Me.offset)}_updateMatches(){if(!this.enabled)return;const{findController:xe,matches:Fe,pageIdx:Te}=this,{textContentItemsStr:e,textDivs:ke}=this;let Oe=-1;for(const De of Fe){const Me=Math.max(Oe,De.begin.divIdx);for(let Ae=Me,Be=De.end.divIdx;Ae<=Be;Ae++){const He=ke[Ae];He.textContent=e[Ae],He.className=""}Oe=De.end.divIdx+1}if(!(xe!=null&&xe.highlightMatches))return;const Ee=xe.pageMatches[Te]||null,Pe=xe.pageMatchesLength[Te]||null;this.matches=this._convertMatches(Ee,Pe),this._renderMatches(this.matches)}}Se.TextHighlighter=_e}],Re={};function Ge(ii){var Se=Re[ii];if(Se!==void 0)return Se.exports;var _e=Re[ii]={exports:{}};return Ie[ii](_e,_e.exports,Ge),_e.exports}var Je={};return(()=>{var ii=Je;Object.defineProperty(ii,"__esModule",{value:!0}),Object.defineProperty(ii,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return xe.AnnotationLayerBuilder}}),Object.defineProperty(ii,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return Se.DefaultAnnotationLayerFactory}}),Object.defineProperty(ii,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return Se.DefaultStructTreeLayerFactory}}),Object.defineProperty(ii,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return Se.DefaultTextLayerFactory}}),Object.defineProperty(ii,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return Se.DefaultXfaLayerFactory}}),Object.defineProperty(ii,"DownloadManager",{enumerable:!0,get:function(){return Fe.DownloadManager}}),Object.defineProperty(ii,"EventBus",{enumerable:!0,get:function(){return Te.EventBus}}),Object.defineProperty(ii,"GenericL10n",{enumerable:!0,get:function(){return e.GenericL10n}}),Object.defineProperty(ii,"LinkTarget",{enumerable:!0,get:function(){return _e.LinkTarget}}),Object.defineProperty(ii,"NullL10n",{enumerable:!0,get:function(){return ke.NullL10n}}),Object.defineProperty(ii,"PDFFindController",{enumerable:!0,get:function(){return Oe.PDFFindController}}),Object.defineProperty(ii,"PDFHistory",{enumerable:!0,get:function(){return Ee.PDFHistory}}),Object.defineProperty(ii,"PDFLinkService",{enumerable:!0,get:function(){return _e.PDFLinkService}}),Object.defineProperty(ii,"PDFPageView",{enumerable:!0,get:function(){return Pe.PDFPageView}}),Object.defineProperty(ii,"PDFScriptingManager",{enumerable:!0,get:function(){return De.PDFScriptingManager}}),Object.defineProperty(ii,"PDFSinglePageViewer",{enumerable:!0,get:function(){return Me.PDFSinglePageViewer}}),Object.defineProperty(ii,"PDFViewer",{enumerable:!0,get:function(){return Ae.PDFViewer}}),Object.defineProperty(ii,"ProgressBar",{enumerable:!0,get:function(){return t.ProgressBar}}),Object.defineProperty(ii,"RenderingStates",{enumerable:!0,get:function(){return t.RenderingStates}}),Object.defineProperty(ii,"ScrollMode",{enumerable:!0,get:function(){return t.ScrollMode}}),Object.defineProperty(ii,"SimpleLinkService",{enumerable:!0,get:function(){return _e.SimpleLinkService}}),Object.defineProperty(ii,"SpreadMode",{enumerable:!0,get:function(){return t.SpreadMode}}),Object.defineProperty(ii,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return Be.StructTreeLayerBuilder}}),Object.defineProperty(ii,"TextLayerBuilder",{enumerable:!0,get:function(){return He.TextLayerBuilder}}),Object.defineProperty(ii,"XfaLayerBuilder",{enumerable:!0,get:function(){return je.XfaLayerBuilder}}),Object.defineProperty(ii,"parseQueryString",{enumerable:!0,get:function(){return t.parseQueryString}});var Se=Ge(1),_e=Ge(6),t=Ge(7),xe=Ge(5),Fe=Ge(11),Te=Ge(12),e=Ge(13),ke=Ge(4),Oe=Ge(15),Ee=Ge(17),Pe=Ge(18),De=Ge(21),Me=Ge(23),Ae=Ge(24),Be=Ge(8),He=Ge(9),je=Ge(10)})(),Je})())})(pdf_viewer$1);var pdf_worker_entry={},pdf_worker={exports:{}};(function(Ce,r){(function(Re,Ge){Ce.exports=Ge()})(globalThis,()=>(()=>{var Ie=[,(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.WorkerTask=Se.WorkerMessageHandler=void 0;var t=_e(2),xe=_e(3),Fe=_e(4),Te=_e(6),e=_e(69),ke=_e(63),Oe=_e(100),Ee=_e(101),Pe=_e(102);class De{constructor(He){this.name=He,this.terminated=!1,this._capability=(0,t.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}Se.WorkerTask=De;class Me{static setup(He,je){let Xe=!1;He.on("test",function(qe){Xe||(Xe=!0,He.send("test",qe instanceof Uint8Array))}),He.on("configure",function(qe){(0,t.setVerbosityLevel)(qe.verbosity)}),He.on("GetDocRequest",function(qe){return Me.createDocumentHandler(qe,je)})}static createDocumentHandler(He,je){let Xe,St=!1,qe=null;const Ye=[],gi=(0,t.getVerbosityLevel)(),{docId:ai,apiVersion:ui}=He,Qe="3.0.279";if(ui!==Qe)throw new Error(`The API version "${ui}" does not match the Worker version "${Qe}".`);const Ze=[];for(const Ue in[])Ze.push(Ue);if(Ze.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+Ze.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const Ue="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw Oe.isNodeJS?new Error(Ue+"please use a `legacy`-build instead."):new Error(Ue+"please update to a supported browser.")}const ci=ai+"_worker";let ze=new Ee.MessageHandler(ci,ai,je);function We(){if(St)throw new Error("Worker was terminated")}function si(Ue){Ye.push(Ue)}function ni(Ue){Ue.finish();const ti=Ye.indexOf(Ue);Ye.splice(ti,1)}async function $e(Ue){await Xe.ensureDoc("checkHeader"),await Xe.ensureDoc("parseStartXRef"),await Xe.ensureDoc("parse",[Ue]),await Xe.ensureDoc("checkFirstPage",[Ue]),await Xe.ensureDoc("checkLastPage",[Ue]);const ti=await Xe.ensureDoc("isPureXfa");if(ti){const Ci=new De("loadXfaFonts");si(Ci),await Promise.all([Xe.loadXfaFonts(ze,Ci).catch(ki=>{}).then(()=>ni(Ci)),Xe.loadXfaImages()])}const[hi,yi]=await Promise.all([Xe.ensureDoc("numPages"),Xe.ensureDoc("fingerprints")]),wi=ti?await Xe.ensureDoc("htmlForXfa"):null;return{numPages:hi,fingerprints:yi,htmlForXfa:wi}}function Ke({data:Ue,password:ti,disableAutoFetch:hi,rangeChunkSize:yi,length:wi,docBaseUrl:Ci,enableXfa:ki,evaluatorOptions:fi}){const xi=(0,t.createPromiseCapability)();let li;if(Ue){try{li=new Te.LocalPdfManager(ai,Ue,ti,ze,fi,ki,Ci),xi.resolve(li)}catch(Ei){xi.reject(Ei)}return xi.promise}let pi,ri=[];try{pi=new Pe.PDFWorkerStream(ze)}catch(Ei){return xi.reject(Ei),xi.promise}const oi=pi.getFullReader();oi.headersReady.then(function(){if(!!oi.isRangeSupported){hi=hi||oi.isStreamingSupported,li=new Te.NetworkPdfManager(ai,pi,{msgHandler:ze,password:ti,length:oi.contentLength,disableAutoFetch:hi,rangeChunkSize:yi},fi,ki,Ci);for(const Ei of ri)li.sendProgressiveData(Ei);ri=[],xi.resolve(li),qe=null}}).catch(function(Ei){xi.reject(Ei),qe=null});let di=0;const bi=function(){const Ei=(0,t.arraysToBytes)(ri);wi&&Ei.length!==wi&&(0,t.warn)("reported HTTP length is different from actual");try{li=new Te.LocalPdfManager(ai,Ei,ti,ze,fi,ki,Ci),xi.resolve(li)}catch(mi){xi.reject(mi)}ri=[]};return new Promise(function(Ei,mi){const _i=function({value:Si,done:Fi}){try{if(We(),Fi){li||bi(),qe=null;return}di+=(0,t.arrayByteLength)(Si),oi.isStreamingSupported||ze.send("DocProgress",{loaded:di,total:Math.max(di,oi.contentLength||0)}),li?li.sendProgressiveData(Si):ri.push(Si),oi.read().then(_i,mi)}catch(Pi){mi(Pi)}};oi.read().then(_i,mi)}).catch(function(Ei){xi.reject(Ei),qe=null}),qe=function(Ei){pi.cancelAllRequests(Ei)},xi.promise}function Ve(Ue){function ti(wi){We(),ze.send("GetDoc",{pdfInfo:wi})}function hi(wi){if(We(),wi instanceof t.PasswordException){const Ci=new De(`PasswordException: response ${wi.code}`);si(Ci),ze.sendWithPromise("PasswordRequest",wi).then(function({password:ki}){ni(Ci),Xe.updatePassword(ki),yi()}).catch(function(){ni(Ci),ze.send("DocException",wi)})}else wi instanceof t.InvalidPDFException||wi instanceof t.MissingPDFException||wi instanceof t.UnexpectedResponseException||wi instanceof t.UnknownErrorException?ze.send("DocException",wi):ze.send("DocException",new t.UnknownErrorException(wi.message,wi.toString()))}function yi(){We(),$e(!1).then(ti,function(wi){if(We(),!(wi instanceof Fe.XRefParseException)){hi(wi);return}Xe.requestLoadedStream().then(function(){We(),$e(!0).then(ti,hi)})})}We(),Ke(Ue).then(function(wi){if(St)throw wi.terminate(new t.AbortException("Worker was terminated.")),new Error("Worker was terminated");Xe=wi,Xe.requestLoadedStream(!0).then(Ci=>{ze.send("DataLoaded",{length:Ci.bytes.byteLength})})}).then(yi,hi)}return ze.on("GetPage",function(ti){return Xe.getPage(ti.pageIndex).then(function(hi){return Promise.all([Xe.ensure(hi,"rotate"),Xe.ensure(hi,"ref"),Xe.ensure(hi,"userUnit"),Xe.ensure(hi,"view")]).then(function([yi,wi,Ci,ki]){return{rotate:yi,ref:wi,userUnit:Ci,view:ki}})})}),ze.on("GetPageIndex",function(ti){const hi=xe.Ref.get(ti.num,ti.gen);return Xe.ensureCatalog("getPageIndex",[hi])}),ze.on("GetDestinations",function(ti){return Xe.ensureCatalog("destinations")}),ze.on("GetDestination",function(ti){return Xe.ensureCatalog("getDestination",[ti.id])}),ze.on("GetPageLabels",function(ti){return Xe.ensureCatalog("pageLabels")}),ze.on("GetPageLayout",function(ti){return Xe.ensureCatalog("pageLayout")}),ze.on("GetPageMode",function(ti){return Xe.ensureCatalog("pageMode")}),ze.on("GetViewerPreferences",function(Ue){return Xe.ensureCatalog("viewerPreferences")}),ze.on("GetOpenAction",function(Ue){return Xe.ensureCatalog("openAction")}),ze.on("GetAttachments",function(ti){return Xe.ensureCatalog("attachments")}),ze.on("GetJavaScript",function(ti){return Xe.ensureCatalog("javaScript")}),ze.on("GetDocJSActions",function(ti){return Xe.ensureCatalog("jsActions")}),ze.on("GetPageJSActions",function({pageIndex:Ue}){return Xe.getPage(Ue).then(function(ti){return Xe.ensure(ti,"jsActions")})}),ze.on("GetOutline",function(ti){return Xe.ensureCatalog("documentOutline")}),ze.on("GetOptionalContentConfig",function(Ue){return Xe.ensureCatalog("optionalContentConfig")}),ze.on("GetPermissions",function(Ue){return Xe.ensureCatalog("permissions")}),ze.on("GetMetadata",function(ti){return Promise.all([Xe.ensureDoc("documentInfo"),Xe.ensureCatalog("metadata")])}),ze.on("GetMarkInfo",function(ti){return Xe.ensureCatalog("markInfo")}),ze.on("GetData",function(ti){return Xe.requestLoadedStream().then(function(hi){return hi.bytes})}),ze.on("GetAnnotations",function({pageIndex:Ue,intent:ti}){return Xe.getPage(Ue).then(function(hi){const yi=new De(`GetAnnotations: page ${Ue}`);return si(yi),hi.getAnnotationsData(ze,yi,ti).then(wi=>(ni(yi),wi),wi=>{ni(yi)})})}),ze.on("GetFieldObjects",function(Ue){return Xe.ensureDoc("fieldObjects")}),ze.on("HasJSActions",function(Ue){return Xe.ensureDoc("hasJSActions")}),ze.on("GetCalculationOrderIds",function(Ue){return Xe.ensureDoc("calculationOrderIds")}),ze.on("SaveDocument",function({isPureXfa:Ue,numPages:ti,annotationStorage:hi,filename:yi}){const wi=[Xe.requestLoadedStream(),Xe.ensureCatalog("acroForm"),Xe.ensureCatalog("acroFormRef"),Xe.ensureDoc("xref"),Xe.ensureDoc("startXRef")],Ci=Ue?null:(0,Fe.getNewAnnotationsMap)(hi);if(Ci)for(const[ki,fi]of Ci)wi.push(Xe.getPage(ki).then(xi=>{const li=new De(`Save (editor): page ${ki}`);return xi.saveNewAnnotations(ze,li,fi).finally(function(){ni(li)})}));if(Ue)wi.push(Xe.serializeXfaData(hi));else for(let ki=0;ki<ti;ki++)wi.push(Xe.getPage(ki).then(function(fi){const xi=new De(`Save: page ${ki}`);return fi.save(ze,xi,hi).finally(function(){ni(xi)})}));return Promise.all(wi).then(function([ki,fi,xi,li,pi,...ri]){let oi=[],di=null;if(Ue){if(di=ri[0],!di)return ki.bytes}else if(oi=ri.flat(2),oi.length===0)return ki.bytes;const bi=fi instanceof xe.Dict&&fi.get("XFA")||null;let Ai=null,Ei=!1;if(Array.isArray(bi)){for(let _i=0,Si=bi.length;_i<Si;_i+=2)bi[_i]==="datasets"&&(Ai=bi[_i+1],xi=null,Ei=!0);Ai===null&&(Ai=li.getNewRef())}else bi&&(xi=null,(0,t.warn)("Unsupported XFA type."));let mi=Object.create(null);if(li.trailer){const _i=Object.create(null),Si=li.trailer.get("Info")||null;Si instanceof xe.Dict&&Si.forEach((Fi,Pi)=>{typeof Pi=="string"&&(_i[Fi]=(0,t.stringToPDFString)(Pi))}),mi={rootRef:li.trailer.getRaw("Root")||null,encryptRef:li.trailer.getRaw("Encrypt")||null,newRef:li.getNewRef(),infoRef:li.trailer.getRaw("Info")||null,info:_i,fileIds:li.trailer.get("ID")||null,startXRef:pi,filename:yi}}return li.resetNewRef(),(0,ke.incrementalUpdate)({originalData:ki.bytes,xrefInfo:mi,newRefs:oi,xref:li,hasXfa:!!bi,xfaDatasetsRef:Ai,hasXfaDatasetsEntry:Ei,acroFormRef:xi,acroForm:fi,xfaData:di})})}),ze.on("GetOperatorList",function(ti,hi){const yi=ti.pageIndex;Xe.getPage(yi).then(function(wi){const Ci=new De(`GetOperatorList: page ${yi}`);si(Ci);const ki=gi>=t.VerbosityLevel.INFOS?Date.now():0;wi.getOperatorList({handler:ze,sink:hi,task:Ci,intent:ti.intent,cacheKey:ti.cacheKey,annotationStorage:ti.annotationStorage}).then(function(fi){ni(Ci),ki&&(0,t.info)(`page=${yi+1} - getOperatorList: time=${Date.now()-ki}ms, len=${fi.length}`),hi.close()},function(fi){ni(Ci),!Ci.terminated&&hi.error(fi)})})}),ze.on("GetTextContent",function(ti,hi){const yi=ti.pageIndex;Xe.getPage(yi).then(function(wi){const Ci=new De("GetTextContent: page "+yi);si(Ci);const ki=gi>=t.VerbosityLevel.INFOS?Date.now():0;wi.extractTextContent({handler:ze,task:Ci,sink:hi,includeMarkedContent:ti.includeMarkedContent,combineTextItems:ti.combineTextItems}).then(function(){ni(Ci),ki&&(0,t.info)(`page=${yi+1} - getTextContent: time=${Date.now()-ki}ms`),hi.close()},function(fi){ni(Ci),!Ci.terminated&&hi.error(fi)})})}),ze.on("GetStructTree",function(ti){return Xe.getPage(ti.pageIndex).then(function(hi){return Xe.ensure(hi,"getStructTree")})}),ze.on("FontFallback",function(Ue){return Xe.fontFallback(Ue.id,ze)}),ze.on("Cleanup",function(ti){return Xe.cleanup(!0)}),ze.on("Terminate",function(ti){St=!0;const hi=[];if(Xe){Xe.terminate(new t.AbortException("Worker was terminated."));const yi=Xe.cleanup();hi.push(yi),Xe=null}else(0,e.clearGlobalCaches)();qe&&qe(new t.AbortException("Worker was terminated."));for(const yi of Ye)hi.push(yi.finished),yi.terminate();return Promise.all(hi).then(function(){ze.destroy(),ze=null})}),ze.on("Ready",function(ti){Ve(He),He=null}),ci}static initializeFromPort(He){const je=new Ee.MessageHandler("worker","main",He);Me.setup(je,He),je.send("ready",null)}}Se.WorkerMessageHandler=Me;function Ae(Be){return typeof Be.postMessage=="function"&&"onmessage"in Be}typeof window>"u"&&!Oe.isNodeJS&&typeof self<"u"&&Ae(self)&&Me.initializeFromPort(self)},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.VerbosityLevel=Se.Util=Se.UnknownErrorException=Se.UnexpectedResponseException=Se.UNSUPPORTED_FEATURES=Se.TextRenderingMode=Se.StreamType=Se.RenderingIntentFlag=Se.PermissionFlag=Se.PasswordResponses=Se.PasswordException=Se.PageActionEventType=Se.OPS=Se.MissingPDFException=Se.LINE_FACTOR=Se.LINE_DESCENT_FACTOR=Se.InvalidPDFException=Se.ImageKind=Se.IDENTITY_MATRIX=Se.FormatError=Se.FontType=Se.FeatureTest=Se.FONT_IDENTITY_MATRIX=Se.DocumentActionEventType=Se.CMapCompressionType=Se.BaseException=Se.AnnotationType=Se.AnnotationStateModelType=Se.AnnotationReviewState=Se.AnnotationReplyType=Se.AnnotationMode=Se.AnnotationMarkedState=Se.AnnotationFlag=Se.AnnotationFieldFlag=Se.AnnotationEditorType=Se.AnnotationEditorPrefix=Se.AnnotationEditorParamsType=Se.AnnotationBorderStyleType=Se.AnnotationActionEventType=Se.AbortException=void 0,Se.arrayByteLength=mi,Se.arraysToBytes=_i,Se.assert=yi,Se.bytesToString=Ai,Se.createPromiseCapability=Sn,Se.createValidAbsoluteUrl=Ci,Se.escapeString=on,Se.getModificationDate=nn,Se.getVerbosityLevel=Ve,Se.info=Ue,Se.isArrayBuffer=Ui,Se.isArrayEqual=en,Se.isAscii=fn,Se.objectFromMap=Pi,Se.objectSize=Fi,Se.setVerbosityLevel=Ke,Se.shadow=ki,Se.string32=Si,Se.stringToBytes=Ei,Se.stringToPDFString=tn,Se.stringToUTF16BEString=Yi,Se.stringToUTF8String=Ri,Se.unreachable=hi,Se.utf8StringToString=ji,Se.warn=ti;const _e=[1,0,0,1,0,0];Se.IDENTITY_MATRIX=_e;const t=[.001,0,0,.001,0,0];Se.FONT_IDENTITY_MATRIX=t;const xe=1.35;Se.LINE_FACTOR=xe;const Fe=.35;Se.LINE_DESCENT_FACTOR=Fe;const Te={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Se.RenderingIntentFlag=Te;const e={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Se.AnnotationMode=e;const ke="pdfjs_internal_editor_";Se.AnnotationEditorPrefix=ke;const Oe={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};Se.AnnotationEditorType=Oe;const Ee={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};Se.AnnotationEditorParamsType=Ee;const Pe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Se.PermissionFlag=Pe;const De={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Se.TextRenderingMode=De;const Me={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Se.ImageKind=Me;const Ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Se.AnnotationType=Ae;const Be={MARKED:"Marked",REVIEW:"Review"};Se.AnnotationStateModelType=Be;const He={MARKED:"Marked",UNMARKED:"Unmarked"};Se.AnnotationMarkedState=He;const je={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};Se.AnnotationReviewState=je;const Xe={GROUP:"Group",REPLY:"R"};Se.AnnotationReplyType=Xe;const St={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Se.AnnotationFlag=St;const qe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Se.AnnotationFieldFlag=qe;const Ye={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Se.AnnotationBorderStyleType=Ye;const gi={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Se.AnnotationActionEventType=gi;const ai={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Se.DocumentActionEventType=ai;const ui={O:"PageOpen",C:"PageClose"};Se.PageActionEventType=ui;const Qe={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};Se.StreamType=Qe;const Ze={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};Se.FontType=Ze;const ci={ERRORS:0,WARNINGS:1,INFOS:5};Se.VerbosityLevel=ci;const ze={NONE:0,BINARY:1};Se.CMapCompressionType=ze;const We={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Se.OPS=We;const si={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};Se.UNSUPPORTED_FEATURES=si;const ni={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Se.PasswordResponses=ni;let $e=ci.WARNINGS;function Ke(Qi){Number.isInteger(Qi)&&($e=Qi)}function Ve(){return $e}function Ue(Qi){$e>=ci.INFOS&&console.log(`Info: ${Qi}`)}function ti(Qi){$e>=ci.WARNINGS&&console.log(`Warning: ${Qi}`)}function hi(Qi){throw new Error(Qi)}function yi(Qi,qi){Qi||hi(qi)}function wi(Qi){if(!Qi)return!1;switch(Qi.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ci(Qi,qi=null,Zi=null){if(!Qi)return null;try{if(Zi&&typeof Qi=="string"){if(Zi.addDefaultProtocol&&Qi.startsWith("www.")){const Nn=Qi.match(/\./g);Nn&&Nn.length>=2&&(Qi=`http://${Qi}`)}if(Zi.tryConvertEncoding)try{Qi=Ri(Qi)}catch{}}const an=qi?new URL(Qi,qi):new URL(Qi);if(wi(an))return an}catch{}return null}function ki(Qi,qi,Zi){return Object.defineProperty(Qi,qi,{value:Zi,enumerable:!0,configurable:!0,writable:!1}),Zi}const fi=function(){function qi(Zi,an){this.constructor===qi&&hi("Cannot initialize BaseException."),this.message=Zi,this.name=an}return qi.prototype=new Error,qi.constructor=qi,qi}();Se.BaseException=fi;class xi extends fi{constructor(qi,Zi){super(qi,"PasswordException"),this.code=Zi}}Se.PasswordException=xi;class li extends fi{constructor(qi,Zi){super(qi,"UnknownErrorException"),this.details=Zi}}Se.UnknownErrorException=li;class pi extends fi{constructor(qi){super(qi,"InvalidPDFException")}}Se.InvalidPDFException=pi;class ri extends fi{constructor(qi){super(qi,"MissingPDFException")}}Se.MissingPDFException=ri;class oi extends fi{constructor(qi,Zi){super(qi,"UnexpectedResponseException"),this.status=Zi}}Se.UnexpectedResponseException=oi;class di extends fi{constructor(qi){super(qi,"FormatError")}}Se.FormatError=di;class bi extends fi{constructor(qi){super(qi,"AbortException")}}Se.AbortException=bi;function Ai(Qi){(typeof Qi!="object"||Qi===null||Qi.length===void 0)&&hi("Invalid argument for bytesToString");const qi=Qi.length,Zi=8192;if(qi<Zi)return String.fromCharCode.apply(null,Qi);const an=[];for(let Nn=0;Nn<qi;Nn+=Zi){const Dn=Math.min(Nn+Zi,qi),hn=Qi.subarray(Nn,Dn);an.push(String.fromCharCode.apply(null,hn))}return an.join("")}function Ei(Qi){typeof Qi!="string"&&hi("Invalid argument for stringToBytes");const qi=Qi.length,Zi=new Uint8Array(qi);for(let an=0;an<qi;++an)Zi[an]=Qi.charCodeAt(an)&255;return Zi}function mi(Qi){if(Qi.length!==void 0)return Qi.length;if(Qi.byteLength!==void 0)return Qi.byteLength;hi("Invalid argument for arrayByteLength")}function _i(Qi){const qi=Qi.length;if(qi===1&&Qi[0]instanceof Uint8Array)return Qi[0];let Zi=0;for(let Dn=0;Dn<qi;Dn++)Zi+=mi(Qi[Dn]);let an=0;const Nn=new Uint8Array(Zi);for(let Dn=0;Dn<qi;Dn++){let hn=Qi[Dn];hn instanceof Uint8Array||(typeof hn=="string"?hn=Ei(hn):hn=new Uint8Array(hn));const Fn=hn.byteLength;Nn.set(hn,an),an+=Fn}return Nn}function Si(Qi){return String.fromCharCode(Qi>>24&255,Qi>>16&255,Qi>>8&255,Qi&255)}function Fi(Qi){return Object.keys(Qi).length}function Pi(Qi){const qi=Object.create(null);for(const[Zi,an]of Qi)qi[Zi]=an;return qi}function Di(){const Qi=new Uint8Array(4);return Qi[0]=1,new Uint32Array(Qi.buffer,0,1)[0]===1}function Ii(){try{return new Function(""),!0}catch{return!1}}class Mi{static get isLittleEndian(){return ki(this,"isLittleEndian",Di())}static get isEvalSupported(){return ki(this,"isEvalSupported",Ii())}static get isOffscreenCanvasSupported(){return ki(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}Se.FeatureTest=Mi;const $i=[...Array(256).keys()].map(Qi=>Qi.toString(16).padStart(2,"0"));class Xi{static makeHexColor(qi,Zi,an){return`#${$i[qi]}${$i[Zi]}${$i[an]}`}static scaleMinMax(qi,Zi){let an;qi[0]?(qi[0]<0&&(an=Zi[0],Zi[0]=Zi[1],Zi[1]=an),Zi[0]*=qi[0],Zi[1]*=qi[0],qi[3]<0&&(an=Zi[2],Zi[2]=Zi[3],Zi[3]=an),Zi[2]*=qi[3],Zi[3]*=qi[3]):(an=Zi[0],Zi[0]=Zi[2],Zi[2]=an,an=Zi[1],Zi[1]=Zi[3],Zi[3]=an,qi[1]<0&&(an=Zi[2],Zi[2]=Zi[3],Zi[3]=an),Zi[2]*=qi[1],Zi[3]*=qi[1],qi[2]<0&&(an=Zi[0],Zi[0]=Zi[1],Zi[1]=an),Zi[0]*=qi[2],Zi[1]*=qi[2]),Zi[0]+=qi[4],Zi[1]+=qi[4],Zi[2]+=qi[5],Zi[3]+=qi[5]}static transform(qi,Zi){return[qi[0]*Zi[0]+qi[2]*Zi[1],qi[1]*Zi[0]+qi[3]*Zi[1],qi[0]*Zi[2]+qi[2]*Zi[3],qi[1]*Zi[2]+qi[3]*Zi[3],qi[0]*Zi[4]+qi[2]*Zi[5]+qi[4],qi[1]*Zi[4]+qi[3]*Zi[5]+qi[5]]}static applyTransform(qi,Zi){const an=qi[0]*Zi[0]+qi[1]*Zi[2]+Zi[4],Nn=qi[0]*Zi[1]+qi[1]*Zi[3]+Zi[5];return[an,Nn]}static applyInverseTransform(qi,Zi){const an=Zi[0]*Zi[3]-Zi[1]*Zi[2],Nn=(qi[0]*Zi[3]-qi[1]*Zi[2]+Zi[2]*Zi[5]-Zi[4]*Zi[3])/an,Dn=(-qi[0]*Zi[1]+qi[1]*Zi[0]+Zi[4]*Zi[1]-Zi[5]*Zi[0])/an;return[Nn,Dn]}static getAxialAlignedBoundingBox(qi,Zi){const an=Xi.applyTransform(qi,Zi),Nn=Xi.applyTransform(qi.slice(2,4),Zi),Dn=Xi.applyTransform([qi[0],qi[3]],Zi),hn=Xi.applyTransform([qi[2],qi[1]],Zi);return[Math.min(an[0],Nn[0],Dn[0],hn[0]),Math.min(an[1],Nn[1],Dn[1],hn[1]),Math.max(an[0],Nn[0],Dn[0],hn[0]),Math.max(an[1],Nn[1],Dn[1],hn[1])]}static inverseTransform(qi){const Zi=qi[0]*qi[3]-qi[1]*qi[2];return[qi[3]/Zi,-qi[1]/Zi,-qi[2]/Zi,qi[0]/Zi,(qi[2]*qi[5]-qi[4]*qi[3])/Zi,(qi[4]*qi[1]-qi[5]*qi[0])/Zi]}static singularValueDecompose2dScale(qi){const Zi=[qi[0],qi[2],qi[1],qi[3]],an=qi[0]*Zi[0]+qi[1]*Zi[2],Nn=qi[0]*Zi[1]+qi[1]*Zi[3],Dn=qi[2]*Zi[0]+qi[3]*Zi[2],hn=qi[2]*Zi[1]+qi[3]*Zi[3],Fn=(an+hn)/2,Xn=Math.sqrt((an+hn)**2-4*(an*hn-Dn*Nn))/2,Rn=Fn+Xn||1,Wn=Fn-Xn||1;return[Math.sqrt(Rn),Math.sqrt(Wn)]}static normalizeRect(qi){const Zi=qi.slice(0);return qi[0]>qi[2]&&(Zi[0]=qi[2],Zi[2]=qi[0]),qi[1]>qi[3]&&(Zi[1]=qi[3],Zi[3]=qi[1]),Zi}static intersect(qi,Zi){const an=Math.max(Math.min(qi[0],qi[2]),Math.min(Zi[0],Zi[2])),Nn=Math.min(Math.max(qi[0],qi[2]),Math.max(Zi[0],Zi[2]));if(an>Nn)return null;const Dn=Math.max(Math.min(qi[1],qi[3]),Math.min(Zi[1],Zi[3])),hn=Math.min(Math.max(qi[1],qi[3]),Math.max(Zi[1],Zi[3]));return Dn>hn?null:[an,Dn,Nn,hn]}static bezierBoundingBox(qi,Zi,an,Nn,Dn,hn,Fn,Xn){const Rn=[],Wn=[[],[]];let Kn,Mn,er,Hn,hr,or,dr,nr;for(let Ln=0;Ln<2;++Ln){if(Ln===0?(Mn=6*qi-12*an+6*Dn,Kn=-3*qi+9*an-9*Dn+3*Fn,er=3*an-3*qi):(Mn=6*Zi-12*Nn+6*hn,Kn=-3*Zi+9*Nn-9*hn+3*Xn,er=3*Nn-3*Zi),Math.abs(Kn)<1e-12){if(Math.abs(Mn)<1e-12)continue;Hn=-er/Mn,0<Hn&&Hn<1&&Rn.push(Hn);continue}dr=Mn*Mn-4*er*Kn,nr=Math.sqrt(dr),!(dr<0)&&(hr=(-Mn+nr)/(2*Kn),0<hr&&hr<1&&Rn.push(hr),or=(-Mn-nr)/(2*Kn),0<or&&or<1&&Rn.push(or))}let Lr=Rn.length,An;const kn=Lr;for(;Lr--;)Hn=Rn[Lr],An=1-Hn,Wn[0][Lr]=An*An*An*qi+3*An*An*Hn*an+3*An*Hn*Hn*Dn+Hn*Hn*Hn*Fn,Wn[1][Lr]=An*An*An*Zi+3*An*An*Hn*Nn+3*An*Hn*Hn*hn+Hn*Hn*Hn*Xn;return Wn[0][kn]=qi,Wn[1][kn]=Zi,Wn[0][kn+1]=Fn,Wn[1][kn+1]=Xn,Wn[0].length=Wn[1].length=kn+2,[Math.min(...Wn[0]),Math.min(...Wn[1]),Math.max(...Wn[0]),Math.max(...Wn[1])]}}Se.Util=Xi;const rn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tn(Qi){if(Qi[0]>="\xEF"){let Zi;if(Qi[0]==="\xFE"&&Qi[1]==="\xFF"?Zi="utf-16be":Qi[0]==="\xFF"&&Qi[1]==="\xFE"?Zi="utf-16le":Qi[0]==="\xEF"&&Qi[1]==="\xBB"&&Qi[2]==="\xBF"&&(Zi="utf-8"),Zi)try{const an=new TextDecoder(Zi,{fatal:!0}),Nn=Ei(Qi);return an.decode(Nn)}catch(an){ti(`stringToPDFString: "${an}".`)}}const qi=[];for(let Zi=0,an=Qi.length;Zi<an;Zi++){const Nn=rn[Qi.charCodeAt(Zi)];qi.push(Nn?String.fromCharCode(Nn):Qi.charAt(Zi))}return qi.join("")}function on(Qi){return Qi.replace(/([()\\\n\r])/g,qi=>qi===`
`?"\\n":qi==="\r"?"\\r":`\\${qi}`)}function fn(Qi){return/^[\x00-\x7F]*$/.test(Qi)}function Yi(Qi){const qi=["\xFE\xFF"];for(let Zi=0,an=Qi.length;Zi<an;Zi++){const Nn=Qi.charCodeAt(Zi);qi.push(String.fromCharCode(Nn>>8&255),String.fromCharCode(Nn&255))}return qi.join("")}function Ri(Qi){return decodeURIComponent(escape(Qi))}function ji(Qi){return unescape(encodeURIComponent(Qi))}function Ui(Qi){return typeof Qi=="object"&&Qi!==null&&Qi.byteLength!==void 0}function en(Qi,qi){if(Qi.length!==qi.length)return!1;for(let Zi=0,an=Qi.length;Zi<an;Zi++)if(Qi[Zi]!==qi[Zi])return!1;return!0}function nn(Qi=new Date){return[Qi.getUTCFullYear().toString(),(Qi.getUTCMonth()+1).toString().padStart(2,"0"),Qi.getUTCDate().toString().padStart(2,"0"),Qi.getUTCHours().toString().padStart(2,"0"),Qi.getUTCMinutes().toString().padStart(2,"0"),Qi.getUTCSeconds().toString().padStart(2,"0")].join("")}function Sn(){const Qi=Object.create(null);let qi=!1;return Object.defineProperty(Qi,"settled",{get(){return qi}}),Qi.promise=new Promise(function(Zi,an){Qi.resolve=function(Nn){qi=!0,Zi(Nn)},Qi.reject=function(Nn){qi=!0,an(Nn)}}),Qi}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.RefSetCache=Se.RefSet=Se.Ref=Se.Name=Se.EOF=Se.Dict=Se.Cmd=Se.CIRCULAR_REF=void 0,Se.clearPrimitiveCaches=je,Se.isCmd=Ae,Se.isDict=Be,Se.isName=Me,Se.isRefsEqual=He;var t=_e(2);const xe=Symbol("CIRCULAR_REF");Se.CIRCULAR_REF=xe;const Fe=Symbol("EOF");Se.EOF=Fe;const Te=function(){let St=Object.create(null);class qe{constructor(gi){this.name=gi}static get(gi){return St[gi]||(St[gi]=new qe(gi))}static _clearCache(){St=Object.create(null)}}return qe}();Se.Name=Te;const e=function(){let St=Object.create(null);class qe{constructor(gi){this.cmd=gi}static get(gi){return St[gi]||(St[gi]=new qe(gi))}static _clearCache(){St=Object.create(null)}}return qe}();Se.Cmd=e;const ke=function(){return ke};class Oe{constructor(St=null){this._map=Object.create(null),this.xref=St,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=ke}assignXref(St){this.xref=St}get size(){return Object.keys(this._map).length}get(St,qe,Ye){let gi=this._map[St];return gi===void 0&&qe!==void 0&&(gi=this._map[qe],gi===void 0&&Ye!==void 0&&(gi=this._map[Ye])),gi instanceof Ee&&this.xref?this.xref.fetch(gi,this.suppressEncryption):gi}async getAsync(St,qe,Ye){let gi=this._map[St];return gi===void 0&&qe!==void 0&&(gi=this._map[qe],gi===void 0&&Ye!==void 0&&(gi=this._map[Ye])),gi instanceof Ee&&this.xref?this.xref.fetchAsync(gi,this.suppressEncryption):gi}getArray(St,qe,Ye){let gi=this._map[St];if(gi===void 0&&qe!==void 0&&(gi=this._map[qe],gi===void 0&&Ye!==void 0&&(gi=this._map[Ye])),gi instanceof Ee&&this.xref&&(gi=this.xref.fetch(gi,this.suppressEncryption)),Array.isArray(gi)){gi=gi.slice();for(let ai=0,ui=gi.length;ai<ui;ai++)gi[ai]instanceof Ee&&this.xref&&(gi[ai]=this.xref.fetch(gi[ai],this.suppressEncryption))}return gi}getRaw(St){return this._map[St]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(St,qe){this._map[St]=qe}has(St){return this._map[St]!==void 0}forEach(St){for(const qe in this._map)St(qe,this.get(qe))}static get empty(){const St=new Oe(null);return St.set=(qe,Ye)=>{(0,t.unreachable)("Should not call `set` on the empty dictionary.")},(0,t.shadow)(this,"empty",St)}static merge({xref:St,dictArray:qe,mergeSubDicts:Ye=!1}){const gi=new Oe(St),ai=new Map;for(const ui of qe)if(ui instanceof Oe)for(const[Qe,Ze]of Object.entries(ui._map)){let ci=ai.get(Qe);if(ci===void 0)ci=[],ai.set(Qe,ci);else if(!Ye||!(Ze instanceof Oe))continue;ci.push(Ze)}for(const[ui,Qe]of ai){if(Qe.length===1||!(Qe[0]instanceof Oe)){gi._map[ui]=Qe[0];continue}const Ze=new Oe(St);for(const ci of Qe)for(const[ze,We]of Object.entries(ci._map))Ze._map[ze]===void 0&&(Ze._map[ze]=We);Ze.size>0&&(gi._map[ui]=Ze)}return ai.clear(),gi.size>0?gi:Oe.empty}}Se.Dict=Oe;const Ee=function(){let St=Object.create(null);class qe{constructor(gi,ai){this.num=gi,this.gen=ai}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(gi,ai){const ui=ai===0?`${gi}R`:`${gi}R${ai}`;return St[ui]||(St[ui]=new qe(gi,ai))}static _clearCache(){St=Object.create(null)}}return qe}();Se.Ref=Ee;class Pe{constructor(St=null){this._set=new Set(St&&St._set)}has(St){return this._set.has(St.toString())}put(St){this._set.add(St.toString())}remove(St){this._set.delete(St.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}Se.RefSet=Pe;class De{constructor(){this._map=new Map}get size(){return this._map.size}get(St){return this._map.get(St.toString())}has(St){return this._map.has(St.toString())}put(St,qe){this._map.set(St.toString(),qe)}putAlias(St,qe){this._map.set(St.toString(),this.get(qe))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}Se.RefSetCache=De;function Me(Xe,St){return Xe instanceof Te&&(St===void 0||Xe.name===St)}function Ae(Xe,St){return Xe instanceof e&&(St===void 0||Xe.cmd===St)}function Be(Xe,St){return Xe instanceof Oe&&(St===void 0||Me(Xe.get("Type"),St))}function He(Xe,St){return Xe.num===St.num&&Xe.gen===St.gen}function je(){e._clearCache(),Te._clearCache(),Ee._clearCache()}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XRefParseException=Se.XRefEntryException=Se.ParserEOFException=Se.PDF_VERSION_REGEXP=Se.MissingDataException=Se.DocStats=void 0,Se.collectActions=Qe,Se.encodeToXmlString=ci,Se.escapePDFName=ai,Se.getArrayLookupTableFactory=ke,Se.getInheritableProperty=Ae,Se.getLookupTableFactory=e,Se.getNewAnnotationsMap=ni,Se.isWhiteSpace=Ye,Se.log2=je,Se.numberToString=si,Se.parseXFAPath=gi,Se.readInt8=Xe,Se.readUint16=St,Se.readUint32=qe,Se.recoverJsURL=We,Se.toRomanNumerals=He,Se.validateCSSFont=ze;var t=_e(2),xe=_e(3),Fe=_e(5);const Te=/^[1-9]\.\d$/;Se.PDF_VERSION_REGEXP=Te;function e($e){let Ke;return function(){return $e&&(Ke=Object.create(null),$e(Ke),$e=null),Ke}}function ke($e){let Ke;return function(){if($e){let Ve=$e();$e=null,Ke=Object.create(null);for(let Ue=0,ti=Ve.length;Ue<ti;Ue+=2)Ke[Ve[Ue]]=Ve[Ue+1];Ve=null}return Ke}}class Oe extends t.BaseException{constructor(Ke,Ve){super(`Missing data [${Ke}, ${Ve})`,"MissingDataException"),this.begin=Ke,this.end=Ve}}Se.MissingDataException=Oe;class Ee extends t.BaseException{constructor(Ke){super(Ke,"ParserEOFException")}}Se.ParserEOFException=Ee;class Pe extends t.BaseException{constructor(Ke){super(Ke,"XRefEntryException")}}Se.XRefEntryException=Pe;class De extends t.BaseException{constructor(Ke){super(Ke,"XRefParseException")}}Se.XRefParseException=De;class Me{constructor(Ke){this._handler=Ke,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const Ke=Object.create(null),Ve=Object.create(null);for(const Ue of this._streamTypes)Ke[Ue]=!0;for(const Ue of this._fontTypes)Ve[Ue]=!0;this._handler.send("DocStats",{streamTypes:Ke,fontTypes:Ve})}addStreamType(Ke){this._streamTypes.has(Ke)||(this._streamTypes.add(Ke),this._send())}addFontType(Ke){this._fontTypes.has(Ke)||(this._fontTypes.add(Ke),this._send())}}Se.DocStats=Me;function Ae({dict:$e,key:Ke,getArray:Ve=!1,stopWhenFound:Ue=!0}){let ti;const hi=new xe.RefSet;for(;$e instanceof xe.Dict&&!($e.objId&&hi.has($e.objId));){$e.objId&&hi.put($e.objId);const yi=Ve?$e.getArray(Ke):$e.get(Ke);if(yi!==void 0){if(Ue)return yi;ti||(ti=[]),ti.push(yi)}$e=$e.get("Parent")}return ti}const Be=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function He($e,Ke=!1){(0,t.assert)(Number.isInteger($e)&&$e>0,"The number should be a positive integer.");const Ve=[];let Ue;for(;$e>=1e3;)$e-=1e3,Ve.push("M");Ue=$e/100|0,$e%=100,Ve.push(Be[Ue]),Ue=$e/10|0,$e%=10,Ve.push(Be[10+Ue]),Ve.push(Be[20+$e]);const ti=Ve.join("");return Ke?ti.toLowerCase():ti}function je($e){return $e<=0?0:Math.ceil(Math.log2($e))}function Xe($e,Ke){return $e[Ke]<<24>>24}function St($e,Ke){return $e[Ke]<<8|$e[Ke+1]}function qe($e,Ke){return($e[Ke]<<24|$e[Ke+1]<<16|$e[Ke+2]<<8|$e[Ke+3])>>>0}function Ye($e){return $e===32||$e===9||$e===13||$e===10}function gi($e){const Ke=/(.+)\[(\d+)\]$/;return $e.split(".").map(Ve=>{const Ue=Ve.match(Ke);return Ue?{name:Ue[1],pos:parseInt(Ue[2],10)}:{name:Ve,pos:0}})}function ai($e){const Ke=[];let Ve=0;for(let Ue=0,ti=$e.length;Ue<ti;Ue++){const hi=$e.charCodeAt(Ue);(hi<33||hi>126||hi===35||hi===40||hi===41||hi===60||hi===62||hi===91||hi===93||hi===123||hi===125||hi===47||hi===37)&&(Ve<Ue&&Ke.push($e.substring(Ve,Ue)),Ke.push(`#${hi.toString(16)}`),Ve=Ue+1)}return Ke.length===0?$e:(Ve<$e.length&&Ke.push($e.substring(Ve,$e.length)),Ke.join(""))}function ui($e,Ke,Ve,Ue){if(!$e)return;let ti=null;if($e instanceof xe.Ref){if(Ue.has($e))return;ti=$e,Ue.put(ti),$e=Ke.fetch($e)}if(Array.isArray($e))for(const hi of $e)ui(hi,Ke,Ve,Ue);else if($e instanceof xe.Dict){if((0,xe.isName)($e.get("S"),"JavaScript")){const hi=$e.get("JS");let yi;hi instanceof Fe.BaseStream?yi=hi.getString():typeof hi=="string"&&(yi=hi),yi=yi&&(0,t.stringToPDFString)(yi).replace(/\u0000/g,""),yi&&Ve.push(yi)}ui($e.getRaw("Next"),Ke,Ve,Ue)}ti&&Ue.remove(ti)}function Qe($e,Ke,Ve){const Ue=Object.create(null),ti=Ae({dict:Ke,key:"AA",stopWhenFound:!1});if(ti)for(let hi=ti.length-1;hi>=0;hi--){const yi=ti[hi];if(yi instanceof xe.Dict)for(const wi of yi.getKeys()){const Ci=Ve[wi];if(!Ci)continue;const ki=yi.getRaw(wi),fi=new xe.RefSet,xi=[];ui(ki,$e,xi,fi),xi.length>0&&(Ue[Ci]=xi)}}if(Ke.has("A")){const hi=Ke.get("A"),yi=new xe.RefSet,wi=[];ui(hi,$e,wi,yi),wi.length>0&&(Ue.Action=wi)}return(0,t.objectSize)(Ue)>0?Ue:null}const Ze={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function ci($e){const Ke=[];let Ve=0;for(let Ue=0,ti=$e.length;Ue<ti;Ue++){const hi=$e.codePointAt(Ue);if(32<=hi&&hi<=126){const yi=Ze[hi];yi&&(Ve<Ue&&Ke.push($e.substring(Ve,Ue)),Ke.push(yi),Ve=Ue+1)}else Ve<Ue&&Ke.push($e.substring(Ve,Ue)),Ke.push(`&#x${hi.toString(16).toUpperCase()};`),hi>55295&&(hi<57344||hi>65533)&&Ue++,Ve=Ue+1}return Ke.length===0?$e:(Ve<$e.length&&Ke.push($e.substring(Ve,$e.length)),Ke.join(""))}function ze($e){const Ke="14",Ve="400",Ue=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:ti,fontWeight:hi,italicAngle:yi}=$e;if(/^".*"$/.test(ti)){if(/[^\\]"/.test(ti.slice(1,ti.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ": ${ti}.`),!1}else if(/^'.*'$/.test(ti)){if(/[^\\]'/.test(ti.slice(1,ti.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ': ${ti}.`),!1}else for(const ki of ti.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(ki)||!/^[\w-\\]+$/.test(ki))return(0,t.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${ti}.`),!1;const wi=hi?hi.toString():"";$e.fontWeight=Ue.has(wi)?wi:Ve;const Ci=parseFloat(yi);return $e.italicAngle=isNaN(Ci)||Ci<-90||Ci>90?Ke:yi.toString(),!0}function We($e){const Ke=["app.launchURL","window.open","xfa.host.gotoURL"],Ue=new RegExp("^\\s*("+Ke.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec($e);if(Ue&&Ue[2]){const ti=Ue[2];let hi=!1;return Ue[3]==="true"&&Ue[1]==="app.launchURL"&&(hi=!0),{url:ti,newWindow:hi}}return null}function si($e){if(Number.isInteger($e))return $e.toString();const Ke=Math.round($e*100);return Ke%100===0?(Ke/100).toString():Ke%10===0?$e.toFixed(1):$e.toFixed(2)}function ni($e){if(!$e)return null;const Ke=new Map;for(const[Ve,Ue]of $e){if(!Ve.startsWith(t.AnnotationEditorPrefix))continue;let ti=Ke.get(Ue.pageIndex);ti||(ti=[],Ke.set(Ue.pageIndex,ti)),ti.push(Ue)}return Ke.size>0?Ke:null}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.BaseStream=void 0;var t=_e(2);class xe{constructor(){this.constructor===xe&&(0,t.unreachable)("Cannot initialize BaseStream.")}get length(){(0,t.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,t.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,t.shadow)(this,"isDataLoaded",!0)}getByte(){(0,t.unreachable)("Abstract method `getByte` called")}getBytes(Te){(0,t.unreachable)("Abstract method `getBytes` called")}peekByte(){const Te=this.getByte();return Te!==-1&&this.pos--,Te}peekBytes(Te){const e=this.getBytes(Te);return this.pos-=e.length,e}getUint16(){const Te=this.getByte(),e=this.getByte();return Te===-1||e===-1?-1:(Te<<8)+e}getInt32(){const Te=this.getByte(),e=this.getByte(),ke=this.getByte(),Oe=this.getByte();return(Te<<24)+(e<<16)+(ke<<8)+Oe}getByteRange(Te,e){(0,t.unreachable)("Abstract method `getByteRange` called")}getString(Te){return(0,t.bytesToString)(this.getBytes(Te))}skip(Te){this.pos+=Te||1}reset(){(0,t.unreachable)("Abstract method `reset` called")}moveStart(){(0,t.unreachable)("Abstract method `moveStart` called")}makeSubStream(Te,e,ke=null){(0,t.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}Se.BaseStream=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.NetworkPdfManager=Se.LocalPdfManager=void 0;var t=_e(2),xe=_e(7),Fe=_e(4),Te=_e(9),e=_e(8);function ke(De){if(De){const Me=(0,t.createValidAbsoluteUrl)(De);if(Me)return Me.href;(0,t.warn)(`Invalid absolute docBaseUrl: "${De}".`)}return null}class Oe{constructor(){this.constructor===Oe&&(0,t.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const Me=this.pdfDocument.catalog;return(0,t.shadow)(this,"docBaseUrl",Me.baseUrl||this._docBaseUrl)}ensureDoc(Me,Ae){return this.ensure(this.pdfDocument,Me,Ae)}ensureXRef(Me,Ae){return this.ensure(this.pdfDocument.xref,Me,Ae)}ensureCatalog(Me,Ae){return this.ensure(this.pdfDocument.catalog,Me,Ae)}getPage(Me){return this.pdfDocument.getPage(Me)}fontFallback(Me,Ae){return this.pdfDocument.fontFallback(Me,Ae)}loadXfaFonts(Me,Ae){return this.pdfDocument.loadXfaFonts(Me,Ae)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Me){return this.pdfDocument.serializeXfaData(Me)}cleanup(Me=!1){return this.pdfDocument.cleanup(Me)}async ensure(Me,Ae,Be){(0,t.unreachable)("Abstract method `ensure` called")}requestRange(Me,Ae){(0,t.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Me=!1){(0,t.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Me){(0,t.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Me){this._password=Me}terminate(Me){(0,t.unreachable)("Abstract method `terminate` called")}}class Ee extends Oe{constructor(Me,Ae,Be,He,je,Xe,St){super(),this._docId=Me,this._password=Be,this._docBaseUrl=ke(St),this.msgHandler=He,this.evaluatorOptions=je,this.enableXfa=Xe;const qe=new e.Stream(Ae);this.pdfDocument=new Te.PDFDocument(this,qe),this._loadedStreamPromise=Promise.resolve(qe)}async ensure(Me,Ae,Be){const He=Me[Ae];return typeof He=="function"?He.apply(Me,Be):He}requestRange(Me,Ae){return Promise.resolve()}requestLoadedStream(Me=!1){return this._loadedStreamPromise}terminate(Me){}}Se.LocalPdfManager=Ee;class Pe extends Oe{constructor(Me,Ae,Be,He,je,Xe){super(),this._docId=Me,this._password=Be.password,this._docBaseUrl=ke(Xe),this.msgHandler=Be.msgHandler,this.evaluatorOptions=He,this.enableXfa=je,this.streamManager=new xe.ChunkedStreamManager(Ae,{msgHandler:Be.msgHandler,length:Be.length,disableAutoFetch:Be.disableAutoFetch,rangeChunkSize:Be.rangeChunkSize}),this.pdfDocument=new Te.PDFDocument(this,this.streamManager.getStream())}async ensure(Me,Ae,Be){try{const He=Me[Ae];return typeof He=="function"?He.apply(Me,Be):He}catch(He){if(!(He instanceof Fe.MissingDataException))throw He;return await this.requestRange(He.begin,He.end),this.ensure(Me,Ae,Be)}}requestRange(Me,Ae){return this.streamManager.requestRange(Me,Ae)}requestLoadedStream(Me=!1){return this.streamManager.requestAllChunks(Me)}sendProgressiveData(Me){this.streamManager.onReceiveData({chunk:Me})}terminate(Me){this.streamManager.abort(Me)}}Se.NetworkPdfManager=Pe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ChunkedStreamManager=Se.ChunkedStream=void 0;var t=_e(2),xe=_e(4),Fe=_e(8);class Te extends Fe.Stream{constructor(Oe,Ee,Pe){super(new Uint8Array(Oe),0,Oe,null),this.chunkSize=Ee,this._loadedChunks=new Set,this.numChunks=Math.ceil(Oe/Ee),this.manager=Pe,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Oe=[];for(let Ee=0,Pe=this.numChunks;Ee<Pe;++Ee)this._loadedChunks.has(Ee)||Oe.push(Ee);return Oe}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Oe,Ee){const Pe=this.chunkSize;if(Oe%Pe!==0)throw new Error(`Bad begin offset: ${Oe}`);const De=Oe+Ee.byteLength;if(De%Pe!==0&&De!==this.bytes.length)throw new Error(`Bad end offset: ${De}`);this.bytes.set(new Uint8Array(Ee),Oe);const Me=Math.floor(Oe/Pe),Ae=Math.floor((De-1)/Pe)+1;for(let Be=Me;Be<Ae;++Be)this._loadedChunks.add(Be)}onReceiveProgressiveData(Oe){let Ee=this.progressiveDataLength;const Pe=Math.floor(Ee/this.chunkSize);this.bytes.set(new Uint8Array(Oe),Ee),Ee+=Oe.byteLength,this.progressiveDataLength=Ee;const De=Ee>=this.end?this.numChunks:Math.floor(Ee/this.chunkSize);for(let Me=Pe;Me<De;++Me)this._loadedChunks.add(Me)}ensureByte(Oe){if(Oe<this.progressiveDataLength)return;const Ee=Math.floor(Oe/this.chunkSize);if(!(Ee>this.numChunks)&&Ee!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(Ee))throw new xe.MissingDataException(Oe,Oe+1);this.lastSuccessfulEnsureByteChunk=Ee}}ensureRange(Oe,Ee){if(Oe>=Ee||Ee<=this.progressiveDataLength)return;const Pe=Math.floor(Oe/this.chunkSize);if(Pe>this.numChunks)return;const De=Math.min(Math.floor((Ee-1)/this.chunkSize)+1,this.numChunks);for(let Me=Pe;Me<De;++Me)if(!this._loadedChunks.has(Me))throw new xe.MissingDataException(Oe,Ee)}nextEmptyChunk(Oe){const Ee=this.numChunks;for(let Pe=0;Pe<Ee;++Pe){const De=(Oe+Pe)%Ee;if(!this._loadedChunks.has(De))return De}return null}hasChunk(Oe){return this._loadedChunks.has(Oe)}getByte(){const Oe=this.pos;return Oe>=this.end?-1:(Oe>=this.progressiveDataLength&&this.ensureByte(Oe),this.bytes[this.pos++])}getBytes(Oe){const Ee=this.bytes,Pe=this.pos,De=this.end;if(!Oe)return De>this.progressiveDataLength&&this.ensureRange(Pe,De),Ee.subarray(Pe,De);let Me=Pe+Oe;return Me>De&&(Me=De),Me>this.progressiveDataLength&&this.ensureRange(Pe,Me),this.pos=Me,Ee.subarray(Pe,Me)}getByteRange(Oe,Ee){return Oe<0&&(Oe=0),Ee>this.end&&(Ee=this.end),Ee>this.progressiveDataLength&&this.ensureRange(Oe,Ee),this.bytes.subarray(Oe,Ee)}makeSubStream(Oe,Ee,Pe=null){Ee?Oe+Ee>this.progressiveDataLength&&this.ensureRange(Oe,Oe+Ee):Oe>=this.progressiveDataLength&&this.ensureByte(Oe);function De(){}De.prototype=Object.create(this),De.prototype.getMissingChunks=function(){const Ae=this.chunkSize,Be=Math.floor(this.start/Ae),He=Math.floor((this.end-1)/Ae)+1,je=[];for(let Xe=Be;Xe<He;++Xe)this._loadedChunks.has(Xe)||je.push(Xe);return je},Object.defineProperty(De.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Me=new De;return Me.pos=Me.start=Oe,Me.end=Oe+Ee||this.end,Me.dict=Pe,Me}getBaseStreams(){return[this]}}Se.ChunkedStream=Te;class e{constructor(Oe,Ee){this.length=Ee.length,this.chunkSize=Ee.rangeChunkSize,this.stream=new Te(this.length,this.chunkSize,this),this.pdfNetworkStream=Oe,this.disableAutoFetch=Ee.disableAutoFetch,this.msgHandler=Ee.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,t.createPromiseCapability)()}sendRequest(Oe,Ee){const Pe=this.pdfNetworkStream.getRangeReader(Oe,Ee);Pe.isStreamingSupported||(Pe.onProgress=this.onProgress.bind(this));let De=[],Me=0;return new Promise((Ae,Be)=>{const He=je=>{try{if(!je.done){const St=je.value;De.push(St),Me+=(0,t.arrayByteLength)(St),Pe.isStreamingSupported&&this.onProgress({loaded:Me}),Pe.read().then(He,Be);return}const Xe=(0,t.arraysToBytes)(De);De=null,Ae(Xe)}catch(Xe){Be(Xe)}};Pe.read().then(He,Be)}).then(Ae=>{this.aborted||this.onReceiveData({chunk:Ae,begin:Oe})})}requestAllChunks(Oe=!1){if(!Oe){const Ee=this.stream.getMissingChunks();this._requestChunks(Ee)}return this._loadedStreamCapability.promise}_requestChunks(Oe){const Ee=this.currRequestId++,Pe=new Set;this._chunksNeededByRequest.set(Ee,Pe);for(const Ae of Oe)this.stream.hasChunk(Ae)||Pe.add(Ae);if(Pe.size===0)return Promise.resolve();const De=(0,t.createPromiseCapability)();this._promisesByRequest.set(Ee,De);const Me=[];for(const Ae of Pe){let Be=this._requestsByChunk.get(Ae);Be||(Be=[],this._requestsByChunk.set(Ae,Be),Me.push(Ae)),Be.push(Ee)}if(Me.length>0){const Ae=this.groupChunks(Me);for(const Be of Ae){const He=Be.beginChunk*this.chunkSize,je=Math.min(Be.endChunk*this.chunkSize,this.length);this.sendRequest(He,je).catch(De.reject)}}return De.promise.catch(Ae=>{if(!this.aborted)throw Ae})}getStream(){return this.stream}requestRange(Oe,Ee){Ee=Math.min(Ee,this.length);const Pe=this.getBeginChunk(Oe),De=this.getEndChunk(Ee),Me=[];for(let Ae=Pe;Ae<De;++Ae)Me.push(Ae);return this._requestChunks(Me)}requestRanges(Oe=[]){const Ee=[];for(const Pe of Oe){const De=this.getBeginChunk(Pe.begin),Me=this.getEndChunk(Pe.end);for(let Ae=De;Ae<Me;++Ae)Ee.includes(Ae)||Ee.push(Ae)}return Ee.sort(function(Pe,De){return Pe-De}),this._requestChunks(Ee)}groupChunks(Oe){const Ee=[];let Pe=-1,De=-1;for(let Me=0,Ae=Oe.length;Me<Ae;++Me){const Be=Oe[Me];Pe<0&&(Pe=Be),De>=0&&De+1!==Be&&(Ee.push({beginChunk:Pe,endChunk:De+1}),Pe=Be),Me+1===Oe.length&&Ee.push({beginChunk:Pe,endChunk:Be+1}),De=Be}return Ee}onProgress(Oe){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Oe.loaded,total:this.length})}onReceiveData(Oe){const Ee=Oe.chunk,Pe=Oe.begin===void 0,De=Pe?this.progressiveDataLength:Oe.begin,Me=De+Ee.byteLength,Ae=Math.floor(De/this.chunkSize),Be=Me<this.length?Math.floor(Me/this.chunkSize):Math.ceil(Me/this.chunkSize);Pe?(this.stream.onReceiveProgressiveData(Ee),this.progressiveDataLength=Me):this.stream.onReceiveData(De,Ee),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const He=[];for(let je=Ae;je<Be;++je){const Xe=this._requestsByChunk.get(je);if(!!Xe){this._requestsByChunk.delete(je);for(const St of Xe){const qe=this._chunksNeededByRequest.get(St);qe.has(je)&&qe.delete(je),!(qe.size>0)&&He.push(St)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let je;if(this.stream.numChunksLoaded===1){const Xe=this.stream.numChunks-1;this.stream.hasChunk(Xe)||(je=Xe)}else je=this.stream.nextEmptyChunk(Be);Number.isInteger(je)&&this._requestChunks([je])}for(const je of He){const Xe=this._promisesByRequest.get(je);this._promisesByRequest.delete(je),Xe.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Oe){this._loadedStreamCapability.reject(Oe)}getBeginChunk(Oe){return Math.floor(Oe/this.chunkSize)}getEndChunk(Oe){return Math.floor((Oe-1)/this.chunkSize)+1}abort(Oe){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(Oe);for(const Ee of this._promisesByRequest.values())Ee.reject(Oe)}}Se.ChunkedStreamManager=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.StringStream=Se.Stream=Se.NullStream=void 0;var t=_e(5),xe=_e(2);class Fe extends t.BaseStream{constructor(Oe,Ee,Pe,De){super(),this.bytes=Oe instanceof Uint8Array?Oe:new Uint8Array(Oe),this.start=Ee||0,this.pos=this.start,this.end=Ee+Pe||this.bytes.length,this.dict=De}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Oe){const Ee=this.bytes,Pe=this.pos,De=this.end;if(!Oe)return Ee.subarray(Pe,De);let Me=Pe+Oe;return Me>De&&(Me=De),this.pos=Me,Ee.subarray(Pe,Me)}getByteRange(Oe,Ee){return Oe<0&&(Oe=0),Ee>this.end&&(Ee=this.end),this.bytes.subarray(Oe,Ee)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Oe,Ee,Pe=null){return new Fe(this.bytes.buffer,Oe,Ee,Pe)}}Se.Stream=Fe;class Te extends Fe{constructor(Oe){super((0,xe.stringToBytes)(Oe))}}Se.StringStream=Te;class e extends Fe{constructor(){super(new Uint8Array(0))}}Se.NullStream=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Page=Se.PDFDocument=void 0;var t=_e(10),xe=_e(2),Fe=_e(4),Te=_e(3),e=_e(49),ke=_e(5),Oe=_e(65),Ee=_e(67),Pe=_e(69),De=_e(98),Me=_e(15),Ae=_e(8),Be=_e(73),He=_e(60),je=_e(13),Xe=_e(17),St=_e(72),qe=_e(63),Ye=_e(74),gi=_e(99);const ai=1,ui=[0,0,612,792];class Qe{constructor({pdfManager:Ve,xref:Ue,pageIndex:ti,pageDict:hi,ref:yi,globalIdFactory:wi,fontCache:Ci,builtInCMapCache:ki,standardFontDataCache:fi,globalImageCache:xi,nonBlendModesSet:li,xfaFactory:pi}){this.pdfManager=Ve,this.pageIndex=ti,this.pageDict=hi,this.xref=Ue,this.ref=yi,this.fontCache=Ci,this.builtInCMapCache=ki,this.standardFontDataCache=fi,this.globalImageCache=xi,this.nonBlendModesSet=li,this.evaluatorOptions=Ve.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=pi;const ri={obj:0};this._localIdFactory=class extends wi{static createObjId(){return`p${ti}_${++ri.obj}`}static getPageObjId(){return`page${yi.toString()}`}}}_getInheritableProperty(Ve,Ue=!1){const ti=(0,Fe.getInheritableProperty)({dict:this.pageDict,key:Ve,getArray:Ue,stopWhenFound:!1});return Array.isArray(ti)?ti.length===1||!(ti[0]instanceof Te.Dict)?ti[0]:Te.Dict.merge({xref:this.xref,dictArray:ti}):ti}get content(){return this.pageDict.getArray("Contents")}get resources(){const Ve=this._getInheritableProperty("Resources");return(0,xe.shadow)(this,"resources",Ve instanceof Te.Dict?Ve:Te.Dict.empty)}_getBoundingBox(Ve){if(this.xfaData)return this.xfaData.bbox;const Ue=this._getInheritableProperty(Ve,!0);if(Array.isArray(Ue)&&Ue.length===4){if(Ue[2]-Ue[0]!==0&&Ue[3]-Ue[1]!==0)return Ue;(0,xe.warn)(`Empty /${Ve} entry.`)}return null}get mediaBox(){return(0,xe.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||ui)}get cropBox(){return(0,xe.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let Ve=this.pageDict.get("UserUnit");return(typeof Ve!="number"||Ve<=0)&&(Ve=ai),(0,xe.shadow)(this,"userUnit",Ve)}get view(){const{cropBox:Ve,mediaBox:Ue}=this;let ti;if(Ve===Ue||(0,xe.isArrayEqual)(Ve,Ue))ti=Ue;else{const hi=xe.Util.intersect(Ve,Ue);hi&&hi[2]-hi[0]!==0&&hi[3]-hi[1]!==0?ti=hi:(0,xe.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,xe.shadow)(this,"view",ti||Ue)}get rotate(){let Ve=this._getInheritableProperty("Rotate")||0;return Ve%90!==0?Ve=0:Ve>=360?Ve%=360:Ve<0&&(Ve=(Ve%360+360)%360),(0,xe.shadow)(this,"rotate",Ve)}_onSubStreamError(Ve,Ue,ti){if(this.evaluatorOptions.ignoreErrors){Ve.send("UnsupportedFeature",{featureId:xe.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,xe.warn)(`getContentStream - ignoring sub-stream (${ti}): "${Ue}".`);return}throw Ue}getContentStream(Ve){return this.pdfManager.ensure(this,"content").then(Ue=>Ue instanceof ke.BaseStream?Ue:Array.isArray(Ue)?new Xe.StreamsSequenceStream(Ue,this._onSubStreamError.bind(this,Ve)):new Ae.NullStream)}get xfaData(){return(0,xe.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(Ve,Ue,ti){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const hi=new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),yi=this.pageDict,wi=this.annotations.slice(),Ci=await t.AnnotationFactory.saveNewAnnotations(hi,Ue,ti);for(const{ref:pi}of Ci.annotations)wi.push(pi);const ki=yi.get("Annots");yi.set("Annots",wi);const fi=[];let xi=null;this.xref.encrypt&&(xi=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,qe.writeObject)(this.ref,yi,fi,xi),ki&&yi.set("Annots",ki);const li=Ci.dependencies;return li.push({ref:this.ref,data:fi.join("")},...Ci.annotations),li}save(Ve,Ue,ti){const hi=new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(yi){const wi=[];for(const Ci of yi)!Ci.mustBePrinted(ti)||wi.push(Ci.save(hi,Ue,ti).catch(function(ki){return(0,xe.warn)(`save - ignoring annotation data during "${Ue.name}" task: "${ki}".`),null}));return Promise.all(wi).then(function(Ci){return Ci.filter(ki=>!!ki)})})}loadResources(Ve){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new Be.ObjectLoader(this.resources,Ve,this.xref).load())}getOperatorList({handler:Ve,sink:Ue,task:ti,intent:hi,cacheKey:yi,annotationStorage:wi=null}){const Ci=this.getContentStream(Ve),ki=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),fi=new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),xi=this.xfaFactory?null:(0,Fe.getNewAnnotationsMap)(wi);let li=Promise.resolve(null);if(xi){const oi=xi.get(this.pageIndex);oi&&(li=t.AnnotationFactory.printNewAnnotations(fi,ti,oi))}const ri=Promise.all([Ci,ki]).then(([oi])=>{const di=new He.OperatorList(hi,Ue);return Ve.send("StartRenderPage",{transparency:fi.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:yi}),fi.getOperatorList({stream:oi,task:ti,resources:this.resources,operatorList:di}).then(function(){return di})});return Promise.all([ri,this._parsedAnnotations,li]).then(function([oi,di,bi]){if(bi&&(di=di.concat(bi)),di.length===0||hi&xe.RenderingIntentFlag.ANNOTATIONS_DISABLE)return oi.flush(!0),{length:oi.totalLength};const Ai=!!(hi&xe.RenderingIntentFlag.ANNOTATIONS_FORMS),Ei=!!(hi&xe.RenderingIntentFlag.ANY),mi=!!(hi&xe.RenderingIntentFlag.DISPLAY),_i=!!(hi&xe.RenderingIntentFlag.PRINT),Si=[];for(const Fi of di)(Ei||mi&&Fi.mustBeViewed(wi)||_i&&Fi.mustBePrinted(wi))&&Si.push(Fi.getOperatorList(fi,ti,hi,Ai,wi).catch(function(Pi){return(0,xe.warn)(`getOperatorList - ignoring annotation data during "${ti.name}" task: "${Pi}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Si).then(function(Fi){let Pi=!1,Di=!1;for(const{opList:Ii,separateForm:Mi,separateCanvas:$i}of Fi)oi.addOpList(Ii),Mi&&(Pi=Mi),$i&&(Di=$i);return oi.flush(!0,{form:Pi,canvas:Di}),{length:oi.totalLength}})})}extractTextContent({handler:Ve,task:Ue,includeMarkedContent:ti,sink:hi,combineTextItems:yi}){const wi=this.getContentStream(Ve),Ci=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([wi,Ci]).then(([fi])=>new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:fi,task:Ue,resources:this.resources,includeMarkedContent:ti,combineTextItems:yi,sink:hi,viewBox:this.view}))}async getStructTree(){const Ve=await this.pdfManager.ensureCatalog("structTreeRoot");return Ve?(await this.pdfManager.ensure(this,"_parseStructTree",[Ve])).serializable:null}_parseStructTree(Ve){const Ue=new St.StructTreePage(Ve,this.pageDict);return Ue.parse(),Ue}async getAnnotationsData(Ve,Ue,ti){const hi=await this._parsedAnnotations;if(hi.length===0)return[];const yi=[],wi=[];let Ci;const ki=!!(ti&xe.RenderingIntentFlag.ANY),fi=!!(ti&xe.RenderingIntentFlag.DISPLAY),xi=!!(ti&xe.RenderingIntentFlag.PRINT);for(const li of hi){const pi=ki||fi&&li.viewable;(pi||xi&&li.printable)&&wi.push(li.data),li.hasTextContent&&pi&&(Ci||(Ci=new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),yi.push(li.extractTextContent(Ci,Ue,this.view).catch(function(ri){(0,xe.warn)(`getAnnotationsData - ignoring textContent during "${Ue.name}" task: "${ri}".`)})))}return await Promise.all(yi),wi}get annotations(){const Ve=this._getInheritableProperty("Annots");return(0,xe.shadow)(this,"annotations",Array.isArray(Ve)?Ve:[])}get _parsedAnnotations(){const Ve=this.pdfManager.ensure(this,"annotations").then(()=>{const Ue=[];for(const ti of this.annotations)Ue.push(t.AnnotationFactory.create(this.xref,ti,this.pdfManager,this._localIdFactory,!1).catch(function(hi){return(0,xe.warn)(`_parsedAnnotations: "${hi}".`),null}));return Promise.all(Ue).then(function(ti){if(ti.length===0)return ti;const hi=[];let yi;for(const wi of ti)if(!!wi){if(wi instanceof t.PopupAnnotation){yi||(yi=[]),yi.push(wi);continue}hi.push(wi)}return yi&&hi.push(...yi),hi})});return(0,xe.shadow)(this,"_parsedAnnotations",Ve)}get jsActions(){const Ve=(0,Fe.collectActions)(this.xref,this.pageDict,xe.PageActionEventType);return(0,xe.shadow)(this,"jsActions",Ve)}}Se.Page=Qe;const Ze=new Uint8Array([37,80,68,70,45]),ci=new Uint8Array([115,116,97,114,116,120,114,101,102]),ze=new Uint8Array([101,110,100,111,98,106]),We=1024,si="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function ni(Ke,Ve,Ue=1024,ti=!1){const hi=Ve.length,yi=Ke.peekBytes(Ue),wi=yi.length-hi;if(wi<=0)return!1;if(ti){const Ci=hi-1;let ki=yi.length-1;for(;ki>=Ci;){let fi=0;for(;fi<hi&&yi[ki-fi]===Ve[Ci-fi];)fi++;if(fi>=hi)return Ke.pos+=ki-Ci,!0;ki--}}else{let Ci=0;for(;Ci<=wi;){let ki=0;for(;ki<hi&&yi[Ci+ki]===Ve[ki];)ki++;if(ki>=hi)return Ke.pos+=Ci,!0;Ci++}}return!1}class $e{constructor(Ve,Ue){if(Ue.length<=0)throw new xe.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=Ve,this.stream=Ue,this.xref=new gi.XRef(Ue,Ve),this._pagePromises=new Map,this._version=null;const ti={font:0};this._globalIdFactory=class{static getDocId(){return`g_${Ve.docId}`}static createFontId(){return`f${++ti.font}`}static createObjId(){(0,xe.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,xe.unreachable)("Abstract method `getPageObjId` called.")}}}parse(Ve){this.xref.parse(Ve),this.catalog=new Ee.Catalog(this.pdfManager,this.xref)}get linearization(){let Ve=null;try{Ve=Me.Linearization.create(this.stream)}catch(Ue){if(Ue instanceof Fe.MissingDataException)throw Ue;(0,xe.info)(Ue)}return(0,xe.shadow)(this,"linearization",Ve)}get startXRef(){const Ve=this.stream;let Ue=0;if(this.linearization)Ve.reset(),ni(Ve,ze)&&(Ue=Ve.pos+6-Ve.start);else{const hi=ci.length;let yi=!1,wi=Ve.end;for(;!yi&&wi>0;)wi-=1024-hi,wi<0&&(wi=0),Ve.pos=wi,yi=ni(Ve,ci,1024,!0);if(yi){Ve.skip(9);let Ci;do Ci=Ve.getByte();while((0,Fe.isWhiteSpace)(Ci));let ki="";for(;Ci>=32&&Ci<=57;)ki+=String.fromCharCode(Ci),Ci=Ve.getByte();Ue=parseInt(ki,10),isNaN(Ue)&&(Ue=0)}}return(0,xe.shadow)(this,"startXRef",Ue)}checkHeader(){const Ve=this.stream;if(Ve.reset(),!ni(Ve,Ze))return;Ve.moveStart(),Ve.skip(Ze.length);let Ue="",ti;for(;(ti=Ve.getByte())>32&&Ue.length<7;)Ue+=String.fromCharCode(ti);Fe.PDF_VERSION_REGEXP.test(Ue)?this._version=Ue:(0,xe.warn)(`Invalid PDF header version: ${Ue}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let Ve=0;return this.catalog.hasActualNumPages?Ve=this.catalog.numPages:this.xfaFactory?Ve=this.xfaFactory.getNumPages():this.linearization?Ve=this.linearization.numPages:Ve=this.catalog.numPages,(0,xe.shadow)(this,"numPages",Ve)}_hasOnlyDocumentSignatures(Ve,Ue=0){return Array.isArray(Ve)?Ve.every(hi=>{if(hi=this.xref.fetchIfRef(hi),!(hi instanceof Te.Dict))return!1;if(hi.has("Kids"))return++Ue>10?((0,xe.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(hi.get("Kids"),Ue);const yi=(0,Te.isName)(hi.get("FT"),"Sig"),wi=hi.get("Rect"),Ci=Array.isArray(wi)&&wi.every(ki=>ki===0);return yi&&Ci}):!1}get _xfaStreams(){const Ve=this.catalog.acroForm;if(!Ve)return null;const Ue=Ve.get("XFA"),ti={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(Ue instanceof ke.BaseStream&&!Ue.isEmpty)return ti["xdp:xdp"]=Ue,ti;if(!Array.isArray(Ue)||Ue.length===0)return null;for(let hi=0,yi=Ue.length;hi<yi;hi+=2){let wi;if(hi===0?wi="xdp:xdp":hi===yi-2?wi="/xdp:xdp":wi=Ue[hi],!ti.hasOwnProperty(wi))continue;const Ci=this.xref.fetchIfRef(Ue[hi+1]);!(Ci instanceof ke.BaseStream)||Ci.isEmpty||(ti[wi]=Ci)}return ti}get xfaDatasets(){const Ve=this._xfaStreams;if(!Ve)return(0,xe.shadow)(this,"xfaDatasets",null);for(const Ue of["datasets","xdp:xdp"]){const ti=Ve[Ue];if(!!ti)try{const hi=(0,xe.stringToUTF8String)(ti.getString()),yi={[Ue]:hi};return(0,xe.shadow)(this,"xfaDatasets",new De.DatasetReader(yi))}catch{(0,xe.warn)("XFA - Invalid utf-8 string.");break}}return(0,xe.shadow)(this,"xfaDatasets",null)}get xfaData(){const Ve=this._xfaStreams;if(!Ve)return null;const Ue=Object.create(null);for(const[ti,hi]of Object.entries(Ve))if(!!hi)try{Ue[ti]=(0,xe.stringToUTF8String)(hi.getString())}catch{return(0,xe.warn)("XFA - Invalid utf-8 string."),null}return Ue}get xfaFactory(){let Ve;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(Ve=this.xfaData),(0,xe.shadow)(this,"xfaFactory",Ve?new Ye.XFAFactory(Ve):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const Ve=await this.pdfManager.ensureCatalog("xfaImages");if(!Ve)return;const Ue=Ve.getKeys();await new Be.ObjectLoader(Ve,Ue,this.xref).load();const hi=new Map;for(const yi of Ue){const wi=Ve.get(yi);wi instanceof ke.BaseStream&&hi.set(yi,wi.getBytes())}this.xfaFactory.setImages(hi)}async loadXfaFonts(Ve,Ue){const ti=await this.pdfManager.ensureCatalog("acroForm");if(!ti)return;const hi=await ti.getAsync("DR");if(!(hi instanceof Te.Dict))return;await new Be.ObjectLoader(hi,["Font"],this.xref).load();const wi=hi.get("Font");if(!(wi instanceof Te.Dict))return;const Ci=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Ci.useSystemFonts=!1;const ki=new je.PartialEvaluator({xref:this.xref,handler:Ve,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Ci}),fi=new He.OperatorList,xi=[],li={get font(){return xi.at(-1)},set font(bi){xi.push(bi)},clone(){return this}},pi=new Map;wi.forEach((bi,Ai)=>{pi.set(bi,Ai)});const ri=[];for(const[bi,Ai]of pi){const Ei=Ai.get("FontDescriptor");if(!(Ei instanceof Te.Dict))continue;let mi=Ei.get("FontFamily");mi=mi.replace(/[ ]+(\d)/g,"$1");const _i=Ei.get("FontWeight"),Si=-Ei.get("ItalicAngle"),Fi={fontFamily:mi,fontWeight:_i,italicAngle:Si};!(0,Fe.validateCSSFont)(Fi)||ri.push(ki.handleSetFont(hi,[Te.Name.get(bi),1],null,fi,Ue,li,null,Fi).catch(function(Pi){return(0,xe.warn)(`loadXfaFonts: "${Pi}".`),null}))}await Promise.all(ri);const oi=this.xfaFactory.setFonts(xi);if(!oi)return;Ci.ignoreErrors=!0,ri.length=0,xi.length=0;const di=new Set;for(const bi of oi)(0,e.getXfaFontName)(`${bi}-Regular`)||di.add(bi);di.size&&oi.push("PdfJS-Fallback");for(const bi of oi)if(!di.has(bi))for(const Ai of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Ei=`${bi}-${Ai.name}`,mi=(0,e.getXfaFontDict)(Ei);ri.push(ki.handleSetFont(hi,[Te.Name.get(Ei),1],null,fi,Ue,li,mi,{fontFamily:bi,fontWeight:Ai.fontWeight,italicAngle:Ai.italicAngle}).catch(function(_i){return(0,xe.warn)(`loadXfaFonts: "${_i}".`),null}))}await Promise.all(ri),this.xfaFactory.appendFonts(xi,di)}async serializeXfaData(Ve){return this.xfaFactory?this.xfaFactory.serializeData(Ve):null}get version(){return this.catalog.version||this._version}get formInfo(){const Ve={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},Ue=this.catalog.acroForm;if(!Ue)return(0,xe.shadow)(this,"formInfo",Ve);try{const ti=Ue.get("Fields"),hi=Array.isArray(ti)&&ti.length>0;Ve.hasFields=hi;const yi=Ue.get("XFA");Ve.hasXfa=Array.isArray(yi)&&yi.length>0||yi instanceof ke.BaseStream&&!yi.isEmpty;const Ci=!!(Ue.get("SigFlags")&1),ki=Ci&&this._hasOnlyDocumentSignatures(ti);Ve.hasAcroForm=hi&&!ki,Ve.hasSignatures=Ci}catch(ti){if(ti instanceof Fe.MissingDataException)throw ti;(0,xe.warn)(`Cannot fetch form information: "${ti}".`)}return(0,xe.shadow)(this,"formInfo",Ve)}get documentInfo(){const Ve={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let Ue;try{Ue=this.xref.trailer.get("Info")}catch(ti){if(ti instanceof Fe.MissingDataException)throw ti;(0,xe.info)("The document information dictionary is invalid.")}if(!(Ue instanceof Te.Dict))return(0,xe.shadow)(this,"documentInfo",Ve);for(const ti of Ue.getKeys()){const hi=Ue.get(ti);switch(ti){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof hi=="string"){Ve[ti]=(0,xe.stringToPDFString)(hi);continue}break;case"Trapped":if(hi instanceof Te.Name){Ve[ti]=hi;continue}break;default:let yi;switch(typeof hi){case"string":yi=(0,xe.stringToPDFString)(hi);break;case"number":case"boolean":yi=hi;break;default:hi instanceof Te.Name&&(yi=hi);break}if(yi===void 0){(0,xe.warn)(`Bad value, for custom key "${ti}", in Info: ${hi}.`);continue}Ve.Custom||(Ve.Custom=Object.create(null)),Ve.Custom[ti]=yi;continue}(0,xe.warn)(`Bad value, for key "${ti}", in Info: ${hi}.`)}return(0,xe.shadow)(this,"documentInfo",Ve)}get fingerprints(){function Ve(wi){return typeof wi=="string"&&wi.length>0&&wi!==si}function Ue(wi){const Ci=[];for(const ki of wi){const fi=ki.toString(16);Ci.push(fi.padStart(2,"0"))}return Ci.join("")}const ti=this.xref.trailer.get("ID");let hi,yi;return Array.isArray(ti)&&Ve(ti[0])?(hi=(0,xe.stringToBytes)(ti[0]),ti[1]!==ti[0]&&Ve(ti[1])&&(yi=(0,xe.stringToBytes)(ti[1]))):hi=(0,Oe.calculateMD5)(this.stream.getByteRange(0,We),0,We),(0,xe.shadow)(this,"fingerprints",[Ue(hi),yi?Ue(yi):null])}async _getLinearizationPage(Ve){const{catalog:Ue,linearization:ti,xref:hi}=this,yi=Te.Ref.get(ti.objectNumberFirst,0);try{const wi=await hi.fetchAsync(yi);if(wi instanceof Te.Dict){let Ci=wi.getRaw("Type");if(Ci instanceof Te.Ref&&(Ci=await hi.fetchAsync(Ci)),(0,Te.isName)(Ci,"Page")||!wi.has("Type")&&!wi.has("Kids"))return Ue.pageKidsCountCache.has(yi)||Ue.pageKidsCountCache.put(yi,1),Ue.pageIndexCache.has(yi)||Ue.pageIndexCache.put(yi,0),[wi,yi]}throw new xe.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(wi){return(0,xe.warn)(`_getLinearizationPage: "${wi.message}".`),Ue.getPageDict(Ve)}}getPage(Ve){const Ue=this._pagePromises.get(Ve);if(Ue)return Ue;const{catalog:ti,linearization:hi,xfaFactory:yi}=this;let wi;return yi?wi=Promise.resolve([Te.Dict.empty,null]):hi&&hi.pageFirst===Ve?wi=this._getLinearizationPage(Ve):wi=ti.getPageDict(Ve),wi=wi.then(([Ci,ki])=>new Qe({pdfManager:this.pdfManager,xref:this.xref,pageIndex:Ve,pageDict:Ci,ref:ki,globalIdFactory:this._globalIdFactory,fontCache:ti.fontCache,builtInCMapCache:ti.builtInCMapCache,standardFontDataCache:ti.standardFontDataCache,globalImageCache:ti.globalImageCache,nonBlendModesSet:ti.nonBlendModesSet,xfaFactory:yi})),this._pagePromises.set(Ve,wi),wi}async checkFirstPage(Ve=!1){if(!Ve)try{await this.getPage(0)}catch(Ue){if(Ue instanceof Fe.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Fe.XRefParseException}}async checkLastPage(Ve=!1){const{catalog:Ue,pdfManager:ti}=this;Ue.setActualNumPages();let hi;try{if(await Promise.all([ti.ensureDoc("xfaFactory"),ti.ensureDoc("linearization"),ti.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?hi=this.linearization.numPages:hi=Ue.numPages,Number.isInteger(hi)){if(hi<=1)return}else throw new xe.FormatError("Page count is not an integer.");await this.getPage(hi-1)}catch(yi){if(this._pagePromises.delete(hi-1),await this.cleanup(),yi instanceof Fe.XRefEntryException&&!Ve)throw new Fe.XRefParseException;(0,xe.warn)(`checkLastPage - invalid /Pages tree /Count: ${hi}.`);let wi;try{wi=await Ue.getAllPageDicts(Ve)}catch(Ci){if(Ci instanceof Fe.XRefEntryException&&!Ve)throw new Fe.XRefParseException;Ue.setActualNumPages(1);return}for(const[Ci,[ki,fi]]of wi){let xi;ki instanceof Error?(xi=Promise.reject(ki),xi.catch(()=>{})):xi=Promise.resolve(new Qe({pdfManager:ti,xref:this.xref,pageIndex:Ci,pageDict:ki,ref:fi,globalIdFactory:this._globalIdFactory,fontCache:Ue.fontCache,builtInCMapCache:Ue.builtInCMapCache,standardFontDataCache:Ue.standardFontDataCache,globalImageCache:Ue.globalImageCache,nonBlendModesSet:Ue.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Ci,xi)}Ue.setActualNumPages(wi.size)}}fontFallback(Ve,Ue){return this.catalog.fontFallback(Ve,Ue)}async cleanup(Ve=!1){return this.catalog?this.catalog.cleanup(Ve):(0,Pe.clearGlobalCaches)()}_collectFieldObjects(Ve,Ue,ti){const hi=this.xref.fetchIfRef(Ue);if(hi.has("T")){const yi=(0,xe.stringToPDFString)(hi.get("T"));Ve===""?Ve=yi:Ve=`${Ve}.${yi}`}if(ti.has(Ve)||ti.set(Ve,[]),ti.get(Ve).push(t.AnnotationFactory.create(this.xref,Ue,this.pdfManager,this._localIdFactory,!0).then(yi=>yi&&yi.getFieldObject()).catch(function(yi){return(0,xe.warn)(`_collectFieldObjects: "${yi}".`),null})),hi.has("Kids")){const yi=hi.get("Kids");for(const wi of yi)this._collectFieldObjects(Ve,wi,ti)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,xe.shadow)(this,"fieldObjects",Promise.resolve(null));const Ve=Object.create(null),Ue=new Map;for(const hi of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",hi,Ue);const ti=[];for(const[hi,yi]of Ue)ti.push(Promise.all(yi).then(wi=>{wi=wi.filter(Ci=>!!Ci),wi.length>0&&(Ve[hi]=wi)}));return(0,xe.shadow)(this,"fieldObjects",Promise.all(ti).then(()=>Ve))}get hasJSActions(){const Ve=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,xe.shadow)(this,"hasJSActions",Ve)}async _parseHasJSActions(){const[Ve,Ue]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return Ve?!0:Ue?Object.values(Ue).some(ti=>ti.some(hi=>hi.actions!==null)):!1}get calculationOrderIds(){const Ve=this.catalog.acroForm;if(!Ve||!Ve.has("CO"))return(0,xe.shadow)(this,"calculationOrderIds",null);const Ue=Ve.get("CO");if(!Array.isArray(Ue)||Ue.length===0)return(0,xe.shadow)(this,"calculationOrderIds",null);const ti=[];for(const hi of Ue)hi instanceof Te.Ref&&ti.push(hi.toString());return ti.length===0?(0,xe.shadow)(this,"calculationOrderIds",null):(0,xe.shadow)(this,"calculationOrderIds",ti)}}Se.PDFDocument=$e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PopupAnnotation=Se.MarkupAnnotation=Se.AnnotationFactory=Se.AnnotationBorderStyle=Se.Annotation=void 0,Se.getQuadPoints=St;var t=_e(2),xe=_e(4),Fe=_e(11),Te=_e(3),e=_e(63),ke=_e(5),Oe=_e(58),Ee=_e(67),Pe=_e(12),De=_e(70),Me=_e(73),Ae=_e(60),Be=_e(8),He=_e(74);class je{static create(oi,di,bi,Ai,Ei){return Promise.all([bi.ensureCatalog("acroForm"),bi.ensureCatalog("baseUrl"),bi.ensureCatalog("attachments"),bi.ensureDoc("xfaDatasets"),Ei?this._getPageIndex(oi,di,bi):-1]).then(([mi,_i,Si,Fi,Pi])=>bi.ensure(this,"_create",[oi,di,bi,Ai,mi,Si,Fi,Ei,Pi]))}static _create(oi,di,bi,Ai,Ei,mi=null,_i,Si,Fi=-1){const Pi=oi.fetchIfRef(di);if(!(Pi instanceof Te.Dict))return;const Di=di instanceof Te.Ref?di.toString():`annot_${Ai.createObjId()}`;let Ii=Pi.get("Subtype");Ii=Ii instanceof Te.Name?Ii.name:null;const Mi={xref:oi,ref:di,dict:Pi,subtype:Ii,id:Di,pdfManager:bi,acroForm:Ei instanceof Te.Dict?Ei:Te.Dict.empty,attachments:mi,xfaDatasets:_i,collectFields:Si,pageIndex:Fi};switch(Ii){case"Link":return new si(Mi);case"Text":return new We(Mi);case"Widget":let $i=(0,xe.getInheritableProperty)({dict:Pi,key:"FT"});switch($i=$i instanceof Te.Name?$i.name:null,$i){case"Tx":return new Qe(Mi);case"Btn":return new Ze(Mi);case"Ch":return new ci(Mi);case"Sig":return new ze(Mi)}return(0,t.warn)(`Unimplemented widget field type "${$i}", falling back to base field type.`),new ui(Mi);case"Popup":return new ni(Mi);case"FreeText":return new $e(Mi);case"Line":return new Ke(Mi);case"Square":return new Ve(Mi);case"Circle":return new Ue(Mi);case"PolyLine":return new ti(Mi);case"Polygon":return new hi(Mi);case"Caret":return new yi(Mi);case"Ink":return new wi(Mi);case"Highlight":return new Ci(Mi);case"Underline":return new ki(Mi);case"Squiggly":return new fi(Mi);case"StrikeOut":return new xi(Mi);case"Stamp":return new li(Mi);case"FileAttachment":return new pi(Mi);default:return Si||(Ii?(0,t.warn)(`Unimplemented annotation type "${Ii}", falling back to base annotation.`):(0,t.warn)("Annotation is missing the required /Subtype.")),new Ye(Mi)}}static async _getPageIndex(oi,di,bi){try{const Ai=await oi.fetchIfRefAsync(di);if(!(Ai instanceof Te.Dict))return-1;const Ei=Ai.getRaw("P");return Ei instanceof Te.Ref?await bi.ensureCatalog("getPageIndex",[Ei]):-1}catch(Ai){return(0,t.warn)(`_getPageIndex: "${Ai}".`),-1}}static async saveNewAnnotations(oi,di,bi){const Ai=oi.xref;let Ei;const mi=[],_i=[];for(const Si of bi)switch(Si.annotationType){case t.AnnotationEditorType.FREETEXT:if(!Ei){const Fi=new Te.Dict(Ai);Fi.set("BaseFont",Te.Name.get("Helvetica")),Fi.set("Type",Te.Name.get("Font")),Fi.set("Subtype",Te.Name.get("Type1")),Fi.set("Encoding",Te.Name.get("WinAnsiEncoding"));const Pi=[];Ei=Ai.getNewRef(),(0,e.writeObject)(Ei,Fi,Pi,null),mi.push({ref:Ei,data:Pi.join("")})}_i.push($e.createNewAnnotation(Ai,Si,mi,{evaluator:oi,task:di,baseFontRef:Ei}));break;case t.AnnotationEditorType.INK:_i.push(wi.createNewAnnotation(Ai,Si,mi))}return{annotations:await Promise.all(_i),dependencies:mi}}static async printNewAnnotations(oi,di,bi){if(!bi)return null;const Ai=oi.xref,Ei=[];for(const mi of bi)switch(mi.annotationType){case t.AnnotationEditorType.FREETEXT:Ei.push($e.createNewPrintAnnotation(Ai,mi,{evaluator:oi,task:di}));break;case t.AnnotationEditorType.INK:Ei.push(wi.createNewPrintAnnotation(Ai,mi));break}return Promise.all(Ei)}}Se.AnnotationFactory=je;function Xe(ri,oi=new Uint8ClampedArray(3)){if(!Array.isArray(ri))return oi;const di=oi||new Uint8ClampedArray(3);switch(ri.length){case 0:return null;case 1:return Pe.ColorSpace.singletons.gray.getRgbItem(ri,0,di,0),di;case 3:return Pe.ColorSpace.singletons.rgb.getRgbItem(ri,0,di,0),di;case 4:return Pe.ColorSpace.singletons.cmyk.getRgbItem(ri,0,di,0),di;default:return oi}}function St(ri,oi){if(!ri.has("QuadPoints"))return null;const di=ri.getArray("QuadPoints");if(!Array.isArray(di)||di.length===0||di.length%8>0)return null;const bi=[];for(let Ai=0,Ei=di.length/8;Ai<Ei;Ai++){bi.push([]);for(let mi=Ai*8,_i=Ai*8+8;mi<_i;mi+=2){const Si=di[mi],Fi=di[mi+1];if(oi!==null&&(Si<oi[0]||Si>oi[2]||Fi<oi[1]||Fi>oi[3]))return null;bi[Ai].push({x:Si,y:Fi})}}return bi.map(Ai=>{const[Ei,mi,_i,Si]=Ai.reduce(([Fi,Pi,Di,Ii],Mi)=>[Math.min(Fi,Mi.x),Math.max(Pi,Mi.x),Math.min(Di,Mi.y),Math.max(Ii,Mi.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:Ei,y:Si},{x:mi,y:Si},{x:Ei,y:_i},{x:mi,y:_i}]})}function qe(ri,oi,di){const[bi,Ai,Ei,mi]=t.Util.getAxialAlignedBoundingBox(oi,di);if(bi===Ei||Ai===mi)return[1,0,0,1,ri[0],ri[1]];const _i=(ri[2]-ri[0])/(Ei-bi),Si=(ri[3]-ri[1])/(mi-Ai);return[_i,0,0,Si,ri[0]-bi*_i,ri[1]-Ai*Si]}class Ye{constructor(oi){const di=oi.dict;this.setTitle(di.get("T")),this.setContents(di.get("Contents")),this.setModificationDate(di.get("M")),this.setFlags(di.get("F")),this.setRectangle(di.getArray("Rect")),this.setColor(di.getArray("C")),this.setBorderStyle(di),this.setAppearance(di),this.setOptionalContent(di);const bi=di.get("MK");if(this.setBorderAndBackgroundColors(bi),this.setRotation(bi),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:oi.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:oi.subtype,hasOwnCanvas:!1},oi.collectFields){const Ai=di.get("Kids");if(Array.isArray(Ai)){const Ei=[];for(const mi of Ai)mi instanceof Te.Ref&&Ei.push(mi.toString());Ei.length!==0&&(this.data.kidIds=Ei)}this.data.actions=(0,xe.collectActions)(oi.xref,di,t.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(di),this.data.pageIndex=oi.pageIndex}this._fallbackFontDict=null}_hasFlag(oi,di){return!!(oi&di)}_isViewable(oi){return!this._hasFlag(oi,t.AnnotationFlag.INVISIBLE)&&!this._hasFlag(oi,t.AnnotationFlag.NOVIEW)}_isPrintable(oi){return this._hasFlag(oi,t.AnnotationFlag.PRINT)&&!this._hasFlag(oi,t.AnnotationFlag.INVISIBLE)}mustBeViewed(oi){const di=oi&&oi.get(this.data.id);return di&&di.hidden!==void 0?!di.hidden:this.viewable&&!this._hasFlag(this.flags,t.AnnotationFlag.HIDDEN)}mustBePrinted(oi){const di=oi&&oi.get(this.data.id);return di&&di.print!==void 0?di.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(oi){const di=typeof oi=="string"?(0,t.stringToPDFString)(oi):"",bi=di&&(0,Oe.bidi)(di).dir==="rtl"?"rtl":"ltr";return{str:di,dir:bi}}setTitle(oi){this._title=this._parseStringHelper(oi)}setContents(oi){this._contents=this._parseStringHelper(oi)}setModificationDate(oi){this.modificationDate=typeof oi=="string"?oi:null}setFlags(oi){this.flags=Number.isInteger(oi)&&oi>0?oi:0}hasFlag(oi){return this._hasFlag(this.flags,oi)}setRectangle(oi){Array.isArray(oi)&&oi.length===4?this.rectangle=t.Util.normalizeRect(oi):this.rectangle=[0,0,0,0]}setColor(oi){this.color=Xe(oi)}setLineEndings(oi){if(this.lineEndings=["None","None"],Array.isArray(oi)&&oi.length===2)for(let di=0;di<2;di++){const bi=oi[di];if(bi instanceof Te.Name)switch(bi.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[di]=bi.name;continue}(0,t.warn)(`Ignoring invalid lineEnding: ${bi}`)}}setRotation(oi){if(this.rotation=0,oi instanceof Te.Dict){let di=oi.get("R")||0;Number.isInteger(di)&&di!==0&&(di%=360,di<0&&(di+=360),di%90===0&&(this.rotation=di))}}setBorderAndBackgroundColors(oi){oi instanceof Te.Dict?(this.borderColor=Xe(oi.getArray("BC"),null),this.backgroundColor=Xe(oi.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(oi){if(this.borderStyle=new gi,oi instanceof Te.Dict)if(oi.has("BS")){const di=oi.get("BS"),bi=di.get("Type");(!bi||(0,Te.isName)(bi,"Border"))&&(this.borderStyle.setWidth(di.get("W"),this.rectangle),this.borderStyle.setStyle(di.get("S")),this.borderStyle.setDashArray(di.getArray("D")))}else if(oi.has("Border")){const di=oi.getArray("Border");Array.isArray(di)&&di.length>=3&&(this.borderStyle.setHorizontalCornerRadius(di[0]),this.borderStyle.setVerticalCornerRadius(di[1]),this.borderStyle.setWidth(di[2],this.rectangle),di.length===4&&this.borderStyle.setDashArray(di[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(oi){this.appearance=null;const di=oi.get("AP");if(!(di instanceof Te.Dict))return;const bi=di.get("N");if(bi instanceof ke.BaseStream){this.appearance=bi;return}if(!(bi instanceof Te.Dict))return;const Ai=oi.get("AS");!(Ai instanceof Te.Name)||!bi.has(Ai.name)||(this.appearance=bi.get(Ai.name))}setOptionalContent(oi){this.oc=null;const di=oi.get("OC");di instanceof Te.Name?(0,t.warn)("setOptionalContent: Support for /Name-entry is not implemented."):di instanceof Te.Dict&&(this.oc=di)}loadResources(oi,di){return di.dict.getAsync("Resources").then(bi=>bi?new Me.ObjectLoader(bi,oi,bi.xref).load().then(function(){return bi}):void 0)}async getOperatorList(oi,di,bi,Ai,Ei){const mi=this.data;let _i=this.appearance;const Si=!!(this.data.hasOwnCanvas&&bi&t.RenderingIntentFlag.DISPLAY);if(!_i){if(!Si)return{opList:new Ae.OperatorList,separateForm:!1,separateCanvas:!1};_i=new Be.StringStream(""),_i.dict=new Te.Dict}const Fi=_i.dict,Pi=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],_i),Di=Fi.getArray("BBox")||[0,0,1,1],Ii=Fi.getArray("Matrix")||[1,0,0,1,0,0],Mi=qe(mi.rect,Di,Ii),$i=new Ae.OperatorList;let Xi;return this.oc&&(Xi=await oi.parseMarkedContentProps(this.oc,null)),Xi!==void 0&&$i.addOp(t.OPS.beginMarkedContentProps,["OC",Xi]),$i.addOp(t.OPS.beginAnnotation,[mi.id,mi.rect,Mi,Ii,Si]),await oi.getOperatorList({stream:_i,task:di,resources:Pi,operatorList:$i,fallbackFontDict:this._fallbackFontDict}),$i.addOp(t.OPS.endAnnotation,[]),Xi!==void 0&&$i.addOp(t.OPS.endMarkedContent,[]),this.reset(),{opList:$i,separateForm:!1,separateCanvas:Si}}async save(oi,di,bi){return null}get hasTextContent(){return!1}async extractTextContent(oi,di,bi){if(!this.appearance)return;const Ai=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),Ei=[],mi=[],_i={desiredSize:Math.Infinity,ready:!0,enqueue(Si,Fi){for(const Pi of Si.items)mi.push(Pi.str),Pi.hasEOL&&(Ei.push(mi.join("")),mi.length=0)}};await oi.getTextContent({stream:this.appearance,task:di,resources:Ai,includeMarkedContent:!0,combineTextItems:!0,sink:_i,viewBox:bi}),this.reset(),mi.length&&Ei.push(mi.join("")),Ei.length>0&&(this.data.textContent=Ei)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const oi of this._streams)oi.reset()}_constructFieldName(oi){if(!oi.has("T")&&!oi.has("Parent"))return(0,t.warn)("Unknown field name, falling back to empty field name."),"";if(!oi.has("Parent"))return(0,t.stringToPDFString)(oi.get("T"));const di=[];oi.has("T")&&di.unshift((0,t.stringToPDFString)(oi.get("T")));let bi=oi;const Ai=new Te.RefSet;for(oi.objId&&Ai.put(oi.objId);bi.has("Parent")&&(bi=bi.get("Parent"),!(!(bi instanceof Te.Dict)||bi.objId&&Ai.has(bi.objId)));)bi.objId&&Ai.put(bi.objId),bi.has("T")&&di.unshift((0,t.stringToPDFString)(bi.get("T")));return di.join(".")}}Se.Annotation=Ye;class gi{constructor(){this.width=1,this.style=t.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(oi,di=[0,0,0,0]){if(oi instanceof Te.Name){this.width=0;return}if(typeof oi=="number"){if(oi>0){const bi=(di[2]-di[0])/2,Ai=(di[3]-di[1])/2;bi>0&&Ai>0&&(oi>bi||oi>Ai)&&((0,t.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${oi}`),oi=1)}this.width=oi}}setStyle(oi){if(oi instanceof Te.Name)switch(oi.name){case"S":this.style=t.AnnotationBorderStyleType.SOLID;break;case"D":this.style=t.AnnotationBorderStyleType.DASHED;break;case"B":this.style=t.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=t.AnnotationBorderStyleType.INSET;break;case"U":this.style=t.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(oi,di=!1){if(Array.isArray(oi)&&oi.length>0){let bi=!0,Ai=!0;for(const Ei of oi)if(+Ei>=0)Ei>0&&(Ai=!1);else{bi=!1;break}bi&&!Ai?(this.dashArray=oi,di&&this.setStyle(Te.Name.get("D"))):this.width=0}else oi&&(this.width=0)}setHorizontalCornerRadius(oi){Number.isInteger(oi)&&(this.horizontalCornerRadius=oi)}setVerticalCornerRadius(oi){Number.isInteger(oi)&&(this.verticalCornerRadius=oi)}}Se.AnnotationBorderStyle=gi;class ai extends Ye{constructor(oi){super(oi);const di=oi.dict;if(di.has("IRT")){const bi=di.getRaw("IRT");this.data.inReplyTo=bi instanceof Te.Ref?bi.toString():null;const Ai=di.get("RT");this.data.replyType=Ai instanceof Te.Name?Ai.name:t.AnnotationReplyType.REPLY}if(this.data.replyType===t.AnnotationReplyType.GROUP){const bi=di.get("IRT");this.setTitle(bi.get("T")),this.data.titleObj=this._title,this.setContents(bi.get("Contents")),this.data.contentsObj=this._contents,bi.has("CreationDate")?(this.setCreationDate(bi.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,bi.has("M")?(this.setModificationDate(bi.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=bi.has("Popup"),bi.has("C")?(this.setColor(bi.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(di.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=di.has("Popup"),di.has("C")||(this.data.color=null);di.has("RC")&&(this.data.richText=He.XFAFactory.getRichTextAsHtml(di.get("RC")))}setCreationDate(oi){this.creationDate=typeof oi=="string"?oi:null}_setDefaultAppearance({xref:oi,extra:di,strokeColor:bi,fillColor:Ai,blendMode:Ei,strokeAlpha:mi,fillAlpha:_i,pointsCallback:Si}){let Fi=Number.MAX_VALUE,Pi=Number.MAX_VALUE,Di=Number.MIN_VALUE,Ii=Number.MIN_VALUE;const Mi=["q"];di&&Mi.push(di),bi&&Mi.push(`${bi[0]} ${bi[1]} ${bi[2]} RG`),Ai&&Mi.push(`${Ai[0]} ${Ai[1]} ${Ai[2]} rg`);let $i=this.data.quadPoints;$i||($i=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Ui of $i){const[en,nn,Sn,Qi]=Si(Mi,Ui);Fi=Math.min(Fi,en),Di=Math.max(Di,nn),Pi=Math.min(Pi,Sn),Ii=Math.max(Ii,Qi)}Mi.push("Q");const Xi=new Te.Dict(oi),rn=new Te.Dict(oi);rn.set("Subtype",Te.Name.get("Form"));const tn=new Be.StringStream(Mi.join(" "));tn.dict=rn,Xi.set("Fm0",tn);const on=new Te.Dict(oi);Ei&&on.set("BM",Te.Name.get(Ei)),typeof mi=="number"&&on.set("CA",mi),typeof _i=="number"&&on.set("ca",_i);const fn=new Te.Dict(oi);fn.set("GS0",on);const Yi=new Te.Dict(oi);Yi.set("ExtGState",fn),Yi.set("XObject",Xi);const Ri=new Te.Dict(oi);Ri.set("Resources",Yi);const ji=this.data.rect=[Fi,Pi,Di,Ii];Ri.set("BBox",ji),this.appearance=new Be.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ri,this._streams.push(this.appearance,tn)}static async createNewAnnotation(oi,di,bi,Ai){const Ei=oi.getNewRef(),mi=oi.getNewRef(),_i=this.createNewDict(di,oi,{apRef:mi}),Si=await this.createNewAppearanceStream(di,oi,Ai),Fi=[];let Pi=oi.encrypt?oi.encrypt.createCipherTransform(mi.num,mi.gen):null;return(0,e.writeObject)(mi,Si,Fi,Pi),bi.push({ref:mi,data:Fi.join("")}),Fi.length=0,Pi=oi.encrypt?oi.encrypt.createCipherTransform(Ei.num,Ei.gen):null,(0,e.writeObject)(Ei,_i,Fi,Pi),{ref:Ei,data:Fi.join("")}}static async createNewPrintAnnotation(oi,di,bi){const Ai=await this.createNewAppearanceStream(di,oi,bi),Ei=this.createNewDict(di,oi,{ap:Ai});return new this.prototype.constructor({dict:Ei,xref:oi})}}Se.MarkupAnnotation=ai;class ui extends Ye{constructor(oi){super(oi);const di=oi.dict,bi=this.data;this.ref=oi.ref,bi.annotationType=t.AnnotationType.WIDGET,bi.fieldName===void 0&&(bi.fieldName=this._constructFieldName(di)),bi.actions===void 0&&(bi.actions=(0,xe.collectActions)(oi.xref,di,t.AnnotationActionEventType));let Ai=(0,xe.getInheritableProperty)({dict:di,key:"V",getArray:!0});bi.fieldValue=this._decodeFormValue(Ai);const Ei=(0,xe.getInheritableProperty)({dict:di,key:"DV",getArray:!0});if(bi.defaultFieldValue=this._decodeFormValue(Ei),Ai===void 0&&oi.xfaDatasets){const Di=this._title.str;Di&&(this._hasValueFromXFA=!0,bi.fieldValue=Ai=oi.xfaDatasets.getValue(Di))}Ai===void 0&&bi.defaultFieldValue!==null&&(bi.fieldValue=bi.defaultFieldValue),bi.alternativeText=(0,t.stringToPDFString)(di.get("TU")||"");const mi=(0,xe.getInheritableProperty)({dict:di,key:"DA"})||oi.acroForm.get("DA");this._defaultAppearance=typeof mi=="string"?mi:"",bi.defaultAppearanceData=(0,Fe.parseDefaultAppearance)(this._defaultAppearance);const _i=(0,xe.getInheritableProperty)({dict:di,key:"FT"});bi.fieldType=_i instanceof Te.Name?_i.name:null;const Si=(0,xe.getInheritableProperty)({dict:di,key:"DR"}),Fi=oi.acroForm.get("DR"),Pi=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:Si,acroFormResources:Fi,appearanceResources:Pi,mergedResources:Te.Dict.merge({xref:oi.xref,dictArray:[Si,Pi,Fi],mergeSubDicts:!0})},bi.fieldFlags=(0,xe.getInheritableProperty)({dict:di,key:"Ff"}),(!Number.isInteger(bi.fieldFlags)||bi.fieldFlags<0)&&(bi.fieldFlags=0),bi.readOnly=this.hasFieldFlag(t.AnnotationFieldFlag.READONLY),bi.required=this.hasFieldFlag(t.AnnotationFieldFlag.REQUIRED),bi.hidden=this._hasFlag(bi.annotationFlags,t.AnnotationFlag.HIDDEN)}_decodeFormValue(oi){return Array.isArray(oi)?oi.filter(di=>typeof di=="string").map(di=>(0,t.stringToPDFString)(di)):oi instanceof Te.Name?(0,t.stringToPDFString)(oi.name):typeof oi=="string"?(0,t.stringToPDFString)(oi):null}hasFieldFlag(oi){return!!(this.data.fieldFlags&oi)}static _getRotationMatrix(oi,di,bi){switch(oi){case 90:return[0,1,-1,0,di,0];case 180:return[-1,0,0,-1,di,bi];case 270:return[0,-1,1,0,0,bi];default:throw new Error("Invalid rotation")}}getRotationMatrix(oi){const di=oi?oi.get(this.data.id):void 0;let bi=di&&di.rotation;if(bi===void 0&&(bi=this.rotation),bi===0)return t.IDENTITY_MATRIX;const Ai=this.data.rect[2]-this.data.rect[0],Ei=this.data.rect[3]-this.data.rect[1];return ui._getRotationMatrix(bi,Ai,Ei)}getBorderAndBackgroundAppearances(oi){const di=oi?oi.get(this.data.id):void 0;let bi=di&&di.rotation;if(bi===void 0&&(bi=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const Ai=this.data.rect[2]-this.data.rect[0],Ei=this.data.rect[3]-this.data.rect[1],mi=bi===0||bi===180?`0 0 ${Ai} ${Ei} re`:`0 0 ${Ei} ${Ai} re`;let _i="";if(this.backgroundColor&&(_i=`${(0,Fe.getPdfColor)(this.backgroundColor,!0)} ${mi} f `),this.borderColor){const Si=this.borderStyle.width||1;_i+=`${Si} w ${(0,Fe.getPdfColor)(this.borderColor,!1)} ${mi} S `}return _i}async getOperatorList(oi,di,bi,Ai,Ei){if(Ai&&!(this instanceof ze))return{opList:new Ae.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(oi,di,bi,Ai,Ei);const mi=await this._getAppearance(oi,di,Ei);if(this.appearance&&mi===null)return super.getOperatorList(oi,di,bi,Ai,Ei);const _i=new Ae.OperatorList;if(!this._defaultAppearance||mi===null)return{opList:_i,separateForm:!1,separateCanvas:!1};const Si=[1,0,0,1,0,0],Fi=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Pi=qe(this.data.rect,Fi,Si);let Di;this.oc&&(Di=await oi.parseMarkedContentProps(this.oc,null)),Di!==void 0&&_i.addOp(t.OPS.beginMarkedContentProps,["OC",Di]),_i.addOp(t.OPS.beginAnnotation,[this.data.id,this.data.rect,Pi,this.getRotationMatrix(Ei),!1]);const Ii=new Be.StringStream(mi);return await oi.getOperatorList({stream:Ii,task:di,resources:this._fieldResources.mergedResources,operatorList:_i}),_i.addOp(t.OPS.endAnnotation,[]),Di!==void 0&&_i.addOp(t.OPS.endMarkedContent,[]),{opList:_i,separateForm:!1,separateCanvas:!1}}_getMKDict(oi){const di=new Te.Dict(null);return oi&&di.set("R",oi),this.borderColor&&di.set("BC",Array.from(this.borderColor,bi=>bi/255)),this.backgroundColor&&di.set("BG",Array.from(this.backgroundColor,bi=>bi/255)),di.size>0?di:null}async save(oi,di,bi){const Ai=bi?bi.get(this.data.id):void 0;let Ei=Ai&&Ai.value,mi=Ai&&Ai.rotation;if(Ei===this.data.fieldValue||Ei===void 0){if(!this._hasValueFromXFA&&mi===void 0)return null;Ei=Ei||this.data.fieldValue}if(mi===void 0&&!this._hasValueFromXFA&&Array.isArray(Ei)&&Array.isArray(this.data.fieldValue)&&Ei.length===this.data.fieldValue.length&&Ei.every((Ui,en)=>Ui===this.data.fieldValue[en]))return null;mi===void 0&&(mi=this.rotation);let _i=await this._getAppearance(oi,di,bi);if(_i===null)return null;const{xref:Si}=oi,Fi=Si.fetchIfRef(this.ref);if(!(Fi instanceof Te.Dict))return null;const Pi=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Di={path:(0,t.stringToPDFString)(Fi.get("T")||""),value:Ei},Ii=Si.getNewRef(),Mi=new Te.Dict(Si);Mi.set("N",Ii);const $i=Si.encrypt;let Xi=null,rn=null;$i&&(Xi=$i.createCipherTransform(this.ref.num,this.ref.gen),rn=$i.createCipherTransform(Ii.num,Ii.gen),_i=rn.encryptString(_i));const tn=Ui=>(0,t.isAscii)(Ui)?Ui:(0,t.stringToUTF16BEString)(Ui);Fi.set("V",Array.isArray(Ei)?Ei.map(tn):tn(Ei)),Fi.set("AP",Mi),Fi.set("M",`D:${(0,t.getModificationDate)()}`);const on=this._getMKDict(mi);on&&Fi.set("MK",on);const fn=new Te.Dict(Si);fn.set("Length",_i.length),fn.set("Subtype",Te.Name.get("Form")),fn.set("Resources",this._getSaveFieldResources(Si)),fn.set("BBox",Pi);const Yi=this.getRotationMatrix(bi);Yi!==t.IDENTITY_MATRIX&&fn.set("Matrix",Yi);const Ri=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(Fi,Ri,Xi),Ri.push(`
endobj
`);const ji=[`${Ii.num} ${Ii.gen} obj
`];return(0,e.writeDict)(fn,ji,rn),ji.push(` stream
`,_i,`
endstream
endobj
`),[{ref:this.ref,data:Ri.join(""),xfa:Di},{ref:Ii,data:ji.join(""),xfa:null}]}async _getAppearance(oi,di,bi){if(this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD))return null;const Ei=bi?bi.get(this.data.id):void 0;let mi,_i;if(Ei&&(mi=Ei.formattedValue||Ei.value,_i=Ei.rotation),_i===void 0&&mi===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(mi===void 0&&(mi=this.data.fieldValue,!mi)||(Array.isArray(mi)&&mi.length===1&&(mi=mi[0]),(0,t.assert)(typeof mi=="string","Expected `value` to be a string."),mi=mi.trim(),mi===""))return"";_i===void 0&&(_i=this.rotation);let Si=-1;this.data.multiLine&&(Si=mi.split(/\r\n|\r|\n/).length);const Fi=2,Pi=Fi;let Di=this.data.rect[3]-this.data.rect[1],Ii=this.data.rect[2]-this.data.rect[0];(_i===90||_i===270)&&([Ii,Di]=[Di,Ii]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Fe.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Mi=await ui._getFontData(oi,di,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[$i,Xi]=this._computeFontSize(Di-Fi,Ii-2*Pi,mi,Mi,Si);let rn=Mi.descent;isNaN(rn)&&(rn=0);const on=Math.min(Math.floor((Di-Xi)/2),Fi)+Math.abs(rn)*Xi,fn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance($i,mi,Mi,Xi,Ii,Di,fn,Pi,on,bi);const Yi=Mi.encodeString(mi).join("");if(this.data.comb)return this._getCombAppearance($i,Mi,Yi,Ii,Pi,on,bi);const Ri=this.getBorderAndBackgroundAppearances(bi);if(fn===0||fn>2)return`/Tx BMC q ${Ri}BT `+$i+` 1 0 0 1 ${Pi} ${on} Tm (${(0,t.escapeString)(Yi)}) Tj ET Q EMC`;const ji=this._renderText(Yi,Mi,Xi,Ii,fn,Pi,on);return`/Tx BMC q ${Ri}BT `+$i+` 1 0 0 1 0 0 Tm ${ji} ET Q EMC`}static async _getFontData(oi,di,bi,Ai){const Ei=new Ae.OperatorList,mi={font:null,clone(){return this}},{fontName:_i,fontSize:Si}=bi;return await oi.handleSetFont(Ai,[_i&&Te.Name.get(_i),Si],null,Ei,di,mi,null),mi.font}_getTextWidth(oi,di){return di.charsToGlyphs(oi).reduce((bi,Ai)=>bi+Ai.width,0)/1e3}_computeFontSize(oi,di,bi,Ai,Ei){let{fontSize:mi}=this.data.defaultAppearanceData;if(!mi){const _i=Pi=>Math.floor(Pi*100)/100;if(Ei===-1){const Pi=this._getTextWidth(bi,Ai);mi=_i(Math.min(oi/t.LINE_FACTOR,di/Pi))}else{const Pi=bi.split(/\r\n?|\n/),Di=[];for(const Xi of Pi){const rn=Ai.encodeString(Xi).join(""),tn=Ai.charsToGlyphs(rn),on=Ai.getCharPositions(rn);Di.push({line:rn,glyphs:tn,positions:on})}const Ii=Xi=>{let rn=0;for(const tn of Di){const on=this._splitLine(null,Ai,Xi,di,tn);if(rn+=on.length*Xi,rn>oi)return!0}return!1};mi=12;let Mi=mi*t.LINE_FACTOR,$i=Math.round(oi/Mi);for($i=Math.max($i,Ei);;){if(Mi=oi/$i,mi=_i(Mi/t.LINE_FACTOR),Ii(mi)){$i++;continue}break}}const{fontName:Si,fontColor:Fi}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Fe.createDefaultAppearance)({fontSize:mi,fontName:Si,fontColor:Fi})}return[this._defaultAppearance,mi]}_renderText(oi,di,bi,Ai,Ei,mi,_i){let Si;if(Ei===1){const Fi=this._getTextWidth(oi,di)*bi;Si=(Ai-Fi)/2}else if(Ei===2){const Fi=this._getTextWidth(oi,di)*bi;Si=Ai-Fi-mi}else Si=mi;return Si=(0,xe.numberToString)(Si),_i=(0,xe.numberToString)(_i),`${Si} ${_i} Td (${(0,t.escapeString)(oi)}) Tj`}_getSaveFieldResources(oi){const{localResources:di,appearanceResources:bi,acroFormResources:Ai}=this._fieldResources,Ei=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!Ei)return di||Te.Dict.empty;for(const mi of[di,bi])if(mi instanceof Te.Dict){const _i=mi.get("Font");if(_i instanceof Te.Dict&&_i.has(Ei))return mi}if(Ai instanceof Te.Dict){const mi=Ai.get("Font");if(mi instanceof Te.Dict&&mi.has(Ei)){const _i=new Te.Dict(oi);_i.set(Ei,mi.getRaw(Ei));const Si=new Te.Dict(oi);return Si.set("Font",_i),Te.Dict.merge({xref:oi,dictArray:[Si,di],mergeSubDicts:!0})}}return di||Te.Dict.empty}getFieldObject(){return null}}class Qe extends ui{constructor(oi){super(oi),this._hasText=!0;const di=oi.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let bi=(0,xe.getInheritableProperty)({dict:di,key:"Q"});(!Number.isInteger(bi)||bi<0||bi>2)&&(bi=null),this.data.textAlignment=bi;let Ai=(0,xe.getInheritableProperty)({dict:di,key:"MaxLen"});(!Number.isInteger(Ai)||Ai<0)&&(Ai=0),this.data.maxLen=Ai,this.data.multiLine=this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(t.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(t.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(t.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(oi,di,bi,Ai,Ei,mi,_i){const Si=(0,xe.numberToString)(Ai/this.data.maxLen),Fi=[],Pi=di.getCharPositions(bi);for(const[Mi,$i]of Pi)Fi.push(`(${(0,t.escapeString)(bi.substring(Mi,$i))}) Tj`);const Di=this.getBorderAndBackgroundAppearances(_i),Ii=Fi.join(` ${Si} 0 Td `);return`/Tx BMC q ${Di}BT `+oi+` 1 0 0 1 ${Ei} ${mi} Tm ${Ii} ET Q EMC`}_getMultilineAppearance(oi,di,bi,Ai,Ei,mi,_i,Si,Fi,Pi){const Di=di.split(/\r\n?|\n/),Ii=[],Mi=Ei-2*Si;for(const rn of Di){const tn=this._splitLine(rn,bi,Ai,Mi);for(const on of tn){const fn=Ii.length===0?Si:0;Ii.push(this._renderText(on,bi,Ai,Ei,_i,fn,-Ai))}}const $i=Ii.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(Pi)}BT `+oi+` 1 0 0 1 0 ${mi} Tm ${$i} ET Q EMC`}_splitLine(oi,di,bi,Ai,Ei={}){oi=Ei.line||di.encodeString(oi).join("");const mi=Ei.glyphs||di.charsToGlyphs(oi);if(mi.length<=1)return[oi];const _i=Ei.positions||di.getCharPositions(oi),Si=bi/1e3,Fi=[];let Pi=-1,Di=-1,Ii=-1,Mi=0,$i=0;for(let Xi=0,rn=mi.length;Xi<rn;Xi++){const[tn,on]=_i[Xi],fn=mi[Xi],Yi=fn.width*Si;fn.unicode===" "?$i+Yi>Ai?(Fi.push(oi.substring(Mi,tn)),Mi=tn,$i=Yi,Pi=-1,Ii=-1):($i+=Yi,Pi=tn,Di=on,Ii=Xi):$i+Yi>Ai?Pi!==-1?(Fi.push(oi.substring(Mi,Di)),Mi=Di,Xi=Ii+1,Pi=-1,$i=0):(Fi.push(oi.substring(Mi,tn)),Mi=tn,$i=Yi):$i+=Yi}return Mi<oi.length&&Fi.push(oi.substring(Mi,oi.length)),Fi}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Ze extends ui{constructor(oi){super(oi),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(oi):this.data.radioButton?this._processRadioButton(oi):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(oi)):(0,t.warn)("Invalid field flags for button widget annotation")}async getOperatorList(oi,di,bi,Ai,Ei){if(this.data.pushButton)return super.getOperatorList(oi,di,bi,!1,Ei);let mi=null,_i=null;if(Ei){const Fi=Ei.get(this.data.id);mi=Fi?Fi.value:null,_i=Fi?Fi.rotation:null}if(mi===null&&this.appearance)return super.getOperatorList(oi,di,bi,Ai,Ei);mi==null&&(this.data.checkBox?mi=this.data.fieldValue===this.data.exportValue:mi=this.data.fieldValue===this.data.buttonValue);const Si=mi?this.checkedAppearance:this.uncheckedAppearance;if(Si){const Fi=this.appearance,Pi=Si.dict.getArray("Matrix")||t.IDENTITY_MATRIX;_i&&Si.dict.set("Matrix",this.getRotationMatrix(Ei)),this.appearance=Si;const Di=super.getOperatorList(oi,di,bi,Ai,Ei);return this.appearance=Fi,Si.dict.set("Matrix",Pi),Di}return{opList:new Ae.OperatorList,separateForm:!1,separateCanvas:!1}}async save(oi,di,bi){return this.data.checkBox?this._saveCheckbox(oi,di,bi):this.data.radioButton?this._saveRadioButton(oi,di,bi):null}async _saveCheckbox(oi,di,bi){if(!bi)return null;const Ai=bi.get(this.data.id);let Ei=Ai&&Ai.rotation,mi=Ai&&Ai.value;if(Ei===void 0&&(mi===void 0||this.data.fieldValue===this.data.exportValue===mi))return null;const _i=oi.xref.fetchIfRef(this.ref);if(!(_i instanceof Te.Dict))return null;Ei===void 0&&(Ei=this.rotation),mi===void 0&&(mi=this.data.fieldValue===this.data.exportValue);const Si={path:(0,t.stringToPDFString)(_i.get("T")||""),value:mi?this.data.exportValue:""},Fi=Te.Name.get(mi?this.data.exportValue:"Off");_i.set("V",Fi),_i.set("AS",Fi),_i.set("M",`D:${(0,t.getModificationDate)()}`);const Pi=this._getMKDict(Ei);Pi&&_i.set("MK",Pi);const Di=oi.xref.encrypt;let Ii=null;Di&&(Ii=Di.createCipherTransform(this.ref.num,this.ref.gen));const Mi=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,e.writeDict)(_i,Mi,Ii),Mi.push(`
endobj
`),[{ref:this.ref,data:Mi.join(""),xfa:Si}]}async _saveRadioButton(oi,di,bi){if(!bi)return null;const Ai=bi.get(this.data.id);let Ei=Ai&&Ai.rotation,mi=Ai&&Ai.value;if(Ei===void 0&&(mi===void 0||this.data.fieldValue===this.data.buttonValue===mi))return null;const _i=oi.xref.fetchIfRef(this.ref);if(!(_i instanceof Te.Dict))return null;mi===void 0&&(mi=this.data.fieldValue===this.data.buttonValue),Ei===void 0&&(Ei=this.rotation);const Si={path:(0,t.stringToPDFString)(_i.get("T")||""),value:mi?this.data.buttonValue:""},Fi=Te.Name.get(mi?this.data.buttonValue:"Off");let Pi=null;const Di=oi.xref.encrypt;if(mi)if(this.parent instanceof Te.Ref){const rn=oi.xref.fetch(this.parent);let tn=null;Di&&(tn=Di.createCipherTransform(this.parent.num,this.parent.gen)),rn.set("V",Fi),Pi=[`${this.parent.num} ${this.parent.gen} obj
`],(0,e.writeDict)(rn,Pi,tn),Pi.push(`
endobj
`)}else this.parent instanceof Te.Dict&&this.parent.set("V",Fi);_i.set("AS",Fi),_i.set("M",`D:${(0,t.getModificationDate)()}`);const Ii=this._getMKDict(Ei);Ii&&_i.set("MK",Ii);let Mi=null;Di&&(Mi=Di.createCipherTransform(this.ref.num,this.ref.gen));const $i=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(_i,$i,Mi),$i.push(`
endobj
`);const Xi=[{ref:this.ref,data:$i.join(""),xfa:Si}];return Pi!==null&&Xi.push({ref:this.parent,data:Pi.join(""),xfa:null}),Xi}_getDefaultCheckedAppearance(oi,di){const bi=this.data.rect[2]-this.data.rect[0],Ai=this.data.rect[3]-this.data.rect[1],Ei=[0,0,bi,Ai],mi=.8,_i=Math.min(bi,Ai)*mi;let Si,Fi;di==="check"?(Si={width:.755*_i,height:.705*_i},Fi="3"):di==="disc"?(Si={width:.791*_i,height:.705*_i},Fi="l"):(0,t.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${di}`);const Pi=(0,xe.numberToString)((bi-Si.width)/2),Di=(0,xe.numberToString)((Ai-Si.height)/2),Ii=`q BT /PdfJsZaDb ${_i} Tf 0 g ${Pi} ${Di} Td (${Fi}) Tj ET Q`,Mi=new Te.Dict(oi.xref);Mi.set("FormType",1),Mi.set("Subtype",Te.Name.get("Form")),Mi.set("Type",Te.Name.get("XObject")),Mi.set("BBox",Ei),Mi.set("Matrix",[1,0,0,1,0,0]),Mi.set("Length",Ii.length);const $i=new Te.Dict(oi.xref),Xi=new Te.Dict(oi.xref);Xi.set("PdfJsZaDb",this.fallbackFontDict),$i.set("Font",Xi),Mi.set("Resources",$i),this.checkedAppearance=new Be.StringStream(Ii),this.checkedAppearance.dict=Mi,this._streams.push(this.checkedAppearance)}_processCheckBox(oi){const di=oi.dict.get("AP");if(!(di instanceof Te.Dict))return;const bi=di.get("N");if(!(bi instanceof Te.Dict))return;const Ai=this._decodeFormValue(oi.dict.get("AS"));typeof Ai=="string"&&(this.data.fieldValue=Ai);const Ei=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",mi=bi.getKeys();if(mi.length===0)mi.push("Off",Ei);else if(mi.length===1)mi[0]==="Off"?mi.push(Ei):mi.unshift("Off");else if(mi.includes(Ei))mi.length=0,mi.push("Off",Ei);else{const _i=mi.find(Si=>Si!=="Off");mi.length=0,mi.push("Off",_i)}mi.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=mi[1],this.checkedAppearance=bi.get(this.data.exportValue)||null,this.uncheckedAppearance=bi.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(oi,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(oi){this.data.fieldValue=this.data.buttonValue=null;const di=oi.dict.get("Parent");if(di instanceof Te.Dict){this.parent=oi.dict.getRaw("Parent");const Ei=di.get("V");Ei instanceof Te.Name&&(this.data.fieldValue=this._decodeFormValue(Ei))}const bi=oi.dict.get("AP");if(!(bi instanceof Te.Dict))return;const Ai=bi.get("N");if(Ai instanceof Te.Dict){for(const Ei of Ai.getKeys())if(Ei!=="Off"){this.data.buttonValue=this._decodeFormValue(Ei);break}this.checkedAppearance=Ai.get(this.data.buttonValue)||null,this.uncheckedAppearance=Ai.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(oi,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(oi){if(!oi.dict.has("A")&&!oi.dict.has("AA")&&!this.data.alternativeText){(0,t.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!oi.dict.has("A")&&!oi.dict.has("AA"),Ee.Catalog.parseDestDictionary({destDict:oi.dict,resultObj:this.data,docBaseUrl:oi.pdfManager.docBaseUrl,docAttachments:oi.attachments})}getFieldObject(){let oi="button",di;return this.data.checkBox?(oi="checkbox",di=this.data.exportValue):this.data.radioButton&&(oi="radiobutton",di=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:di,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:oi}}get fallbackFontDict(){const oi=new Te.Dict;return oi.set("BaseFont",Te.Name.get("ZapfDingbats")),oi.set("Type",Te.Name.get("FallbackType")),oi.set("Subtype",Te.Name.get("FallbackType")),oi.set("Encoding",Te.Name.get("ZapfDingbatsEncoding")),(0,t.shadow)(this,"fallbackFontDict",oi)}}class ci extends ui{constructor(oi){super(oi),this.data.options=[];const di=(0,xe.getInheritableProperty)({dict:oi.dict,key:"Opt"});if(Array.isArray(di)){const bi=oi.xref;for(let Ai=0,Ei=di.length;Ai<Ei;Ai++){const mi=bi.fetchIfRef(di[Ai]),_i=Array.isArray(mi);this.data.options[Ai]={exportValue:this._decodeFormValue(_i?bi.fetchIfRef(mi[0]):mi),displayValue:this._decodeFormValue(_i?bi.fetchIfRef(mi[1]):mi)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(t.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(t.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const oi=this.data.combo?"combobox":"listbox",di=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:di,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:oi}}async _getAppearance(oi,di,bi){if(this.data.combo)return super._getAppearance(oi,di,bi);if(!bi)return null;const Ai=bi.get(this.data.id);if(!Ai)return null;const Ei=Ai.rotation;let mi=Ai.value;if(Ei===void 0&&mi===void 0)return null;mi===void 0?mi=this.data.fieldValue:Array.isArray(mi)||(mi=[mi]);const _i=2,Si=_i;let Fi=this.data.rect[3]-this.data.rect[1],Pi=this.data.rect[2]-this.data.rect[0];(Ei===90||Ei===270)&&([Pi,Fi]=[Fi,Pi]);const Di=this.data.options.length,Ii=[];for(let ji=0;ji<Di;ji++){const{exportValue:Ui}=this.data.options[ji];mi.includes(Ui)&&Ii.push(ji)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Fe.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Mi=await ui._getFontData(oi,di,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let $i,{fontSize:Xi}=this.data.defaultAppearanceData;if(Xi)$i=this._defaultAppearance;else{const ji=(Fi-_i)/Di;let Ui=-1,en;for(const{displayValue:nn}of this.data.options){const Sn=this._getTextWidth(nn,Mi);Sn>Ui&&(Ui=Sn,en=nn)}[$i,Xi]=this._computeFontSize(ji,Pi-2*Si,en,Mi,-1)}const rn=Xi*t.LINE_FACTOR,tn=(rn-Xi)/2,on=Math.floor(Fi/rn);let fn;if(Ii.length===1){const ji=Ii[0],Ui=ji%on;fn=ji-Ui}else fn=Ii.length?Ii[0]:0;const Yi=Math.min(fn+on+1,Di),Ri=["/Tx BMC q",`1 1 ${Pi} ${Fi} re W n`];if(Ii.length){Ri.push("0.600006 0.756866 0.854904 rg");for(const ji of Ii)fn<=ji&&ji<Yi&&Ri.push(`1 ${Fi-(ji-fn+1)*rn} ${Pi} ${rn} re f`)}Ri.push("BT",$i,`1 0 0 1 0 ${Fi} Tm`);for(let ji=fn;ji<Yi;ji++){const{displayValue:Ui}=this.data.options[ji],en=ji===fn?Si:0,nn=ji===fn?tn:0;Ri.push(this._renderText(Ui,Mi,Xi,Pi,0,en,-rn+nn))}return Ri.push("ET Q EMC"),Ri.join(`
`)}}class ze extends ui{constructor(oi){super(oi),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class We extends ai{constructor(oi){super(oi);const bi=oi.dict;this.data.annotationType=t.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=bi.has("Name")?bi.get("Name").name:"Note"),bi.has("State")?(this.data.state=bi.get("State")||null,this.data.stateModel=bi.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class si extends Ye{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.LINK;const di=St(oi.dict,this.rectangle);di&&(this.data.quadPoints=di),this.data.borderColor=this.data.borderColor||this.data.color,Ee.Catalog.parseDestDictionary({destDict:oi.dict,resultObj:this.data,docBaseUrl:oi.pdfManager.docBaseUrl,docAttachments:oi.attachments})}}class ni extends Ye{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.POPUP;let di=oi.dict.get("Parent");if(!di){(0,t.warn)("Popup annotation has a missing or invalid parent annotation.");return}const bi=di.get("Subtype");this.data.parentType=bi instanceof Te.Name?bi.name:null;const Ai=oi.dict.getRaw("Parent");this.data.parentId=Ai instanceof Te.Ref?Ai.toString():null;const Ei=di.getArray("Rect");Array.isArray(Ei)&&Ei.length===4?this.data.parentRect=t.Util.normalizeRect(Ei):this.data.parentRect=[0,0,0,0];const mi=di.get("RT");if((0,Te.isName)(mi,t.AnnotationReplyType.GROUP)&&(di=di.get("IRT")),di.has("M")?(this.setModificationDate(di.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,di.has("C")?(this.setColor(di.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const _i=di.get("F");this._isViewable(_i)&&this.setFlags(_i)}this.setTitle(di.get("T")),this.data.titleObj=this._title,this.setContents(di.get("Contents")),this.data.contentsObj=this._contents,di.has("RC")&&(this.data.richText=He.XFAFactory.getRichTextAsHtml(di.get("RC")))}}Se.PopupAnnotation=ni;class $e extends ai{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(oi,di,{apRef:bi,ap:Ai}){const{color:Ei,fontSize:mi,rect:_i,rotation:Si,user:Fi,value:Pi}=oi,Di=new Te.Dict(di);Di.set("Type",Te.Name.get("Annot")),Di.set("Subtype",Te.Name.get("FreeText")),Di.set("CreationDate",`D:${(0,t.getModificationDate)()}`),Di.set("Rect",_i);const Ii=`/Helv ${mi} Tf ${(0,Fe.getPdfColor)(Ei,!0)}`;Di.set("DA",Ii),Di.set("Contents",Pi),Di.set("F",4),Di.set("Border",[0,0,0]),Di.set("Rotate",Si),Fi&&Di.set("T",(0,t.stringToUTF8String)(Fi));const Mi=new Te.Dict(di);return Di.set("AP",Mi),bi?Mi.set("N",bi):Mi.set("N",Ai),Di}static async createNewAppearanceStream(oi,di,bi){const{baseFontRef:Ai,evaluator:Ei,task:mi}=bi,{color:_i,fontSize:Si,rect:Fi,rotation:Pi,value:Di}=oi,Ii=new Te.Dict(di),Mi=new Te.Dict(di);if(Ai)Mi.set("Helv",Ai);else{const Wn=new Te.Dict(di);Wn.set("BaseFont",Te.Name.get("Helvetica")),Wn.set("Type",Te.Name.get("Font")),Wn.set("Subtype",Te.Name.get("Type1")),Wn.set("Encoding",Te.Name.get("WinAnsiEncoding")),Mi.set("Helv",Wn)}Ii.set("Font",Mi);const $i=await ui._getFontData(Ei,mi,{fontName:"Helvetica",fontSize:Si},Ii),[Xi,rn,tn,on]=Fi;let fn=tn-Xi,Yi=on-rn;Pi%180!==0&&([fn,Yi]=[Yi,fn]);const Ri=Di.split(`
`),ji=Si/1e3;let Ui=-1/0;const en=[];for(let Wn of Ri){Wn=$i.encodeString(Wn).join(""),en.push(Wn);let Kn=0;const Mn=$i.charsToGlyphs(Wn);for(const er of Mn)Kn+=er.width*ji;Ui=Math.max(Ui,Kn)}let nn=1;Ui>fn&&(nn=fn/Ui);let Sn=1;const Qi=t.LINE_FACTOR*Si,qi=t.LINE_DESCENT_FACTOR*Si,Zi=Qi*Ri.length;Zi>Yi&&(Sn=Yi/Zi);const an=Math.min(nn,Sn),Nn=Si*an,Dn=["q",`0 0 ${(0,xe.numberToString)(fn)} ${(0,xe.numberToString)(Yi)} re W n`,"BT",`1 0 0 1 0 ${(0,xe.numberToString)(Yi+qi)} Tm 0 Tc ${(0,Fe.getPdfColor)(_i,!0)}`,`/Helv ${(0,xe.numberToString)(Nn)} Tf`],hn=(0,xe.numberToString)(Qi);for(const Wn of en)Dn.push(`0 -${hn} Td (${(0,t.escapeString)(Wn)}) Tj`);Dn.push("ET","Q");const Fn=Dn.join(`
`),Xn=new Te.Dict(di);if(Xn.set("FormType",1),Xn.set("Subtype",Te.Name.get("Form")),Xn.set("Type",Te.Name.get("XObject")),Xn.set("BBox",[0,0,fn,Yi]),Xn.set("Length",Fn.length),Xn.set("Resources",Ii),Pi){const Wn=ui._getRotationMatrix(Pi,fn,Yi);Xn.set("Matrix",Wn)}const Rn=new Be.StringStream(Fn);return Rn.dict=Xn,Rn}}class Ke extends ai{constructor(oi){super(oi);const{dict:di}=oi;this.data.annotationType=t.AnnotationType.LINE;const bi=di.getArray("L");if(this.data.lineCoordinates=t.Util.normalizeRect(bi),this.setLineEndings(di.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Ai=this.color?Array.from(this.color,Ii=>Ii/255):[0,0,0],Ei=di.get("CA");let mi=null,_i=di.getArray("IC");_i&&(_i=Xe(_i,null),mi=_i?Array.from(_i,Ii=>Ii/255):null);const Si=mi?Ei:null,Fi=this.borderStyle.width||1,Pi=2*Fi,Di=[this.data.lineCoordinates[0]-Pi,this.data.lineCoordinates[1]-Pi,this.data.lineCoordinates[2]+Pi,this.data.lineCoordinates[3]+Pi];t.Util.intersect(this.rectangle,Di)||(this.rectangle=Di),this._setDefaultAppearance({xref:oi.xref,extra:`${Fi} w`,strokeColor:Ai,fillColor:mi,strokeAlpha:Ei,fillAlpha:Si,pointsCallback:(Ii,Mi)=>(Ii.push(`${bi[0]} ${bi[1]} m`,`${bi[2]} ${bi[3]} l`,"S"),[Mi[0].x-Fi,Mi[1].x+Fi,Mi[3].y-Fi,Mi[1].y+Fi])})}}}class Ve extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.SQUARE,!this.appearance){const di=this.color?Array.from(this.color,_i=>_i/255):[0,0,0],bi=oi.dict.get("CA");let Ai=null,Ei=oi.dict.getArray("IC");Ei&&(Ei=Xe(Ei,null),Ai=Ei?Array.from(Ei,_i=>_i/255):null);const mi=Ai?bi:null;if(this.borderStyle.width===0&&!Ai)return;this._setDefaultAppearance({xref:oi.xref,extra:`${this.borderStyle.width} w`,strokeColor:di,fillColor:Ai,strokeAlpha:bi,fillAlpha:mi,pointsCallback:(_i,Si)=>{const Fi=Si[2].x+this.borderStyle.width/2,Pi=Si[2].y+this.borderStyle.width/2,Di=Si[3].x-Si[2].x-this.borderStyle.width,Ii=Si[1].y-Si[3].y-this.borderStyle.width;return _i.push(`${Fi} ${Pi} ${Di} ${Ii} re`),Ai?_i.push("B"):_i.push("S"),[Si[0].x,Si[1].x,Si[3].y,Si[1].y]}})}}}class Ue extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.CIRCLE,!this.appearance){const di=this.color?Array.from(this.color,Si=>Si/255):[0,0,0],bi=oi.dict.get("CA");let Ai=null,Ei=oi.dict.getArray("IC");Ei&&(Ei=Xe(Ei,null),Ai=Ei?Array.from(Ei,Si=>Si/255):null);const mi=Ai?bi:null;if(this.borderStyle.width===0&&!Ai)return;const _i=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:oi.xref,extra:`${this.borderStyle.width} w`,strokeColor:di,fillColor:Ai,strokeAlpha:bi,fillAlpha:mi,pointsCallback:(Si,Fi)=>{const Pi=Fi[0].x+this.borderStyle.width/2,Di=Fi[0].y-this.borderStyle.width/2,Ii=Fi[3].x-this.borderStyle.width/2,Mi=Fi[3].y+this.borderStyle.width/2,$i=Pi+(Ii-Pi)/2,Xi=Di+(Mi-Di)/2,rn=(Ii-Pi)/2*_i,tn=(Mi-Di)/2*_i;return Si.push(`${$i} ${Mi} m`,`${$i+rn} ${Mi} ${Ii} ${Xi+tn} ${Ii} ${Xi} c`,`${Ii} ${Xi-tn} ${$i+rn} ${Di} ${$i} ${Di} c`,`${$i-rn} ${Di} ${Pi} ${Xi-tn} ${Pi} ${Xi} c`,`${Pi} ${Xi+tn} ${$i-rn} ${Mi} ${$i} ${Mi} c`,"h"),Ai?Si.push("B"):Si.push("S"),[Fi[0].x,Fi[1].x,Fi[3].y,Fi[1].y]}})}}}class ti extends ai{constructor(oi){super(oi);const{dict:di}=oi;this.data.annotationType=t.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof hi||(this.setLineEndings(di.getArray("LE")),this.data.lineEndings=this.lineEndings);const bi=di.getArray("Vertices");if(!!Array.isArray(bi)){for(let Ai=0,Ei=bi.length;Ai<Ei;Ai+=2)this.data.vertices.push({x:bi[Ai],y:bi[Ai+1]});if(!this.appearance){const Ai=this.color?Array.from(this.color,Fi=>Fi/255):[0,0,0],Ei=di.get("CA"),mi=this.borderStyle.width||1,_i=2*mi,Si=[1/0,1/0,-1/0,-1/0];for(const Fi of this.data.vertices)Si[0]=Math.min(Si[0],Fi.x-_i),Si[1]=Math.min(Si[1],Fi.y-_i),Si[2]=Math.max(Si[2],Fi.x+_i),Si[3]=Math.max(Si[3],Fi.y+_i);t.Util.intersect(this.rectangle,Si)||(this.rectangle=Si),this._setDefaultAppearance({xref:oi.xref,extra:`${mi} w`,strokeColor:Ai,strokeAlpha:Ei,pointsCallback:(Fi,Pi)=>{const Di=this.data.vertices;for(let Ii=0,Mi=Di.length;Ii<Mi;Ii++)Fi.push(`${Di[Ii].x} ${Di[Ii].y} ${Ii===0?"m":"l"}`);return Fi.push("S"),[Pi[0].x,Pi[1].x,Pi[3].y,Pi[1].y]}})}}}}class hi extends ti{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.POLYGON}}class yi extends ai{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.CARET}}class wi extends ai{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.INK,this.data.inkLists=[];const di=oi.dict.getArray("InkList");if(!Array.isArray(di))return;const bi=oi.xref;for(let Ai=0,Ei=di.length;Ai<Ei;++Ai){this.data.inkLists.push([]);for(let mi=0,_i=di[Ai].length;mi<_i;mi+=2)this.data.inkLists[Ai].push({x:bi.fetchIfRef(di[Ai][mi]),y:bi.fetchIfRef(di[Ai][mi+1])})}if(!this.appearance){const Ai=this.color?Array.from(this.color,Fi=>Fi/255):[0,0,0],Ei=oi.dict.get("CA"),mi=this.borderStyle.width||1,_i=2*mi,Si=[1/0,1/0,-1/0,-1/0];for(const Fi of this.data.inkLists)for(const Pi of Fi)Si[0]=Math.min(Si[0],Pi.x-_i),Si[1]=Math.min(Si[1],Pi.y-_i),Si[2]=Math.max(Si[2],Pi.x+_i),Si[3]=Math.max(Si[3],Pi.y+_i);t.Util.intersect(this.rectangle,Si)||(this.rectangle=Si),this._setDefaultAppearance({xref:oi.xref,extra:`${mi} w`,strokeColor:Ai,strokeAlpha:Ei,pointsCallback:(Fi,Pi)=>{for(const Di of this.data.inkLists){for(let Ii=0,Mi=Di.length;Ii<Mi;Ii++)Fi.push(`${Di[Ii].x} ${Di[Ii].y} ${Ii===0?"m":"l"}`);Fi.push("S")}return[Pi[0].x,Pi[1].x,Pi[3].y,Pi[1].y]}})}}static createNewDict(oi,di,{apRef:bi,ap:Ai}){const{paths:Ei,rect:mi,rotation:_i}=oi,Si=new Te.Dict(di);Si.set("Type",Te.Name.get("Annot")),Si.set("Subtype",Te.Name.get("Ink")),Si.set("CreationDate",`D:${(0,t.getModificationDate)()}`),Si.set("Rect",mi),Si.set("InkList",Ei.map(Pi=>Pi.points)),Si.set("F",4),Si.set("Border",[0,0,0]),Si.set("Rotate",_i);const Fi=new Te.Dict(di);return Si.set("AP",Fi),bi?Fi.set("N",bi):Fi.set("N",Ai),Si}static async createNewAppearanceStream(oi,di,bi){const{color:Ai,rect:Ei,rotation:mi,paths:_i,thickness:Si,opacity:Fi}=oi,[Pi,Di,Ii,Mi]=Ei;let $i=Ii-Pi,Xi=Mi-Di;mi%180!==0&&([$i,Xi]=[Xi,$i]);const rn=[`${Si} w 1 J 1 j`,`${(0,Fe.getPdfColor)(Ai,!1)}`];Fi!==1&&rn.push("/R0 gs");const tn=[];for(const{bezier:Ri}of _i){tn.length=0,tn.push(`${(0,xe.numberToString)(Ri[0])} ${(0,xe.numberToString)(Ri[1])} m`);for(let ji=2,Ui=Ri.length;ji<Ui;ji+=6){const en=Ri.slice(ji,ji+6).map(xe.numberToString).join(" ");tn.push(`${en} c`)}tn.push("S"),rn.push(tn.join(`
`))}const on=rn.join(`
`),fn=new Te.Dict(di);if(fn.set("FormType",1),fn.set("Subtype",Te.Name.get("Form")),fn.set("Type",Te.Name.get("XObject")),fn.set("BBox",[0,0,$i,Xi]),fn.set("Length",on.length),mi){const Ri=ui._getRotationMatrix(mi,$i,Xi);fn.set("Matrix",Ri)}if(Fi!==1){const Ri=new Te.Dict(di),ji=new Te.Dict(di),Ui=new Te.Dict(di);Ui.set("CA",Fi),Ui.set("Type",Te.Name.get("ExtGState")),ji.set("R0",Ui),Ri.set("ExtGState",ji),fn.set("Resources",Ri)}const Yi=new Be.StringStream(on);return Yi.dict=fn,Yi}}class Ci extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.HIGHLIGHT,this.data.quadPoints=St(oi.dict,null)){const bi=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(bi&&bi.has("ExtGState"))){this.appearance&&(0,t.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Ai=this.color?Array.from(this.color,mi=>mi/255):[1,1,0],Ei=oi.dict.get("CA");this._setDefaultAppearance({xref:oi.xref,fillColor:Ai,blendMode:"Multiply",fillAlpha:Ei,pointsCallback:(mi,_i)=>(mi.push(`${_i[0].x} ${_i[0].y} m`,`${_i[1].x} ${_i[1].y} l`,`${_i[3].x} ${_i[3].y} l`,`${_i[2].x} ${_i[2].y} l`,"f"),[_i[0].x,_i[1].x,_i[3].y,_i[1].y])})}}else this.data.hasPopup=!1}}class ki extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.UNDERLINE,this.data.quadPoints=St(oi.dict,null)){if(!this.appearance){const bi=this.color?Array.from(this.color,Ei=>Ei/255):[0,0,0],Ai=oi.dict.get("CA");this._setDefaultAppearance({xref:oi.xref,extra:"[] 0 d 1 w",strokeColor:bi,strokeAlpha:Ai,pointsCallback:(Ei,mi)=>(Ei.push(`${mi[2].x} ${mi[2].y} m`,`${mi[3].x} ${mi[3].y} l`,"S"),[mi[0].x,mi[1].x,mi[3].y,mi[1].y])})}}else this.data.hasPopup=!1}}class fi extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.SQUIGGLY,this.data.quadPoints=St(oi.dict,null)){if(!this.appearance){const bi=this.color?Array.from(this.color,Ei=>Ei/255):[0,0,0],Ai=oi.dict.get("CA");this._setDefaultAppearance({xref:oi.xref,extra:"[] 0 d 1 w",strokeColor:bi,strokeAlpha:Ai,pointsCallback:(Ei,mi)=>{const _i=(mi[0].y-mi[2].y)/6;let Si=_i,Fi=mi[2].x;const Pi=mi[2].y,Di=mi[3].x;Ei.push(`${Fi} ${Pi+Si} m`);do Fi+=2,Si=Si===0?_i:0,Ei.push(`${Fi} ${Pi+Si} l`);while(Fi<Di);return Ei.push("S"),[mi[2].x,Di,Pi-2*_i,Pi+2*_i]}})}}else this.data.hasPopup=!1}}class xi extends ai{constructor(oi){if(super(oi),this.data.annotationType=t.AnnotationType.STRIKEOUT,this.data.quadPoints=St(oi.dict,null)){if(!this.appearance){const bi=this.color?Array.from(this.color,Ei=>Ei/255):[0,0,0],Ai=oi.dict.get("CA");this._setDefaultAppearance({xref:oi.xref,extra:"[] 0 d 1 w",strokeColor:bi,strokeAlpha:Ai,pointsCallback:(Ei,mi)=>(Ei.push(`${(mi[0].x+mi[2].x)/2} ${(mi[0].y+mi[2].y)/2} m`,`${(mi[1].x+mi[3].x)/2} ${(mi[1].y+mi[3].y)/2} l`,"S"),[mi[0].x,mi[1].x,mi[3].y,mi[1].y])})}}else this.data.hasPopup=!1}}class li extends ai{constructor(oi){super(oi),this.data.annotationType=t.AnnotationType.STAMP}}class pi extends ai{constructor(oi){super(oi);const di=new De.FileSpec(oi.dict.get("FS"),oi.xref);this.data.annotationType=t.AnnotationType.FILEATTACHMENT,this.data.file=di.serializable}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.createDefaultAppearance=De,Se.getPdfColor=Pe,Se.parseDefaultAppearance=Ee;var t=_e(4),xe=_e(2),Fe=_e(12),Te=_e(13),e=_e(3),ke=_e(8);class Oe extends Te.EvaluatorPreprocessor{constructor(Ae){super(new ke.StringStream(Ae))}parse(){const Ae={fn:0,args:[]},Be={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;Ae.args.length=0,!!this.read(Ae);){if(this.savedStatesDepth!==0)continue;const{fn:He,args:je}=Ae;switch(He|0){case xe.OPS.setFont:const[Xe,St]=je;Xe instanceof e.Name&&(Be.fontName=Xe.name),typeof St=="number"&&St>0&&(Be.fontSize=St);break;case xe.OPS.setFillRGBColor:Fe.ColorSpace.singletons.rgb.getRgbItem(je,0,Be.fontColor,0);break;case xe.OPS.setFillGray:Fe.ColorSpace.singletons.gray.getRgbItem(je,0,Be.fontColor,0);break;case xe.OPS.setFillColorSpace:Fe.ColorSpace.singletons.cmyk.getRgbItem(je,0,Be.fontColor,0);break}}}catch(He){(0,xe.warn)(`parseDefaultAppearance - ignoring errors: "${He}".`)}return Be}}function Ee(Me){return new Oe(Me).parse()}function Pe(Me,Ae){if(Me[0]===Me[1]&&Me[1]===Me[2]){const Be=Me[0]/255;return`${(0,t.numberToString)(Be)} ${Ae?"g":"G"}`}return Array.from(Me,Be=>(0,t.numberToString)(Be/255)).join(" ")+` ${Ae?"rg":"RG"}`}function De({fontSize:Me,fontName:Ae,fontColor:Be}){return`/${(0,t.escapePDFName)(Ae)} ${Me} Tf ${Pe(Be,!0)}`}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ColorSpace=void 0;var t=_e(2),xe=_e(3),Fe=_e(5),Te=_e(4);function e(Xe,St,qe,Ye,gi,ai,ui){ui=ui!==1?0:ui;const Ze=qe/gi,ci=Ye/ai;let ze=0,We;const si=new Uint16Array(gi),ni=qe*3;for(let $e=0;$e<gi;$e++)si[$e]=Math.floor($e*Ze)*3;for(let $e=0;$e<ai;$e++){const Ke=Math.floor($e*ci)*ni;for(let Ve=0;Ve<gi;Ve++)We=Ke+si[Ve],St[ze++]=Xe[We++],St[ze++]=Xe[We++],St[ze++]=Xe[We++],ze+=ui}}class ke{constructor(St,qe){this.constructor===ke&&(0,t.unreachable)("Cannot initialize ColorSpace."),this.name=St,this.numComps=qe}getRgb(St,qe){const Ye=new Uint8ClampedArray(3);return this.getRgbItem(St,qe,Ye,0),Ye}getRgbItem(St,qe,Ye,gi){(0,t.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(St,qe,Ye,gi,ai,ui,Qe){(0,t.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(St,qe){(0,t.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(St){return!1}isDefaultDecode(St,qe){return ke.isDefaultDecode(St,this.numComps)}fillRgb(St,qe,Ye,gi,ai,ui,Qe,Ze,ci){const ze=qe*Ye;let We=null;const si=1<<Qe,ni=Ye!==ai||qe!==gi;if(this.isPassthrough(Qe))We=Ze;else if(this.numComps===1&&ze>si&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const $e=Qe<=8?new Uint8Array(si):new Uint16Array(si);for(let Ve=0;Ve<si;Ve++)$e[Ve]=Ve;const Ke=new Uint8ClampedArray(si*3);if(this.getRgbBuffer($e,0,si,Ke,0,Qe,0),ni){We=new Uint8Array(ze*3);let Ve=0;for(let Ue=0;Ue<ze;++Ue){const ti=Ze[Ue]*3;We[Ve++]=Ke[ti],We[Ve++]=Ke[ti+1],We[Ve++]=Ke[ti+2]}}else{let Ve=0;for(let Ue=0;Ue<ze;++Ue){const ti=Ze[Ue]*3;St[Ve++]=Ke[ti],St[Ve++]=Ke[ti+1],St[Ve++]=Ke[ti+2],Ve+=ci}}}else ni?(We=new Uint8ClampedArray(ze*3),this.getRgbBuffer(Ze,0,ze,We,0,Qe,0)):this.getRgbBuffer(Ze,0,gi*ui,St,0,Qe,ci);if(We)if(ni)e(We,St,qe,Ye,gi,ai,ci);else{let $e=0,Ke=0;for(let Ve=0,Ue=gi*ui;Ve<Ue;Ve++)St[$e++]=We[Ke++],St[$e++]=We[Ke++],St[$e++]=We[Ke++],$e+=ci}}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!0)}static _cache(St,qe,Ye,gi){if(!Ye)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!gi)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let ai,ui;St instanceof xe.Ref&&(ui=St,St=qe.fetch(St)),St instanceof xe.Name&&(ai=St.name),(ai||ui)&&Ye.set(ai,ui,gi)}static getCached(St,qe,Ye){if(!Ye)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(St instanceof xe.Ref){const gi=Ye.getByRef(St);if(gi)return gi;try{St=qe.fetch(St)}catch(ai){if(ai instanceof Te.MissingDataException)throw ai}}if(St instanceof xe.Name){const gi=Ye.getByName(St.name);if(gi)return gi}return null}static async parseAsync({cs:St,xref:qe,resources:Ye=null,pdfFunctionFactory:gi,localColorSpaceCache:ai}){const ui=this._parse(St,qe,Ye,gi);return this._cache(St,qe,ai,ui),ui}static parse({cs:St,xref:qe,resources:Ye=null,pdfFunctionFactory:gi,localColorSpaceCache:ai}){const ui=this.getCached(St,qe,ai);if(ui)return ui;const Qe=this._parse(St,qe,Ye,gi);return this._cache(St,qe,ai,Qe),Qe}static _parse(St,qe,Ye=null,gi){if(St=qe.fetchIfRef(St),St instanceof xe.Name)switch(St.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new Ee(null);default:if(Ye instanceof xe.Dict){const ai=Ye.get("ColorSpace");if(ai instanceof xe.Dict){const ui=ai.get(St.name);if(ui){if(ui instanceof xe.Name)return this._parse(ui,qe,Ye,gi);St=ui;break}}}throw new t.FormatError(`Unrecognized ColorSpace: ${St.name}`)}if(Array.isArray(St)){const ai=qe.fetchIfRef(St[0]).name;let ui,Qe,Ze,ci,ze,We;switch(ai){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return ui=qe.fetchIfRef(St[1]),ci=ui.getArray("WhitePoint"),ze=ui.getArray("BlackPoint"),We=ui.get("Gamma"),new Be(ci,ze,We);case"CalRGB":ui=qe.fetchIfRef(St[1]),ci=ui.getArray("WhitePoint"),ze=ui.getArray("BlackPoint"),We=ui.getArray("Gamma");const si=ui.getArray("Matrix");return new He(ci,ze,We,si);case"ICCBased":const $e=qe.fetchIfRef(St[1]).dict;Qe=$e.get("N");const Ke=$e.get("Alternate");if(Ke){const wi=this._parse(Ke,qe,Ye,gi);if(wi.numComps===Qe)return wi;(0,t.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Qe===1)return this.singletons.gray;if(Qe===3)return this.singletons.rgb;if(Qe===4)return this.singletons.cmyk;break;case"Pattern":return Ze=St[1]||null,Ze&&(Ze=this._parse(Ze,qe,Ye,gi)),new Ee(Ze);case"I":case"Indexed":Ze=this._parse(St[1],qe,Ye,gi);const Ve=qe.fetchIfRef(St[2])+1,Ue=qe.fetchIfRef(St[3]);return new Pe(Ze,Ve,Ue);case"Separation":case"DeviceN":const ti=qe.fetchIfRef(St[1]);Qe=Array.isArray(ti)?ti.length:1,Ze=this._parse(St[2],qe,Ye,gi);const hi=gi.create(St[3]);return new Oe(Qe,Ze,hi);case"Lab":ui=qe.fetchIfRef(St[1]),ci=ui.getArray("WhitePoint"),ze=ui.getArray("BlackPoint");const yi=ui.getArray("Range");return new je(ci,ze,yi);default:throw new t.FormatError(`Unimplemented ColorSpace object: ${ai}`)}}throw new t.FormatError(`Unrecognized ColorSpace object: ${St}`)}static isDefaultDecode(St,qe){if(!Array.isArray(St))return!0;if(qe*2!==St.length)return(0,t.warn)("The decode map is not the correct length"),!0;for(let Ye=0,gi=St.length;Ye<gi;Ye+=2)if(St[Ye]!==0||St[Ye+1]!==1)return!1;return!0}static get singletons(){return(0,t.shadow)(this,"singletons",{get gray(){return(0,t.shadow)(this,"gray",new De)},get rgb(){return(0,t.shadow)(this,"rgb",new Me)},get cmyk(){return(0,t.shadow)(this,"cmyk",new Ae)}})}}Se.ColorSpace=ke;class Oe extends ke{constructor(St,qe,Ye){super("Alternate",St),this.base=qe,this.tintFn=Ye,this.tmpBuf=new Float32Array(qe.numComps)}getRgbItem(St,qe,Ye,gi){const ai=this.tmpBuf;this.tintFn(St,qe,ai,0),this.base.getRgbItem(ai,0,Ye,gi)}getRgbBuffer(St,qe,Ye,gi,ai,ui,Qe){const Ze=this.tintFn,ci=this.base,ze=1/((1<<ui)-1),We=ci.numComps,si=ci.usesZeroToOneRange,ni=(ci.isPassthrough(8)||!si)&&Qe===0;let $e=ni?ai:0;const Ke=ni?gi:new Uint8ClampedArray(We*Ye),Ve=this.numComps,Ue=new Float32Array(Ve),ti=new Float32Array(We);let hi,yi;for(hi=0;hi<Ye;hi++){for(yi=0;yi<Ve;yi++)Ue[yi]=St[qe++]*ze;if(Ze(Ue,0,ti,0),si)for(yi=0;yi<We;yi++)Ke[$e++]=ti[yi]*255;else ci.getRgbItem(ti,0,Ke,$e),$e+=We}ni||ci.getRgbBuffer(Ke,0,Ye,gi,ai,8,Qe)}getOutputLength(St,qe){return this.base.getOutputLength(St*this.base.numComps/this.numComps,qe)}}class Ee extends ke{constructor(St){super("Pattern",null),this.base=St}isDefaultDecode(St,qe){(0,t.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Pe extends ke{constructor(St,qe,Ye){super("Indexed",1),this.base=St,this.highVal=qe;const gi=St.numComps*qe;if(this.lookup=new Uint8Array(gi),Ye instanceof Fe.BaseStream){const ai=Ye.getBytes(gi);this.lookup.set(ai)}else if(typeof Ye=="string")for(let ai=0;ai<gi;++ai)this.lookup[ai]=Ye.charCodeAt(ai)&255;else throw new t.FormatError(`IndexedCS - unrecognized lookup table: ${Ye}`)}getRgbItem(St,qe,Ye,gi){const ai=this.base.numComps,ui=St[qe]*ai;this.base.getRgbBuffer(this.lookup,ui,1,Ye,gi,8,0)}getRgbBuffer(St,qe,Ye,gi,ai,ui,Qe){const Ze=this.base,ci=Ze.numComps,ze=Ze.getOutputLength(ci,Qe),We=this.lookup;for(let si=0;si<Ye;++si){const ni=St[qe++]*ci;Ze.getRgbBuffer(We,ni,1,gi,ai,8,Qe),ai+=ze}}getOutputLength(St,qe){return this.base.getOutputLength(St*this.base.numComps,qe)}isDefaultDecode(St,qe){return Array.isArray(St)?St.length!==2?((0,t.warn)("Decode map length is not correct"),!0):!Number.isInteger(qe)||qe<1?((0,t.warn)("Bits per component is not correct"),!0):St[0]===0&&St[1]===(1<<qe)-1:!0}}class De extends ke{constructor(){super("DeviceGray",1)}getRgbItem(St,qe,Ye,gi){const ai=St[qe]*255;Ye[gi]=Ye[gi+1]=Ye[gi+2]=ai}getRgbBuffer(St,qe,Ye,gi,ai,ui,Qe){const Ze=255/((1<<ui)-1);let ci=qe,ze=ai;for(let We=0;We<Ye;++We){const si=Ze*St[ci++];gi[ze++]=si,gi[ze++]=si,gi[ze++]=si,ze+=Qe}}getOutputLength(St,qe){return St*(3+qe)}}class Me extends ke{constructor(){super("DeviceRGB",3)}getRgbItem(St,qe,Ye,gi){Ye[gi]=St[qe]*255,Ye[gi+1]=St[qe+1]*255,Ye[gi+2]=St[qe+2]*255}getRgbBuffer(St,qe,Ye,gi,ai,ui,Qe){if(ui===8&&Qe===0){gi.set(St.subarray(qe,qe+Ye*3),ai);return}const Ze=255/((1<<ui)-1);let ci=qe,ze=ai;for(let We=0;We<Ye;++We)gi[ze++]=Ze*St[ci++],gi[ze++]=Ze*St[ci++],gi[ze++]=Ze*St[ci++],ze+=Qe}getOutputLength(St,qe){return St*(3+qe)/3|0}isPassthrough(St){return St===8}}const Ae=function(){function St(Ye,gi,ai,ui,Qe){const Ze=Ye[gi]*ai,ci=Ye[gi+1]*ai,ze=Ye[gi+2]*ai,We=Ye[gi+3]*ai;ui[Qe]=255+Ze*(-4.387332384609988*Ze+54.48615194189176*ci+18.82290502165302*ze+212.25662451639585*We+-285.2331026137004)+ci*(1.7149763477362134*ci-5.6096736904047315*ze+-17.873870861415444*We-5.497006427196366)+ze*(-2.5217340131683033*ze-21.248923337353073*We+17.5119270841813)+We*(-21.86122147463605*We-189.48180835922747),ui[Qe+1]=255+Ze*(8.841041422036149*Ze+60.118027045597366*ci+6.871425592049007*ze+31.159100130055922*We+-79.2970844816548)+ci*(-15.310361306967817*ci+17.575251261109482*ze+131.35250912493976*We-190.9453302588951)+ze*(4.444339102852739*ze+9.8632861493405*We-24.86741582555878)+We*(-20.737325471181034*We-187.80453709719578),ui[Qe+2]=255+Ze*(.8842522430003296*Ze+8.078677503112928*ci+30.89978309703729*ze-.23883238689178934*We+-14.183576799673286)+ci*(10.49593273432072*ci+63.02378494754052*ze+50.606957656360734*We-112.23884253719248)+ze*(.03296041114873217*ze+115.60384449646641*We+-193.58209356861505)+We*(-22.33816807309886*We-180.12613974708367)}class qe extends ke{constructor(){super("DeviceCMYK",4)}getRgbItem(gi,ai,ui,Qe){St(gi,ai,1,ui,Qe)}getRgbBuffer(gi,ai,ui,Qe,Ze,ci,ze){const We=1/((1<<ci)-1);for(let si=0;si<ui;si++)St(gi,ai,We,Qe,Ze),ai+=4,Ze+=3+ze}getOutputLength(gi,ai){return gi/4*(3+ai)|0}}return qe}(),Be=function(){function St(Ye,gi,ai,ui,Qe,Ze){const ze=(gi[ai]*Ze)**Ye.G,We=Ye.YW*ze,si=Math.max(295.8*We**.3333333333333333-40.8,0);ui[Qe]=si,ui[Qe+1]=si,ui[Qe+2]=si}class qe extends ke{constructor(gi,ai,ui){if(super("CalGray",1),!gi)throw new t.FormatError("WhitePoint missing - required for color space CalGray");if(ai=ai||[0,0,0],ui=ui||1,this.XW=gi[0],this.YW=gi[1],this.ZW=gi[2],this.XB=ai[0],this.YB=ai[1],this.ZB=ai[2],this.G=ui,this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,t.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,t.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(gi,ai,ui,Qe){St(this,gi,ai,ui,Qe,1)}getRgbBuffer(gi,ai,ui,Qe,Ze,ci,ze){const We=1/((1<<ci)-1);for(let si=0;si<ui;++si)St(this,gi,ai,Qe,Ze,We),ai+=1,Ze+=3+ze}getOutputLength(gi,ai){return gi*(3+ai)}}return qe}(),He=function(){const St=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),qe=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),Ye=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),gi=new Float32Array([1,1,1]),ai=new Float32Array(3),ui=new Float32Array(3),Qe=new Float32Array(3),Ze=((8+16)/116)**3/8;function ci(yi,wi,Ci){Ci[0]=yi[0]*wi[0]+yi[1]*wi[1]+yi[2]*wi[2],Ci[1]=yi[3]*wi[0]+yi[4]*wi[1]+yi[5]*wi[2],Ci[2]=yi[6]*wi[0]+yi[7]*wi[1]+yi[8]*wi[2]}function ze(yi,wi,Ci){Ci[0]=wi[0]*1/yi[0],Ci[1]=wi[1]*1/yi[1],Ci[2]=wi[2]*1/yi[2]}function We(yi,wi,Ci){Ci[0]=wi[0]*.95047/yi[0],Ci[1]=wi[1]*1/yi[1],Ci[2]=wi[2]*1.08883/yi[2]}function si(yi){return yi<=.0031308?ni(0,1,12.92*yi):yi>=.99554525?1:ni(0,1,(1+.055)*yi**(1/2.4)-.055)}function ni(yi,wi,Ci){return Math.max(yi,Math.min(wi,Ci))}function $e(yi){return yi<0?-$e(-yi):yi>8?((yi+16)/116)**3:yi*Ze}function Ke(yi,wi,Ci){if(yi[0]===0&&yi[1]===0&&yi[2]===0){Ci[0]=wi[0],Ci[1]=wi[1],Ci[2]=wi[2];return}const ki=$e(0),fi=ki,xi=$e(yi[0]),li=ki,pi=$e(yi[1]),ri=ki,oi=$e(yi[2]),di=(1-fi)/(1-xi),bi=1-di,Ai=(1-li)/(1-pi),Ei=1-Ai,mi=(1-ri)/(1-oi),_i=1-mi;Ci[0]=wi[0]*di+bi,Ci[1]=wi[1]*Ai+Ei,Ci[2]=wi[2]*mi+_i}function Ve(yi,wi,Ci){if(yi[0]===1&&yi[2]===1){Ci[0]=wi[0],Ci[1]=wi[1],Ci[2]=wi[2];return}const ki=Ci;ci(St,wi,ki);const fi=ai;ze(yi,ki,fi),ci(qe,fi,Ci)}function Ue(yi,wi,Ci){const ki=Ci;ci(St,wi,ki);const fi=ai;We(yi,ki,fi),ci(qe,fi,Ci)}function ti(yi,wi,Ci,ki,fi,xi){const li=ni(0,1,wi[Ci]*xi),pi=ni(0,1,wi[Ci+1]*xi),ri=ni(0,1,wi[Ci+2]*xi),oi=li===1?1:li**yi.GR,di=pi===1?1:pi**yi.GG,bi=ri===1?1:ri**yi.GB,Ai=yi.MXA*oi+yi.MXB*di+yi.MXC*bi,Ei=yi.MYA*oi+yi.MYB*di+yi.MYC*bi,mi=yi.MZA*oi+yi.MZB*di+yi.MZC*bi,_i=ui;_i[0]=Ai,_i[1]=Ei,_i[2]=mi;const Si=Qe;Ve(yi.whitePoint,_i,Si);const Fi=ui;Ke(yi.blackPoint,Si,Fi);const Pi=Qe;Ue(gi,Fi,Pi);const Di=ui;ci(Ye,Pi,Di),ki[fi]=si(Di[0])*255,ki[fi+1]=si(Di[1])*255,ki[fi+2]=si(Di[2])*255}class hi extends ke{constructor(wi,Ci,ki,fi){if(super("CalRGB",3),!wi)throw new t.FormatError("WhitePoint missing - required for color space CalRGB");Ci=Ci||new Float32Array(3),ki=ki||new Float32Array([1,1,1]),fi=fi||new Float32Array([1,0,0,0,1,0,0,0,1]);const xi=wi[0],li=wi[1],pi=wi[2];this.whitePoint=wi;const ri=Ci[0],oi=Ci[1],di=Ci[2];if(this.blackPoint=Ci,this.GR=ki[0],this.GG=ki[1],this.GB=ki[2],this.MXA=fi[0],this.MYA=fi[1],this.MZA=fi[2],this.MXB=fi[3],this.MYB=fi[4],this.MZB=fi[5],this.MXC=fi[6],this.MYC=fi[7],this.MZC=fi[8],xi<0||pi<0||li!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(ri<0||oi<0||di<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name} [${ri}, ${oi}, ${di}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,t.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(wi,Ci,ki,fi){ti(this,wi,Ci,ki,fi,1)}getRgbBuffer(wi,Ci,ki,fi,xi,li,pi){const ri=1/((1<<li)-1);for(let oi=0;oi<ki;++oi)ti(this,wi,Ci,fi,xi,ri),Ci+=3,xi+=3+pi}getOutputLength(wi,Ci){return wi*(3+Ci)/3|0}}return hi}(),je=function(){function St(ai){let ui;return ai>=6/29?ui=ai**3:ui=108/841*(ai-4/29),ui}function qe(ai,ui,Qe,Ze){return Qe+ai*(Ze-Qe)/ui}function Ye(ai,ui,Qe,Ze,ci,ze){let We=ui[Qe],si=ui[Qe+1],ni=ui[Qe+2];Ze!==!1&&(We=qe(We,Ze,0,100),si=qe(si,Ze,ai.amin,ai.amax),ni=qe(ni,Ze,ai.bmin,ai.bmax)),si>ai.amax?si=ai.amax:si<ai.amin&&(si=ai.amin),ni>ai.bmax?ni=ai.bmax:ni<ai.bmin&&(ni=ai.bmin);const $e=(We+16)/116,Ke=$e+si/500,Ve=$e-ni/200,Ue=ai.XW*St(Ke),ti=ai.YW*St($e),hi=ai.ZW*St(Ve);let yi,wi,Ci;ai.ZW<1?(yi=Ue*3.1339+ti*-1.617+hi*-.4906,wi=Ue*-.9785+ti*1.916+hi*.0333,Ci=Ue*.072+ti*-.229+hi*1.4057):(yi=Ue*3.2406+ti*-1.5372+hi*-.4986,wi=Ue*-.9689+ti*1.8758+hi*.0415,Ci=Ue*.0557+ti*-.204+hi*1.057),ci[ze]=Math.sqrt(yi)*255,ci[ze+1]=Math.sqrt(wi)*255,ci[ze+2]=Math.sqrt(Ci)*255}class gi extends ke{constructor(ui,Qe,Ze){if(super("Lab",3),!ui)throw new t.FormatError("WhitePoint missing - required for color space Lab");if(Qe=Qe||[0,0,0],Ze=Ze||[-100,100,-100,100],this.XW=ui[0],this.YW=ui[1],this.ZW=ui[2],this.amin=Ze[0],this.amax=Ze[1],this.bmin=Ze[2],this.bmax=Ze[3],this.XB=Qe[0],this.YB=Qe[1],this.ZB=Qe[2],this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,t.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(ui,Qe,Ze,ci){Ye(this,ui,Qe,!1,Ze,ci)}getRgbBuffer(ui,Qe,Ze,ci,ze,We,si){const ni=(1<<We)-1;for(let $e=0;$e<Ze;$e++)Ye(this,ui,Qe,ni,ci,ze),Qe+=3,ze+=3+si}getOutputLength(ui,Qe){return ui*(3+Qe)/3|0}isDefaultDecode(ui,Qe){return!0}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!1)}}return gi}()},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PartialEvaluator=Se.EvaluatorPreprocessor=void 0;var t=_e(2),xe=_e(14),Fe=_e(3),Te=_e(32),e=_e(36),ke=_e(35),Oe=_e(39),Ee=_e(38),Pe=_e(48),De=_e(49),Me=_e(40),Ae=_e(55),Be=_e(15),He=_e(57),je=_e(8),Xe=_e(5),St=_e(58),qe=_e(12),Ye=_e(17),gi=_e(37),ai=_e(4),ui=_e(43),Qe=_e(59),Ze=_e(60),ci=_e(61);const ze=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),We={TILING:1,SHADING:2},si=10,ni=Promise.resolve();function $e(ki,fi=!1){if(Array.isArray(ki)){for(const xi of ki){const li=$e(xi,!0);if(li)return li}return(0,t.warn)(`Unsupported blend mode Array: ${ki}`),"source-over"}if(!(ki instanceof Fe.Name))return fi?null:"source-over";switch(ki.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return fi?null:((0,t.warn)(`Unsupported blend mode: ${ki.name}`),"source-over")}function Ke(ki){ki.fn===t.OPS.paintImageMaskXObject&&ki.args[0]&&ki.args[0].count>0&&ki.args[0].count++}class Ve{static get TIME_SLOT_DURATION_MS(){return(0,t.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,t.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<Ve.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Ve.TIME_SLOT_DURATION_MS,this.checked=0}}class Ue{constructor({xref:fi,handler:xi,pageIndex:li,idFactory:pi,fontCache:ri,builtInCMapCache:oi,standardFontDataCache:di,globalImageCache:bi,options:Ai=null}){this.xref=fi,this.handler=xi,this.pageIndex=li,this.idFactory=pi,this.fontCache=ri,this.builtInCMapCache=oi,this.standardFontDataCache=di,this.globalImageCache=bi,this.options=Ai||ze,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const fi=new Ae.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,t.shadow)(this,"_pdfFunctionFactory",fi)}clone(fi=null){const xi=Object.create(this);return xi.options=Object.assign(Object.create(null),this.options,fi),xi}hasBlendModes(fi,xi){if(!(fi instanceof Fe.Dict)||fi.objId&&xi.has(fi.objId))return!1;const li=new Fe.RefSet(xi);fi.objId&&li.put(fi.objId);const pi=[fi],ri=this.xref;for(;pi.length;){const oi=pi.shift(),di=oi.get("ExtGState");if(di instanceof Fe.Dict)for(let Ai of di.getRawValues()){if(Ai instanceof Fe.Ref){if(li.has(Ai))continue;try{Ai=ri.fetch(Ai)}catch(mi){li.put(Ai),(0,t.info)(`hasBlendModes - ignoring ExtGState: "${mi}".`);continue}}if(!(Ai instanceof Fe.Dict))continue;Ai.objId&&li.put(Ai.objId);const Ei=Ai.get("BM");if(Ei instanceof Fe.Name){if(Ei.name!=="Normal")return!0;continue}if(Ei!==void 0&&Array.isArray(Ei)){for(const mi of Ei)if(mi instanceof Fe.Name&&mi.name!=="Normal")return!0}}const bi=oi.get("XObject");if(bi instanceof Fe.Dict)for(let Ai of bi.getRawValues()){if(Ai instanceof Fe.Ref){if(li.has(Ai))continue;try{Ai=ri.fetch(Ai)}catch(mi){li.put(Ai),(0,t.info)(`hasBlendModes - ignoring XObject: "${mi}".`);continue}}if(!(Ai instanceof Xe.BaseStream))continue;Ai.dict.objId&&li.put(Ai.dict.objId);const Ei=Ai.dict.get("Resources");Ei instanceof Fe.Dict&&(Ei.objId&&li.has(Ei.objId)||(pi.push(Ei),Ei.objId&&li.put(Ei.objId)))}}for(const oi of li)xi.put(oi);return!1}async fetchBuiltInCMap(fi){const xi=this.builtInCMapCache.get(fi);if(xi)return xi;let li;if(this.options.cMapUrl!==null){const pi=`${this.options.cMapUrl}${fi}.bcmap`,ri=await fetch(pi);if(!ri.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${pi}" with "${ri.statusText}".`);li={cMapData:new Uint8Array(await ri.arrayBuffer()),compressionType:t.CMapCompressionType.BINARY}}else li=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:fi});return li.compressionType!==t.CMapCompressionType.NONE&&this.builtInCMapCache.set(fi,li),li}async fetchStandardFontData(fi){const xi=this.standardFontDataCache.get(fi);if(xi)return new je.Stream(xi);if(this.options.useSystemFonts&&fi!=="Symbol"&&fi!=="ZapfDingbats")return null;const li=(0,Oe.getFontNameToFileMap)(),pi=li[fi];let ri;if(this.options.standardFontDataUrl!==null){const oi=`${this.options.standardFontDataUrl}${pi}`,di=await fetch(oi);di.ok?ri=await di.arrayBuffer():(0,t.warn)(`fetchStandardFontData: failed to fetch file "${oi}" with "${di.statusText}".`)}else try{ri=await this.handler.sendWithPromise("FetchStandardFontData",{filename:pi})}catch(oi){(0,t.warn)(`fetchStandardFontData: failed to fetch file "${pi}" with "${oi}".`)}return ri?(this.standardFontDataCache.set(fi,ri),new je.Stream(ri)):null}async buildFormXObject(fi,xi,li,pi,ri,oi,di){const bi=xi.dict,Ai=bi.getArray("Matrix");let Ei=bi.getArray("BBox");Array.isArray(Ei)&&Ei.length===4?Ei=t.Util.normalizeRect(Ei):Ei=null;let mi,_i;bi.has("OC")&&(mi=await this.parseMarkedContentProps(bi.get("OC"),fi)),mi!==void 0&&pi.addOp(t.OPS.beginMarkedContentProps,["OC",mi]);const Si=bi.get("Group");if(Si){_i={matrix:Ai,bbox:Ei,smask:li,isolated:!1,knockout:!1};const Pi=Si.get("S");let Di=null;if((0,Fe.isName)(Pi,"Transparency")&&(_i.isolated=Si.get("I")||!1,_i.knockout=Si.get("K")||!1,Si.has("CS"))){const Ii=Si.getRaw("CS"),Mi=qe.ColorSpace.getCached(Ii,this.xref,di);Mi?Di=Mi:Di=await this.parseColorSpace({cs:Ii,resources:fi,localColorSpaceCache:di})}li&&li.backdrop&&(Di=Di||qe.ColorSpace.singletons.rgb,li.backdrop=Di.getRgb(li.backdrop,0)),pi.addOp(t.OPS.beginGroup,[_i])}const Fi=Si?[Ai,null]:[Ai,Ei];return pi.addOp(t.OPS.paintFormXObjectBegin,Fi),this.getOperatorList({stream:xi,task:ri,resources:bi.get("Resources")||fi,operatorList:pi,initialState:oi}).then(function(){pi.addOp(t.OPS.paintFormXObjectEnd,[]),Si&&pi.addOp(t.OPS.endGroup,[_i]),mi!==void 0&&pi.addOp(t.OPS.endMarkedContent,[])})}_sendImgData(fi,xi,li=!1){const pi=xi?[xi.bitmap||xi.data.buffer]:null;return this.parsingType3Font||li?this.handler.send("commonobj",[fi,"Image",xi],pi):this.handler.send("obj",[fi,this.pageIndex,"Image",xi],pi)}async buildPaintImageXObject({resources:fi,image:xi,isInline:li=!1,operatorList:pi,cacheKey:ri,localImageCache:oi,localColorSpaceCache:di}){const bi=xi.dict,Ai=bi.objId,Ei=bi.get("W","Width"),mi=bi.get("H","Height");if(!(Ei&&typeof Ei=="number")||!(mi&&typeof mi=="number")){(0,t.warn)("Image dimensions are missing, or not numbers.");return}const _i=this.options.maxImageSize;if(_i!==-1&&Ei*mi>_i){const tn="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,t.warn)(tn);return}throw new Error(tn)}let Si;bi.has("OC")&&(Si=await this.parseMarkedContentProps(bi.get("OC"),fi));const Fi=bi.get("IM","ImageMask")||!1;let Pi,Di;if(Fi){const tn=bi.get("I","Interpolate"),on=Ei+7>>3,fn=xi.getBytes(on*mi),Yi=bi.getArray("D","Decode");if(this.parsingType3Font){Pi=ci.PDFImage.createRawMask({imgArray:fn,width:Ei,height:mi,imageIsFromDecodeStream:xi instanceof Ye.DecodeStream,inverseDecode:!!Yi&&Yi[0]>0,interpolate:tn}),Pi.cached=!!ri,Di=[Pi],pi.addImageOps(t.OPS.paintImageMaskXObject,Di,Si),ri&&oi.set(ri,Ai,{fn:t.OPS.paintImageMaskXObject,args:Di,optionalContent:Si});return}if(Pi=ci.PDFImage.createMask({imgArray:fn,width:Ei,height:mi,imageIsFromDecodeStream:xi instanceof Ye.DecodeStream,inverseDecode:!!Yi&&Yi[0]>0,interpolate:tn,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Pi.isSingleOpaquePixel){pi.addImageOps(t.OPS.paintSolidColorImageMask,[],Si),ri&&oi.set(ri,Ai,{fn:t.OPS.paintSolidColorImageMask,args:[],optionalContent:Si});return}const Ri=`mask_${this.idFactory.createObjId()}`;pi.addDependency(Ri),this._sendImgData(Ri,Pi),Di=[{data:Ri,width:Pi.width,height:Pi.height,interpolate:Pi.interpolate,count:1}],pi.addImageOps(t.OPS.paintImageMaskXObject,Di,Si),ri&&oi.set(ri,Ai,{fn:t.OPS.paintImageMaskXObject,args:Di,optionalContent:Si});return}const Ii=bi.get("SM","SMask")||!1,Mi=bi.get("Mask")||!1,$i=200;if(li&&!Ii&&!Mi&&Ei+mi<$i){Pi=new ci.PDFImage({xref:this.xref,res:fi,image:xi,isInline:li,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:di}).createImageData(!0),pi.addImageOps(t.OPS.paintInlineImageXObject,[Pi],Si);return}let Xi=`img_${this.idFactory.createObjId()}`,rn=!1;this.parsingType3Font?Xi=`${this.idFactory.getDocId()}_type3_${Xi}`:Ai&&(rn=this.globalImageCache.shouldCache(Ai,this.pageIndex),rn&&(Xi=`${this.idFactory.getDocId()}_${Xi}`)),pi.addDependency(Xi),Di=[Xi,Ei,mi],ci.PDFImage.buildImage({xref:this.xref,res:fi,image:xi,isInline:li,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:di}).then(tn=>(Pi=tn.createImageData(!1),ri&&Ai&&rn&&this.globalImageCache.addByteSize(Ai,Pi.data.length),this._sendImgData(Xi,Pi,rn))).catch(tn=>((0,t.warn)(`Unable to decode image "${Xi}": "${tn}".`),this._sendImgData(Xi,null,rn))),pi.addImageOps(t.OPS.paintImageXObject,Di,Si),ri&&(oi.set(ri,Ai,{fn:t.OPS.paintImageXObject,args:Di,optionalContent:Si}),Ai&&((0,t.assert)(!li,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(Ai,this.pageIndex),rn&&this.globalImageCache.setData(Ai,{objId:Xi,fn:t.OPS.paintImageXObject,args:Di,optionalContent:Si,byteSize:0})))}handleSMask(fi,xi,li,pi,ri,oi){const di=fi.get("G"),bi={subtype:fi.get("S").name,backdrop:fi.get("BC")},Ai=fi.get("TR");if((0,Ae.isPDFFunction)(Ai)){const Ei=this._pdfFunctionFactory.create(Ai),mi=new Uint8Array(256),_i=new Float32Array(1);for(let Si=0;Si<256;Si++)_i[0]=Si/255,Ei(_i,0,_i,0),mi[Si]=_i[0]*255|0;bi.transferMap=mi}return this.buildFormXObject(xi,di,bi,li,pi,ri.state.clone(),oi)}handleTransferFunction(fi){let xi;if(Array.isArray(fi))xi=fi;else if((0,Ae.isPDFFunction)(fi))xi=[fi];else return null;const li=[];let pi=0,ri=0;for(const oi of xi){const di=this.xref.fetchIfRef(oi);if(pi++,(0,Fe.isName)(di,"Identity")){li.push(null);continue}else if(!(0,Ae.isPDFFunction)(di))return null;const bi=this._pdfFunctionFactory.create(di),Ai=new Uint8Array(256),Ei=new Float32Array(1);for(let mi=0;mi<256;mi++)Ei[0]=mi/255,bi(Ei,0,Ei,0),Ai[mi]=Ei[0]*255|0;li.push(Ai),ri++}return!(pi===1||pi===4)||ri===0?null:li}handleTilingType(fi,xi,li,pi,ri,oi,di,bi){const Ai=new Ze.OperatorList,Ei=Fe.Dict.merge({xref:this.xref,dictArray:[ri.get("Resources"),li]});return this.getOperatorList({stream:pi,task:di,resources:Ei,operatorList:Ai}).then(function(){const mi=Ai.getIR(),_i=(0,Pe.getTilingPatternIR)(mi,ri,xi);oi.addDependencies(Ai.dependencies),oi.addOp(fi,_i),ri.objId&&bi.set(null,ri.objId,{operatorListIR:mi,dict:ri})}).catch(mi=>{if(!(mi instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,t.warn)(`handleTilingType - ignoring pattern: "${mi}".`);return}throw mi}})}handleSetFont(fi,xi,li,pi,ri,oi,di=null,bi=null){const Ai=xi&&xi[0]instanceof Fe.Name?xi[0].name:null;return this.loadFont(Ai,li,fi,di,bi).then(Ei=>Ei.font.isType3Font?Ei.loadType3Data(this,fi,ri).then(function(){return pi.addDependencies(Ei.type3Dependencies),Ei}).catch(mi=>(this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontLoadType3}),new ti({loadedName:"g_font_error",font:new Te.ErrorFont(`Type3 font load error: ${mi}`),dict:Ei.font,evaluatorOptions:this.options}))):Ei).then(Ei=>(oi.font=Ei.font,Ei.send(this.handler),Ei.loadedName))}handleText(fi,xi){const li=xi.font,pi=li.charsToGlyphs(fi);return li.data&&(!!(xi.textRenderingMode&t.TextRenderingMode.ADD_TO_PATH_FLAG)||xi.fillColorSpace.name==="Pattern"||li.disableFontFace||this.options.disableFontFace)&&Ue.buildFontPaths(li,pi,this.handler,this.options),pi}ensureStateFont(fi){if(fi.font)return;const xi=new t.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontState}),(0,t.warn)(`ensureStateFont: "${xi}".`);return}throw xi}async setGState({resources:fi,gState:xi,operatorList:li,cacheKey:pi,task:ri,stateManager:oi,localGStateCache:di,localColorSpaceCache:bi}){const Ai=xi.objId;let Ei=!0;const mi=[];let _i=Promise.resolve();for(const Si of xi.getKeys()){const Fi=xi.get(Si);switch(Si){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":mi.push([Si,Fi]);break;case"Font":Ei=!1,_i=_i.then(()=>this.handleSetFont(fi,null,Fi[0],li,ri,oi.state).then(function(Di){li.addDependency(Di),mi.push([Si,[Di,Fi[1]]])}));break;case"BM":mi.push([Si,$e(Fi)]);break;case"SMask":if((0,Fe.isName)(Fi,"None")){mi.push([Si,!1]);break}Fi instanceof Fe.Dict?(Ei=!1,_i=_i.then(()=>this.handleSMask(Fi,fi,li,ri,oi,bi)),mi.push([Si,!0])):(0,t.warn)("Unsupported SMask type");break;case"TR":const Pi=this.handleTransferFunction(Fi);mi.push([Si,Pi]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,t.info)("graphic state operator "+Si);break;default:(0,t.info)("Unknown graphic state operator "+Si);break}}return _i.then(function(){mi.length>0&&li.addOp(t.OPS.setGState,[mi]),Ei&&di.set(pi,Ai,mi)})}loadFont(fi,xi,li,pi=null,ri=null){const oi=async()=>new ti({loadedName:"g_font_error",font:new Te.ErrorFont(`Font "${fi}" is not available.`),dict:xi,evaluatorOptions:this.options}),di=this.xref;let bi;if(xi)xi instanceof Fe.Ref&&(bi=xi);else{const Pi=li.get("Font");Pi&&(bi=Pi.getRaw(fi))}if(!bi){const Pi=`Font "${fi||xi&&xi.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,t.warn)(`${Pi}.`),oi();this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontMissing}),(0,t.warn)(`${Pi} -- attempting to fallback to a default font.`),pi?bi=pi:bi=Ue.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(bi))return oi();if(this.fontCache.has(bi))return this.fontCache.get(bi);if(xi=di.fetchIfRef(bi),!(xi instanceof Fe.Dict))return oi();if(xi.cacheKey&&this.fontCache.has(xi.cacheKey))return this.fontCache.get(xi.cacheKey);const Ai=(0,t.createPromiseCapability)();let Ei;try{Ei=this.preEvaluateFont(xi),Ei.cssFontInfo=ri}catch(Pi){return(0,t.warn)(`loadFont - preEvaluateFont failed: "${Pi}".`),oi()}const{descriptor:mi,hash:_i}=Ei,Si=bi instanceof Fe.Ref;let Fi;if(Si&&(Fi=`f${bi.toString()}`),_i&&mi instanceof Fe.Dict){mi.fontAliases||(mi.fontAliases=Object.create(null));const Pi=mi.fontAliases;if(Pi[_i]){const Di=Pi[_i].aliasRef;if(Si&&Di&&this.fontCache.has(Di))return this.fontCache.putAlias(bi,Di),this.fontCache.get(bi)}else Pi[_i]={fontID:this.idFactory.createFontId()};Si&&(Pi[_i].aliasRef=bi),Fi=Pi[_i].fontID}return Si?this.fontCache.put(bi,Ai.promise):(Fi||(Fi=this.idFactory.createFontId()),xi.cacheKey=`cacheKey_${Fi}`,this.fontCache.put(xi.cacheKey,Ai.promise)),(0,t.assert)(Fi&&Fi.startsWith("f"),'The "fontID" must be (correctly) defined.'),xi.loadedName=`${this.idFactory.getDocId()}_${Fi}`,this.translateFont(Ei).then(Pi=>{Pi.fontType!==void 0&&di.stats.addFontType(Pi.fontType),Ai.resolve(new ti({loadedName:xi.loadedName,font:Pi,dict:xi,evaluatorOptions:this.options}))}).catch(Pi=>{this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,t.warn)(`loadFont - translateFont failed: "${Pi}".`);try{const Di=mi&&mi.get("FontFile3"),Ii=Di&&Di.get("Subtype"),Mi=(0,e.getFontType)(Ei.type,Ii&&Ii.name);Mi!==void 0&&di.stats.addFontType(Mi)}catch{}Ai.resolve(new ti({loadedName:xi.loadedName,font:new Te.ErrorFont(Pi instanceof Error?Pi.message:Pi),dict:xi,evaluatorOptions:this.options}))}),Ai.promise}buildPath(fi,xi,li,pi=!1){const ri=fi.length-1;if(li||(li=[]),ri<0||fi.fnArray[ri]!==t.OPS.constructPath){pi&&((0,t.warn)(`Encountered path operator "${xi}" inside of a text object.`),fi.addOp(t.OPS.save,null));let oi;switch(xi){case t.OPS.rectangle:const di=li[0]+li[2],bi=li[1]+li[3];oi=[Math.min(li[0],di),Math.max(li[0],di),Math.min(li[1],bi),Math.max(li[1],bi)];break;case t.OPS.moveTo:case t.OPS.lineTo:oi=[li[0],li[0],li[1],li[1]];break;default:oi=[1/0,-1/0,1/0,-1/0];break}fi.addOp(t.OPS.constructPath,[[xi],li,oi]),pi&&fi.addOp(t.OPS.restore,null)}else{const oi=fi.argsArray[ri];oi[0].push(xi),oi[1].push(...li);const di=oi[2];switch(xi){case t.OPS.rectangle:const bi=li[0]+li[2],Ai=li[1]+li[3];di[0]=Math.min(di[0],li[0],bi),di[1]=Math.max(di[1],li[0],bi),di[2]=Math.min(di[2],li[1],Ai),di[3]=Math.max(di[3],li[1],Ai);break;case t.OPS.moveTo:case t.OPS.lineTo:di[0]=Math.min(di[0],li[0]),di[1]=Math.max(di[1],li[0]),di[2]=Math.min(di[2],li[1]),di[3]=Math.max(di[3],li[1]);break}}}parseColorSpace({cs:fi,resources:xi,localColorSpaceCache:li}){return qe.ColorSpace.parseAsync({cs:fi,xref:this.xref,resources:xi,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:li}).catch(pi=>{if(pi instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorColorSpace}),(0,t.warn)(`parseColorSpace - ignoring ColorSpace: "${pi}".`),null;throw pi})}parseShading({shading:fi,resources:xi,localColorSpaceCache:li,localShadingPatternCache:pi}){let ri=pi.get(fi);if(!ri){var oi=Pe.Pattern.parseShading(fi,this.xref,xi,this.handler,this._pdfFunctionFactory,li);const di=oi.getIR();ri=`pattern_${this.idFactory.createObjId()}`,pi.set(fi,ri),this.handler.send("obj",[ri,this.pageIndex,"Pattern",di])}return ri}handleColorN(fi,xi,li,pi,ri,oi,di,bi,Ai,Ei){const mi=li.pop();if(mi instanceof Fe.Name){const _i=ri.getRaw(mi.name),Si=_i instanceof Fe.Ref&&Ai.getByRef(_i);if(Si)try{const Pi=pi.base?pi.base.getRgb(li,0):null,Di=(0,Pe.getTilingPatternIR)(Si.operatorListIR,Si.dict,Pi);fi.addOp(xi,Di);return}catch{}const Fi=this.xref.fetchIfRef(_i);if(Fi){const Pi=Fi instanceof Xe.BaseStream?Fi.dict:Fi,Di=Pi.get("PatternType");if(Di===We.TILING){const Ii=pi.base?pi.base.getRgb(li,0):null;return this.handleTilingType(xi,Ii,oi,Fi,Pi,fi,di,Ai)}else if(Di===We.SHADING){const Ii=Pi.get("Shading"),Mi=Pi.getArray("Matrix"),$i=this.parseShading({shading:Ii,resources:oi,localColorSpaceCache:bi,localShadingPatternCache:Ei});fi.addOp(xi,["Shading",$i,Mi]);return}throw new t.FormatError(`Unknown PatternType: ${Di}`)}}throw new t.FormatError(`Unknown PatternName: ${mi}`)}_parseVisibilityExpression(fi,xi,li){if(++xi>10){(0,t.warn)("Visibility expression is too deeply nested");return}const ri=fi.length,oi=this.xref.fetchIfRef(fi[0]);if(ri<2||!(oi instanceof Fe.Name)){(0,t.warn)("Invalid visibility expression");return}switch(oi.name){case"And":case"Or":case"Not":li.push(oi.name);break;default:(0,t.warn)(`Invalid operator ${oi.name} in visibility expression`);return}for(let di=1;di<ri;di++){const bi=fi[di],Ai=this.xref.fetchIfRef(bi);if(Array.isArray(Ai)){const Ei=[];li.push(Ei),this._parseVisibilityExpression(Ai,xi,Ei)}else bi instanceof Fe.Ref&&li.push(bi.toString())}}async parseMarkedContentProps(fi,xi){let li;if(fi instanceof Fe.Name)li=xi.get("Properties").get(fi.name);else if(fi instanceof Fe.Dict)li=fi;else throw new t.FormatError("Optional content properties malformed.");const pi=li.get("Type").name;if(pi==="OCG")return{type:pi,id:li.objId};if(pi==="OCMD"){const ri=li.get("VE");if(Array.isArray(ri)){const di=[];if(this._parseVisibilityExpression(ri,0,di),di.length>0)return{type:"OCMD",expression:di}}const oi=li.get("OCGs");if(Array.isArray(oi)||oi instanceof Fe.Dict){const di=[];if(Array.isArray(oi))for(const bi of oi)di.push(bi.toString());else di.push(oi.objId);return{type:pi,ids:di,policy:li.get("P")instanceof Fe.Name?li.get("P").name:null,expression:null}}else if(oi instanceof Fe.Ref)return{type:pi,id:oi.toString()}}return null}getOperatorList({stream:fi,task:xi,resources:li,operatorList:pi,initialState:ri=null,fallbackFontDict:oi=null}){if(li=li||Fe.Dict.empty,ri=ri||new wi,!pi)throw new Error('getOperatorList: missing "operatorList" parameter');const di=this,bi=this.xref;let Ai=!1;const Ei=new He.LocalImageCache,mi=new He.LocalColorSpaceCache,_i=new He.LocalGStateCache,Si=new He.LocalTilingPatternCache,Fi=new Map,Pi=li.get("XObject")||Fe.Dict.empty,Di=li.get("Pattern")||Fe.Dict.empty,Ii=new hi(ri),Mi=new Ci(fi,bi,Ii),$i=new Ve;function Xi(rn){for(let tn=0,on=Mi.savedStatesDepth;tn<on;tn++)pi.addOp(t.OPS.restore,[])}return new Promise(function rn(tn,on){const fn=function(hn){Promise.all([hn,pi.ready]).then(function(){try{rn(tn,on)}catch(Fn){on(Fn)}},on)};xi.ensureNotTerminated(),$i.reset();const Yi={};let Ri,ji,Ui,en,nn,Sn;for(;!(Ri=$i.check())&&(Yi.args=null,!!Mi.read(Yi));){let hn=Yi.args,Fn=Yi.fn;switch(Fn|0){case t.OPS.paintXObject:if(Sn=hn[0]instanceof Fe.Name,nn=hn[0].name,Sn){const Rn=Ei.getByName(nn);if(Rn){pi.addImageOps(Rn.fn,Rn.args,Rn.optionalContent),Ke(Rn),hn=null;continue}}fn(new Promise(function(Rn,Wn){if(!Sn)throw new t.FormatError("XObject must be referred to by name.");let Kn=Pi.getRaw(nn);if(Kn instanceof Fe.Ref){const er=Ei.getByRef(Kn);if(er){pi.addImageOps(er.fn,er.args,er.optionalContent),Ke(er),Rn();return}const Hn=di.globalImageCache.getData(Kn,di.pageIndex);if(Hn){pi.addDependency(Hn.objId),pi.addImageOps(Hn.fn,Hn.args,Hn.optionalContent),Rn();return}Kn=bi.fetch(Kn)}if(!(Kn instanceof Xe.BaseStream))throw new t.FormatError("XObject should be a stream");const Mn=Kn.dict.get("Subtype");if(!(Mn instanceof Fe.Name))throw new t.FormatError("XObject should have a Name subtype");if(Mn.name==="Form"){Ii.save(),di.buildFormXObject(li,Kn,null,pi,xi,Ii.state.clone(),mi).then(function(){Ii.restore(),Rn()},Wn);return}else if(Mn.name==="Image"){di.buildPaintImageXObject({resources:li,image:Kn,operatorList:pi,cacheKey:nn,localImageCache:Ei,localColorSpaceCache:mi}).then(Rn,Wn);return}else if(Mn.name==="PS")(0,t.info)("Ignored XObject subtype PS");else throw new t.FormatError(`Unhandled XObject subtype ${Mn.name}`);Rn()}).catch(function(Rn){if(!(Rn instanceof t.AbortException)){if(di.options.ignoreErrors){di.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorXObject}),(0,t.warn)(`getOperatorList - ignoring XObject: "${Rn}".`);return}throw Rn}}));return;case t.OPS.setFont:var Qi=hn[1];fn(di.handleSetFont(li,hn,null,pi,xi,Ii.state,oi).then(function(Rn){pi.addDependency(Rn),pi.addOp(t.OPS.setFont,[Rn,Qi])}));return;case t.OPS.beginText:Ai=!0;break;case t.OPS.endText:Ai=!1;break;case t.OPS.endInlineImage:var qi=hn[0].cacheKey;if(qi){const Rn=Ei.getByName(qi);if(Rn){pi.addImageOps(Rn.fn,Rn.args,Rn.optionalContent),Ke(Rn),hn=null;continue}}fn(di.buildPaintImageXObject({resources:li,image:hn[0],isInline:!0,operatorList:pi,cacheKey:qi,localImageCache:Ei,localColorSpaceCache:mi}));return;case t.OPS.showText:if(!Ii.state.font){di.ensureStateFont(Ii.state);continue}hn[0]=di.handleText(hn[0],Ii.state);break;case t.OPS.showSpacedText:if(!Ii.state.font){di.ensureStateFont(Ii.state);continue}var Zi=[],an=Ii.state;for(const Rn of hn[0])typeof Rn=="string"?Zi.push(...di.handleText(Rn,an)):typeof Rn=="number"&&Zi.push(Rn);hn[0]=Zi,Fn=t.OPS.showText;break;case t.OPS.nextLineShowText:if(!Ii.state.font){di.ensureStateFont(Ii.state);continue}pi.addOp(t.OPS.nextLine),hn[0]=di.handleText(hn[0],Ii.state),Fn=t.OPS.showText;break;case t.OPS.nextLineSetSpacingShowText:if(!Ii.state.font){di.ensureStateFont(Ii.state);continue}pi.addOp(t.OPS.nextLine),pi.addOp(t.OPS.setWordSpacing,[hn.shift()]),pi.addOp(t.OPS.setCharSpacing,[hn.shift()]),hn[0]=di.handleText(hn[0],Ii.state),Fn=t.OPS.showText;break;case t.OPS.setTextRenderingMode:Ii.state.textRenderingMode=hn[0];break;case t.OPS.setFillColorSpace:{const Rn=qe.ColorSpace.getCached(hn[0],bi,mi);if(Rn){Ii.state.fillColorSpace=Rn;continue}fn(di.parseColorSpace({cs:hn[0],resources:li,localColorSpaceCache:mi}).then(function(Wn){Wn&&(Ii.state.fillColorSpace=Wn)}));return}case t.OPS.setStrokeColorSpace:{const Rn=qe.ColorSpace.getCached(hn[0],bi,mi);if(Rn){Ii.state.strokeColorSpace=Rn;continue}fn(di.parseColorSpace({cs:hn[0],resources:li,localColorSpaceCache:mi}).then(function(Wn){Wn&&(Ii.state.strokeColorSpace=Wn)}));return}case t.OPS.setFillColor:en=Ii.state.fillColorSpace,hn=en.getRgb(hn,0),Fn=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColor:en=Ii.state.strokeColorSpace,hn=en.getRgb(hn,0),Fn=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillGray:Ii.state.fillColorSpace=qe.ColorSpace.singletons.gray,hn=qe.ColorSpace.singletons.gray.getRgb(hn,0),Fn=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeGray:Ii.state.strokeColorSpace=qe.ColorSpace.singletons.gray,hn=qe.ColorSpace.singletons.gray.getRgb(hn,0),Fn=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillCMYKColor:Ii.state.fillColorSpace=qe.ColorSpace.singletons.cmyk,hn=qe.ColorSpace.singletons.cmyk.getRgb(hn,0),Fn=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeCMYKColor:Ii.state.strokeColorSpace=qe.ColorSpace.singletons.cmyk,hn=qe.ColorSpace.singletons.cmyk.getRgb(hn,0),Fn=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillRGBColor:Ii.state.fillColorSpace=qe.ColorSpace.singletons.rgb,hn=qe.ColorSpace.singletons.rgb.getRgb(hn,0);break;case t.OPS.setStrokeRGBColor:Ii.state.strokeColorSpace=qe.ColorSpace.singletons.rgb,hn=qe.ColorSpace.singletons.rgb.getRgb(hn,0);break;case t.OPS.setFillColorN:if(en=Ii.state.fillColorSpace,en.name==="Pattern"){fn(di.handleColorN(pi,t.OPS.setFillColorN,hn,en,Di,li,xi,mi,Si,Fi));return}hn=en.getRgb(hn,0),Fn=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColorN:if(en=Ii.state.strokeColorSpace,en.name==="Pattern"){fn(di.handleColorN(pi,t.OPS.setStrokeColorN,hn,en,Di,li,xi,mi,Si,Fi));return}hn=en.getRgb(hn,0),Fn=t.OPS.setStrokeRGBColor;break;case t.OPS.shadingFill:var Nn=li.get("Shading");if(!Nn)throw new t.FormatError("No shading resource found");var Dn=Nn.get(hn[0].name);if(!Dn)throw new t.FormatError("No shading object found");hn=[di.parseShading({shading:Dn,resources:li,localColorSpaceCache:mi,localShadingPatternCache:Fi})],Fn=t.OPS.shadingFill;break;case t.OPS.setGState:if(Sn=hn[0]instanceof Fe.Name,nn=hn[0].name,Sn){const Rn=_i.getByName(nn);if(Rn){Rn.length>0&&pi.addOp(t.OPS.setGState,[Rn]),hn=null;continue}}fn(new Promise(function(Rn,Wn){if(!Sn)throw new t.FormatError("GState must be referred to by name.");const Kn=li.get("ExtGState");if(!(Kn instanceof Fe.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const Mn=Kn.get(nn);if(!(Mn instanceof Fe.Dict))throw new t.FormatError("GState should be a dictionary.");di.setGState({resources:li,gState:Mn,operatorList:pi,cacheKey:nn,task:xi,stateManager:Ii,localGStateCache:_i,localColorSpaceCache:mi}).then(Rn,Wn)}).catch(function(Rn){if(!(Rn instanceof t.AbortException)){if(di.options.ignoreErrors){di.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorExtGState}),(0,t.warn)(`getOperatorList - ignoring ExtGState: "${Rn}".`);return}throw Rn}}));return;case t.OPS.moveTo:case t.OPS.lineTo:case t.OPS.curveTo:case t.OPS.curveTo2:case t.OPS.curveTo3:case t.OPS.closePath:case t.OPS.rectangle:di.buildPath(pi,Fn,hn,Ai);continue;case t.OPS.markPoint:case t.OPS.markPointProps:case t.OPS.beginCompat:case t.OPS.endCompat:continue;case t.OPS.beginMarkedContentProps:if(!(hn[0]instanceof Fe.Name)){(0,t.warn)(`Expected name for beginMarkedContentProps arg0=${hn[0]}`);continue}if(hn[0].name==="OC"){fn(di.parseMarkedContentProps(hn[1],li).then(Rn=>{pi.addOp(t.OPS.beginMarkedContentProps,["OC",Rn])}).catch(Rn=>{if(!(Rn instanceof t.AbortException)){if(di.options.ignoreErrors){di.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,t.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Rn}".`);return}throw Rn}}));return}hn=[hn[0].name,hn[1]instanceof Fe.Dict?hn[1].get("MCID"):null];break;case t.OPS.beginMarkedContent:case t.OPS.endMarkedContent:default:if(hn!==null){for(ji=0,Ui=hn.length;ji<Ui&&!(hn[ji]instanceof Fe.Dict);ji++);if(ji<Ui){(0,t.warn)("getOperatorList - ignoring operator: "+Fn);continue}}}pi.addOp(Fn,hn)}if(Ri){fn(ni);return}Xi(),tn()}).catch(rn=>{if(!(rn instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),(0,t.warn)(`getOperatorList - ignoring errors during "${xi.name}" task: "${rn}".`),Xi();return}throw rn}})}getTextContent({stream:fi,task:xi,resources:li,stateManager:pi=null,combineTextItems:ri=!1,includeMarkedContent:oi=!1,sink:di,seenStyles:bi=new Set,viewBox:Ai,markedContentData:Ei=null}){li=li||Fe.Dict.empty,pi=pi||new hi(new yi),oi&&(Ei=Ei||{level:0});const mi=(0,Ee.getNormalizedUnicodes)(),_i={items:[],styles:Object.create(null)},Si={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Fi=[" "," "];let Pi=0;function Di(Mn){const er=(Pi+1)%2,Hn=Fi[Pi]!==" "&&Fi[er]===" ";return Fi[Pi]=Mn,Pi=er,Hn}function Ii(){Fi[0]=Fi[1]=" ",Pi=0}const Mi=.1,$i=.03,Xi=-.2,rn=.1,tn=.6,on=this,fn=this.xref,Yi=[];let Ri=null;const ji=new He.LocalImageCache,Ui=new He.LocalGStateCache,en=new Ci(fi,fn,pi);let nn;function Sn(){const Mn=nn.font,er=[nn.fontSize*nn.textHScale,0,0,nn.fontSize,0,nn.textRise];if(Mn.isType3Font&&(nn.fontSize<=1||Mn.isCharBBox)&&!(0,t.isArrayEqual)(nn.fontMatrix,t.FONT_IDENTITY_MATRIX)){const Hn=Mn.bbox[3]-Mn.bbox[1];Hn>0&&(er[3]*=Hn*nn.fontMatrix[3])}return t.Util.transform(nn.ctm,t.Util.transform(nn.textMatrix,er))}function Qi(){if(Si.initialized)return Si;const Mn=nn.font,er=Mn.loadedName;bi.has(er)||(bi.add(er),_i.styles[er]={fontFamily:Mn.fallbackName,ascent:Mn.ascent,descent:Mn.descent,vertical:Mn.vertical}),Si.fontName=er;const Hn=Si.transform=Sn();Mn.vertical?(Si.width=Si.totalWidth=Math.hypot(Hn[0],Hn[1]),Si.height=Si.totalHeight=0,Si.vertical=!0):(Si.width=Si.totalWidth=0,Si.height=Si.totalHeight=Math.hypot(Hn[2],Hn[3]),Si.vertical=!1);const hr=Math.hypot(nn.textLineMatrix[0],nn.textLineMatrix[1]),or=Math.hypot(nn.ctm[0],nn.ctm[1]);return Si.textAdvanceScale=or*hr,Si.trackingSpaceMin=nn.fontSize*Mi,Si.notASpace=nn.fontSize*$i,Si.negativeSpaceMax=nn.fontSize*Xi,Si.spaceInFlowMin=nn.fontSize*rn,Si.spaceInFlowMax=nn.fontSize*tn,Si.hasEOL=!1,Si.initialized=!0,Si}function qi(){if(!Si.initialized)return;const Mn=Math.hypot(nn.textLineMatrix[0],nn.textLineMatrix[1]),Hn=Math.hypot(nn.ctm[0],nn.ctm[1])*Mn;Hn!==Si.textAdvanceScale&&(Si.vertical?(Si.totalHeight+=Si.height*Si.textAdvanceScale,Si.height=0):(Si.totalWidth+=Si.width*Si.textAdvanceScale,Si.width=0),Si.textAdvanceScale=Hn)}function Zi(Mn){const er=Mn.str.join(""),Hn=(0,St.bidi)(er,-1,Mn.vertical);return{str:Hn.str,dir:Hn.dir,width:Math.abs(Mn.totalWidth),height:Math.abs(Mn.totalHeight),transform:Mn.transform,fontName:Mn.fontName,hasEOL:Mn.hasEOL}}function an(Mn,er){return on.loadFont(Mn,er,li).then(function(Hn){return Hn.font.isType3Font?Hn.loadType3Data(on,li,xi).catch(function(){}).then(function(){return Hn}):Hn}).then(function(Hn){nn.font=Hn.font,nn.fontMatrix=Hn.font.fontMatrix||t.FONT_IDENTITY_MATRIX})}function Nn(Mn,er,Hn){const hr=Math.hypot(Hn[0],Hn[1]);return[(Hn[0]*Mn+Hn[1]*er)/hr,(Hn[2]*Mn+Hn[3]*er)/hr]}function Dn(){const Mn=Sn();let er=Mn[4],Hn=Mn[5];const hr=er-Ai[0],or=Hn-Ai[1];if(hr<0||hr>Ai[2]||or<0||or>Ai[3])return!1;if(!ri||!nn.font||!Si.prevTransform)return!0;let dr=Si.prevTransform[4],nr=Si.prevTransform[5];if(dr===er&&nr===Hn)return!0;let Lr=-1;switch(Mn[0]&&Mn[1]===0&&Mn[2]===0?Lr=Mn[0]>0?0:180:Mn[1]&&Mn[0]===0&&Mn[3]===0&&(Lr=Mn[1]>0?90:270),Lr){case 0:break;case 90:[er,Hn]=[Hn,er],[dr,nr]=[nr,dr];break;case 180:[er,Hn,dr,nr]=[-er,-Hn,-dr,-nr];break;case 270:[er,Hn]=[-Hn,-er],[dr,nr]=[-nr,-dr];break;default:[er,Hn]=Nn(er,Hn,Mn),[dr,nr]=Nn(dr,nr,Si.prevTransform)}if(nn.font.vertical){const jn=(nr-Hn)/Si.textAdvanceScale,Gn=er-dr,sr=Math.sign(Si.height);return jn<sr*Si.negativeSpaceMax?Math.abs(Gn)>.5*Si.width?(Fn(),!0):(Ii(),Rn(),!0):Math.abs(Gn)>Si.width?(Fn(),!0):(jn<=sr*Si.notASpace&&Ii(),jn<=sr*Si.trackingSpaceMin?Si.height+=jn:Xn(jn,Si.prevTransform,sr)||(Si.str.length===0?(Ii(),_i.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(jn),transform:Si.prevTransform,fontName:Si.fontName,hasEOL:!1})):Si.height+=jn),!0)}const An=(er-dr)/Si.textAdvanceScale,kn=Hn-nr,Ln=Math.sign(Si.width);return An<Ln*Si.negativeSpaceMax?Math.abs(kn)>.5*Si.height?(Fn(),!0):(Ii(),Rn(),!0):Math.abs(kn)>Si.height?(Fn(),!0):(An<=Ln*Si.notASpace&&Ii(),An<=Ln*Si.trackingSpaceMin?Si.width+=An:Xn(An,Si.prevTransform,Ln)||(Si.str.length===0?(Ii(),_i.items.push({str:" ",dir:"ltr",width:Math.abs(An),height:0,transform:Si.prevTransform,fontName:Si.fontName,hasEOL:!1})):Si.width+=An),!0)}function hn({chars:Mn,extraSpacing:er}){const Hn=nn.font;if(!Mn){const dr=nn.charSpacing+er;dr&&(Hn.vertical?nn.translateTextMatrix(0,-dr):nn.translateTextMatrix(dr*nn.textHScale,0));return}const hr=Hn.charsToGlyphs(Mn),or=nn.fontMatrix[0]*nn.fontSize;for(let dr=0,nr=hr.length;dr<nr;dr++){const Lr=hr[dr];if(Lr.isInvisibleFormatMark)continue;let An=nn.charSpacing+(dr+1===nr?er:0),kn=Lr.width;Hn.vertical&&(kn=Lr.vmetric?Lr.vmetric[0]:-kn);let Ln=kn*or;if(Lr.isWhitespace){Hn.vertical?(An+=-Ln+nn.wordSpacing,nn.translateTextMatrix(0,-An)):(An+=Ln+nn.wordSpacing,nn.translateTextMatrix(An*nn.textHScale,0)),Di(" ");continue}if(!Dn())continue;const jn=Qi();Lr.isZeroWidthDiacritic&&(Ln=0),Hn.vertical?(nn.translateTextMatrix(0,Ln),Ln=Math.abs(Ln),jn.height+=Ln):(Ln*=nn.textHScale,nn.translateTextMatrix(Ln,0),jn.width+=Ln),Ln&&(jn.prevTransform=Sn());let Gn=Lr.unicode;Gn=mi[Gn]||Gn,Gn=(0,Ee.reverseIfRtl)(Gn),Di(Gn)&&jn.str.push(" "),jn.str.push(Gn),An&&(Hn.vertical?nn.translateTextMatrix(0,-An):nn.translateTextMatrix(An*nn.textHScale,0))}}function Fn(){Ii(),Si.initialized?(Si.hasEOL=!0,Rn()):_i.items.push({str:"",dir:"ltr",width:0,height:0,transform:Sn(),fontName:nn.font.loadedName,hasEOL:!0})}function Xn(Mn,er,Hn){if(Hn*Si.spaceInFlowMin<=Mn&&Mn<=Hn*Si.spaceInFlowMax)return Si.initialized&&(Ii(),Si.str.push(" ")),!1;const hr=Si.fontName;let or=0;return Si.vertical&&(or=Mn,Mn=0),Rn(),Ii(),_i.items.push({str:" ",dir:"ltr",width:Math.abs(Mn),height:Math.abs(or),transform:er||Sn(),fontName:hr,hasEOL:!1}),!0}function Rn(){!Si.initialized||!Si.str||(Si.vertical?Si.totalHeight+=Si.height*Si.textAdvanceScale:Si.totalWidth+=Si.width*Si.textAdvanceScale,_i.items.push(Zi(Si)),Si.initialized=!1,Si.str.length=0)}function Wn(Mn=!1){const er=_i.items.length;er!==0&&(Mn&&er<si||(di.enqueue(_i,er),_i.items=[],_i.styles=Object.create(null)))}const Kn=new Ve;return new Promise(function Mn(er,Hn){const hr=function(jn){Wn(!0),Promise.all([jn,di.ready]).then(function(){try{Mn(er,Hn)}catch(Gn){Hn(Gn)}},Hn)};xi.ensureNotTerminated(),Kn.reset();const or={};let dr,nr=[];for(;!(dr=Kn.check())&&(nr.length=0,or.args=nr,!!en.read(or));){nn=pi.state;const jn=or.fn;switch(nr=or.args,jn|0){case t.OPS.setFont:var Lr=nr[0].name,An=nr[1];if(nn.font&&Lr===nn.fontName&&An===nn.fontSize)break;Rn(),nn.fontName=Lr,nn.fontSize=An,hr(an(Lr,null));return;case t.OPS.setTextRise:nn.textRise=nr[0];break;case t.OPS.setHScale:nn.textHScale=nr[0]/100;break;case t.OPS.setLeading:nn.leading=nr[0];break;case t.OPS.moveText:nn.translateTextLineMatrix(nr[0],nr[1]),nn.textMatrix=nn.textLineMatrix.slice();break;case t.OPS.setLeadingMoveText:nn.leading=-nr[1],nn.translateTextLineMatrix(nr[0],nr[1]),nn.textMatrix=nn.textLineMatrix.slice();break;case t.OPS.nextLine:nn.carriageReturn();break;case t.OPS.setTextMatrix:nn.setTextMatrix(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5]),nn.setTextLineMatrix(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5]),qi();break;case t.OPS.setCharSpacing:nn.charSpacing=nr[0];break;case t.OPS.setWordSpacing:nn.wordSpacing=nr[0];break;case t.OPS.beginText:nn.textMatrix=t.IDENTITY_MATRIX.slice(),nn.textLineMatrix=t.IDENTITY_MATRIX.slice();break;case t.OPS.showSpacedText:if(!pi.state.font){on.ensureStateFont(pi.state);continue}const Gn=(nn.font.vertical?1:-1)*nn.fontSize/1e3,sr=nr[0];for(let Bn=0,gr=sr.length;Bn<gr-1;Bn++){const rr=sr[Bn];if(typeof rr=="string")Yi.push(rr);else if(typeof rr=="number"&&rr!==0){const pr=Yi.join("");Yi.length=0,hn({chars:pr,extraSpacing:rr*Gn})}}const ir=sr.at(-1);if(typeof ir=="string"&&Yi.push(ir),Yi.length>0){const Bn=Yi.join("");Yi.length=0,hn({chars:Bn,extraSpacing:0})}break;case t.OPS.showText:if(!pi.state.font){on.ensureStateFont(pi.state);continue}hn({chars:nr[0],extraSpacing:0});break;case t.OPS.nextLineShowText:if(!pi.state.font){on.ensureStateFont(pi.state);continue}nn.carriageReturn(),hn({chars:nr[0],extraSpacing:0});break;case t.OPS.nextLineSetSpacingShowText:if(!pi.state.font){on.ensureStateFont(pi.state);continue}nn.wordSpacing=nr[0],nn.charSpacing=nr[1],nn.carriageReturn(),hn({chars:nr[2],extraSpacing:0});break;case t.OPS.paintXObject:Rn(),Ri||(Ri=li.get("XObject")||Fe.Dict.empty);var kn=nr[0]instanceof Fe.Name,Ln=nr[0].name;if(kn&&ji.getByName(Ln))break;hr(new Promise(function(Bn,gr){if(!kn)throw new t.FormatError("XObject must be referred to by name.");let rr=Ri.getRaw(Ln);if(rr instanceof Fe.Ref){if(ji.getByRef(rr)){Bn();return}if(on.globalImageCache.getData(rr,on.pageIndex)){Bn();return}rr=fn.fetch(rr)}if(!(rr instanceof Xe.BaseStream))throw new t.FormatError("XObject should be a stream");const pr=rr.dict.get("Subtype");if(!(pr instanceof Fe.Name))throw new t.FormatError("XObject should have a Name subtype");if(pr.name!=="Form"){ji.set(Ln,rr.dict.objId,!0),Bn();return}const xr=pi.state.clone(),mr=new hi(xr),un=rr.dict.getArray("Matrix");Array.isArray(un)&&un.length===6&&mr.transform(un),Wn();const bn={enqueueInvoked:!1,enqueue(Pn,Tn){this.enqueueInvoked=!0,di.enqueue(Pn,Tn)},get desiredSize(){return di.desiredSize},get ready(){return di.ready}};on.getTextContent({stream:rr,task:xi,resources:rr.dict.get("Resources")||li,stateManager:mr,combineTextItems:ri,includeMarkedContent:oi,sink:bn,seenStyles:bi,viewBox:Ai,markedContentData:Ei}).then(function(){bn.enqueueInvoked||ji.set(Ln,rr.dict.objId,!0),Bn()},gr)}).catch(function(Bn){if(!(Bn instanceof t.AbortException)){if(on.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring XObject: "${Bn}".`);return}throw Bn}}));return;case t.OPS.setGState:if(kn=nr[0]instanceof Fe.Name,Ln=nr[0].name,kn&&Ui.getByName(Ln))break;hr(new Promise(function(Bn,gr){if(!kn)throw new t.FormatError("GState must be referred to by name.");const rr=li.get("ExtGState");if(!(rr instanceof Fe.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const pr=rr.get(Ln);if(!(pr instanceof Fe.Dict))throw new t.FormatError("GState should be a dictionary.");const xr=pr.get("Font");if(!xr){Ui.set(Ln,pr.objId,!0),Bn();return}Rn(),nn.fontName=null,nn.fontSize=xr[1],an(null,xr[0]).then(Bn,gr)}).catch(function(Bn){if(!(Bn instanceof t.AbortException)){if(on.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring ExtGState: "${Bn}".`);return}throw Bn}}));return;case t.OPS.beginMarkedContent:Rn(),oi&&(Ei.level++,_i.items.push({type:"beginMarkedContent",tag:nr[0]instanceof Fe.Name?nr[0].name:null}));break;case t.OPS.beginMarkedContentProps:if(Rn(),oi){Ei.level++;let Bn=null;nr[1]instanceof Fe.Dict&&(Bn=nr[1].get("MCID")),_i.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Bn)?`${on.idFactory.getPageObjId()}_mcid${Bn}`:null,tag:nr[0]instanceof Fe.Name?nr[0].name:null})}break;case t.OPS.endMarkedContent:if(Rn(),oi){if(Ei.level===0)break;Ei.level--,_i.items.push({type:"endMarkedContent"})}break}if(_i.items.length>=di.desiredSize){dr=!0;break}}if(dr){hr(ni);return}Rn(),Wn(),er()}).catch(Mn=>{if(!(Mn instanceof t.AbortException)){if(this.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring errors during "${xi.name}" task: "${Mn}".`),Rn(),Wn();return}throw Mn}})}extractDataStructures(fi,xi,li){const pi=this.xref;let ri;const oi=this.readToUnicode(li.toUnicode||fi.get("ToUnicode")||xi.get("ToUnicode"));if(li.composite){const Ei=fi.get("CIDSystemInfo");Ei instanceof Fe.Dict&&(li.cidSystemInfo={registry:(0,t.stringToPDFString)(Ei.get("Registry")),ordering:(0,t.stringToPDFString)(Ei.get("Ordering")),supplement:Ei.get("Supplement")});try{const mi=fi.get("CIDToGIDMap");mi instanceof Xe.BaseStream&&(ri=mi.getBytes())}catch(mi){if(!this.options.ignoreErrors)throw mi;(0,t.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${mi}".`)}}const di=[];let bi=null,Ai;if(fi.has("Encoding")){if(Ai=fi.get("Encoding"),Ai instanceof Fe.Dict){if(bi=Ai.get("BaseEncoding"),bi=bi instanceof Fe.Name?bi.name:null,Ai.has("Differences")){const Ei=Ai.get("Differences");let mi=0;for(const _i of Ei){const Si=pi.fetchIfRef(_i);if(typeof Si=="number")mi=Si;else if(Si instanceof Fe.Name)di[mi++]=Si.name;else throw new t.FormatError(`Invalid entry in 'Differences' array: ${Si}`)}}}else if(Ai instanceof Fe.Name)bi=Ai.name;else{const Ei="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new t.FormatError(Ei);(0,t.warn)(Ei)}bi!=="MacRomanEncoding"&&bi!=="MacExpertEncoding"&&bi!=="WinAnsiEncoding"&&(bi=null)}if(bi)li.defaultEncoding=(0,ke.getEncoding)(bi);else{const Ei=!!(li.flags&e.FontFlags.Symbolic),mi=!!(li.flags&e.FontFlags.Nonsymbolic);Ai=ke.StandardEncoding,li.type==="TrueType"&&!mi&&(Ai=ke.WinAnsiEncoding),Ei&&(Ai=ke.MacRomanEncoding,(!li.file||li.isInternalFont)&&(/Symbol/i.test(li.name)?Ai=ke.SymbolSetEncoding:/Dingbats|Wingdings/i.test(li.name)&&(Ai=ke.ZapfDingbatsEncoding))),li.defaultEncoding=Ai}return li.differences=di,li.baseEncodingName=bi,li.hasEncoding=!!bi||di.length>0,li.dict=fi,oi.then(Ei=>(li.toUnicode=Ei,this.buildToUnicode(li))).then(Ei=>(li.toUnicode=Ei,ri&&(li.cidToGidMap=this.readCidToGidMap(ri,Ei)),li))}_simpleFontToUnicode(fi,xi=!1){(0,t.assert)(!fi.composite,"Must be a simple font.");const li=[],pi=fi.defaultEncoding.slice(),ri=fi.baseEncodingName,oi=fi.differences;for(const bi in oi){const Ai=oi[bi];Ai!==".notdef"&&(pi[bi]=Ai)}const di=(0,gi.getGlyphsUnicode)();for(const bi in pi){let Ai=pi[bi];if(Ai==="")continue;let Ei=di[Ai];if(Ei!==void 0){li[bi]=String.fromCharCode(Ei);continue}let mi=0;switch(Ai[0]){case"G":Ai.length===3&&(mi=parseInt(Ai.substring(1),16));break;case"g":Ai.length===5&&(mi=parseInt(Ai.substring(1),16));break;case"C":case"c":if(Ai.length>=3&&Ai.length<=4){const _i=Ai.substring(1);if(xi){mi=parseInt(_i,16);break}if(mi=+_i,Number.isNaN(mi)&&Number.isInteger(parseInt(_i,16)))return this._simpleFontToUnicode(fi,!0)}break;case"u":Ei=(0,Ee.getUnicodeForGlyph)(Ai,di),Ei!==-1&&(mi=Ei);break}if(mi>0&&mi<=1114111&&Number.isInteger(mi)){if(ri&&mi===+bi){const _i=(0,ke.getEncoding)(ri);if(_i&&(Ai=_i[bi])){li[bi]=String.fromCharCode(di[Ai]);continue}}li[bi]=String.fromCodePoint(mi)}}return li}async buildToUnicode(fi){if(fi.hasIncludedToUnicodeMap=!!fi.toUnicode&&fi.toUnicode.length>0,fi.hasIncludedToUnicodeMap)return!fi.composite&&fi.hasEncoding&&(fi.fallbackToUnicode=this._simpleFontToUnicode(fi)),fi.toUnicode;if(!fi.composite)return new Me.ToUnicodeMap(this._simpleFontToUnicode(fi));if(fi.composite&&(fi.cMap.builtInCMap&&!(fi.cMap instanceof xe.IdentityCMap)||fi.cidSystemInfo.registry==="Adobe"&&(fi.cidSystemInfo.ordering==="GB1"||fi.cidSystemInfo.ordering==="CNS1"||fi.cidSystemInfo.ordering==="Japan1"||fi.cidSystemInfo.ordering==="Korea1"))){const{registry:xi,ordering:li}=fi.cidSystemInfo,pi=Fe.Name.get(`${xi}-${li}-UCS2`),ri=await xe.CMapFactory.create({encoding:pi,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),oi=[];return fi.cMap.forEach(function(di,bi){if(bi>65535)throw new t.FormatError("Max size of CID is 65,535");const Ai=ri.lookup(bi);Ai&&(oi[di]=String.fromCharCode((Ai.charCodeAt(0)<<8)+Ai.charCodeAt(1)))}),new Me.ToUnicodeMap(oi)}return new Me.IdentityToUnicodeMap(fi.firstChar,fi.lastChar)}readToUnicode(fi){return fi?fi instanceof Fe.Name?xe.CMapFactory.create({encoding:fi,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(xi){return xi instanceof xe.IdentityCMap?new Me.IdentityToUnicodeMap(0,65535):new Me.ToUnicodeMap(xi.getMap())}):fi instanceof Xe.BaseStream?xe.CMapFactory.create({encoding:fi,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(xi){if(xi instanceof xe.IdentityCMap)return new Me.IdentityToUnicodeMap(0,65535);const li=new Array(xi.length);return xi.forEach(function(pi,ri){if(typeof ri=="number"){li[pi]=String.fromCodePoint(ri);return}const oi=[];for(let di=0;di<ri.length;di+=2){const bi=ri.charCodeAt(di)<<8|ri.charCodeAt(di+1);if((bi&63488)!==55296){oi.push(bi);continue}di+=2;const Ai=ri.charCodeAt(di)<<8|ri.charCodeAt(di+1);oi.push(((bi&1023)<<10)+(Ai&1023)+65536)}li[pi]=String.fromCodePoint(...oi)}),new Me.ToUnicodeMap(li)},xi=>{if(xi instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,t.warn)(`readToUnicode - ignoring ToUnicode data: "${xi}".`),null;throw xi}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(fi,xi){const li=[];for(let pi=0,ri=fi.length;pi<ri;pi++){const oi=fi[pi++]<<8|fi[pi],di=pi>>1;oi===0&&!xi.has(di)||(li[di]=oi)}return li}extractWidths(fi,xi,li){const pi=this.xref;let ri=[],oi=0;const di=[];let bi,Ai,Ei,mi,_i,Si,Fi,Pi;if(li.composite){if(oi=fi.has("DW")?fi.get("DW"):1e3,Pi=fi.get("W"),Pi)for(Ai=0,Ei=Pi.length;Ai<Ei;Ai++)if(Si=pi.fetchIfRef(Pi[Ai++]),Fi=pi.fetchIfRef(Pi[Ai]),Array.isArray(Fi))for(mi=0,_i=Fi.length;mi<_i;mi++)ri[Si++]=pi.fetchIfRef(Fi[mi]);else{const Mi=pi.fetchIfRef(Pi[++Ai]);for(mi=Si;mi<=Fi;mi++)ri[mi]=Mi}if(li.vertical){let Mi=fi.getArray("DW2")||[880,-1e3];if(bi=[Mi[1],oi*.5,Mi[0]],Mi=fi.get("W2"),Mi)for(Ai=0,Ei=Mi.length;Ai<Ei;Ai++)if(Si=pi.fetchIfRef(Mi[Ai++]),Fi=pi.fetchIfRef(Mi[Ai]),Array.isArray(Fi))for(mi=0,_i=Fi.length;mi<_i;mi++)di[Si++]=[pi.fetchIfRef(Fi[mi++]),pi.fetchIfRef(Fi[mi++]),pi.fetchIfRef(Fi[mi])];else{const $i=[pi.fetchIfRef(Mi[++Ai]),pi.fetchIfRef(Mi[++Ai]),pi.fetchIfRef(Mi[++Ai])];for(mi=Si;mi<=Fi;mi++)di[mi]=$i}}}else{const Mi=li.firstChar;if(Pi=fi.get("Widths"),Pi){for(mi=Mi,Ai=0,Ei=Pi.length;Ai<Ei;Ai++)ri[mi++]=pi.fetchIfRef(Pi[Ai]);oi=parseFloat(xi.get("MissingWidth"))||0}else{const $i=fi.get("BaseFont");if($i instanceof Fe.Name){const Xi=this.getBaseFontMetrics($i.name);ri=this.buildCharCodeToWidth(Xi.widths,li),oi=Xi.defaultWidth}}}let Di=!0,Ii=oi;for(const Mi in ri){const $i=ri[Mi];if(!!$i){if(!Ii){Ii=$i;continue}if(Ii!==$i){Di=!1;break}}}Di&&(li.flags|=e.FontFlags.FixedPitch),li.defaultWidth=oi,li.widths=ri,li.defaultVMetrics=bi,li.vmetrics=di}isSerifFont(fi){const xi=fi.split("-")[0];return xi in(0,Oe.getSerifFonts)()||/serif/gi.test(xi)}getBaseFontMetrics(fi){let xi=0,li=Object.create(null),pi=!1,oi=(0,Oe.getStdFontMap)()[fi]||fi;const di=(0,ui.getMetrics)();oi in di||(this.isSerifFont(fi)?oi="Times-Roman":oi="Helvetica");const bi=di[oi];return typeof bi=="number"?(xi=bi,pi=!0):li=bi(),{defaultWidth:xi,monospace:pi,widths:li}}buildCharCodeToWidth(fi,xi){const li=Object.create(null),pi=xi.differences,ri=xi.defaultEncoding;for(let oi=0;oi<256;oi++){if(oi in pi&&fi[pi[oi]]){li[oi]=fi[pi[oi]];continue}if(oi in ri&&fi[ri[oi]]){li[oi]=fi[ri[oi]];continue}}return li}preEvaluateFont(fi){const xi=fi;let li=fi.get("Subtype");if(!(li instanceof Fe.Name))throw new t.FormatError("invalid font Subtype");let pi=!1,ri,oi;if(li.name==="Type0"){const Ei=fi.get("DescendantFonts");if(!Ei)throw new t.FormatError("Descendant fonts are not specified");if(fi=Array.isArray(Ei)?this.xref.fetchIfRef(Ei[0]):Ei,!(fi instanceof Fe.Dict))throw new t.FormatError("Descendant font is not a dictionary.");if(li=fi.get("Subtype"),!(li instanceof Fe.Name))throw new t.FormatError("invalid font Subtype");pi=!0}const di=fi.get("FirstChar")||0,bi=fi.get("LastChar")||(pi?65535:255),Ai=fi.get("FontDescriptor");if(Ai){ri=new Qe.MurmurHash3_64;const Ei=xi.getRaw("Encoding");if(Ei instanceof Fe.Name)ri.update(Ei.name);else if(Ei instanceof Fe.Ref)ri.update(Ei.toString());else if(Ei instanceof Fe.Dict){for(const _i of Ei.getRawValues())if(_i instanceof Fe.Name)ri.update(_i.name);else if(_i instanceof Fe.Ref)ri.update(_i.toString());else if(Array.isArray(_i)){const Si=_i.length,Fi=new Array(Si);for(let Pi=0;Pi<Si;Pi++){const Di=_i[Pi];Di instanceof Fe.Name?Fi[Pi]=Di.name:(typeof Di=="number"||Di instanceof Fe.Ref)&&(Fi[Pi]=Di.toString())}ri.update(Fi.join())}}if(ri.update(`${di}-${bi}`),oi=fi.get("ToUnicode")||xi.get("ToUnicode"),oi instanceof Xe.BaseStream){const _i=oi.str||oi,Si=_i.buffer?new Uint8Array(_i.buffer.buffer,0,_i.bufferLength):new Uint8Array(_i.bytes.buffer,_i.start,_i.end-_i.start);ri.update(Si)}else oi instanceof Fe.Name&&ri.update(oi.name);const mi=fi.get("Widths")||xi.get("Widths");if(Array.isArray(mi)){const _i=[];for(const Si of mi)(typeof Si=="number"||Si instanceof Fe.Ref)&&_i.push(Si.toString());ri.update(_i.join())}if(pi){ri.update("compositeFont");const _i=fi.get("W")||xi.get("W");if(Array.isArray(_i)){const Fi=[];for(const Pi of _i)if(typeof Pi=="number"||Pi instanceof Fe.Ref)Fi.push(Pi.toString());else if(Array.isArray(Pi)){const Di=[];for(const Ii of Pi)(typeof Ii=="number"||Ii instanceof Fe.Ref)&&Di.push(Ii.toString());Fi.push(`[${Di.join()}]`)}ri.update(Fi.join())}const Si=fi.getRaw("CIDToGIDMap")||xi.getRaw("CIDToGIDMap");Si instanceof Fe.Name?ri.update(Si.name):Si instanceof Fe.Ref?ri.update(Si.toString()):Si instanceof Xe.BaseStream&&ri.update(Si.peekBytes())}}return{descriptor:Ai,dict:fi,baseDict:xi,composite:pi,type:li.name,firstChar:di,lastChar:bi,toUnicode:oi,hash:ri?ri.hexdigest():""}}async translateFont({descriptor:fi,dict:xi,baseDict:li,composite:pi,type:ri,firstChar:oi,lastChar:di,toUnicode:bi,cssFontInfo:Ai}){const Ei=ri==="Type3";let mi;if(!fi)if(Ei)fi=new Fe.Dict(null),fi.set("FontName",Fe.Name.get(ri)),fi.set("FontBBox",xi.getArray("FontBBox")||[0,0,0,0]);else{let tn=xi.get("BaseFont");if(!(tn instanceof Fe.Name))throw new t.FormatError("Base font is not specified");tn=tn.name.replace(/[,_]/g,"-");const on=this.getBaseFontMetrics(tn),fn=tn.split("-")[0],Yi=(this.isSerifFont(fn)?e.FontFlags.Serif:0)|(on.monospace?e.FontFlags.FixedPitch:0)|((0,Oe.getSymbolsFonts)()[fn]?e.FontFlags.Symbolic:e.FontFlags.Nonsymbolic);mi={type:ri,name:tn,loadedName:li.loadedName,widths:on.widths,defaultWidth:on.defaultWidth,isSimulatedFlags:!0,flags:Yi,firstChar:oi,lastChar:di,toUnicode:bi,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Ei};const Ri=xi.get("Widths"),ji=(0,Oe.getStandardFontName)(tn);let Ui=null;return ji&&(mi.isStandardFont=!0,Ui=await this.fetchStandardFontData(ji),mi.isInternalFont=!!Ui),this.extractDataStructures(xi,xi,mi).then(en=>{if(Ri){const nn=[];let Sn=oi;for(const Qi of Ri)nn[Sn++]=this.xref.fetchIfRef(Qi);en.widths=nn}else en.widths=this.buildCharCodeToWidth(on.widths,en);return new Te.Font(tn,Ui,en)})}let _i=fi.get("FontName"),Si=xi.get("BaseFont");if(typeof _i=="string"&&(_i=Fe.Name.get(_i)),typeof Si=="string"&&(Si=Fe.Name.get(Si)),!Ei){const tn=_i&&_i.name,on=Si&&Si.name;tn!==on&&((0,t.info)(`The FontDescriptor's FontName is "${tn}" but should be the same as the Font's BaseFont "${on}".`),tn&&on&&on.startsWith(tn)&&(_i=Si))}if(_i=_i||Si,!(_i instanceof Fe.Name))throw new t.FormatError("invalid font name");let Fi,Pi,Di,Ii,Mi;try{Fi=fi.get("FontFile","FontFile2","FontFile3")}catch(tn){if(!this.options.ignoreErrors)throw tn;(0,t.warn)(`translateFont - fetching "${_i.name}" font file: "${tn}".`),Fi=new je.NullStream}let $i=!1,Xi=!1,rn=null;if(Fi){if(Fi.dict){const tn=Fi.dict.get("Subtype");tn instanceof Fe.Name&&(Pi=tn.name),Di=Fi.dict.get("Length1"),Ii=Fi.dict.get("Length2"),Mi=Fi.dict.get("Length3")}}else if(Ai){const tn=(0,De.getXfaFontName)(_i.name);tn&&(Ai.fontFamily=`${Ai.fontFamily}-PdfJS-XFA`,Ai.metrics=tn.metrics||null,rn=tn.factors||null,Fi=await this.fetchStandardFontData(tn.name),Xi=!!Fi,li=xi=(0,De.getXfaFontDict)(_i.name),pi=!0)}else if(!Ei){const tn=(0,Oe.getStandardFontName)(_i.name);tn&&($i=!0,Fi=await this.fetchStandardFontData(tn),Xi=!!Fi)}if(mi={type:ri,name:_i.name,subtype:Pi,file:Fi,length1:Di,length2:Ii,length3:Mi,isStandardFont:$i,isInternalFont:Xi,loadedName:li.loadedName,composite:pi,fixedPitch:!1,fontMatrix:xi.getArray("FontMatrix")||t.FONT_IDENTITY_MATRIX,firstChar:oi,lastChar:di,toUnicode:bi,bbox:fi.getArray("FontBBox")||xi.getArray("FontBBox"),ascent:fi.get("Ascent"),descent:fi.get("Descent"),xHeight:fi.get("XHeight")||0,capHeight:fi.get("CapHeight")||0,flags:fi.get("Flags"),italicAngle:fi.get("ItalicAngle")||0,isType3Font:Ei,cssFontInfo:Ai,scaleFactors:rn},pi){const tn=li.get("Encoding");tn instanceof Fe.Name&&(mi.cidEncoding=tn.name);const on=await xe.CMapFactory.create({encoding:tn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});mi.cMap=on,mi.vertical=mi.cMap.vertical}return this.extractDataStructures(xi,li,mi).then(tn=>(this.extractWidths(xi,fi,tn),new Te.Font(_i.name,Fi,tn)))}static buildFontPaths(fi,xi,li,pi){function ri(oi){const di=`${fi.loadedName}_path_${oi}`;try{if(fi.renderer.hasBuiltPath(oi))return;li.send("commonobj",[di,"FontPath",fi.renderer.getPathJs(oi)])}catch(bi){if(pi.ignoreErrors){li.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,t.warn)(`buildFontPaths - ignoring ${di} glyph: "${bi}".`);return}throw bi}}for(const oi of xi){ri(oi.fontChar);const di=oi.accent;di&&di.fontChar&&ri(di.fontChar)}}static get fallbackFontDict(){const fi=new Fe.Dict;return fi.set("BaseFont",Fe.Name.get("PDFJS-FallbackFont")),fi.set("Type",Fe.Name.get("FallbackType")),fi.set("Subtype",Fe.Name.get("FallbackType")),fi.set("Encoding",Fe.Name.get("WinAnsiEncoding")),(0,t.shadow)(this,"fallbackFontDict",fi)}}Se.PartialEvaluator=Ue;class ti{constructor({loadedName:fi,font:xi,dict:li,evaluatorOptions:pi}){this.loadedName=fi,this.font=xi,this.dict=li,this._evaluatorOptions=pi||ze,this.type3Loaded=null,this.type3Dependencies=xi.isType3Font?new Set:null,this.sent=!1}send(fi){this.sent||(this.sent=!0,fi.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(fi){!this.font.data||(this.font.disableFontFace=!0,Ue.buildFontPaths(this.font,this.font.glyphCacheValues,fi,this._evaluatorOptions))}loadType3Data(fi,xi,li){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const pi=fi.clone({ignoreErrors:!1});pi.parsingType3Font=!0;const ri=new Fe.RefSet(fi.type3FontRefs);this.dict.objId&&!ri.has(this.dict.objId)&&ri.put(this.dict.objId),pi.type3FontRefs=ri;const oi=this.font,di=this.type3Dependencies;let bi=Promise.resolve();const Ai=this.dict.get("CharProcs"),Ei=this.dict.get("Resources")||xi,mi=Object.create(null),_i=t.Util.normalizeRect(oi.bbox||[0,0,0,0]),Si=_i[2]-_i[0],Fi=_i[3]-_i[1],Pi=Math.hypot(Si,Fi);for(const Di of Ai.getKeys())bi=bi.then(()=>{const Ii=Ai.get(Di),Mi=new Ze.OperatorList;return pi.getOperatorList({stream:Ii,task:li,resources:Ei,operatorList:Mi}).then(()=>{Mi.fnArray[0]===t.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Mi,Pi),mi[Di]=Mi.getIR();for(const $i of Mi.dependencies)di.add($i)}).catch(function($i){(0,t.warn)(`Type3 font resource "${Di}" is not available.`);const Xi=new Ze.OperatorList;mi[Di]=Xi.getIR()})});return this.type3Loaded=bi.then(()=>{oi.charProcOperatorList=mi,this._bbox&&(oi.isCharBBox=!0,oi.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(fi,xi=NaN){const li=t.Util.normalizeRect(fi.argsArray[0].slice(2)),pi=li[2]-li[0],ri=li[3]-li[1],oi=Math.hypot(pi,ri);pi===0||ri===0?(fi.fnArray.splice(0,1),fi.argsArray.splice(0,1)):(xi===0||Math.round(oi/xi)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],li[0]),this._bbox[1]=Math.min(this._bbox[1],li[1]),this._bbox[2]=Math.max(this._bbox[2],li[2]),this._bbox[3]=Math.max(this._bbox[3],li[3]));let di=0,bi=fi.length;for(;di<bi;){switch(fi.fnArray[di]){case t.OPS.setCharWidthAndBounds:break;case t.OPS.setStrokeColorSpace:case t.OPS.setFillColorSpace:case t.OPS.setStrokeColor:case t.OPS.setStrokeColorN:case t.OPS.setFillColor:case t.OPS.setFillColorN:case t.OPS.setStrokeGray:case t.OPS.setFillGray:case t.OPS.setStrokeRGBColor:case t.OPS.setFillRGBColor:case t.OPS.setStrokeCMYKColor:case t.OPS.setFillCMYKColor:case t.OPS.shadingFill:case t.OPS.setRenderingIntent:fi.fnArray.splice(di,1),fi.argsArray.splice(di,1),bi--;continue;case t.OPS.setGState:const[Ai]=fi.argsArray[di];let Ei=0,mi=Ai.length;for(;Ei<mi;){const[_i]=Ai[Ei];switch(_i){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":Ai.splice(Ei,1),mi--;continue}Ei++}break}di++}}}class hi{constructor(fi=new wi){this.state=fi,this.stateStack=[]}save(){const fi=this.state;this.stateStack.push(this.state),this.state=fi.clone()}restore(){const fi=this.stateStack.pop();fi&&(this.state=fi)}transform(fi){this.state.ctm=t.Util.transform(this.state.ctm,fi)}}class yi{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.textMatrix=t.IDENTITY_MATRIX.slice(),this.textLineMatrix=t.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(fi,xi,li,pi,ri,oi){const di=this.textMatrix;di[0]=fi,di[1]=xi,di[2]=li,di[3]=pi,di[4]=ri,di[5]=oi}setTextLineMatrix(fi,xi,li,pi,ri,oi){const di=this.textLineMatrix;di[0]=fi,di[1]=xi,di[2]=li,di[3]=pi,di[4]=ri,di[5]=oi}translateTextMatrix(fi,xi){const li=this.textMatrix;li[4]=li[0]*fi+li[2]*xi+li[4],li[5]=li[1]*fi+li[3]*xi+li[5]}translateTextLineMatrix(fi,xi){const li=this.textLineMatrix;li[4]=li[0]*fi+li[2]*xi+li[4],li[5]=li[1]*fi+li[3]*xi+li[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const fi=Object.create(this);return fi.textMatrix=this.textMatrix.slice(),fi.textLineMatrix=this.textLineMatrix.slice(),fi.fontMatrix=this.fontMatrix.slice(),fi}}class wi{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=t.TextRenderingMode.FILL,this.fillColorSpace=qe.ColorSpace.singletons.gray,this.strokeColorSpace=qe.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class Ci{static get opMap(){const fi=(0,ai.getLookupTableFactory)(function(xi){xi.w={id:t.OPS.setLineWidth,numArgs:1,variableArgs:!1},xi.J={id:t.OPS.setLineCap,numArgs:1,variableArgs:!1},xi.j={id:t.OPS.setLineJoin,numArgs:1,variableArgs:!1},xi.M={id:t.OPS.setMiterLimit,numArgs:1,variableArgs:!1},xi.d={id:t.OPS.setDash,numArgs:2,variableArgs:!1},xi.ri={id:t.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},xi.i={id:t.OPS.setFlatness,numArgs:1,variableArgs:!1},xi.gs={id:t.OPS.setGState,numArgs:1,variableArgs:!1},xi.q={id:t.OPS.save,numArgs:0,variableArgs:!1},xi.Q={id:t.OPS.restore,numArgs:0,variableArgs:!1},xi.cm={id:t.OPS.transform,numArgs:6,variableArgs:!1},xi.m={id:t.OPS.moveTo,numArgs:2,variableArgs:!1},xi.l={id:t.OPS.lineTo,numArgs:2,variableArgs:!1},xi.c={id:t.OPS.curveTo,numArgs:6,variableArgs:!1},xi.v={id:t.OPS.curveTo2,numArgs:4,variableArgs:!1},xi.y={id:t.OPS.curveTo3,numArgs:4,variableArgs:!1},xi.h={id:t.OPS.closePath,numArgs:0,variableArgs:!1},xi.re={id:t.OPS.rectangle,numArgs:4,variableArgs:!1},xi.S={id:t.OPS.stroke,numArgs:0,variableArgs:!1},xi.s={id:t.OPS.closeStroke,numArgs:0,variableArgs:!1},xi.f={id:t.OPS.fill,numArgs:0,variableArgs:!1},xi.F={id:t.OPS.fill,numArgs:0,variableArgs:!1},xi["f*"]={id:t.OPS.eoFill,numArgs:0,variableArgs:!1},xi.B={id:t.OPS.fillStroke,numArgs:0,variableArgs:!1},xi["B*"]={id:t.OPS.eoFillStroke,numArgs:0,variableArgs:!1},xi.b={id:t.OPS.closeFillStroke,numArgs:0,variableArgs:!1},xi["b*"]={id:t.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},xi.n={id:t.OPS.endPath,numArgs:0,variableArgs:!1},xi.W={id:t.OPS.clip,numArgs:0,variableArgs:!1},xi["W*"]={id:t.OPS.eoClip,numArgs:0,variableArgs:!1},xi.BT={id:t.OPS.beginText,numArgs:0,variableArgs:!1},xi.ET={id:t.OPS.endText,numArgs:0,variableArgs:!1},xi.Tc={id:t.OPS.setCharSpacing,numArgs:1,variableArgs:!1},xi.Tw={id:t.OPS.setWordSpacing,numArgs:1,variableArgs:!1},xi.Tz={id:t.OPS.setHScale,numArgs:1,variableArgs:!1},xi.TL={id:t.OPS.setLeading,numArgs:1,variableArgs:!1},xi.Tf={id:t.OPS.setFont,numArgs:2,variableArgs:!1},xi.Tr={id:t.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},xi.Ts={id:t.OPS.setTextRise,numArgs:1,variableArgs:!1},xi.Td={id:t.OPS.moveText,numArgs:2,variableArgs:!1},xi.TD={id:t.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},xi.Tm={id:t.OPS.setTextMatrix,numArgs:6,variableArgs:!1},xi["T*"]={id:t.OPS.nextLine,numArgs:0,variableArgs:!1},xi.Tj={id:t.OPS.showText,numArgs:1,variableArgs:!1},xi.TJ={id:t.OPS.showSpacedText,numArgs:1,variableArgs:!1},xi["'"]={id:t.OPS.nextLineShowText,numArgs:1,variableArgs:!1},xi['"']={id:t.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},xi.d0={id:t.OPS.setCharWidth,numArgs:2,variableArgs:!1},xi.d1={id:t.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},xi.CS={id:t.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},xi.cs={id:t.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},xi.SC={id:t.OPS.setStrokeColor,numArgs:4,variableArgs:!0},xi.SCN={id:t.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},xi.sc={id:t.OPS.setFillColor,numArgs:4,variableArgs:!0},xi.scn={id:t.OPS.setFillColorN,numArgs:33,variableArgs:!0},xi.G={id:t.OPS.setStrokeGray,numArgs:1,variableArgs:!1},xi.g={id:t.OPS.setFillGray,numArgs:1,variableArgs:!1},xi.RG={id:t.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},xi.rg={id:t.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},xi.K={id:t.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},xi.k={id:t.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},xi.sh={id:t.OPS.shadingFill,numArgs:1,variableArgs:!1},xi.BI={id:t.OPS.beginInlineImage,numArgs:0,variableArgs:!1},xi.ID={id:t.OPS.beginImageData,numArgs:0,variableArgs:!1},xi.EI={id:t.OPS.endInlineImage,numArgs:1,variableArgs:!1},xi.Do={id:t.OPS.paintXObject,numArgs:1,variableArgs:!1},xi.MP={id:t.OPS.markPoint,numArgs:1,variableArgs:!1},xi.DP={id:t.OPS.markPointProps,numArgs:2,variableArgs:!1},xi.BMC={id:t.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},xi.BDC={id:t.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},xi.EMC={id:t.OPS.endMarkedContent,numArgs:0,variableArgs:!1},xi.BX={id:t.OPS.beginCompat,numArgs:0,variableArgs:!1},xi.EX={id:t.OPS.endCompat,numArgs:0,variableArgs:!1},xi.BM=null,xi.BD=null,xi.true=null,xi.fa=null,xi.fal=null,xi.fals=null,xi.false=null,xi.nu=null,xi.nul=null,xi.null=null});return(0,t.shadow)(this,"opMap",fi())}static get MAX_INVALID_PATH_OPS(){return(0,t.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(fi,xi,li=new hi){this.parser=new Be.Parser({lexer:new Be.Lexer(fi,Ci.opMap),xref:xi}),this.stateManager=li,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(fi){let xi=fi.args;for(;;){const li=this.parser.getObj();if(li instanceof Fe.Cmd){const pi=li.cmd,ri=Ci.opMap[pi];if(!ri){(0,t.warn)(`Unknown command "${pi}".`);continue}const oi=ri.id,di=ri.numArgs;let bi=xi!==null?xi.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=oi>=t.OPS.moveTo&&oi<=t.OPS.endPath,ri.variableArgs)bi>di&&(0,t.info)(`Command ${pi}: expected [0, ${di}] args, but received ${bi} args.`);else{if(bi!==di){const Ai=this.nonProcessedArgs;for(;bi>di;)Ai.push(xi.shift()),bi--;for(;bi<di&&Ai.length!==0;)xi===null&&(xi=[]),xi.unshift(Ai.pop()),bi++}if(bi<di){const Ai=`command ${pi}: expected ${di} args, but received ${bi} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Ci.MAX_INVALID_PATH_OPS)throw new t.FormatError(`Invalid ${Ai}`);(0,t.warn)(`Skipping ${Ai}`),xi!==null&&(xi.length=0);continue}}return this.preprocessCommand(oi,xi),fi.fn=oi,fi.args=xi,!0}if(li===Fe.EOF)return!1;if(li!==null&&(xi===null&&(xi=[]),xi.push(li),xi.length>33))throw new t.FormatError("Too many arguments")}}preprocessCommand(fi,xi){switch(fi|0){case t.OPS.save:this.stateManager.save();break;case t.OPS.restore:this.stateManager.restore();break;case t.OPS.transform:this.stateManager.transform(xi);break}}}Se.EvaluatorPreprocessor=Ci},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.IdentityCMap=Se.CMapFactory=Se.CMap=void 0;var t=_e(2),xe=_e(3),Fe=_e(5),Te=_e(15),e=_e(4),ke=_e(8);const Oe=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Ee=2**24-1;class Pe{constructor(He=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=He}addCodespaceRange(He,je,Xe){this.codespaceRanges[He-1].push(je,Xe),this.numCodespaceRanges++}mapCidRange(He,je,Xe){if(je-He>Ee)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;He<=je;)this._map[He++]=Xe++}mapBfRange(He,je,Xe){if(je-He>Ee)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const St=Xe.length-1;for(;He<=je;){this._map[He++]=Xe;const qe=Xe.charCodeAt(St)+1;if(qe>255){Xe=Xe.substring(0,St-1)+String.fromCharCode(Xe.charCodeAt(St-1)+1)+"\0";continue}Xe=Xe.substring(0,St)+String.fromCharCode(qe)}}mapBfRangeToArray(He,je,Xe){if(je-He>Ee)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const St=Xe.length;let qe=0;for(;He<=je&&qe<St;)this._map[He]=Xe[qe++],++He}mapOne(He,je){this._map[He]=je}lookup(He){return this._map[He]}contains(He){return this._map[He]!==void 0}forEach(He){const je=this._map,Xe=je.length;if(Xe<=65536)for(let St=0;St<Xe;St++)je[St]!==void 0&&He(St,je[St]);else for(const St in je)He(St,je[St])}charCodeOf(He){const je=this._map;if(je.length<=65536)return je.indexOf(He);for(const Xe in je)if(je[Xe]===He)return Xe|0;return-1}getMap(){return this._map}readCharCode(He,je,Xe){let St=0;const qe=this.codespaceRanges;for(let Ye=0,gi=qe.length;Ye<gi;Ye++){St=(St<<8|He.charCodeAt(je+Ye))>>>0;const ai=qe[Ye];for(let ui=0,Qe=ai.length;ui<Qe;){const Ze=ai[ui++],ci=ai[ui++];if(St>=Ze&&St<=ci){Xe.charcode=St,Xe.length=Ye+1;return}}}Xe.charcode=0,Xe.length=1}getCharCodeLength(He){const je=this.codespaceRanges;for(let Xe=0,St=je.length;Xe<St;Xe++){const qe=je[Xe];for(let Ye=0,gi=qe.length;Ye<gi;){const ai=qe[Ye++],ui=qe[Ye++];if(He>=ai&&He<=ui)return Xe+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let He=0;He<65536;He++)if(this._map[He]!==He)return!1;return!0}}Se.CMap=Pe;class De extends Pe{constructor(He,je){super(),this.vertical=He,this.addCodespaceRange(je,0,65535)}mapCidRange(He,je,Xe){(0,t.unreachable)("should not call mapCidRange")}mapBfRange(He,je,Xe){(0,t.unreachable)("should not call mapBfRange")}mapBfRangeToArray(He,je,Xe){(0,t.unreachable)("should not call mapBfRangeToArray")}mapOne(He,je){(0,t.unreachable)("should not call mapCidOne")}lookup(He){return Number.isInteger(He)&&He<=65535?He:void 0}contains(He){return Number.isInteger(He)&&He<=65535}forEach(He){for(let je=0;je<=65535;je++)He(je,je)}charCodeOf(He){return Number.isInteger(He)&&He<=65535?He:-1}getMap(){const He=new Array(65536);for(let je=0;je<=65535;je++)He[je]=je;return He}get length(){return 65536}get isIdentityCMap(){(0,t.unreachable)("should not access .isIdentityCMap")}}Se.IdentityCMap=De;const Me=function(){function He(ui,Qe){let Ze=0;for(let ci=0;ci<=Qe;ci++)Ze=Ze<<8|ui[ci];return Ze>>>0}function je(ui,Qe){return Qe===1?String.fromCharCode(ui[0],ui[1]):Qe===3?String.fromCharCode(ui[0],ui[1],ui[2],ui[3]):String.fromCharCode.apply(null,ui.subarray(0,Qe+1))}function Xe(ui,Qe,Ze){let ci=0;for(let ze=Ze;ze>=0;ze--)ci+=ui[ze]+Qe[ze],ui[ze]=ci&255,ci>>=8}function St(ui,Qe){let Ze=1;for(let ci=Qe;ci>=0&&Ze>0;ci--)Ze+=ui[ci],ui[ci]=Ze&255,Ze>>=8}const qe=16,Ye=19;class gi{constructor(Qe){this.buffer=Qe,this.pos=0,this.end=Qe.length,this.tmpBuf=new Uint8Array(Ye)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Qe=0,Ze;do{const ci=this.readByte();if(ci<0)throw new t.FormatError("unexpected EOF in bcmap");Ze=!(ci&128),Qe=Qe<<7|ci&127}while(!Ze);return Qe}readSigned(){const Qe=this.readNumber();return Qe&1?~(Qe>>>1):Qe>>>1}readHex(Qe,Ze){Qe.set(this.buffer.subarray(this.pos,this.pos+Ze+1)),this.pos+=Ze+1}readHexNumber(Qe,Ze){let ci;const ze=this.tmpBuf;let We=0;do{const Ke=this.readByte();if(Ke<0)throw new t.FormatError("unexpected EOF in bcmap");ci=!(Ke&128),ze[We++]=Ke&127}while(!ci);let si=Ze,ni=0,$e=0;for(;si>=0;){for(;$e<8&&ze.length>0;)ni|=ze[--We]<<$e,$e+=7;Qe[si]=ni&255,si--,ni>>=8,$e-=8}}readHexSigned(Qe,Ze){this.readHexNumber(Qe,Ze);const ci=Qe[Ze]&1?255:0;let ze=0;for(let We=0;We<=Ze;We++)ze=(ze&1)<<8|Qe[We],Qe[We]=ze>>1^ci}readString(){const Qe=this.readNumber();let Ze="";for(let ci=0;ci<Qe;ci++)Ze+=String.fromCharCode(this.readNumber());return Ze}}class ai{async process(Qe,Ze,ci){const ze=new gi(Qe),We=ze.readByte();Ze.vertical=!!(We&1);let si=null;const ni=new Uint8Array(qe),$e=new Uint8Array(qe),Ke=new Uint8Array(qe),Ve=new Uint8Array(qe),Ue=new Uint8Array(qe);let ti,hi;for(;(hi=ze.readByte())>=0;){const yi=hi>>5;if(yi===7){switch(hi&31){case 0:ze.readString();break;case 1:si=ze.readString();break}continue}const wi=!!(hi&16),Ci=hi&15;if(Ci+1>qe)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const ki=1,fi=ze.readNumber();switch(yi){case 0:ze.readHex(ni,Ci),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),Ze.addCodespaceRange(Ci+1,He(ni,Ci),He($e,Ci));for(let xi=1;xi<fi;xi++)St($e,Ci),ze.readHexNumber(ni,Ci),Xe(ni,$e,Ci),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),Ze.addCodespaceRange(Ci+1,He(ni,Ci),He($e,Ci));break;case 1:ze.readHex(ni,Ci),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),ze.readNumber();for(let xi=1;xi<fi;xi++)St($e,Ci),ze.readHexNumber(ni,Ci),Xe(ni,$e,Ci),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),ze.readNumber();break;case 2:ze.readHex(Ke,Ci),ti=ze.readNumber(),Ze.mapOne(He(Ke,Ci),ti);for(let xi=1;xi<fi;xi++)St(Ke,Ci),wi||(ze.readHexNumber(Ue,Ci),Xe(Ke,Ue,Ci)),ti=ze.readSigned()+(ti+1),Ze.mapOne(He(Ke,Ci),ti);break;case 3:ze.readHex(ni,Ci),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),ti=ze.readNumber(),Ze.mapCidRange(He(ni,Ci),He($e,Ci),ti);for(let xi=1;xi<fi;xi++)St($e,Ci),wi?ni.set($e):(ze.readHexNumber(ni,Ci),Xe(ni,$e,Ci)),ze.readHexNumber($e,Ci),Xe($e,ni,Ci),ti=ze.readNumber(),Ze.mapCidRange(He(ni,Ci),He($e,Ci),ti);break;case 4:ze.readHex(Ke,ki),ze.readHex(Ve,Ci),Ze.mapOne(He(Ke,ki),je(Ve,Ci));for(let xi=1;xi<fi;xi++)St(Ke,ki),wi||(ze.readHexNumber(Ue,ki),Xe(Ke,Ue,ki)),St(Ve,Ci),ze.readHexSigned(Ue,Ci),Xe(Ve,Ue,Ci),Ze.mapOne(He(Ke,ki),je(Ve,Ci));break;case 5:ze.readHex(ni,ki),ze.readHexNumber($e,ki),Xe($e,ni,ki),ze.readHex(Ve,Ci),Ze.mapBfRange(He(ni,ki),He($e,ki),je(Ve,Ci));for(let xi=1;xi<fi;xi++)St($e,ki),wi?ni.set($e):(ze.readHexNumber(ni,ki),Xe(ni,$e,ki)),ze.readHexNumber($e,ki),Xe($e,ni,ki),ze.readHex(Ve,Ci),Ze.mapBfRange(He(ni,ki),He($e,ki),je(Ve,Ci));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${yi}`)}}return si?ci(si):Ze}}return ai}(),Ae=function(){function He(We){let si=0;for(let ni=0;ni<We.length;ni++)si=si<<8|We.charCodeAt(ni);return si>>>0}function je(We){if(typeof We!="string")throw new t.FormatError("Malformed CMap: expected string.")}function Xe(We){if(!Number.isInteger(We))throw new t.FormatError("Malformed CMap: expected int.")}function St(We,si){for(;;){let ni=si.getObj();if(ni===xe.EOF)break;if((0,xe.isCmd)(ni,"endbfchar"))return;je(ni);const $e=He(ni);ni=si.getObj(),je(ni);const Ke=ni;We.mapOne($e,Ke)}}function qe(We,si){for(;;){let ni=si.getObj();if(ni===xe.EOF)break;if((0,xe.isCmd)(ni,"endbfrange"))return;je(ni);const $e=He(ni);ni=si.getObj(),je(ni);const Ke=He(ni);if(ni=si.getObj(),Number.isInteger(ni)||typeof ni=="string"){const Ve=Number.isInteger(ni)?String.fromCharCode(ni):ni;We.mapBfRange($e,Ke,Ve)}else if((0,xe.isCmd)(ni,"[")){ni=si.getObj();const Ve=[];for(;!(0,xe.isCmd)(ni,"]")&&ni!==xe.EOF;)Ve.push(ni),ni=si.getObj();We.mapBfRangeToArray($e,Ke,Ve)}else break}throw new t.FormatError("Invalid bf range.")}function Ye(We,si){for(;;){let ni=si.getObj();if(ni===xe.EOF)break;if((0,xe.isCmd)(ni,"endcidchar"))return;je(ni);const $e=He(ni);ni=si.getObj(),Xe(ni);const Ke=ni;We.mapOne($e,Ke)}}function gi(We,si){for(;;){let ni=si.getObj();if(ni===xe.EOF)break;if((0,xe.isCmd)(ni,"endcidrange"))return;je(ni);const $e=He(ni);ni=si.getObj(),je(ni);const Ke=He(ni);ni=si.getObj(),Xe(ni);const Ve=ni;We.mapCidRange($e,Ke,Ve)}}function ai(We,si){for(;;){let ni=si.getObj();if(ni===xe.EOF)break;if((0,xe.isCmd)(ni,"endcodespacerange"))return;if(typeof ni!="string")break;const $e=He(ni);if(ni=si.getObj(),typeof ni!="string")break;const Ke=He(ni);We.addCodespaceRange(ni.length,$e,Ke)}throw new t.FormatError("Invalid codespace range.")}function ui(We,si){const ni=si.getObj();Number.isInteger(ni)&&(We.vertical=!!ni)}function Qe(We,si){const ni=si.getObj();ni instanceof xe.Name&&(We.name=ni.name)}async function Ze(We,si,ni,$e){let Ke,Ve;e:for(;;)try{const Ue=si.getObj();if(Ue===xe.EOF)break;if(Ue instanceof xe.Name)Ue.name==="WMode"?ui(We,si):Ue.name==="CMapName"&&Qe(We,si),Ke=Ue;else if(Ue instanceof xe.Cmd)switch(Ue.cmd){case"endcmap":break e;case"usecmap":Ke instanceof xe.Name&&(Ve=Ke.name);break;case"begincodespacerange":ai(We,si);break;case"beginbfchar":St(We,si);break;case"begincidchar":Ye(We,si);break;case"beginbfrange":qe(We,si);break;case"begincidrange":gi(We,si);break}}catch(Ue){if(Ue instanceof e.MissingDataException)throw Ue;(0,t.warn)("Invalid cMap data: "+Ue);continue}return!$e&&Ve&&($e=Ve),$e?ci(We,ni,$e):We}async function ci(We,si,ni){if(We.useCMap=await ze(ni,si),We.numCodespaceRanges===0){const $e=We.useCMap.codespaceRanges;for(let Ke=0;Ke<$e.length;Ke++)We.codespaceRanges[Ke]=$e[Ke].slice();We.numCodespaceRanges=We.useCMap.numCodespaceRanges}return We.useCMap.forEach(function($e,Ke){We.contains($e)||We.mapOne($e,We.useCMap.lookup($e))}),We}async function ze(We,si){if(We==="Identity-H")return new De(!1,2);if(We==="Identity-V")return new De(!0,2);if(!Oe.includes(We))throw new Error("Unknown CMap name: "+We);if(!si)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:ni,compressionType:$e}=await si(We),Ke=new Pe(!0);if($e===t.CMapCompressionType.BINARY)return new Me().process(ni,Ke,Ve=>ci(Ke,si,Ve));if($e===t.CMapCompressionType.NONE){const Ve=new Te.Lexer(new ke.Stream(ni));return Ze(Ke,Ve,si,null)}throw new Error(`Invalid CMap "compressionType" value: ${$e}`)}return{async create(We){const si=We.encoding,ni=We.fetchBuiltInCMap,$e=We.useCMap;if(si instanceof xe.Name)return ze(si.name,ni);if(si instanceof Fe.BaseStream){const Ke=await Ze(new Pe,new Te.Lexer(si),ni,$e);return Ke.isIdentityCMap?ze(Ke.name,ni):Ke}throw new Error("Encoding required.")}}}();Se.CMapFactory=Ae},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Parser=Se.Linearization=Se.Lexer=void 0;var t=_e(2),xe=_e(3),Fe=_e(4),Te=_e(16),e=_e(18),ke=_e(19),Oe=_e(21),Ee=_e(22),Pe=_e(25),De=_e(27),Me=_e(29),Ae=_e(8),Be=_e(30),He=_e(31);const je=1e3,Xe=5552;function St(Qe){const Ze=Qe.length;let ci=1,ze=0;for(let We=0;We<Ze;++We)ci+=Qe[We]&255,ze+=ci;return ze%65521<<16|ci%65521}class qe{constructor({lexer:Ze,xref:ci,allowStreams:ze=!1,recoveryMode:We=!1}){this.lexer=Ze,this.xref=ci,this.allowStreams=ze,this.recoveryMode=We,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof xe.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Ze){if(Ze instanceof Fe.MissingDataException)throw Ze;return!1}}getObj(Ze=null){const ci=this.buf1;if(this.shift(),ci instanceof xe.Cmd)switch(ci.cmd){case"BI":return this.makeInlineImage(Ze);case"[":const ze=[];for(;!(0,xe.isCmd)(this.buf1,"]")&&this.buf1!==xe.EOF;)ze.push(this.getObj(Ze));if(this.buf1===xe.EOF){if(this.recoveryMode)return ze;throw new Fe.ParserEOFException("End of file inside array.")}return this.shift(),ze;case"<<":const We=new xe.Dict(this.xref);for(;!(0,xe.isCmd)(this.buf1,">>")&&this.buf1!==xe.EOF;){if(!(this.buf1 instanceof xe.Name)){(0,t.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const si=this.buf1.name;if(this.shift(),this.buf1===xe.EOF)break;We.set(si,this.getObj(Ze))}if(this.buf1===xe.EOF){if(this.recoveryMode)return We;throw new Fe.ParserEOFException("End of file inside dictionary.")}return(0,xe.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(We,Ze):We:(this.shift(),We);default:return ci}if(Number.isInteger(ci)){if(Number.isInteger(this.buf1)&&(0,xe.isCmd)(this.buf2,"R")){const ze=xe.Ref.get(ci,this.buf1);return this.shift(),this.shift(),ze}return ci}return typeof ci=="string"&&Ze?Ze.decryptString(ci):ci}findDefaultInlineStreamEnd(Ze){const Ke=this.lexer,Ve=Ze.pos,Ue=10;let ti=0,hi,yi;for(;(hi=Ze.getByte())!==-1;)if(ti===0)ti=hi===69?1:0;else if(ti===1)ti=hi===73?2:0;else if((0,t.assert)(ti===2,"findDefaultInlineStreamEnd - invalid state."),hi===32||hi===10||hi===13){yi=Ze.pos;const Ci=Ze.peekBytes(Ue);for(let ki=0,fi=Ci.length;ki<fi;ki++)if(hi=Ci[ki],!(hi===0&&Ci[ki+1]!==0)&&hi!==10&&hi!==13&&(hi<32||hi>127)){ti=0;break}if(ti!==2)continue;if(Ke.knownCommands){const ki=Ke.peekObj();ki instanceof xe.Cmd&&!Ke.knownCommands[ki.cmd]&&(ti=0)}else(0,t.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(ti===2)break}else ti=0;hi===-1&&((0,t.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),yi&&((0,t.warn)('... trying to recover by using the last "EI" occurrence.'),Ze.skip(-(Ze.pos-yi))));let wi=4;return Ze.skip(-wi),hi=Ze.peekByte(),Ze.skip(wi),(0,Fe.isWhiteSpace)(hi)||wi--,Ze.pos-wi-Ve}findDCTDecodeInlineStreamEnd(Ze){const ci=Ze.pos;let ze=!1,We,si;for(;(We=Ze.getByte())!==-1;)if(We===255){switch(Ze.getByte()){case 0:break;case 255:Ze.skip(-1);break;case 217:ze=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:si=Ze.getUint16(),si>2?Ze.skip(si-2):Ze.skip(-2);break}if(ze)break}const ni=Ze.pos-ci;return We===-1?((0,t.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Ze.skip(-ni),this.findDefaultInlineStreamEnd(Ze)):(this.inlineStreamSkipEI(Ze),ni)}findASCII85DecodeInlineStreamEnd(Ze){const We=Ze.pos;let si;for(;(si=Ze.getByte())!==-1;)if(si===126){const $e=Ze.pos;for(si=Ze.peekByte();(0,Fe.isWhiteSpace)(si);)Ze.skip(),si=Ze.peekByte();if(si===62){Ze.skip();break}if(Ze.pos>$e){const Ke=Ze.peekBytes(2);if(Ke[0]===69&&Ke[1]===73)break}}const ni=Ze.pos-We;return si===-1?((0,t.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Ze.skip(-ni),this.findDefaultInlineStreamEnd(Ze)):(this.inlineStreamSkipEI(Ze),ni)}findASCIIHexDecodeInlineStreamEnd(Ze){const ze=Ze.pos;let We;for(;(We=Ze.getByte())!==-1&&We!==62;);const si=Ze.pos-ze;return We===-1?((0,t.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Ze.skip(-si),this.findDefaultInlineStreamEnd(Ze)):(this.inlineStreamSkipEI(Ze),si)}inlineStreamSkipEI(Ze){let We=0,si;for(;(si=Ze.getByte())!==-1;)if(We===0)We=si===69?1:0;else if(We===1)We=si===73?2:0;else if(We===2)break}makeInlineImage(Ze){const ci=this.lexer,ze=ci.stream,We=new xe.Dict(this.xref);let si;for(;!(0,xe.isCmd)(this.buf1,"ID")&&this.buf1!==xe.EOF;){if(!(this.buf1 instanceof xe.Name))throw new t.FormatError("Dictionary key must be a name object");const hi=this.buf1.name;if(this.shift(),this.buf1===xe.EOF)break;We.set(hi,this.getObj(Ze))}ci.beginInlineImagePos!==-1&&(si=ze.pos-ci.beginInlineImagePos);const ni=We.get("F","Filter");let $e;if(ni instanceof xe.Name)$e=ni.name;else if(Array.isArray(ni)){const hi=this.xref.fetchIfRef(ni[0]);hi instanceof xe.Name&&($e=hi.name)}const Ke=ze.pos;let Ve;switch($e){case"DCT":case"DCTDecode":Ve=this.findDCTDecodeInlineStreamEnd(ze);break;case"A85":case"ASCII85Decode":Ve=this.findASCII85DecodeInlineStreamEnd(ze);break;case"AHx":case"ASCIIHexDecode":Ve=this.findASCIIHexDecodeInlineStreamEnd(ze);break;default:Ve=this.findDefaultInlineStreamEnd(ze)}let Ue=ze.makeSubStream(Ke,Ve,We),ti;if(Ve<je&&si<Xe){const hi=Ue.getBytes();Ue.reset();const yi=ze.pos;ze.pos=ci.beginInlineImagePos;const wi=ze.getBytes(si);ze.pos=yi,ti=St(hi)+"_"+St(wi);const Ci=this.imageCache[ti];if(Ci!==void 0)return this.buf2=xe.Cmd.get("EI"),this.shift(),Ci.reset(),Ci}return Ze&&(Ue=Ze.createStream(Ue,Ve)),Ue=this.filter(Ue,We,Ve),Ue.dict=We,ti!==void 0&&(Ue.cacheKey=`inline_${Ve}_${ti}`,this.imageCache[ti]=Ue),this.buf2=xe.Cmd.get("EI"),this.shift(),Ue}_findStreamLength(Ze,ci){const{stream:ze}=this.lexer;ze.pos=Ze;const We=2048,si=ci.length;for(;ze.pos<ze.end;){const ni=ze.peekBytes(We),$e=ni.length-si;if($e<=0)break;let Ke=0;for(;Ke<$e;){let Ve=0;for(;Ve<si&&ni[Ke+Ve]===ci[Ve];)Ve++;if(Ve>=si)return ze.pos+=Ke,ze.pos-Ze;Ke++}ze.pos+=$e}return-1}makeStream(Ze,ci){const ze=this.lexer;let We=ze.stream;ze.skipToNextLine();const si=We.pos-1;let ni=Ze.get("Length");if(Number.isInteger(ni)||((0,t.info)(`Bad length "${ni&&ni.toString()}" in stream.`),ni=0),We.pos=si+ni,ze.nextChar(),this.tryShift()&&(0,xe.isCmd)(this.buf2,"endstream"))this.shift();else{const $e=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Ke=this._findStreamLength(si,$e);if(Ke<0){for(let Ue=1;Ue<=1;Ue++){const ti=$e.length-Ue,hi=$e.slice(0,ti),yi=this._findStreamLength(si,hi);if(yi>=0){const wi=We.peekBytes(ti+1)[ti];if(!(0,Fe.isWhiteSpace)(wi))break;(0,t.info)(`Found "${(0,t.bytesToString)(hi)}" when searching for endstream command.`),Ke=yi;break}}if(Ke<0)throw new t.FormatError("Missing endstream command.")}ni=Ke,ze.nextChar(),this.shift(),this.shift()}return this.shift(),We=We.makeSubStream(si,ni,Ze),ci&&(We=ci.createStream(We,ni)),We=this.filter(We,Ze,ni),We.dict=Ze,We}filter(Ze,ci,ze){let We=ci.get("F","Filter"),si=ci.get("DP","DecodeParms");if(We instanceof xe.Name)return Array.isArray(si)&&(0,t.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Ze,We.name,ze,si);let ni=ze;if(Array.isArray(We)){const $e=We,Ke=si;for(let Ve=0,Ue=$e.length;Ve<Ue;++Ve){if(We=this.xref.fetchIfRef($e[Ve]),!(We instanceof xe.Name))throw new t.FormatError(`Bad filter name "${We}"`);si=null,Array.isArray(Ke)&&Ve in Ke&&(si=this.xref.fetchIfRef(Ke[Ve])),Ze=this.makeFilter(Ze,We.name,ni,si),ni=null}}return Ze}makeFilter(Ze,ci,ze,We){if(ze===0)return(0,t.warn)(`Empty "${ci}" stream.`),new Ae.NullStream;const si=this.xref.stats;try{switch(ci){case"Fl":case"FlateDecode":return si.addStreamType(t.StreamType.FLATE),We?new Be.PredictorStream(new Oe.FlateStream(Ze,ze),ze,We):new Oe.FlateStream(Ze,ze);case"LZW":case"LZWDecode":si.addStreamType(t.StreamType.LZW);let ni=1;return We?(We.has("EarlyChange")&&(ni=We.get("EarlyChange")),new Be.PredictorStream(new Me.LZWStream(Ze,ze,ni),ze,We)):new Me.LZWStream(Ze,ze,ni);case"DCT":case"DCTDecode":return si.addStreamType(t.StreamType.DCT),new Pe.JpegStream(Ze,ze,We);case"JPX":case"JPXDecode":return si.addStreamType(t.StreamType.JPX),new De.JpxStream(Ze,ze,We);case"A85":case"ASCII85Decode":return si.addStreamType(t.StreamType.A85),new Te.Ascii85Stream(Ze,ze);case"AHx":case"ASCIIHexDecode":return si.addStreamType(t.StreamType.AHX),new e.AsciiHexStream(Ze,ze);case"CCF":case"CCITTFaxDecode":return si.addStreamType(t.StreamType.CCF),new ke.CCITTFaxStream(Ze,ze,We);case"RL":case"RunLengthDecode":return si.addStreamType(t.StreamType.RLX),new He.RunLengthStream(Ze,ze);case"JBIG2Decode":return si.addStreamType(t.StreamType.JBIG),new Ee.Jbig2Stream(Ze,ze,We)}return(0,t.warn)(`Filter "${ci}" is not supported.`),Ze}catch(ni){if(ni instanceof Fe.MissingDataException)throw ni;return(0,t.warn)(`Invalid stream: "${ni}"`),new Ae.NullStream}}}Se.Parser=qe;const Ye=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function gi(Qe){return Qe>=48&&Qe<=57?Qe&15:Qe>=65&&Qe<=70||Qe>=97&&Qe<=102?(Qe&15)+9:-1}class ai{constructor(Ze,ci=null){this.stream=Ze,this.nextChar(),this.strBuf=[],this.knownCommands=ci,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Ze=this.currentChar,ci=!1,ze=0,We=0;if(Ze===45?(We=-1,Ze=this.nextChar(),Ze===45&&(Ze=this.nextChar())):Ze===43&&(We=1,Ze=this.nextChar()),Ze===10||Ze===13)do Ze=this.nextChar();while(Ze===10||Ze===13);if(Ze===46&&(ze=10,Ze=this.nextChar()),Ze<48||Ze>57){const Ke=`Invalid number: ${String.fromCharCode(Ze)} (charCode ${Ze})`;if((0,Fe.isWhiteSpace)(Ze)||Ze===-1)return(0,t.info)(`Lexer.getNumber - "${Ke}".`),0;throw new t.FormatError(Ke)}We=We||1;let si=Ze-48,ni=0,$e=1;for(;(Ze=this.nextChar())>=0;)if(Ze>=48&&Ze<=57){const Ke=Ze-48;ci?ni=ni*10+Ke:(ze!==0&&(ze*=10),si=si*10+Ke)}else if(Ze===46)if(ze===0)ze=1;else break;else if(Ze===45)(0,t.warn)("Badly formatted number: minus sign in the middle");else if(Ze===69||Ze===101){if(Ze=this.peekChar(),Ze===43||Ze===45)$e=Ze===45?-1:1,this.nextChar();else if(Ze<48||Ze>57)break;ci=!0}else break;return ze!==0&&(si/=ze),ci&&(si*=10**($e*ni)),We*si}getString(){let Ze=1,ci=!1;const ze=this.strBuf;ze.length=0;let We=this.nextChar();for(;;){let si=!1;switch(We|0){case-1:(0,t.warn)("Unterminated string"),ci=!0;break;case 40:++Ze,ze.push("(");break;case 41:--Ze===0?(this.nextChar(),ci=!0):ze.push(")");break;case 92:switch(We=this.nextChar(),We){case-1:(0,t.warn)("Unterminated string"),ci=!0;break;case 110:ze.push(`
`);break;case 114:ze.push("\r");break;case 116:ze.push("	");break;case 98:ze.push("\b");break;case 102:ze.push("\f");break;case 92:case 40:case 41:ze.push(String.fromCharCode(We));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let ni=We&15;We=this.nextChar(),si=!0,We>=48&&We<=55&&(ni=(ni<<3)+(We&15),We=this.nextChar(),We>=48&&We<=55&&(si=!1,ni=(ni<<3)+(We&15))),ze.push(String.fromCharCode(ni));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:ze.push(String.fromCharCode(We));break}break;default:ze.push(String.fromCharCode(We));break}if(ci)break;si||(We=this.nextChar())}return ze.join("")}getName(){let Ze,ci;const ze=this.strBuf;for(ze.length=0;(Ze=this.nextChar())>=0&&!Ye[Ze];)if(Ze===35){if(Ze=this.nextChar(),Ye[Ze]){(0,t.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),ze.push("#");break}const We=gi(Ze);if(We!==-1){ci=Ze,Ze=this.nextChar();const si=gi(Ze);if(si===-1){if((0,t.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Ze)}) in hexadecimal number.`),ze.push("#",String.fromCharCode(ci)),Ye[Ze])break;ze.push(String.fromCharCode(Ze));continue}ze.push(String.fromCharCode(We<<4|si))}else ze.push("#",String.fromCharCode(Ze))}else ze.push(String.fromCharCode(Ze));return ze.length>127&&(0,t.warn)(`Name token is longer than allowed by the spec: ${ze.length}`),xe.Name.get(ze.join(""))}_hexStringWarn(Ze){if(this._hexStringNumWarn++===5){(0,t.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,t.warn)(`getHexString - ignoring invalid character: ${Ze}`)}getHexString(){const Ze=this.strBuf;Ze.length=0;let ci=this.currentChar,ze=!0,We,si;for(this._hexStringNumWarn=0;;)if(ci<0){(0,t.warn)("Unterminated hex string");break}else if(ci===62){this.nextChar();break}else if(Ye[ci]===1){ci=this.nextChar();continue}else{if(ze){if(We=gi(ci),We===-1){this._hexStringWarn(ci),ci=this.nextChar();continue}}else{if(si=gi(ci),si===-1){this._hexStringWarn(ci),ci=this.nextChar();continue}Ze.push(String.fromCharCode(We<<4|si))}ze=!ze,ci=this.nextChar()}return Ze.join("")}getObj(){let Ze=!1,ci=this.currentChar;for(;;){if(ci<0)return xe.EOF;if(Ze)(ci===10||ci===13)&&(Ze=!1);else if(ci===37)Ze=!0;else if(Ye[ci]!==1)break;ci=this.nextChar()}switch(ci|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),xe.Cmd.get("[");case 93:return this.nextChar(),xe.Cmd.get("]");case 60:return ci=this.nextChar(),ci===60?(this.nextChar(),xe.Cmd.get("<<")):this.getHexString();case 62:return ci=this.nextChar(),ci===62?(this.nextChar(),xe.Cmd.get(">>")):xe.Cmd.get(">");case 123:return this.nextChar(),xe.Cmd.get("{");case 125:return this.nextChar(),xe.Cmd.get("}");case 41:throw this.nextChar(),new t.FormatError(`Illegal character: ${ci}`)}let ze=String.fromCharCode(ci);if(ci<32||ci>127){const ni=this.peekChar();if(ni>=32&&ni<=127)return this.nextChar(),xe.Cmd.get(ze)}const We=this.knownCommands;let si=We&&We[ze]!==void 0;for(;(ci=this.nextChar())>=0&&!Ye[ci];){const ni=ze+String.fromCharCode(ci);if(si&&We[ni]===void 0)break;if(ze.length===128)throw new t.FormatError(`Command token too long: ${ze.length}`);ze=ni,si=We&&We[ze]!==void 0}return ze==="true"?!0:ze==="false"?!1:ze==="null"?null:(ze==="BI"&&(this.beginInlineImagePos=this.stream.pos),xe.Cmd.get(ze))}peekObj(){const Ze=this.stream.pos,ci=this.currentChar,ze=this.beginInlineImagePos;let We;try{We=this.getObj()}catch(si){if(si instanceof Fe.MissingDataException)throw si;(0,t.warn)(`peekObj: ${si}`)}return this.stream.pos=Ze,this.currentChar=ci,this.beginInlineImagePos=ze,We}skipToNextLine(){let Ze=this.currentChar;for(;Ze>=0;){if(Ze===13){Ze=this.nextChar(),Ze===10&&this.nextChar();break}else if(Ze===10){this.nextChar();break}Ze=this.nextChar()}}}Se.Lexer=ai;class ui{static create(Ze){function ci(ti,hi,yi=!1){const wi=ti.get(hi);if(Number.isInteger(wi)&&(yi?wi>=0:wi>0))return wi;throw new Error(`The "${hi}" parameter in the linearization dictionary is invalid.`)}function ze(ti){const hi=ti.get("H");let yi;if(Array.isArray(hi)&&((yi=hi.length)===2||yi===4)){for(let wi=0;wi<yi;wi++){const Ci=hi[wi];if(!(Number.isInteger(Ci)&&Ci>0))throw new Error(`Hint (${wi}) in the linearization dictionary is invalid.`)}return hi}throw new Error("Hint array in the linearization dictionary is invalid.")}const We=new qe({lexer:new ai(Ze),xref:null}),si=We.getObj(),ni=We.getObj(),$e=We.getObj(),Ke=We.getObj();let Ve,Ue;if(Number.isInteger(si)&&Number.isInteger(ni)&&(0,xe.isCmd)($e,"obj")&&Ke instanceof xe.Dict&&typeof(Ve=Ke.get("Linearized"))=="number"&&Ve>0){if((Ue=ci(Ke,"L"))!==Ze.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:Ue,hints:ze(Ke),objectNumberFirst:ci(Ke,"O"),endFirst:ci(Ke,"E"),numPages:ci(Ke,"N"),mainXRefEntriesOffset:ci(Ke,"T"),pageFirst:Ke.has("P")?ci(Ke,"P",!0):0}}}Se.Linearization=ui},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Ascii85Stream=void 0;var t=_e(17),xe=_e(4);class Fe extends t.DecodeStream{constructor(e,ke){ke&&(ke*=.8),super(ke),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const Ee=this.str;let Pe=Ee.getByte();for(;(0,xe.isWhiteSpace)(Pe);)Pe=Ee.getByte();if(Pe===-1||Pe===126){this.eof=!0;return}const De=this.bufferLength;let Me,Ae;if(Pe===122){for(Me=this.ensureBuffer(De+4),Ae=0;Ae<4;++Ae)Me[De+Ae]=0;this.bufferLength+=4}else{const Be=this.input;for(Be[0]=Pe,Ae=1;Ae<5;++Ae){for(Pe=Ee.getByte();(0,xe.isWhiteSpace)(Pe);)Pe=Ee.getByte();if(Be[Ae]=Pe,Pe===-1||Pe===126)break}if(Me=this.ensureBuffer(De+Ae-1),this.bufferLength+=Ae-1,Ae<5){for(;Ae<5;++Ae)Be[Ae]=117;this.eof=!0}let He=0;for(Ae=0;Ae<5;++Ae)He=He*85+(Be[Ae]-33);for(Ae=3;Ae>=0;--Ae)Me[De+Ae]=He&255,He>>=8}}}Se.Ascii85Stream=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.StreamsSequenceStream=Se.DecodeStream=void 0;var t=_e(5),xe=_e(8);const Fe=new Uint8Array(0);class Te extends t.BaseStream{constructor(Oe){if(super(),this._rawMinBufferLength=Oe||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Fe,this.minBufferLength=512,Oe)for(;this.minBufferLength<Oe;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Oe){const Ee=this.buffer;if(Oe<=Ee.byteLength)return Ee;let Pe=this.minBufferLength;for(;Pe<Oe;)Pe*=2;const De=new Uint8Array(Pe);return De.set(Ee),this.buffer=De}getByte(){const Oe=this.pos;for(;this.bufferLength<=Oe;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Oe){const Ee=this.pos;let Pe;if(Oe){for(this.ensureBuffer(Ee+Oe),Pe=Ee+Oe;!this.eof&&this.bufferLength<Pe;)this.readBlock();const De=this.bufferLength;Pe>De&&(Pe=De)}else{for(;!this.eof;)this.readBlock();Pe=this.bufferLength}return this.pos=Pe,this.buffer.subarray(Ee,Pe)}reset(){this.pos=0}makeSubStream(Oe,Ee,Pe=null){if(Ee===void 0)for(;!this.eof;)this.readBlock();else{const De=Oe+Ee;for(;this.bufferLength<=De&&!this.eof;)this.readBlock()}return new xe.Stream(this.buffer,Oe,Ee,Pe)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}Se.DecodeStream=Te;class e extends Te{constructor(Oe,Ee=null){let Pe=0;for(const De of Oe)Pe+=De instanceof Te?De._rawMinBufferLength:De.length;super(Pe),this.streams=Oe,this._onError=Ee}readBlock(){const Oe=this.streams;if(Oe.length===0){this.eof=!0;return}const Ee=Oe.shift();let Pe;try{Pe=Ee.getBytes()}catch(Be){if(this._onError){this._onError(Be,Ee.dict&&Ee.dict.objId);return}throw Be}const De=this.bufferLength,Me=De+Pe.length;this.ensureBuffer(Me).set(Pe,De),this.bufferLength=Me}getBaseStreams(){const Oe=[];for(const Ee of this.streams){const Pe=Ee.getBaseStreams();Pe&&Oe.push(...Pe)}return Oe.length>0?Oe:null}}Se.StreamsSequenceStream=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.AsciiHexStream=void 0;var t=_e(17);class xe extends t.DecodeStream{constructor(Te,e){e&&(e*=.5),super(e),this.str=Te,this.dict=Te.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const ke=e.length+1>>1,Oe=this.ensureBuffer(this.bufferLength+ke);let Ee=this.bufferLength,Pe=this.firstDigit;for(const De of e){let Me;if(De>=48&&De<=57)Me=De&15;else if(De>=65&&De<=70||De>=97&&De<=102)Me=(De&15)+9;else if(De===62){this.eof=!0;break}else continue;Pe<0?Pe=Me:(Oe[Ee++]=Pe<<4|Me,Pe=-1)}Pe>=0&&this.eof&&(Oe[Ee++]=Pe<<4,Pe=-1),this.firstDigit=Pe,this.bufferLength=Ee}}Se.AsciiHexStream=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CCITTFaxStream=void 0;var t=_e(20),xe=_e(17),Fe=_e(3);class Te extends xe.DecodeStream{constructor(ke,Oe,Ee){super(Oe),this.str=ke,this.dict=ke.dict,Ee instanceof Fe.Dict||(Ee=Fe.Dict.empty);const Pe={next(){return ke.getByte()}};this.ccittFaxDecoder=new t.CCITTFaxDecoder(Pe,{K:Ee.get("K"),EndOfLine:Ee.get("EndOfLine"),EncodedByteAlign:Ee.get("EncodedByteAlign"),Columns:Ee.get("Columns"),Rows:Ee.get("Rows"),EndOfBlock:Ee.get("EndOfBlock"),BlackIs1:Ee.get("BlackIs1")})}readBlock(){for(;!this.eof;){const ke=this.ccittFaxDecoder.readNextChar();if(ke===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=ke}}}Se.CCITTFaxStream=Te},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CCITTFaxDecoder=void 0;var t=_e(2);const xe=-2,Fe=-1,Te=0,e=1,ke=2,Oe=3,Ee=4,Pe=5,De=6,Me=7,Ae=8,Be=[[-1,-1],[-1,-1],[7,Ae],[7,Me],[6,De],[6,De],[6,Pe],[6,Pe],[4,Te],[4,Te],[4,Te],[4,Te],[4,Te],[4,Te],[4,Te],[4,Te],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Ee],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[3,Oe],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke],[1,ke]],He=[[-1,-1],[12,xe],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],je=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Xe=[[-1,-1],[-1,-1],[12,xe],[12,xe],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],St=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],qe=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class Ye{constructor(ai,ui={}){if(!ai||typeof ai.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=ai,this.eof=!1,this.encoding=ui.K||0,this.eoline=ui.EndOfLine||!1,this.byteAlign=ui.EncodedByteAlign||!1,this.columns=ui.Columns||1728,this.rows=ui.Rows||0;let Qe=ui.EndOfBlock;Qe==null&&(Qe=!0),this.eoblock=Qe,this.black=ui.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Ze;for(;(Ze=this._lookBits(12))===0;)this._eatBits(1);Ze===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const ai=this.refLine,ui=this.codingLine,Qe=this.columns;let Ze,ci,ze,We;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let ni,$e,Ke;if(this.nextLine2D){for(We=0;ui[We]<Qe;++We)ai[We]=ui[We];for(ai[We++]=Qe,ai[We]=Qe,ui[0]=0,this.codingPos=0,Ze=0,ci=0;ui[this.codingPos]<Qe;)switch(ni=this._getTwoDimCode(),ni){case Te:this._addPixels(ai[Ze+1],ci),ai[Ze+1]<Qe&&(Ze+=2);break;case e:if(ni=$e=0,ci){do ni+=Ke=this._getBlackCode();while(Ke>=64);do $e+=Ke=this._getWhiteCode();while(Ke>=64)}else{do ni+=Ke=this._getWhiteCode();while(Ke>=64);do $e+=Ke=this._getBlackCode();while(Ke>=64)}for(this._addPixels(ui[this.codingPos]+ni,ci),ui[this.codingPos]<Qe&&this._addPixels(ui[this.codingPos]+$e,ci^1);ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Me:if(this._addPixels(ai[Ze]+3,ci),ci^=1,ui[this.codingPos]<Qe)for(++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Pe:if(this._addPixels(ai[Ze]+2,ci),ci^=1,ui[this.codingPos]<Qe)for(++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Oe:if(this._addPixels(ai[Ze]+1,ci),ci^=1,ui[this.codingPos]<Qe)for(++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case ke:if(this._addPixels(ai[Ze],ci),ci^=1,ui[this.codingPos]<Qe)for(++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Ae:if(this._addPixelsNeg(ai[Ze]-3,ci),ci^=1,ui[this.codingPos]<Qe)for(Ze>0?--Ze:++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case De:if(this._addPixelsNeg(ai[Ze]-2,ci),ci^=1,ui[this.codingPos]<Qe)for(Ze>0?--Ze:++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Ee:if(this._addPixelsNeg(ai[Ze]-1,ci),ci^=1,ui[this.codingPos]<Qe)for(Ze>0?--Ze:++Ze;ai[Ze]<=ui[this.codingPos]&&ai[Ze]<Qe;)Ze+=2;break;case Fe:this._addPixels(Qe,0),this.eof=!0;break;default:(0,t.info)("bad 2d code"),this._addPixels(Qe,0),this.err=!0}}else for(ui[0]=0,this.codingPos=0,ci=0;ui[this.codingPos]<Qe;){if(ni=0,ci)do ni+=Ke=this._getBlackCode();while(Ke>=64);else do ni+=Ke=this._getWhiteCode();while(Ke>=64);this._addPixels(ui[this.codingPos]+ni,ci),ci^=1}let Ve=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(ni=this._lookBits(12),this.eoline)for(;ni!==Fe&&ni!==1;)this._eatBits(1),ni=this._lookBits(12);else for(;ni===0;)this._eatBits(1),ni=this._lookBits(12);ni===1?(this._eatBits(12),Ve=!0):ni===Fe&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Ve&&this.byteAlign){if(ni=this._lookBits(12),ni===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(We=0;We<4;++We)ni=this._lookBits(12),ni!==1&&(0,t.info)("bad rtc code: "+ni),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(ni=this._lookBits(13),ni===Fe)return this.eof=!0,-1;if(ni>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(ni&1))}ui[0]>0?this.outputBits=ui[this.codingPos=0]:this.outputBits=ui[this.codingPos=1],this.row++}let si;if(this.outputBits>=8)si=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&ui[this.codingPos]<Qe&&(this.codingPos++,this.outputBits=ui[this.codingPos]-ui[this.codingPos-1]);else{ze=8,si=0;do{if(typeof this.outputBits!="number")throw new t.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>ze?(si<<=ze,this.codingPos&1||(si|=255>>8-ze),this.outputBits-=ze,ze=0):(si<<=this.outputBits,this.codingPos&1||(si|=255>>8-this.outputBits),ze-=this.outputBits,this.outputBits=0,ui[this.codingPos]<Qe?(this.codingPos++,this.outputBits=ui[this.codingPos]-ui[this.codingPos-1]):ze>0&&(si<<=ze,ze=0))}while(ze)}return this.black&&(si^=255),si}_addPixels(ai,ui){const Qe=this.codingLine;let Ze=this.codingPos;ai>Qe[Ze]&&(ai>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,ai=this.columns),Ze&1^ui&&++Ze,Qe[Ze]=ai),this.codingPos=Ze}_addPixelsNeg(ai,ui){const Qe=this.codingLine;let Ze=this.codingPos;if(ai>Qe[Ze])ai>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,ai=this.columns),Ze&1^ui&&++Ze,Qe[Ze]=ai;else if(ai<Qe[Ze]){for(ai<0&&((0,t.info)("invalid code"),this.err=!0,ai=0);Ze>0&&ai<Qe[Ze-1];)--Ze;Qe[Ze]=ai}this.codingPos=Ze}_findTableCode(ai,ui,Qe,Ze){const ci=Ze||0;for(let ze=ai;ze<=ui;++ze){let We=this._lookBits(ze);if(We===Fe)return[!0,1,!1];if(ze<ui&&(We<<=ui-ze),!ci||We>=ci){const si=Qe[We-ci];if(si[0]===ze)return this._eatBits(ze),[!0,si[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let ai=0,ui;if(this.eoblock){if(ai=this._lookBits(7),ui=Be[ai],ui&&ui[0]>0)return this._eatBits(ui[0]),ui[1]}else{const Qe=this._findTableCode(1,7,Be);if(Qe[0]&&Qe[2])return Qe[1]}return(0,t.info)("Bad two dim code"),Fe}_getWhiteCode(){let ai=0,ui;if(this.eoblock){if(ai=this._lookBits(12),ai===Fe)return 1;if(ai>>5===0?ui=He[ai]:ui=je[ai>>3],ui[0]>0)return this._eatBits(ui[0]),ui[1]}else{let Qe=this._findTableCode(1,9,je);if(Qe[0]||(Qe=this._findTableCode(11,12,He),Qe[0]))return Qe[1]}return(0,t.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let ai,ui;if(this.eoblock){if(ai=this._lookBits(13),ai===Fe)return 1;if(ai>>7===0?ui=Xe[ai]:ai>>9===0&&ai>>7!==0?ui=St[(ai>>1)-64]:ui=qe[ai>>7],ui[0]>0)return this._eatBits(ui[0]),ui[1]}else{let Qe=this._findTableCode(2,6,qe);if(Qe[0]||(Qe=this._findTableCode(7,12,St,64),Qe[0])||(Qe=this._findTableCode(10,13,Xe),Qe[0]))return Qe[1]}return(0,t.info)("bad black code"),this._eatBits(1),1}_lookBits(ai){let ui;for(;this.inputBits<ai;){if((ui=this.source.next())===-1)return this.inputBits===0?Fe:this.inputBuf<<ai-this.inputBits&65535>>16-ai;this.inputBuf=this.inputBuf<<8|ui,this.inputBits+=8}return this.inputBuf>>this.inputBits-ai&65535>>16-ai}_eatBits(ai){(this.inputBits-=ai)<0&&(this.inputBits=0)}}Se.CCITTFaxDecoder=Ye},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.FlateStream=void 0;var t=_e(17),xe=_e(2);const Fe=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Te=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),ke=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Oe=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Ee extends t.DecodeStream{constructor(De,Me){super(Me),this.str=De,this.dict=De.dict;const Ae=De.getByte(),Be=De.getByte();if(Ae===-1||Be===-1)throw new xe.FormatError(`Invalid header in flate stream: ${Ae}, ${Be}`);if((Ae&15)!==8)throw new xe.FormatError(`Unknown compression method in flate stream: ${Ae}, ${Be}`);if(((Ae<<8)+Be)%31!==0)throw new xe.FormatError(`Bad FCHECK in flate stream: ${Ae}, ${Be}`);if(Be&32)throw new xe.FormatError(`FDICT bit set in flate stream: ${Ae}, ${Be}`);this.codeSize=0,this.codeBuf=0}getBits(De){const Me=this.str;let Ae=this.codeSize,Be=this.codeBuf,He;for(;Ae<De;){if((He=Me.getByte())===-1)throw new xe.FormatError("Bad encoding in flate stream");Be|=He<<Ae,Ae+=8}return He=Be&(1<<De)-1,this.codeBuf=Be>>De,this.codeSize=Ae-=De,He}getCode(De){const Me=this.str,Ae=De[0],Be=De[1];let He=this.codeSize,je=this.codeBuf,Xe;for(;He<Be&&(Xe=Me.getByte())!==-1;)je|=Xe<<He,He+=8;const St=Ae[je&(1<<Be)-1],qe=St>>16,Ye=St&65535;if(qe<1||He<qe)throw new xe.FormatError("Bad encoding in flate stream");return this.codeBuf=je>>qe,this.codeSize=He-qe,Ye}generateHuffmanTable(De){const Me=De.length;let Ae=0,Be;for(Be=0;Be<Me;++Be)De[Be]>Ae&&(Ae=De[Be]);const He=1<<Ae,je=new Int32Array(He);for(let Xe=1,St=0,qe=2;Xe<=Ae;++Xe,St<<=1,qe<<=1)for(let Ye=0;Ye<Me;++Ye)if(De[Ye]===Xe){let gi=0,ai=St;for(Be=0;Be<Xe;++Be)gi=gi<<1|ai&1,ai>>=1;for(Be=gi;Be<He;Be+=qe)je[Be]=Xe<<16|Ye;++St}return[je,Ae]}readBlock(){let De,Me;const Ae=this.str;let Be=this.getBits(3);if(Be&1&&(this.eof=!0),Be>>=1,Be===0){let qe;if((qe=Ae.getByte())===-1)throw new xe.FormatError("Bad block header in flate stream");let Ye=qe;if((qe=Ae.getByte())===-1)throw new xe.FormatError("Bad block header in flate stream");if(Ye|=qe<<8,(qe=Ae.getByte())===-1)throw new xe.FormatError("Bad block header in flate stream");let gi=qe;if((qe=Ae.getByte())===-1)throw new xe.FormatError("Bad block header in flate stream");if(gi|=qe<<8,gi!==(~Ye&65535)&&(Ye!==0||gi!==0))throw new xe.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const ai=this.bufferLength,ui=ai+Ye;if(De=this.ensureBuffer(ui),this.bufferLength=ui,Ye===0)Ae.peekByte()===-1&&(this.eof=!0);else{const Qe=Ae.getBytes(Ye);De.set(Qe,ai),Qe.length<Ye&&(this.eof=!0)}return}let He,je;if(Be===1)He=ke,je=Oe;else if(Be===2){const qe=this.getBits(5)+257,Ye=this.getBits(5)+1,gi=this.getBits(4)+4,ai=new Uint8Array(Fe.length);let ui;for(ui=0;ui<gi;++ui)ai[Fe[ui]]=this.getBits(3);const Qe=this.generateHuffmanTable(ai);Me=0,ui=0;const Ze=qe+Ye,ci=new Uint8Array(Ze);let ze,We,si;for(;ui<Ze;){const ni=this.getCode(Qe);if(ni===16)ze=2,We=3,si=Me;else if(ni===17)ze=3,We=3,si=Me=0;else if(ni===18)ze=7,We=11,si=Me=0;else{ci[ui++]=Me=ni;continue}let $e=this.getBits(ze)+We;for(;$e-- >0;)ci[ui++]=si}He=this.generateHuffmanTable(ci.subarray(0,qe)),je=this.generateHuffmanTable(ci.subarray(qe,Ze))}else throw new xe.FormatError("Unknown block type in flate stream");De=this.buffer;let Xe=De?De.length:0,St=this.bufferLength;for(;;){let qe=this.getCode(He);if(qe<256){St+1>=Xe&&(De=this.ensureBuffer(St+1),Xe=De.length),De[St++]=qe;continue}if(qe===256){this.bufferLength=St;return}qe-=257,qe=Te[qe];let Ye=qe>>16;Ye>0&&(Ye=this.getBits(Ye)),Me=(qe&65535)+Ye,qe=this.getCode(je),qe=e[qe],Ye=qe>>16,Ye>0&&(Ye=this.getBits(Ye));const gi=(qe&65535)+Ye;St+Me>=Xe&&(De=this.ensureBuffer(St+Me),Xe=De.length);for(let ai=0;ai<Me;++ai,++St)De[St]=De[St-gi]}}}Se.FlateStream=Ee},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Jbig2Stream=void 0;var t=_e(5),xe=_e(17),Fe=_e(3),Te=_e(23),e=_e(2);class ke extends xe.DecodeStream{constructor(Ee,Pe,De){super(Pe),this.stream=Ee,this.dict=Ee.dict,this.maybeLength=Pe,this.params=De}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ee){}readBlock(){if(this.eof)return;const Ee=new Te.Jbig2Image,Pe=[];if(this.params instanceof Fe.Dict){const Ae=this.params.get("JBIG2Globals");if(Ae instanceof t.BaseStream){const Be=Ae.getBytes();Pe.push({data:Be,start:0,end:Be.length})}}Pe.push({data:this.bytes,start:0,end:this.bytes.length});const De=Ee.parseChunks(Pe),Me=De.length;for(let Ae=0;Ae<Me;Ae++)De[Ae]^=255;this.buffer=De,this.bufferLength=Me,this.eof=!0}}Se.Jbig2Stream=ke},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Jbig2Image=void 0;var t=_e(2),xe=_e(4),Fe=_e(24),Te=_e(20);class e extends t.BaseException{constructor(ri){super(`JBIG2 error: ${ri}`,"Jbig2Error")}}class ke{getContexts(ri){return ri in this?this[ri]:this[ri]=new Int8Array(65536)}}class Oe{constructor(ri,oi,di){this.data=ri,this.start=oi,this.end=di}get decoder(){const ri=new Fe.ArithmeticDecoder(this.data,this.start,this.end);return(0,t.shadow)(this,"decoder",ri)}get contextCache(){const ri=new ke;return(0,t.shadow)(this,"contextCache",ri)}}function Ee(pi,ri,oi){const di=pi.getContexts(ri);let bi=1;function Ai(_i){let Si=0;for(let Fi=0;Fi<_i;Fi++){const Pi=oi.readBit(di,bi);bi=bi<256?bi<<1|Pi:(bi<<1|Pi)&511|256,Si=Si<<1|Pi}return Si>>>0}const Ei=Ai(1),mi=Ai(1)?Ai(1)?Ai(1)?Ai(1)?Ai(1)?Ai(32)+4436:Ai(12)+340:Ai(8)+84:Ai(6)+20:Ai(4)+4:Ai(2);return Ei===0?mi:mi>0?-mi:null}function Pe(pi,ri,oi){const di=pi.getContexts("IAID");let bi=1;for(let Ai=0;Ai<oi;Ai++){const Ei=ri.readBit(di,bi);bi=bi<<1|Ei}return oi<31?bi&(1<<oi)-1:bi&2147483647}const De=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Me=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],Ae=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Be=[39717,1941,229,405],He=[32,8];function je(pi,ri,oi){const di=oi.decoder,bi=oi.contextCache.getContexts("GB"),Ai=[];let Ei,mi,_i,Si,Fi,Pi,Di;const Ii=31735;for(mi=0;mi<ri;mi++)for(Fi=Ai[mi]=new Uint8Array(pi),Pi=mi<1?Fi:Ai[mi-1],Di=mi<2?Fi:Ai[mi-2],Ei=Di[0]<<13|Di[1]<<12|Di[2]<<11|Pi[0]<<7|Pi[1]<<6|Pi[2]<<5|Pi[3]<<4,_i=0;_i<pi;_i++)Fi[_i]=Si=di.readBit(bi,Ei),Ei=(Ei&Ii)<<1|(_i+3<pi?Di[_i+3]<<11:0)|(_i+4<pi?Pi[_i+4]<<4:0)|Si;return Ai}function Xe(pi,ri,oi,di,bi,Ai,Ei,mi){if(pi){const Kn=new yi(mi.data,mi.start,mi.end);return xi(Kn,ri,oi,!1)}if(di===0&&!Ai&&!bi&&Ei.length===4&&Ei[0].x===3&&Ei[0].y===-1&&Ei[1].x===-3&&Ei[1].y===-1&&Ei[2].x===2&&Ei[2].y===-2&&Ei[3].x===-2&&Ei[3].y===-2)return je(ri,oi,mi);const _i=!!Ai,Si=Me[di].concat(Ei);Si.sort(function(Kn,Mn){return Kn.y-Mn.y||Kn.x-Mn.x});const Fi=Si.length,Pi=new Int8Array(Fi),Di=new Int8Array(Fi),Ii=[];let Mi=0,$i=0,Xi=0,rn=0,tn,on;for(on=0;on<Fi;on++)Pi[on]=Si[on].x,Di[on]=Si[on].y,$i=Math.min($i,Si[on].x),Xi=Math.max(Xi,Si[on].x),rn=Math.min(rn,Si[on].y),on<Fi-1&&Si[on].y===Si[on+1].y&&Si[on].x===Si[on+1].x-1?Mi|=1<<Fi-1-on:Ii.push(on);const fn=Ii.length,Yi=new Int8Array(fn),Ri=new Int8Array(fn),ji=new Uint16Array(fn);for(tn=0;tn<fn;tn++)on=Ii[tn],Yi[tn]=Si[on].x,Ri[tn]=Si[on].y,ji[tn]=1<<Fi-1-on;const Ui=-$i,en=-rn,nn=ri-Xi,Sn=Be[di];let Qi=new Uint8Array(ri);const qi=[],Zi=mi.decoder,an=mi.contextCache.getContexts("GB");let Nn=0,Dn,hn,Fn,Xn=0,Rn,Wn;for(let Kn=0;Kn<oi;Kn++){if(bi){const Mn=Zi.readBit(an,Sn);if(Nn^=Mn,Nn){qi.push(Qi);continue}}for(Qi=new Uint8Array(Qi),qi.push(Qi),Dn=0;Dn<ri;Dn++){if(_i&&Ai[Kn][Dn]){Qi[Dn]=0;continue}if(Dn>=Ui&&Dn<nn&&Kn>=en)for(Xn=Xn<<1&Mi,on=0;on<fn;on++)hn=Kn+Ri[on],Fn=Dn+Yi[on],Rn=qi[hn][Fn],Rn&&(Rn=ji[on],Xn|=Rn);else for(Xn=0,Wn=Fi-1,on=0;on<Fi;on++,Wn--)Fn=Dn+Pi[on],Fn>=0&&Fn<ri&&(hn=Kn+Di[on],hn>=0&&(Rn=qi[hn][Fn],Rn&&(Xn|=Rn<<Wn)));const Mn=Zi.readBit(an,Xn);Qi[Dn]=Mn}}return qi}function St(pi,ri,oi,di,bi,Ai,Ei,mi,_i){let Si=Ae[oi].coding;oi===0&&(Si=Si.concat([mi[0]]));const Fi=Si.length,Pi=new Int32Array(Fi),Di=new Int32Array(Fi);let Ii;for(Ii=0;Ii<Fi;Ii++)Pi[Ii]=Si[Ii].x,Di[Ii]=Si[Ii].y;let Mi=Ae[oi].reference;oi===0&&(Mi=Mi.concat([mi[1]]));const $i=Mi.length,Xi=new Int32Array($i),rn=new Int32Array($i);for(Ii=0;Ii<$i;Ii++)Xi[Ii]=Mi[Ii].x,rn[Ii]=Mi[Ii].y;const tn=di[0].length,on=di.length,fn=He[oi],Yi=[],Ri=_i.decoder,ji=_i.contextCache.getContexts("GR");let Ui=0;for(let en=0;en<ri;en++){if(Ei){const Sn=Ri.readBit(ji,fn);if(Ui^=Sn,Ui)throw new e("prediction is not supported")}const nn=new Uint8Array(pi);Yi.push(nn);for(let Sn=0;Sn<pi;Sn++){let Qi,qi,Zi=0;for(Ii=0;Ii<Fi;Ii++)Qi=en+Di[Ii],qi=Sn+Pi[Ii],Qi<0||qi<0||qi>=pi?Zi<<=1:Zi=Zi<<1|Yi[Qi][qi];for(Ii=0;Ii<$i;Ii++)Qi=en+rn[Ii]-Ai,qi=Sn+Xi[Ii]-bi,Qi<0||Qi>=on||qi<0||qi>=tn?Zi<<=1:Zi=Zi<<1|di[Qi][qi];const an=Ri.readBit(ji,Zi);nn[Sn]=an}}return Yi}function qe(pi,ri,oi,di,bi,Ai,Ei,mi,_i,Si,Fi,Pi){if(pi&&ri)throw new e("symbol refinement with Huffman is not supported");const Di=[];let Ii=0,Mi=(0,xe.log2)(oi.length+di);const $i=Fi.decoder,Xi=Fi.contextCache;let rn,tn;for(pi&&(rn=hi(1),tn=[],Mi=Math.max(Mi,1));Di.length<di;){const en=pi?Ai.tableDeltaHeight.decode(Pi):Ee(Xi,"IADH",$i);Ii+=en;let nn=0,Sn=0;const Qi=pi?tn.length:0;for(;;){const qi=pi?Ai.tableDeltaWidth.decode(Pi):Ee(Xi,"IADW",$i);if(qi===null)break;nn+=qi,Sn+=nn;let Zi;if(ri){const an=Ee(Xi,"IAAI",$i);if(an>1)Zi=Ye(pi,ri,nn,Ii,0,an,1,oi.concat(Di),Mi,0,0,1,0,Ai,_i,Si,Fi,0,Pi);else{const Nn=Pe(Xi,$i,Mi),Dn=Ee(Xi,"IARDX",$i),hn=Ee(Xi,"IARDY",$i),Fn=Nn<oi.length?oi[Nn]:Di[Nn-oi.length];Zi=St(nn,Ii,_i,Fn,Dn,hn,!1,Si,Fi)}Di.push(Zi)}else pi?tn.push(nn):(Zi=Xe(!1,nn,Ii,Ei,!1,null,mi,Fi),Di.push(Zi))}if(pi&&!ri){const qi=Ai.tableBitmapSize.decode(Pi);Pi.byteAlign();let Zi;if(qi===0)Zi=fi(Pi,Sn,Ii);else{const Nn=Pi.end,Dn=Pi.position+qi;Pi.end=Dn,Zi=xi(Pi,Sn,Ii,!1),Pi.end=Nn,Pi.position=Dn}const an=tn.length;if(Qi===an-1)Di.push(Zi);else{let Nn,Dn,hn=0,Fn,Xn,Rn;for(Nn=Qi;Nn<an;Nn++){for(Xn=tn[Nn],Fn=hn+Xn,Rn=[],Dn=0;Dn<Ii;Dn++)Rn.push(Zi[Dn].subarray(hn,Fn));Di.push(Rn),hn=Fn}}}}const on=[],fn=[];let Yi=!1,Ri,ji;const Ui=oi.length+di;for(;fn.length<Ui;){let en=pi?rn.decode(Pi):Ee(Xi,"IAEX",$i);for(;en--;)fn.push(Yi);Yi=!Yi}for(Ri=0,ji=oi.length;Ri<ji;Ri++)fn[Ri]&&on.push(oi[Ri]);for(let en=0;en<di;Ri++,en++)fn[Ri]&&on.push(Di[en]);return on}function Ye(pi,ri,oi,di,bi,Ai,Ei,mi,_i,Si,Fi,Pi,Di,Ii,Mi,$i,Xi,rn,tn){if(pi&&ri)throw new e("refinement with Huffman is not supported");const on=[];let fn,Yi;for(fn=0;fn<di;fn++){if(Yi=new Uint8Array(oi),bi)for(let nn=0;nn<oi;nn++)Yi[nn]=bi;on.push(Yi)}const Ri=Xi.decoder,ji=Xi.contextCache;let Ui=pi?-Ii.tableDeltaT.decode(tn):-Ee(ji,"IADT",Ri),en=0;for(fn=0;fn<Ai;){const nn=pi?Ii.tableDeltaT.decode(tn):Ee(ji,"IADT",Ri);Ui+=nn;const Sn=pi?Ii.tableFirstS.decode(tn):Ee(ji,"IAFS",Ri);en+=Sn;let Qi=en;do{let qi=0;Ei>1&&(qi=pi?tn.readBits(rn):Ee(ji,"IAIT",Ri));const Zi=Ei*Ui+qi,an=pi?Ii.symbolIDTable.decode(tn):Pe(ji,Ri,_i),Nn=ri&&(pi?tn.readBit():Ee(ji,"IARI",Ri));let Dn=mi[an],hn=Dn[0].length,Fn=Dn.length;if(Nn){const Hn=Ee(ji,"IARDW",Ri),hr=Ee(ji,"IARDH",Ri),or=Ee(ji,"IARDX",Ri),dr=Ee(ji,"IARDY",Ri);hn+=Hn,Fn+=hr,Dn=St(hn,Fn,Mi,Dn,(Hn>>1)+or,(hr>>1)+dr,!1,$i,Xi)}const Xn=Zi-(Pi&1?0:Fn-1),Rn=Qi-(Pi&2?hn-1:0);let Wn,Kn,Mn;if(Si){for(Wn=0;Wn<Fn;Wn++){if(Yi=on[Rn+Wn],!Yi)continue;Mn=Dn[Wn];const Hn=Math.min(oi-Xn,hn);switch(Di){case 0:for(Kn=0;Kn<Hn;Kn++)Yi[Xn+Kn]|=Mn[Kn];break;case 2:for(Kn=0;Kn<Hn;Kn++)Yi[Xn+Kn]^=Mn[Kn];break;default:throw new e(`operator ${Di} is not supported`)}}Qi+=Fn-1}else{for(Kn=0;Kn<Fn;Kn++)if(Yi=on[Xn+Kn],!!Yi)switch(Mn=Dn[Kn],Di){case 0:for(Wn=0;Wn<hn;Wn++)Yi[Rn+Wn]|=Mn[Wn];break;case 2:for(Wn=0;Wn<hn;Wn++)Yi[Rn+Wn]^=Mn[Wn];break;default:throw new e(`operator ${Di} is not supported`)}Qi+=hn-1}fn++;const er=pi?Ii.tableDeltaS.decode(tn):Ee(ji,"IADS",Ri);if(er===null)break;Qi+=er+Fi}while(!0)}return on}function gi(pi,ri,oi,di,bi,Ai){const Ei=[];pi||(Ei.push({x:-ri,y:0}),bi===0&&Ei.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const mi=(di+1)*ri,_i=Xe(pi,mi,oi,bi,!1,null,Ei,Ai),Si=[];for(let Fi=0;Fi<=di;Fi++){const Pi=[],Di=ri*Fi,Ii=Di+ri;for(let Mi=0;Mi<oi;Mi++)Pi.push(_i[Mi].subarray(Di,Ii));Si.push(Pi)}return Si}function ai(pi,ri,oi,di,bi,Ai,Ei,mi,_i,Si,Fi,Pi,Di,Ii,Mi){if(Ei)throw new e("skip is not supported");if(mi!==0)throw new e(`operator "${mi}" is not supported in halftone region`);const Xi=[];let rn,tn,on;for(rn=0;rn<bi;rn++){if(on=new Uint8Array(di),Ai)for(tn=0;tn<di;tn++)on[tn]=Ai;Xi.push(on)}const fn=ri.length,Yi=ri[0],Ri=Yi[0].length,ji=Yi.length,Ui=(0,xe.log2)(fn),en=[];pi||(en.push({x:oi<=1?3:2,y:-1}),oi===0&&en.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const nn=[];let Sn,Qi;for(pi&&(Sn=new yi(Mi.data,Mi.start,Mi.end)),rn=Ui-1;rn>=0;rn--)pi?Qi=xi(Sn,_i,Si,!0):Qi=Xe(!1,_i,Si,oi,!1,null,en,Mi),nn[rn]=Qi;let qi,Zi,an,Nn,Dn,hn,Fn,Xn,Rn;for(qi=0;qi<Si;qi++)for(Zi=0;Zi<_i;Zi++){for(an=0,Nn=0,tn=Ui-1;tn>=0;tn--)an^=nn[tn][qi][Zi],Nn|=an<<tn;if(Dn=ri[Nn],hn=Fi+qi*Ii+Zi*Di>>8,Fn=Pi+qi*Di-Zi*Ii>>8,hn>=0&&hn+Ri<=di&&Fn>=0&&Fn+ji<=bi)for(rn=0;rn<ji;rn++)for(Rn=Xi[Fn+rn],Xn=Dn[rn],tn=0;tn<Ri;tn++)Rn[hn+tn]|=Xn[tn];else{let Wn,Kn;for(rn=0;rn<ji;rn++)if(Kn=Fn+rn,!(Kn<0||Kn>=bi))for(Rn=Xi[Kn],Xn=Dn[rn],tn=0;tn<Ri;tn++)Wn=hn+tn,Wn>=0&&Wn<di&&(Rn[Wn]|=Xn[tn])}}return Xi}function ui(pi,ri){const oi={};oi.number=(0,xe.readUint32)(pi,ri);const di=pi[ri+4],bi=di&63;if(!De[bi])throw new e("invalid segment type: "+bi);oi.type=bi,oi.typeName=De[bi],oi.deferredNonRetain=!!(di&128);const Ai=!!(di&64),Ei=pi[ri+5];let mi=Ei>>5&7;const _i=[Ei&31];let Si=ri+6;if(Ei===7){mi=(0,xe.readUint32)(pi,Si-1)&536870911,Si+=3;let Mi=mi+7>>3;for(_i[0]=pi[Si++];--Mi>0;)_i.push(pi[Si++])}else if(Ei===5||Ei===6)throw new e("invalid referred-to flags");oi.retainBits=_i;let Fi=4;oi.number<=256?Fi=1:oi.number<=65536&&(Fi=2);const Pi=[];let Di,Ii;for(Di=0;Di<mi;Di++){let Mi;Fi===1?Mi=pi[Si]:Fi===2?Mi=(0,xe.readUint16)(pi,Si):Mi=(0,xe.readUint32)(pi,Si),Pi.push(Mi),Si+=Fi}if(oi.referredTo=Pi,Ai?(oi.pageAssociation=(0,xe.readUint32)(pi,Si),Si+=4):oi.pageAssociation=pi[Si++],oi.length=(0,xe.readUint32)(pi,Si),Si+=4,oi.length===4294967295)if(bi===38){const Mi=Ze(pi,Si),Xi=!!(pi[Si+ci]&1),rn=6,tn=new Uint8Array(rn);for(Xi||(tn[0]=255,tn[1]=172),tn[2]=Mi.height>>>24&255,tn[3]=Mi.height>>16&255,tn[4]=Mi.height>>8&255,tn[5]=Mi.height&255,Di=Si,Ii=pi.length;Di<Ii;Di++){let on=0;for(;on<rn&&tn[on]===pi[Di+on];)on++;if(on===rn){oi.length=Di+rn;break}}if(oi.length===4294967295)throw new e("segment end was not found")}else throw new e("invalid unknown segment length");return oi.headerEnd=Si,oi}function Qe(pi,ri,oi,di){const bi=[];let Ai=oi;for(;Ai<di;){const Ei=ui(ri,Ai);Ai=Ei.headerEnd;const mi={header:Ei,data:ri};if(pi.randomAccess||(mi.start=Ai,Ai+=Ei.length,mi.end=Ai),bi.push(mi),Ei.type===51)break}if(pi.randomAccess)for(let Ei=0,mi=bi.length;Ei<mi;Ei++)bi[Ei].start=Ai,Ai+=bi[Ei].header.length,bi[Ei].end=Ai;return bi}function Ze(pi,ri){return{width:(0,xe.readUint32)(pi,ri),height:(0,xe.readUint32)(pi,ri+4),x:(0,xe.readUint32)(pi,ri+8),y:(0,xe.readUint32)(pi,ri+12),combinationOperator:pi[ri+16]&7}}const ci=17;function ze(pi,ri){const oi=pi.header,di=pi.data,bi=pi.end;let Ai=pi.start,Ei,mi,_i,Si;switch(oi.type){case 0:const Pi={},Di=(0,xe.readUint16)(di,Ai);if(Pi.huffman=!!(Di&1),Pi.refinement=!!(Di&2),Pi.huffmanDHSelector=Di>>2&3,Pi.huffmanDWSelector=Di>>4&3,Pi.bitmapSizeSelector=Di>>6&1,Pi.aggregationInstancesSelector=Di>>7&1,Pi.bitmapCodingContextUsed=!!(Di&256),Pi.bitmapCodingContextRetained=!!(Di&512),Pi.template=Di>>10&3,Pi.refinementTemplate=Di>>12&1,Ai+=2,!Pi.huffman){for(Si=Pi.template===0?4:1,mi=[],_i=0;_i<Si;_i++)mi.push({x:(0,xe.readInt8)(di,Ai),y:(0,xe.readInt8)(di,Ai+1)}),Ai+=2;Pi.at=mi}if(Pi.refinement&&!Pi.refinementTemplate){for(mi=[],_i=0;_i<2;_i++)mi.push({x:(0,xe.readInt8)(di,Ai),y:(0,xe.readInt8)(di,Ai+1)}),Ai+=2;Pi.refinementAt=mi}Pi.numberOfExportedSymbols=(0,xe.readUint32)(di,Ai),Ai+=4,Pi.numberOfNewSymbols=(0,xe.readUint32)(di,Ai),Ai+=4,Ei=[Pi,oi.number,oi.referredTo,di,Ai,bi];break;case 6:case 7:const Ii={};Ii.info=Ze(di,Ai),Ai+=ci;const Mi=(0,xe.readUint16)(di,Ai);if(Ai+=2,Ii.huffman=!!(Mi&1),Ii.refinement=!!(Mi&2),Ii.logStripSize=Mi>>2&3,Ii.stripSize=1<<Ii.logStripSize,Ii.referenceCorner=Mi>>4&3,Ii.transposed=!!(Mi&64),Ii.combinationOperator=Mi>>7&3,Ii.defaultPixelValue=Mi>>9&1,Ii.dsOffset=Mi<<17>>27,Ii.refinementTemplate=Mi>>15&1,Ii.huffman){const ji=(0,xe.readUint16)(di,Ai);Ai+=2,Ii.huffmanFS=ji&3,Ii.huffmanDS=ji>>2&3,Ii.huffmanDT=ji>>4&3,Ii.huffmanRefinementDW=ji>>6&3,Ii.huffmanRefinementDH=ji>>8&3,Ii.huffmanRefinementDX=ji>>10&3,Ii.huffmanRefinementDY=ji>>12&3,Ii.huffmanRefinementSizeSelector=!!(ji&16384)}if(Ii.refinement&&!Ii.refinementTemplate){for(mi=[],_i=0;_i<2;_i++)mi.push({x:(0,xe.readInt8)(di,Ai),y:(0,xe.readInt8)(di,Ai+1)}),Ai+=2;Ii.refinementAt=mi}Ii.numberOfSymbolInstances=(0,xe.readUint32)(di,Ai),Ai+=4,Ei=[Ii,oi.referredTo,di,Ai,bi];break;case 16:const $i={},Xi=di[Ai++];$i.mmr=!!(Xi&1),$i.template=Xi>>1&3,$i.patternWidth=di[Ai++],$i.patternHeight=di[Ai++],$i.maxPatternIndex=(0,xe.readUint32)(di,Ai),Ai+=4,Ei=[$i,oi.number,di,Ai,bi];break;case 22:case 23:const rn={};rn.info=Ze(di,Ai),Ai+=ci;const tn=di[Ai++];rn.mmr=!!(tn&1),rn.template=tn>>1&3,rn.enableSkip=!!(tn&8),rn.combinationOperator=tn>>4&7,rn.defaultPixelValue=tn>>7&1,rn.gridWidth=(0,xe.readUint32)(di,Ai),Ai+=4,rn.gridHeight=(0,xe.readUint32)(di,Ai),Ai+=4,rn.gridOffsetX=(0,xe.readUint32)(di,Ai)&4294967295,Ai+=4,rn.gridOffsetY=(0,xe.readUint32)(di,Ai)&4294967295,Ai+=4,rn.gridVectorX=(0,xe.readUint16)(di,Ai),Ai+=2,rn.gridVectorY=(0,xe.readUint16)(di,Ai),Ai+=2,Ei=[rn,oi.referredTo,di,Ai,bi];break;case 38:case 39:const on={};on.info=Ze(di,Ai),Ai+=ci;const fn=di[Ai++];if(on.mmr=!!(fn&1),on.template=fn>>1&3,on.prediction=!!(fn&8),!on.mmr){for(Si=on.template===0?4:1,mi=[],_i=0;_i<Si;_i++)mi.push({x:(0,xe.readInt8)(di,Ai),y:(0,xe.readInt8)(di,Ai+1)}),Ai+=2;on.at=mi}Ei=[on,di,Ai,bi];break;case 48:const Yi={width:(0,xe.readUint32)(di,Ai),height:(0,xe.readUint32)(di,Ai+4),resolutionX:(0,xe.readUint32)(di,Ai+8),resolutionY:(0,xe.readUint32)(di,Ai+12)};Yi.height===4294967295&&delete Yi.height;const Ri=di[Ai+16];(0,xe.readUint16)(di,Ai+17),Yi.lossless=!!(Ri&1),Yi.refinement=!!(Ri&2),Yi.defaultPixelValue=Ri>>2&1,Yi.combinationOperator=Ri>>3&3,Yi.requiresBuffer=!!(Ri&32),Yi.combinationOperatorOverride=!!(Ri&64),Ei=[Yi];break;case 49:break;case 50:break;case 51:break;case 53:Ei=[oi.number,di,Ai,bi];break;case 62:break;default:throw new e(`segment type ${oi.typeName}(${oi.type}) is not implemented`)}const Fi="on"+oi.typeName;Fi in ri&&ri[Fi].apply(ri,Ei)}function We(pi,ri){for(let oi=0,di=pi.length;oi<di;oi++)ze(pi[oi],ri)}function si(pi){const ri=new ni;for(let oi=0,di=pi.length;oi<di;oi++){const bi=pi[oi],Ai=Qe({},bi.data,bi.start,bi.end);We(Ai,ri)}return ri.buffer}class ni{onPageInformation(ri){this.currentPageInfo=ri;const oi=ri.width+7>>3,di=new Uint8ClampedArray(oi*ri.height);ri.defaultPixelValue&&di.fill(255),this.buffer=di}drawBitmap(ri,oi){const di=this.currentPageInfo,bi=ri.width,Ai=ri.height,Ei=di.width+7>>3,mi=di.combinationOperatorOverride?ri.combinationOperator:di.combinationOperator,_i=this.buffer,Si=128>>(ri.x&7);let Fi=ri.y*Ei+(ri.x>>3),Pi,Di,Ii,Mi;switch(mi){case 0:for(Pi=0;Pi<Ai;Pi++){for(Ii=Si,Mi=Fi,Di=0;Di<bi;Di++)oi[Pi][Di]&&(_i[Mi]|=Ii),Ii>>=1,Ii||(Ii=128,Mi++);Fi+=Ei}break;case 2:for(Pi=0;Pi<Ai;Pi++){for(Ii=Si,Mi=Fi,Di=0;Di<bi;Di++)oi[Pi][Di]&&(_i[Mi]^=Ii),Ii>>=1,Ii||(Ii=128,Mi++);Fi+=Ei}break;default:throw new e(`operator ${mi} is not supported`)}}onImmediateGenericRegion(ri,oi,di,bi){const Ai=ri.info,Ei=new Oe(oi,di,bi),mi=Xe(ri.mmr,Ai.width,Ai.height,ri.template,ri.prediction,null,ri.at,Ei);this.drawBitmap(Ai,mi)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(ri,oi,di,bi,Ai,Ei){let mi,_i;ri.huffman&&(mi=ki(ri,di,this.customTables),_i=new yi(bi,Ai,Ei));let Si=this.symbols;Si||(this.symbols=Si={});const Fi=[];for(const Di of di){const Ii=Si[Di];Ii&&Fi.push(...Ii)}const Pi=new Oe(bi,Ai,Ei);Si[oi]=qe(ri.huffman,ri.refinement,Fi,ri.numberOfNewSymbols,ri.numberOfExportedSymbols,mi,ri.template,ri.at,ri.refinementTemplate,ri.refinementAt,Pi,_i)}onImmediateTextRegion(ri,oi,di,bi,Ai){const Ei=ri.info;let mi,_i;const Si=this.symbols,Fi=[];for(const Mi of oi){const $i=Si[Mi];$i&&Fi.push(...$i)}const Pi=(0,xe.log2)(Fi.length);ri.huffman&&(_i=new yi(di,bi,Ai),mi=Ci(ri,oi,this.customTables,Fi.length,_i));const Di=new Oe(di,bi,Ai),Ii=Ye(ri.huffman,ri.refinement,Ei.width,Ei.height,ri.defaultPixelValue,ri.numberOfSymbolInstances,ri.stripSize,Fi,Pi,ri.transposed,ri.dsOffset,ri.referenceCorner,ri.combinationOperator,mi,ri.refinementTemplate,ri.refinementAt,Di,ri.logStripSize,_i);this.drawBitmap(Ei,Ii)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(ri,oi,di,bi,Ai){let Ei=this.patterns;Ei||(this.patterns=Ei={});const mi=new Oe(di,bi,Ai);Ei[oi]=gi(ri.mmr,ri.patternWidth,ri.patternHeight,ri.maxPatternIndex,ri.template,mi)}onImmediateHalftoneRegion(ri,oi,di,bi,Ai){const Ei=this.patterns[oi[0]],mi=ri.info,_i=new Oe(di,bi,Ai),Si=ai(ri.mmr,Ei,ri.template,mi.width,mi.height,ri.defaultPixelValue,ri.enableSkip,ri.combinationOperator,ri.gridWidth,ri.gridHeight,ri.gridOffsetX,ri.gridOffsetY,ri.gridVectorX,ri.gridVectorY,_i);this.drawBitmap(mi,Si)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(ri,oi,di,bi){let Ai=this.customTables;Ai||(this.customTables=Ai={}),Ai[ri]=Ue(oi,di,bi)}}class $e{constructor(ri){ri.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=ri[0],this.rangeLength=0,this.prefixCode=ri[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=ri[0],this.prefixLength=ri[1],this.rangeLength=ri[2],this.prefixCode=ri[3],this.isLowerRange=ri[4]==="lower")}}class Ke{constructor(ri){this.children=[],ri?(this.isLeaf=!0,this.rangeLength=ri.rangeLength,this.rangeLow=ri.rangeLow,this.isLowerRange=ri.isLowerRange,this.isOOB=ri.isOOB):this.isLeaf=!1}buildTree(ri,oi){const di=ri.prefixCode>>oi&1;if(oi<=0)this.children[di]=new Ke(ri);else{let bi=this.children[di];bi||(this.children[di]=bi=new Ke(null)),bi.buildTree(ri,oi-1)}}decodeNode(ri){if(this.isLeaf){if(this.isOOB)return null;const di=ri.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-di:di)}const oi=this.children[ri.readBit()];if(!oi)throw new e("invalid Huffman data");return oi.decodeNode(ri)}}class Ve{constructor(ri,oi){oi||this.assignPrefixCodes(ri),this.rootNode=new Ke(null);for(let di=0,bi=ri.length;di<bi;di++){const Ai=ri[di];Ai.prefixLength>0&&this.rootNode.buildTree(Ai,Ai.prefixLength-1)}}decode(ri){return this.rootNode.decodeNode(ri)}assignPrefixCodes(ri){const oi=ri.length;let di=0;for(let Fi=0;Fi<oi;Fi++)di=Math.max(di,ri[Fi].prefixLength);const bi=new Uint32Array(di+1);for(let Fi=0;Fi<oi;Fi++)bi[ri[Fi].prefixLength]++;let Ai=1,Ei=0,mi,_i,Si;for(bi[0]=0;Ai<=di;){for(Ei=Ei+bi[Ai-1]<<1,mi=Ei,_i=0;_i<oi;)Si=ri[_i],Si.prefixLength===Ai&&(Si.prefixCode=mi,mi++),_i++;Ai++}}}function Ue(pi,ri,oi){const di=pi[ri],bi=(0,xe.readUint32)(pi,ri+1)&4294967295,Ai=(0,xe.readUint32)(pi,ri+5)&4294967295,Ei=new yi(pi,ri+9,oi),mi=(di>>1&7)+1,_i=(di>>4&7)+1,Si=[];let Fi,Pi,Di=bi;do Fi=Ei.readBits(mi),Pi=Ei.readBits(_i),Si.push(new $e([Di,Fi,Pi,0])),Di+=1<<Pi;while(Di<Ai);return Fi=Ei.readBits(mi),Si.push(new $e([bi-1,Fi,32,0,"lower"])),Fi=Ei.readBits(mi),Si.push(new $e([Ai,Fi,32,0])),di&1&&(Fi=Ei.readBits(mi),Si.push(new $e([Fi,0]))),new Ve(Si,!1)}const ti={};function hi(pi){let ri=ti[pi];if(ri)return ri;let oi;switch(pi){case 1:oi=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:oi=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:oi=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:oi=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:oi=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:oi=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:oi=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:oi=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:oi=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:oi=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:oi=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:oi=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:oi=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:oi=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:oi=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new e(`standard table B.${pi} does not exist`)}for(let di=0,bi=oi.length;di<bi;di++)oi[di]=new $e(oi[di]);return ri=new Ve(oi,!0),ti[pi]=ri,ri}class yi{constructor(ri,oi,di){this.data=ri,this.start=oi,this.end=di,this.position=oi,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new e("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const ri=this.currentByte>>this.shift&1;return this.shift--,ri}readBits(ri){let oi=0,di;for(di=ri-1;di>=0;di--)oi|=this.readBit()<<di;return oi}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function wi(pi,ri,oi){let di=0;for(let bi=0,Ai=ri.length;bi<Ai;bi++){const Ei=oi[ri[bi]];if(Ei){if(pi===di)return Ei;di++}}throw new e("can't find custom Huffman table")}function Ci(pi,ri,oi,di,bi){const Ai=[];for(let Di=0;Di<=34;Di++){const Ii=bi.readBits(4);Ai.push(new $e([Di,Ii,0,0]))}const Ei=new Ve(Ai,!1);Ai.length=0;for(let Di=0;Di<di;){const Ii=Ei.decode(bi);if(Ii>=32){let Mi,$i,Xi;switch(Ii){case 32:if(Di===0)throw new e("no previous value in symbol ID table");$i=bi.readBits(2)+3,Mi=Ai[Di-1].prefixLength;break;case 33:$i=bi.readBits(3)+3,Mi=0;break;case 34:$i=bi.readBits(7)+11,Mi=0;break;default:throw new e("invalid code length in symbol ID table")}for(Xi=0;Xi<$i;Xi++)Ai.push(new $e([Di,Mi,0,0])),Di++}else Ai.push(new $e([Di,Ii,0,0])),Di++}bi.byteAlign();const mi=new Ve(Ai,!1);let _i=0,Si,Fi,Pi;switch(pi.huffmanFS){case 0:case 1:Si=hi(pi.huffmanFS+6);break;case 3:Si=wi(_i,ri,oi),_i++;break;default:throw new e("invalid Huffman FS selector")}switch(pi.huffmanDS){case 0:case 1:case 2:Fi=hi(pi.huffmanDS+8);break;case 3:Fi=wi(_i,ri,oi),_i++;break;default:throw new e("invalid Huffman DS selector")}switch(pi.huffmanDT){case 0:case 1:case 2:Pi=hi(pi.huffmanDT+11);break;case 3:Pi=wi(_i,ri,oi),_i++;break;default:throw new e("invalid Huffman DT selector")}if(pi.refinement)throw new e("refinement with Huffman is not supported");return{symbolIDTable:mi,tableFirstS:Si,tableDeltaS:Fi,tableDeltaT:Pi}}function ki(pi,ri,oi){let di=0,bi,Ai;switch(pi.huffmanDHSelector){case 0:case 1:bi=hi(pi.huffmanDHSelector+4);break;case 3:bi=wi(di,ri,oi),di++;break;default:throw new e("invalid Huffman DH selector")}switch(pi.huffmanDWSelector){case 0:case 1:Ai=hi(pi.huffmanDWSelector+2);break;case 3:Ai=wi(di,ri,oi),di++;break;default:throw new e("invalid Huffman DW selector")}let Ei,mi;return pi.bitmapSizeSelector?(Ei=wi(di,ri,oi),di++):Ei=hi(1),pi.aggregationInstancesSelector?mi=wi(di,ri,oi):mi=hi(1),{tableDeltaHeight:bi,tableDeltaWidth:Ai,tableBitmapSize:Ei,tableAggregateInstances:mi}}function fi(pi,ri,oi){const di=[];for(let bi=0;bi<oi;bi++){const Ai=new Uint8Array(ri);di.push(Ai);for(let Ei=0;Ei<ri;Ei++)Ai[Ei]=pi.readBit();pi.byteAlign()}return di}function xi(pi,ri,oi,di){const bi={K:-1,Columns:ri,Rows:oi,BlackIs1:!0,EndOfBlock:di},Ai=new Te.CCITTFaxDecoder(pi,bi),Ei=[];let mi,_i=!1;for(let Si=0;Si<oi;Si++){const Fi=new Uint8Array(ri);Ei.push(Fi);let Pi=-1;for(let Di=0;Di<ri;Di++)Pi<0&&(mi=Ai.readNextChar(),mi===-1&&(mi=0,_i=!0),Pi=7),Fi[Di]=mi>>Pi&1,Pi--}if(di&&!_i)for(let Fi=0;Fi<5&&Ai.readNextChar()!==-1;Fi++);return Ei}class li{parseChunks(ri){return si(ri)}parse(ri){throw new Error("Not implemented: Jbig2Image.parse")}}Se.Jbig2Image=li},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ArithmeticDecoder=void 0;const _e=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class t{constructor(Fe,Te,e){this.data=Fe,this.bp=Te,this.dataEnd=e,this.chigh=Fe[Te],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Fe=this.data;let Te=this.bp;Fe[Te]===255?Fe[Te+1]>143?(this.clow+=65280,this.ct=8):(Te++,this.clow+=Fe[Te]<<9,this.ct=7,this.bp=Te):(Te++,this.clow+=Te<this.dataEnd?Fe[Te]<<8:65280,this.ct=8,this.bp=Te),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Fe,Te){let e=Fe[Te]>>1,ke=Fe[Te]&1;const Oe=_e[e],Ee=Oe.qe;let Pe,De=this.a-Ee;if(this.chigh<Ee)De<Ee?(De=Ee,Pe=ke,e=Oe.nmps):(De=Ee,Pe=1^ke,Oe.switchFlag===1&&(ke=Pe),e=Oe.nlps);else{if(this.chigh-=Ee,(De&32768)!==0)return this.a=De,ke;De<Ee?(Pe=1^ke,Oe.switchFlag===1&&(ke=Pe),e=Oe.nlps):(Pe=ke,e=Oe.nmps)}do this.ct===0&&this.byteIn(),De<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while((De&32768)===0);return this.a=De,Fe[Te]=e<<1|ke,Pe}}Se.ArithmeticDecoder=t},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.JpegStream=void 0;var t=_e(17),xe=_e(3),Fe=_e(26),Te=_e(2);class e extends t.DecodeStream{constructor(Oe,Ee,Pe){let De;for(;(De=Oe.getByte())!==-1;)if(De===255){Oe.skip(-1);break}super(Ee),this.stream=Oe,this.dict=Oe.dict,this.maybeLength=Ee,this.params=Pe}get bytes(){return(0,Te.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Oe){}readBlock(){if(this.eof)return;const Oe={decodeTransform:void 0,colorTransform:void 0},Ee=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(Ee)){const Me=this.dict.get("BPC","BitsPerComponent")||8,Ae=Ee.length,Be=new Int32Array(Ae);let He=!1;const je=(1<<Me)-1;for(let Xe=0;Xe<Ae;Xe+=2)Be[Xe]=(Ee[Xe+1]-Ee[Xe])*256|0,Be[Xe+1]=Ee[Xe]*je|0,(Be[Xe]!==256||Be[Xe+1]!==0)&&(He=!0);He&&(Oe.decodeTransform=Be)}if(this.params instanceof xe.Dict){const Me=this.params.get("ColorTransform");Number.isInteger(Me)&&(Oe.colorTransform=Me)}const Pe=new Fe.JpegImage(Oe);Pe.parse(this.bytes);const De=Pe.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=De,this.bufferLength=De.length,this.eof=!0}}Se.JpegStream=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.JpegImage=void 0;var t=_e(2),xe=_e(4);class Fe extends t.BaseException{constructor(Qe){super(`JPEG error: ${Qe}`,"JpegError")}}class Te extends t.BaseException{constructor(Qe,Ze){super(Qe,"DNLMarkerError"),this.scanLines=Ze}}class e extends t.BaseException{constructor(Qe){super(Qe,"EOIMarkerError")}}const ke=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Oe=4017,Ee=799,Pe=3406,De=2276,Me=1567,Ae=3784,Be=5793,He=2896;function je(ui,Qe){let Ze=0,ci,ze,We=16;for(;We>0&&!ui[We-1];)We--;const si=[{children:[],index:0}];let ni=si[0],$e;for(ci=0;ci<We;ci++){for(ze=0;ze<ui[ci];ze++){for(ni=si.pop(),ni.children[ni.index]=Qe[Ze];ni.index>0;)ni=si.pop();for(ni.index++,si.push(ni);si.length<=ci;)si.push($e={children:[],index:0}),ni.children[ni.index]=$e.children,ni=$e;Ze++}ci+1<We&&(si.push($e={children:[],index:0}),ni.children[ni.index]=$e.children,ni=$e)}return si[0].children}function Xe(ui,Qe,Ze){return 64*((ui.blocksPerLine+1)*Qe+Ze)}function St(ui,Qe,Ze,ci,ze,We,si,ni,$e,Ke=!1){const Ve=Ze.mcusPerLine,Ue=Ze.progressive,ti=Qe;let hi=0,yi=0;function wi(){if(yi>0)return yi--,hi>>yi&1;if(hi=ui[Qe++],hi===255){const Yi=ui[Qe++];if(Yi){if(Yi===220&&Ke){Qe+=2;const Ri=(0,xe.readUint16)(ui,Qe);if(Qe+=2,Ri>0&&Ri!==Ze.scanLines)throw new Te("Found DNL marker (0xFFDC) while parsing scan data",Ri)}else if(Yi===217){if(Ke){const Ri=Ei*(Ze.precision===8?8:0);if(Ri>0&&Math.round(Ze.scanLines/Ri)>=5)throw new Te("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ri)}throw new e("Found EOI marker (0xFFD9) while parsing scan data")}throw new Fe(`unexpected marker ${(hi<<8|Yi).toString(16)}`)}}return yi=7,hi>>>7}function Ci(Yi){let Ri=Yi;for(;;){switch(Ri=Ri[wi()],typeof Ri){case"number":return Ri;case"object":continue}throw new Fe("invalid huffman sequence")}}function ki(Yi){let Ri=0;for(;Yi>0;)Ri=Ri<<1|wi(),Yi--;return Ri}function fi(Yi){if(Yi===1)return wi()===1?1:-1;const Ri=ki(Yi);return Ri>=1<<Yi-1?Ri:Ri+(-1<<Yi)+1}function xi(Yi,Ri){const ji=Ci(Yi.huffmanTableDC),Ui=ji===0?0:fi(ji);Yi.blockData[Ri]=Yi.pred+=Ui;let en=1;for(;en<64;){const nn=Ci(Yi.huffmanTableAC),Sn=nn&15,Qi=nn>>4;if(Sn===0){if(Qi<15)break;en+=16;continue}en+=Qi;const qi=ke[en];Yi.blockData[Ri+qi]=fi(Sn),en++}}function li(Yi,Ri){const ji=Ci(Yi.huffmanTableDC),Ui=ji===0?0:fi(ji)<<$e;Yi.blockData[Ri]=Yi.pred+=Ui}function pi(Yi,Ri){Yi.blockData[Ri]|=wi()<<$e}let ri=0;function oi(Yi,Ri){if(ri>0){ri--;return}let ji=We;const Ui=si;for(;ji<=Ui;){const en=Ci(Yi.huffmanTableAC),nn=en&15,Sn=en>>4;if(nn===0){if(Sn<15){ri=ki(Sn)+(1<<Sn)-1;break}ji+=16;continue}ji+=Sn;const Qi=ke[ji];Yi.blockData[Ri+Qi]=fi(nn)*(1<<$e),ji++}}let di=0,bi;function Ai(Yi,Ri){let ji=We;const Ui=si;let en=0,nn,Sn;for(;ji<=Ui;){const Qi=Ri+ke[ji],qi=Yi.blockData[Qi]<0?-1:1;switch(di){case 0:if(Sn=Ci(Yi.huffmanTableAC),nn=Sn&15,en=Sn>>4,nn===0)en<15?(ri=ki(en)+(1<<en),di=4):(en=16,di=1);else{if(nn!==1)throw new Fe("invalid ACn encoding");bi=fi(nn),di=en?2:3}continue;case 1:case 2:Yi.blockData[Qi]?Yi.blockData[Qi]+=qi*(wi()<<$e):(en--,en===0&&(di=di===2?3:0));break;case 3:Yi.blockData[Qi]?Yi.blockData[Qi]+=qi*(wi()<<$e):(Yi.blockData[Qi]=bi<<$e,di=0);break;case 4:Yi.blockData[Qi]&&(Yi.blockData[Qi]+=qi*(wi()<<$e));break}ji++}di===4&&(ri--,ri===0&&(di=0))}let Ei=0;function mi(Yi,Ri,ji,Ui,en){const nn=ji/Ve|0,Sn=ji%Ve;Ei=nn*Yi.v+Ui;const Qi=Sn*Yi.h+en,qi=Xe(Yi,Ei,Qi);Ri(Yi,qi)}function _i(Yi,Ri,ji){Ei=ji/Yi.blocksPerLine|0;const Ui=ji%Yi.blocksPerLine,en=Xe(Yi,Ei,Ui);Ri(Yi,en)}const Si=ci.length;let Fi,Pi,Di,Ii,Mi,$i;Ue?We===0?$i=ni===0?li:pi:$i=ni===0?oi:Ai:$i=xi;let Xi=0,rn,tn;Si===1?tn=ci[0].blocksPerLine*ci[0].blocksPerColumn:tn=Ve*Ze.mcusPerColumn;let on,fn;for(;Xi<=tn;){const Yi=ze?Math.min(tn-Xi,ze):tn;if(Yi>0){for(Pi=0;Pi<Si;Pi++)ci[Pi].pred=0;if(ri=0,Si===1)for(Fi=ci[0],Mi=0;Mi<Yi;Mi++)_i(Fi,$i,Xi),Xi++;else for(Mi=0;Mi<Yi;Mi++){for(Pi=0;Pi<Si;Pi++)for(Fi=ci[Pi],on=Fi.h,fn=Fi.v,Di=0;Di<fn;Di++)for(Ii=0;Ii<on;Ii++)mi(Fi,$i,Xi,Di,Ii);Xi++}}if(yi=0,rn=gi(ui,Qe),!rn)break;if(rn.invalid){const Ri=Yi>0?"unexpected":"excessive";(0,t.warn)(`decodeScan - ${Ri} MCU data, current marker is: ${rn.invalid}`),Qe=rn.offset}if(rn.marker>=65488&&rn.marker<=65495)Qe+=2;else break}return Qe-ti}function qe(ui,Qe,Ze){const ci=ui.quantizationTable,ze=ui.blockData;let We,si,ni,$e,Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki,fi,xi,li,pi;if(!ci)throw new Fe("missing required Quantization Table.");for(let ri=0;ri<64;ri+=8){if(hi=ze[Qe+ri],yi=ze[Qe+ri+1],wi=ze[Qe+ri+2],Ci=ze[Qe+ri+3],ki=ze[Qe+ri+4],fi=ze[Qe+ri+5],xi=ze[Qe+ri+6],li=ze[Qe+ri+7],hi*=ci[ri],(yi|wi|Ci|ki|fi|xi|li)===0){pi=Be*hi+512>>10,Ze[ri]=pi,Ze[ri+1]=pi,Ze[ri+2]=pi,Ze[ri+3]=pi,Ze[ri+4]=pi,Ze[ri+5]=pi,Ze[ri+6]=pi,Ze[ri+7]=pi;continue}yi*=ci[ri+1],wi*=ci[ri+2],Ci*=ci[ri+3],ki*=ci[ri+4],fi*=ci[ri+5],xi*=ci[ri+6],li*=ci[ri+7],We=Be*hi+128>>8,si=Be*ki+128>>8,ni=wi,$e=xi,Ke=He*(yi-li)+128>>8,ti=He*(yi+li)+128>>8,Ve=Ci<<4,Ue=fi<<4,We=We+si+1>>1,si=We-si,pi=ni*Ae+$e*Me+128>>8,ni=ni*Me-$e*Ae+128>>8,$e=pi,Ke=Ke+Ue+1>>1,Ue=Ke-Ue,ti=ti+Ve+1>>1,Ve=ti-Ve,We=We+$e+1>>1,$e=We-$e,si=si+ni+1>>1,ni=si-ni,pi=Ke*De+ti*Pe+2048>>12,Ke=Ke*Pe-ti*De+2048>>12,ti=pi,pi=Ve*Ee+Ue*Oe+2048>>12,Ve=Ve*Oe-Ue*Ee+2048>>12,Ue=pi,Ze[ri]=We+ti,Ze[ri+7]=We-ti,Ze[ri+1]=si+Ue,Ze[ri+6]=si-Ue,Ze[ri+2]=ni+Ve,Ze[ri+5]=ni-Ve,Ze[ri+3]=$e+Ke,Ze[ri+4]=$e-Ke}for(let ri=0;ri<8;++ri){if(hi=Ze[ri],yi=Ze[ri+8],wi=Ze[ri+16],Ci=Ze[ri+24],ki=Ze[ri+32],fi=Ze[ri+40],xi=Ze[ri+48],li=Ze[ri+56],(yi|wi|Ci|ki|fi|xi|li)===0){pi=Be*hi+8192>>14,pi<-2040?pi=0:pi>=2024?pi=255:pi=pi+2056>>4,ze[Qe+ri]=pi,ze[Qe+ri+8]=pi,ze[Qe+ri+16]=pi,ze[Qe+ri+24]=pi,ze[Qe+ri+32]=pi,ze[Qe+ri+40]=pi,ze[Qe+ri+48]=pi,ze[Qe+ri+56]=pi;continue}We=Be*hi+2048>>12,si=Be*ki+2048>>12,ni=wi,$e=xi,Ke=He*(yi-li)+2048>>12,ti=He*(yi+li)+2048>>12,Ve=Ci,Ue=fi,We=(We+si+1>>1)+4112,si=We-si,pi=ni*Ae+$e*Me+2048>>12,ni=ni*Me-$e*Ae+2048>>12,$e=pi,Ke=Ke+Ue+1>>1,Ue=Ke-Ue,ti=ti+Ve+1>>1,Ve=ti-Ve,We=We+$e+1>>1,$e=We-$e,si=si+ni+1>>1,ni=si-ni,pi=Ke*De+ti*Pe+2048>>12,Ke=Ke*Pe-ti*De+2048>>12,ti=pi,pi=Ve*Ee+Ue*Oe+2048>>12,Ve=Ve*Oe-Ue*Ee+2048>>12,Ue=pi,hi=We+ti,li=We-ti,yi=si+Ue,xi=si-Ue,wi=ni+Ve,fi=ni-Ve,Ci=$e+Ke,ki=$e-Ke,hi<16?hi=0:hi>=4080?hi=255:hi>>=4,yi<16?yi=0:yi>=4080?yi=255:yi>>=4,wi<16?wi=0:wi>=4080?wi=255:wi>>=4,Ci<16?Ci=0:Ci>=4080?Ci=255:Ci>>=4,ki<16?ki=0:ki>=4080?ki=255:ki>>=4,fi<16?fi=0:fi>=4080?fi=255:fi>>=4,xi<16?xi=0:xi>=4080?xi=255:xi>>=4,li<16?li=0:li>=4080?li=255:li>>=4,ze[Qe+ri]=hi,ze[Qe+ri+8]=yi,ze[Qe+ri+16]=wi,ze[Qe+ri+24]=Ci,ze[Qe+ri+32]=ki,ze[Qe+ri+40]=fi,ze[Qe+ri+48]=xi,ze[Qe+ri+56]=li}}function Ye(ui,Qe){const Ze=Qe.blocksPerLine,ci=Qe.blocksPerColumn,ze=new Int16Array(64);for(let We=0;We<ci;We++)for(let si=0;si<Ze;si++){const ni=Xe(Qe,We,si);qe(Qe,ni,ze)}return Qe.blockData}function gi(ui,Qe,Ze=Qe){const ci=ui.length-1;let ze=Ze<Qe?Ze:Qe;if(Qe>=ci)return null;const We=(0,xe.readUint16)(ui,Qe);if(We>=65472&&We<=65534)return{invalid:null,marker:We,offset:Qe};let si=(0,xe.readUint16)(ui,ze);for(;!(si>=65472&&si<=65534);){if(++ze>=ci)return null;si=(0,xe.readUint16)(ui,ze)}return{invalid:We.toString(16),marker:si,offset:ze}}class ai{constructor({decodeTransform:Qe=null,colorTransform:Ze=-1}={}){this._decodeTransform=Qe,this._colorTransform=Ze}parse(Qe,{dnlScanLines:Ze=null}={}){function ci(){const wi=(0,xe.readUint16)(Qe,We);We+=2;let Ci=We+wi-2;const ki=gi(Qe,Ci,We);ki&&ki.invalid&&((0,t.warn)("readDataBlock - incorrect length, current marker is: "+ki.invalid),Ci=ki.offset);const fi=Qe.subarray(We,Ci);return We+=fi.length,fi}function ze(wi){const Ci=Math.ceil(wi.samplesPerLine/8/wi.maxH),ki=Math.ceil(wi.scanLines/8/wi.maxV);for(const fi of wi.components){const xi=Math.ceil(Math.ceil(wi.samplesPerLine/8)*fi.h/wi.maxH),li=Math.ceil(Math.ceil(wi.scanLines/8)*fi.v/wi.maxV),pi=Ci*fi.h,oi=64*(ki*fi.v)*(pi+1);fi.blockData=new Int16Array(oi),fi.blocksPerLine=xi,fi.blocksPerColumn=li}wi.mcusPerLine=Ci,wi.mcusPerColumn=ki}let We=0,si=null,ni=null,$e,Ke,Ve=0;const Ue=[],ti=[],hi=[];let yi=(0,xe.readUint16)(Qe,We);if(We+=2,yi!==65496)throw new Fe("SOI not found");yi=(0,xe.readUint16)(Qe,We),We+=2;e:for(;yi!==65497;){let wi,Ci,ki;switch(yi){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const fi=ci();yi===65504&&fi[0]===74&&fi[1]===70&&fi[2]===73&&fi[3]===70&&fi[4]===0&&(si={version:{major:fi[5],minor:fi[6]},densityUnits:fi[7],xDensity:fi[8]<<8|fi[9],yDensity:fi[10]<<8|fi[11],thumbWidth:fi[12],thumbHeight:fi[13],thumbData:fi.subarray(14,14+3*fi[12]*fi[13])}),yi===65518&&fi[0]===65&&fi[1]===100&&fi[2]===111&&fi[3]===98&&fi[4]===101&&(ni={version:fi[5]<<8|fi[6],flags0:fi[7]<<8|fi[8],flags1:fi[9]<<8|fi[10],transformCode:fi[11]});break;case 65499:const xi=(0,xe.readUint16)(Qe,We);We+=2;const li=xi+We-2;let pi;for(;We<li;){const Ii=Qe[We++],Mi=new Uint16Array(64);if(Ii>>4===0)for(Ci=0;Ci<64;Ci++)pi=ke[Ci],Mi[pi]=Qe[We++];else if(Ii>>4===1)for(Ci=0;Ci<64;Ci++)pi=ke[Ci],Mi[pi]=(0,xe.readUint16)(Qe,We),We+=2;else throw new Fe("DQT - invalid table spec");Ue[Ii&15]=Mi}break;case 65472:case 65473:case 65474:if($e)throw new Fe("Only single frame JPEGs supported");We+=2,$e={},$e.extended=yi===65473,$e.progressive=yi===65474,$e.precision=Qe[We++];const ri=(0,xe.readUint16)(Qe,We);We+=2,$e.scanLines=Ze||ri,$e.samplesPerLine=(0,xe.readUint16)(Qe,We),We+=2,$e.components=[],$e.componentIds={};const oi=Qe[We++];let di=0,bi=0;for(wi=0;wi<oi;wi++){const Ii=Qe[We],Mi=Qe[We+1]>>4,$i=Qe[We+1]&15;di<Mi&&(di=Mi),bi<$i&&(bi=$i);const Xi=Qe[We+2];ki=$e.components.push({h:Mi,v:$i,quantizationId:Xi,quantizationTable:null}),$e.componentIds[Ii]=ki-1,We+=3}$e.maxH=di,$e.maxV=bi,ze($e);break;case 65476:const Ai=(0,xe.readUint16)(Qe,We);for(We+=2,wi=2;wi<Ai;){const Ii=Qe[We++],Mi=new Uint8Array(16);let $i=0;for(Ci=0;Ci<16;Ci++,We++)$i+=Mi[Ci]=Qe[We];const Xi=new Uint8Array($i);for(Ci=0;Ci<$i;Ci++,We++)Xi[Ci]=Qe[We];wi+=17+$i,(Ii>>4===0?hi:ti)[Ii&15]=je(Mi,Xi)}break;case 65501:We+=2,Ke=(0,xe.readUint16)(Qe,We),We+=2;break;case 65498:const Ei=++Ve===1&&!Ze;We+=2;const mi=Qe[We++],_i=[];for(wi=0;wi<mi;wi++){const Ii=Qe[We++],Mi=$e.componentIds[Ii],$i=$e.components[Mi];$i.index=Ii;const Xi=Qe[We++];$i.huffmanTableDC=hi[Xi>>4],$i.huffmanTableAC=ti[Xi&15],_i.push($i)}const Si=Qe[We++],Fi=Qe[We++],Pi=Qe[We++];try{const Ii=St(Qe,We,$e,_i,Ke,Si,Fi,Pi>>4,Pi&15,Ei);We+=Ii}catch(Ii){if(Ii instanceof Te)return(0,t.warn)(`${Ii.message} -- attempting to re-parse the JPEG image.`),this.parse(Qe,{dnlScanLines:Ii.scanLines});if(Ii instanceof e){(0,t.warn)(`${Ii.message} -- ignoring the rest of the image data.`);break e}throw Ii}break;case 65500:We+=4;break;case 65535:Qe[We]!==255&&We--;break;default:const Di=gi(Qe,We-2,We-3);if(Di&&Di.invalid){(0,t.warn)("JpegImage.parse - unexpected data, current marker is: "+Di.invalid),We=Di.offset;break}if(!Di||We>=Qe.length-1){(0,t.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new Fe("JpegImage.parse - unknown marker: "+yi.toString(16))}yi=(0,xe.readUint16)(Qe,We),We+=2}this.width=$e.samplesPerLine,this.height=$e.scanLines,this.jfif=si,this.adobe=ni,this.components=[];for(const wi of $e.components){const Ci=Ue[wi.quantizationId];Ci&&(wi.quantizationTable=Ci),this.components.push({index:wi.index,output:Ye($e,wi),scaleX:wi.h/$e.maxH,scaleY:wi.v/$e.maxV,blocksPerLine:wi.blocksPerLine,blocksPerColumn:wi.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Qe,Ze,ci=!1){const ze=this.width/Qe,We=this.height/Ze;let si,ni,$e,Ke,Ve,Ue,ti,hi,yi,wi,Ci=0,ki;const fi=this.components.length,xi=Qe*Ze*fi,li=new Uint8ClampedArray(xi),pi=new Uint32Array(Qe),ri=4294967288;let oi;for(ti=0;ti<fi;ti++){if(si=this.components[ti],ni=si.scaleX*ze,$e=si.scaleY*We,Ci=ti,ki=si.output,Ke=si.blocksPerLine+1<<3,ni!==oi){for(Ve=0;Ve<Qe;Ve++)hi=0|Ve*ni,pi[Ve]=(hi&ri)<<3|hi&7;oi=ni}for(Ue=0;Ue<Ze;Ue++)for(hi=0|Ue*$e,wi=Ke*(hi&ri)|(hi&7)<<3,Ve=0;Ve<Qe;Ve++)li[Ci]=ki[wi+pi[Ve]],Ci+=fi}let di=this._decodeTransform;if(!ci&&fi===4&&!di&&(di=new Int32Array([-256,255,-256,255,-256,255,-256,255])),di)for(ti=0;ti<xi;)for(hi=0,yi=0;hi<fi;hi++,ti++,yi+=2)li[ti]=(li[ti]*di[yi]>>8)+di[yi+1];return li}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Qe){let Ze,ci,ze;for(let We=0,si=Qe.length;We<si;We+=3)Ze=Qe[We],ci=Qe[We+1],ze=Qe[We+2],Qe[We]=Ze-179.456+1.402*ze,Qe[We+1]=Ze+135.459-.344*ci-.714*ze,Qe[We+2]=Ze-226.816+1.772*ci;return Qe}_convertYcckToRgb(Qe){let Ze,ci,ze,We,si=0;for(let ni=0,$e=Qe.length;ni<$e;ni+=4)Ze=Qe[ni],ci=Qe[ni+1],ze=Qe[ni+2],We=Qe[ni+3],Qe[si++]=-122.67195406894+ci*(-660635669420364e-19*ci+.000437130475926232*ze-54080610064599e-18*Ze+.00048449797120281*We-.154362151871126)+ze*(-.000957964378445773*ze+.000817076911346625*Ze-.00477271405408747*We+1.53380253221734)+Ze*(.000961250184130688*Ze-.00266257332283933*We+.48357088451265)+We*(-.000336197177618394*We+.484791561490776),Qe[si++]=107.268039397724+ci*(219927104525741e-19*ci-.000640992018297945*ze+.000659397001245577*Ze+.000426105652938837*We-.176491792462875)+ze*(-.000778269941513683*ze+.00130872261408275*Ze+.000770482631801132*We-.151051492775562)+Ze*(.00126935368114843*Ze-.00265090189010898*We+.25802910206845)+We*(-.000318913117588328*We-.213742400323665),Qe[si++]=-20.810012546947+ci*(-.000570115196973677*ci-263409051004589e-19*ze+.0020741088115012*Ze-.00288260236853442*We+.814272968359295)+ze*(-153496057440975e-19*ze-.000132689043961446*Ze+.000560833691242812*We-.195152027534049)+Ze*(.00174418132927582*Ze-.00255243321439347*We+.116935020465145)+We*(-.000343531996510555*We+.24165260232407);return Qe.subarray(0,si)}_convertYcckToCmyk(Qe){let Ze,ci,ze;for(let We=0,si=Qe.length;We<si;We+=4)Ze=Qe[We],ci=Qe[We+1],ze=Qe[We+2],Qe[We]=434.456-Ze-1.402*ze,Qe[We+1]=119.541-Ze+.344*ci+.714*ze,Qe[We+2]=481.816-Ze-1.772*ci;return Qe}_convertCmykToRgb(Qe){let Ze,ci,ze,We,si=0;for(let ni=0,$e=Qe.length;ni<$e;ni+=4)Ze=Qe[ni],ci=Qe[ni+1],ze=Qe[ni+2],We=Qe[ni+3],Qe[si++]=255+Ze*(-6747147073602441e-20*Ze+.0008379262121013727*ci+.0002894718188643294*ze+.003264231057537806*We-1.1185611867203937)+ci*(26374107616089405e-21*ci-8626949158638572e-20*ze-.0002748769067499491*We-.02155688794978967)+ze*(-3878099212869363e-20*ze-.0003267808279485286*We+.0686742238595345)-We*(.0003361971776183937*We+.7430659151342254),Qe[si++]=255+Ze*(.00013596372813588848*Ze+.000924537132573585*ci+.00010567359618683593*ze+.0004791864687436512*We-.3109689587515875)+ci*(-.00023545346108370344*ci+.0002702845253534714*ze+.0020200308977307156*We-.7488052167015494)+ze*(6834815998235662e-20*ze+.00015168452363460973*We-.09751927774728933)-We*(.0003189131175883281*We+.7364883807733168),Qe[si++]=255+Ze*(13598650411385307e-21*Ze+.00012423956175490851*ci+.0004751985097583589*ze-36729317476630422e-22*We-.05562186980264034)+ci*(.00016141380598724676*ci+.0009692239130725186*ze+.0007782692450036253*We-.44015232367526463)+ze*(5068882914068769e-22*ze+.0017778369011375071*We-.7591454649749609)-We*(.0003435319965105553*We+.7063770186160144);return Qe.subarray(0,si)}getData({width:Qe,height:Ze,forceRGB:ci=!1,isSourcePDF:ze=!1}){if(this.numComponents>4)throw new Fe("Unsupported color mode");const We=this._getLinearizedBlockData(Qe,Ze,ze);if(this.numComponents===1&&ci){const si=new Uint8ClampedArray(We.length*3);let ni=0;for(const $e of We)si[ni++]=$e,si[ni++]=$e,si[ni++]=$e;return si}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(We);if(this.numComponents===4){if(this._isColorConversionNeeded)return ci?this._convertYcckToRgb(We):this._convertYcckToCmyk(We);if(ci)return this._convertCmykToRgb(We)}}return We}}Se.JpegImage=ai},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.JpxStream=void 0;var t=_e(17),xe=_e(28),Fe=_e(2);class Te extends t.DecodeStream{constructor(ke,Oe,Ee){super(Oe),this.stream=ke,this.dict=ke.dict,this.maybeLength=Oe,this.params=Ee}get bytes(){return(0,Fe.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(ke){}readBlock(){if(this.eof)return;const ke=new xe.JpxImage;ke.parse(this.bytes);const Oe=ke.width,Ee=ke.height,Pe=ke.componentsCount,De=ke.tiles.length;if(De===1)this.buffer=ke.tiles[0].items;else{const Me=new Uint8ClampedArray(Oe*Ee*Pe);for(let Ae=0;Ae<De;Ae++){const Be=ke.tiles[Ae],He=Be.width,je=Be.height,Xe=Be.left,St=Be.top,qe=Be.items;let Ye=0,gi=(Oe*St+Xe)*Pe;const ai=Oe*Pe,ui=He*Pe;for(let Qe=0;Qe<je;Qe++){const Ze=qe.subarray(Ye,Ye+ui);Me.set(Ze,gi),Ye+=ui,gi+=ai}}this.buffer=Me}this.bufferLength=this.buffer.length,this.eof=!0}}Se.JpxStream=Te},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.JpxImage=void 0;var t=_e(2),xe=_e(4),Fe=_e(24);class Te extends t.BaseException{constructor(Ue){super(`JPX error: ${Ue}`,"JpxError")}}const e={LL:0,LH:1,HL:1,HH:2};class ke{constructor(){this.failOnCorruptedImage=!1}parse(Ue){if((0,xe.readUint16)(Ue,0)===65359){this.parseCodestream(Ue,0,Ue.length);return}const hi=Ue.length;let yi=0;for(;yi<hi;){let wi=8,Ci=(0,xe.readUint32)(Ue,yi);const ki=(0,xe.readUint32)(Ue,yi+4);if(yi+=wi,Ci===1&&(Ci=(0,xe.readUint32)(Ue,yi)*4294967296+(0,xe.readUint32)(Ue,yi+4),yi+=8,wi+=8),Ci===0&&(Ci=hi-yi+wi),Ci<wi)throw new Te("Invalid box field size");const fi=Ci-wi;let xi=!0;switch(ki){case 1785737832:xi=!1;break;case 1668246642:const li=Ue[yi];if(li===1){const ri=(0,xe.readUint32)(Ue,yi+3);switch(ri){case 16:case 17:case 18:break;default:(0,t.warn)("Unknown colorspace "+ri);break}}else li===2&&(0,t.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(Ue,yi,yi+fi);break;case 1783636e3:(0,xe.readUint32)(Ue,yi)!==218793738&&(0,t.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const pi=String.fromCharCode(ki>>24&255,ki>>16&255,ki>>8&255,ki&255);(0,t.warn)(`Unsupported header type ${ki} (${pi}).`);break}xi&&(yi+=fi)}}parseImageProperties(Ue){let ti=Ue.getByte();for(;ti>=0;){const hi=ti;if(ti=Ue.getByte(),(hi<<8|ti)===65361){Ue.skip(4);const wi=Ue.getInt32()>>>0,Ci=Ue.getInt32()>>>0,ki=Ue.getInt32()>>>0,fi=Ue.getInt32()>>>0;Ue.skip(16);const xi=Ue.getUint16();this.width=wi-ki,this.height=Ci-fi,this.componentsCount=xi,this.bitsPerComponent=8;return}}throw new Te("No size marker found in JPX stream")}parseCodestream(Ue,ti,hi){const yi={};let wi=!1;try{let Ci=ti;for(;Ci+1<hi;){const ki=(0,xe.readUint16)(Ue,Ci);Ci+=2;let fi=0,xi,li,pi,ri,oi,di;switch(ki){case 65359:yi.mainHeader=!0;break;case 65497:break;case 65361:fi=(0,xe.readUint16)(Ue,Ci);const bi={};bi.Xsiz=(0,xe.readUint32)(Ue,Ci+4),bi.Ysiz=(0,xe.readUint32)(Ue,Ci+8),bi.XOsiz=(0,xe.readUint32)(Ue,Ci+12),bi.YOsiz=(0,xe.readUint32)(Ue,Ci+16),bi.XTsiz=(0,xe.readUint32)(Ue,Ci+20),bi.YTsiz=(0,xe.readUint32)(Ue,Ci+24),bi.XTOsiz=(0,xe.readUint32)(Ue,Ci+28),bi.YTOsiz=(0,xe.readUint32)(Ue,Ci+32);const Ai=(0,xe.readUint16)(Ue,Ci+36);bi.Csiz=Ai;const Ei=[];xi=Ci+38;for(let Mi=0;Mi<Ai;Mi++){const $i={precision:(Ue[xi]&127)+1,isSigned:!!(Ue[xi]&128),XRsiz:Ue[xi+1],YRsiz:Ue[xi+2]};xi+=3,Oe($i,bi),Ei.push($i)}yi.SIZ=bi,yi.components=Ei,Ee(yi,Ei),yi.QCC=[],yi.COC=[];break;case 65372:fi=(0,xe.readUint16)(Ue,Ci);const mi={};switch(xi=Ci+2,li=Ue[xi++],li&31){case 0:ri=8,oi=!0;break;case 1:ri=16,oi=!1;break;case 2:ri=16,oi=!0;break;default:throw new Error("Invalid SQcd value "+li)}for(mi.noQuantization=ri===8,mi.scalarExpounded=oi,mi.guardBits=li>>5,pi=[];xi<fi+Ci;){const Mi={};ri===8?(Mi.epsilon=Ue[xi++]>>3,Mi.mu=0):(Mi.epsilon=Ue[xi]>>3,Mi.mu=(Ue[xi]&7)<<8|Ue[xi+1],xi+=2),pi.push(Mi)}mi.SPqcds=pi,yi.mainHeader?yi.QCD=mi:(yi.currentTile.QCD=mi,yi.currentTile.QCC=[]);break;case 65373:fi=(0,xe.readUint16)(Ue,Ci);const _i={};xi=Ci+2;let Si;switch(yi.SIZ.Csiz<257?Si=Ue[xi++]:(Si=(0,xe.readUint16)(Ue,xi),xi+=2),li=Ue[xi++],li&31){case 0:ri=8,oi=!0;break;case 1:ri=16,oi=!1;break;case 2:ri=16,oi=!0;break;default:throw new Error("Invalid SQcd value "+li)}for(_i.noQuantization=ri===8,_i.scalarExpounded=oi,_i.guardBits=li>>5,pi=[];xi<fi+Ci;){const Mi={};ri===8?(Mi.epsilon=Ue[xi++]>>3,Mi.mu=0):(Mi.epsilon=Ue[xi]>>3,Mi.mu=(Ue[xi]&7)<<8|Ue[xi+1],xi+=2),pi.push(Mi)}_i.SPqcds=pi,yi.mainHeader?yi.QCC[Si]=_i:yi.currentTile.QCC[Si]=_i;break;case 65362:fi=(0,xe.readUint16)(Ue,Ci);const Fi={};xi=Ci+2;const Pi=Ue[xi++];Fi.entropyCoderWithCustomPrecincts=!!(Pi&1),Fi.sopMarkerUsed=!!(Pi&2),Fi.ephMarkerUsed=!!(Pi&4),Fi.progressionOrder=Ue[xi++],Fi.layersCount=(0,xe.readUint16)(Ue,xi),xi+=2,Fi.multipleComponentTransform=Ue[xi++],Fi.decompositionLevelsCount=Ue[xi++],Fi.xcb=(Ue[xi++]&15)+2,Fi.ycb=(Ue[xi++]&15)+2;const Di=Ue[xi++];if(Fi.selectiveArithmeticCodingBypass=!!(Di&1),Fi.resetContextProbabilities=!!(Di&2),Fi.terminationOnEachCodingPass=!!(Di&4),Fi.verticallyStripe=!!(Di&8),Fi.predictableTermination=!!(Di&16),Fi.segmentationSymbolUsed=!!(Di&32),Fi.reversibleTransformation=Ue[xi++],Fi.entropyCoderWithCustomPrecincts){const Mi=[];for(;xi<fi+Ci;){const $i=Ue[xi++];Mi.push({PPx:$i&15,PPy:$i>>4})}Fi.precinctsSizes=Mi}const Ii=[];Fi.selectiveArithmeticCodingBypass&&Ii.push("selectiveArithmeticCodingBypass"),Fi.terminationOnEachCodingPass&&Ii.push("terminationOnEachCodingPass"),Fi.verticallyStripe&&Ii.push("verticallyStripe"),Fi.predictableTermination&&Ii.push("predictableTermination"),Ii.length>0&&(wi=!0,(0,t.warn)(`JPX: Unsupported COD options (${Ii.join(", ")}).`)),yi.mainHeader?yi.COD=Fi:(yi.currentTile.COD=Fi,yi.currentTile.COC=[]);break;case 65424:fi=(0,xe.readUint16)(Ue,Ci),di={},di.index=(0,xe.readUint16)(Ue,Ci+2),di.length=(0,xe.readUint32)(Ue,Ci+4),di.dataEnd=di.length+Ci-2,di.partIndex=Ue[Ci+8],di.partsCount=Ue[Ci+9],yi.mainHeader=!1,di.partIndex===0&&(di.COD=yi.COD,di.COC=yi.COC.slice(0),di.QCD=yi.QCD,di.QCC=yi.QCC.slice(0)),yi.currentTile=di;break;case 65427:di=yi.currentTile,di.partIndex===0&&(ci(yi,di.index),gi(yi)),fi=di.dataEnd-Ci,ai(yi,Ue,Ci,fi);break;case 65363:(0,t.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:fi=(0,xe.readUint16)(Ue,Ci);break;default:throw new Error("Unknown codestream code: "+ki.toString(16))}Ci+=fi}}catch(Ci){if(wi||this.failOnCorruptedImage)throw new Te(Ci.message);(0,t.warn)(`JPX: Trying to recover from: "${Ci.message}".`)}this.tiles=Ze(yi),this.width=yi.SIZ.Xsiz-yi.SIZ.XOsiz,this.height=yi.SIZ.Ysiz-yi.SIZ.YOsiz,this.componentsCount=yi.SIZ.Csiz}}Se.JpxImage=ke;function Oe(Ve,Ue){Ve.x0=Math.ceil(Ue.XOsiz/Ve.XRsiz),Ve.x1=Math.ceil(Ue.Xsiz/Ve.XRsiz),Ve.y0=Math.ceil(Ue.YOsiz/Ve.YRsiz),Ve.y1=Math.ceil(Ue.Ysiz/Ve.YRsiz),Ve.width=Ve.x1-Ve.x0,Ve.height=Ve.y1-Ve.y0}function Ee(Ve,Ue){const ti=Ve.SIZ,hi=[];let yi;const wi=Math.ceil((ti.Xsiz-ti.XTOsiz)/ti.XTsiz),Ci=Math.ceil((ti.Ysiz-ti.YTOsiz)/ti.YTsiz);for(let fi=0;fi<Ci;fi++)for(let xi=0;xi<wi;xi++)yi={},yi.tx0=Math.max(ti.XTOsiz+xi*ti.XTsiz,ti.XOsiz),yi.ty0=Math.max(ti.YTOsiz+fi*ti.YTsiz,ti.YOsiz),yi.tx1=Math.min(ti.XTOsiz+(xi+1)*ti.XTsiz,ti.Xsiz),yi.ty1=Math.min(ti.YTOsiz+(fi+1)*ti.YTsiz,ti.Ysiz),yi.width=yi.tx1-yi.tx0,yi.height=yi.ty1-yi.ty0,yi.components=[],hi.push(yi);Ve.tiles=hi;const ki=ti.Csiz;for(let fi=0,xi=ki;fi<xi;fi++){const li=Ue[fi];for(let pi=0,ri=hi.length;pi<ri;pi++){const oi={};yi=hi[pi],oi.tcx0=Math.ceil(yi.tx0/li.XRsiz),oi.tcy0=Math.ceil(yi.ty0/li.YRsiz),oi.tcx1=Math.ceil(yi.tx1/li.XRsiz),oi.tcy1=Math.ceil(yi.ty1/li.YRsiz),oi.width=oi.tcx1-oi.tcx0,oi.height=oi.tcy1-oi.tcy0,yi.components[fi]=oi}}}function Pe(Ve,Ue,ti){const hi=Ue.codingStyleParameters,yi={};return hi.entropyCoderWithCustomPrecincts?(yi.PPx=hi.precinctsSizes[ti].PPx,yi.PPy=hi.precinctsSizes[ti].PPy):(yi.PPx=15,yi.PPy=15),yi.xcb_=ti>0?Math.min(hi.xcb,yi.PPx-1):Math.min(hi.xcb,yi.PPx),yi.ycb_=ti>0?Math.min(hi.ycb,yi.PPy-1):Math.min(hi.ycb,yi.PPy),yi}function De(Ve,Ue,ti){const hi=1<<ti.PPx,yi=1<<ti.PPy,wi=Ue.resLevel===0,Ci=1<<ti.PPx+(wi?0:-1),ki=1<<ti.PPy+(wi?0:-1),fi=Ue.trx1>Ue.trx0?Math.ceil(Ue.trx1/hi)-Math.floor(Ue.trx0/hi):0,xi=Ue.try1>Ue.try0?Math.ceil(Ue.try1/yi)-Math.floor(Ue.try0/yi):0,li=fi*xi;Ue.precinctParameters={precinctWidth:hi,precinctHeight:yi,numprecinctswide:fi,numprecinctshigh:xi,numprecincts:li,precinctWidthInSubband:Ci,precinctHeightInSubband:ki}}function Me(Ve,Ue,ti){const hi=ti.xcb_,yi=ti.ycb_,wi=1<<hi,Ci=1<<yi,ki=Ue.tbx0>>hi,fi=Ue.tby0>>yi,xi=Ue.tbx1+wi-1>>hi,li=Ue.tby1+Ci-1>>yi,pi=Ue.resolution.precinctParameters,ri=[],oi=[];let di,bi,Ai,Ei;for(bi=fi;bi<li;bi++)for(di=ki;di<xi;di++){Ai={cbx:di,cby:bi,tbx0:wi*di,tby0:Ci*bi,tbx1:wi*(di+1),tby1:Ci*(bi+1)},Ai.tbx0_=Math.max(Ue.tbx0,Ai.tbx0),Ai.tby0_=Math.max(Ue.tby0,Ai.tby0),Ai.tbx1_=Math.min(Ue.tbx1,Ai.tbx1),Ai.tby1_=Math.min(Ue.tby1,Ai.tby1);const mi=Math.floor((Ai.tbx0_-Ue.tbx0)/pi.precinctWidthInSubband),_i=Math.floor((Ai.tby0_-Ue.tby0)/pi.precinctHeightInSubband);if(Ei=mi+_i*pi.numprecinctswide,Ai.precinctNumber=Ei,Ai.subbandType=Ue.type,Ai.Lblock=3,Ai.tbx1_<=Ai.tbx0_||Ai.tby1_<=Ai.tby0_)continue;ri.push(Ai);let Si=oi[Ei];Si!==void 0?(di<Si.cbxMin?Si.cbxMin=di:di>Si.cbxMax&&(Si.cbxMax=di),bi<Si.cbyMin?Si.cbxMin=bi:bi>Si.cbyMax&&(Si.cbyMax=bi)):oi[Ei]=Si={cbxMin:di,cbyMin:bi,cbxMax:di,cbyMax:bi},Ai.precinct=Si}Ue.codeblockParameters={codeblockWidth:hi,codeblockHeight:yi,numcodeblockwide:xi-ki+1,numcodeblockhigh:li-fi+1},Ue.codeblocks=ri,Ue.precincts=oi}function Ae(Ve,Ue,ti){const hi=[],yi=Ve.subbands;for(let wi=0,Ci=yi.length;wi<Ci;wi++){const fi=yi[wi].codeblocks;for(let xi=0,li=fi.length;xi<li;xi++){const pi=fi[xi];pi.precinctNumber===Ue&&hi.push(pi)}}return{layerNumber:ti,codeblocks:hi}}function Be(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=hi.codingStyleDefaultParameters.layersCount,wi=Ue.Csiz;let Ci=0;for(let pi=0;pi<wi;pi++)Ci=Math.max(Ci,hi.components[pi].codingStyleParameters.decompositionLevelsCount);let ki=0,fi=0,xi=0,li=0;this.nextPacket=function(){for(;ki<yi;ki++){for(;fi<=Ci;fi++){for(;xi<wi;xi++){const ri=hi.components[xi];if(fi>ri.codingStyleParameters.decompositionLevelsCount)continue;const oi=ri.resolutions[fi],di=oi.precinctParameters.numprecincts;for(;li<di;){const bi=Ae(oi,li,ki);return li++,bi}li=0}xi=0}fi=0}throw new Te("Out of packets")}}function He(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=hi.codingStyleDefaultParameters.layersCount,wi=Ue.Csiz;let Ci=0;for(let pi=0;pi<wi;pi++)Ci=Math.max(Ci,hi.components[pi].codingStyleParameters.decompositionLevelsCount);let ki=0,fi=0,xi=0,li=0;this.nextPacket=function(){for(;ki<=Ci;ki++){for(;fi<yi;fi++){for(;xi<wi;xi++){const ri=hi.components[xi];if(ki>ri.codingStyleParameters.decompositionLevelsCount)continue;const oi=ri.resolutions[ki],di=oi.precinctParameters.numprecincts;for(;li<di;){const bi=Ae(oi,li,fi);return li++,bi}li=0}xi=0}fi=0}throw new Te("Out of packets")}}function je(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=hi.codingStyleDefaultParameters.layersCount,wi=Ue.Csiz;let Ci,ki,fi,xi,li=0;for(fi=0;fi<wi;fi++){const ri=hi.components[fi];li=Math.max(li,ri.codingStyleParameters.decompositionLevelsCount)}const pi=new Int32Array(li+1);for(ki=0;ki<=li;++ki){let ri=0;for(fi=0;fi<wi;++fi){const oi=hi.components[fi].resolutions;ki<oi.length&&(ri=Math.max(ri,oi[ki].precinctParameters.numprecincts))}pi[ki]=ri}Ci=0,ki=0,fi=0,xi=0,this.nextPacket=function(){for(;ki<=li;ki++){for(;xi<pi[ki];xi++){for(;fi<wi;fi++){const oi=hi.components[fi];if(ki>oi.codingStyleParameters.decompositionLevelsCount)continue;const di=oi.resolutions[ki],bi=di.precinctParameters.numprecincts;if(!(xi>=bi)){for(;Ci<yi;){const Ai=Ae(di,xi,Ci);return Ci++,Ai}Ci=0}}fi=0}xi=0}throw new Te("Out of packets")}}function Xe(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=hi.codingStyleDefaultParameters.layersCount,wi=Ue.Csiz,Ci=Ye(hi),ki=Ci;let fi=0,xi=0,li=0,pi=0,ri=0;this.nextPacket=function(){for(;ri<ki.maxNumHigh;ri++){for(;pi<ki.maxNumWide;pi++){for(;li<wi;li++){const di=hi.components[li],bi=di.codingStyleParameters.decompositionLevelsCount;for(;xi<=bi;xi++){const Ai=di.resolutions[xi],Ei=Ci.components[li].resolutions[xi],mi=qe(pi,ri,Ei,ki,Ai);if(mi!==null){for(;fi<yi;){const _i=Ae(Ai,mi,fi);return fi++,_i}fi=0}}xi=0}li=0}pi=0}throw new Te("Out of packets")}}function St(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=hi.codingStyleDefaultParameters.layersCount,wi=Ue.Csiz,Ci=Ye(hi);let ki=0,fi=0,xi=0,li=0,pi=0;this.nextPacket=function(){for(;xi<wi;++xi){const oi=hi.components[xi],di=Ci.components[xi],bi=oi.codingStyleParameters.decompositionLevelsCount;for(;pi<di.maxNumHigh;pi++){for(;li<di.maxNumWide;li++){for(;fi<=bi;fi++){const Ai=oi.resolutions[fi],Ei=di.resolutions[fi],mi=qe(li,pi,Ei,di,Ai);if(mi!==null){for(;ki<yi;){const _i=Ae(Ai,mi,ki);return ki++,_i}ki=0}}fi=0}li=0}pi=0}throw new Te("Out of packets")}}function qe(Ve,Ue,ti,hi,yi){const wi=Ve*hi.minWidth,Ci=Ue*hi.minHeight;if(wi%ti.width!==0||Ci%ti.height!==0)return null;const ki=Ci/ti.width*yi.precinctParameters.numprecinctswide;return wi/ti.height+ki}function Ye(Ve){const Ue=Ve.components.length;let ti=Number.MAX_VALUE,hi=Number.MAX_VALUE,yi=0,wi=0;const Ci=new Array(Ue);for(let ki=0;ki<Ue;ki++){const fi=Ve.components[ki],xi=fi.codingStyleParameters.decompositionLevelsCount,li=new Array(xi+1);let pi=Number.MAX_VALUE,ri=Number.MAX_VALUE,oi=0,di=0,bi=1;for(let Ai=xi;Ai>=0;--Ai){const Ei=fi.resolutions[Ai],mi=bi*Ei.precinctParameters.precinctWidth,_i=bi*Ei.precinctParameters.precinctHeight;pi=Math.min(pi,mi),ri=Math.min(ri,_i),oi=Math.max(oi,Ei.precinctParameters.numprecinctswide),di=Math.max(di,Ei.precinctParameters.numprecinctshigh),li[Ai]={width:mi,height:_i},bi<<=1}ti=Math.min(ti,pi),hi=Math.min(hi,ri),yi=Math.max(yi,oi),wi=Math.max(wi,di),Ci[ki]={resolutions:li,minWidth:pi,minHeight:ri,maxNumWide:oi,maxNumHigh:di}}return{components:Ci,minWidth:ti,minHeight:hi,maxNumWide:yi,maxNumHigh:wi}}function gi(Ve){const Ue=Ve.SIZ,ti=Ve.currentTile.index,hi=Ve.tiles[ti],yi=Ue.Csiz;for(let Ci=0;Ci<yi;Ci++){const ki=hi.components[Ci],fi=ki.codingStyleParameters.decompositionLevelsCount,xi=[],li=[];for(let pi=0;pi<=fi;pi++){const ri=Pe(Ve,ki,pi),oi={},di=1<<fi-pi;oi.trx0=Math.ceil(ki.tcx0/di),oi.try0=Math.ceil(ki.tcy0/di),oi.trx1=Math.ceil(ki.tcx1/di),oi.try1=Math.ceil(ki.tcy1/di),oi.resLevel=pi,De(Ve,oi,ri),xi.push(oi);let bi;if(pi===0)bi={},bi.type="LL",bi.tbx0=Math.ceil(ki.tcx0/di),bi.tby0=Math.ceil(ki.tcy0/di),bi.tbx1=Math.ceil(ki.tcx1/di),bi.tby1=Math.ceil(ki.tcy1/di),bi.resolution=oi,Me(Ve,bi,ri),li.push(bi),oi.subbands=[bi];else{const Ai=1<<fi-pi+1,Ei=[];bi={},bi.type="HL",bi.tbx0=Math.ceil(ki.tcx0/Ai-.5),bi.tby0=Math.ceil(ki.tcy0/Ai),bi.tbx1=Math.ceil(ki.tcx1/Ai-.5),bi.tby1=Math.ceil(ki.tcy1/Ai),bi.resolution=oi,Me(Ve,bi,ri),li.push(bi),Ei.push(bi),bi={},bi.type="LH",bi.tbx0=Math.ceil(ki.tcx0/Ai),bi.tby0=Math.ceil(ki.tcy0/Ai-.5),bi.tbx1=Math.ceil(ki.tcx1/Ai),bi.tby1=Math.ceil(ki.tcy1/Ai-.5),bi.resolution=oi,Me(Ve,bi,ri),li.push(bi),Ei.push(bi),bi={},bi.type="HH",bi.tbx0=Math.ceil(ki.tcx0/Ai-.5),bi.tby0=Math.ceil(ki.tcy0/Ai-.5),bi.tbx1=Math.ceil(ki.tcx1/Ai-.5),bi.tby1=Math.ceil(ki.tcy1/Ai-.5),bi.resolution=oi,Me(Ve,bi,ri),li.push(bi),Ei.push(bi),oi.subbands=Ei}}ki.resolutions=xi,ki.subbands=li}const wi=hi.codingStyleDefaultParameters.progressionOrder;switch(wi){case 0:hi.packetsIterator=new Be(Ve);break;case 1:hi.packetsIterator=new He(Ve);break;case 2:hi.packetsIterator=new je(Ve);break;case 3:hi.packetsIterator=new Xe(Ve);break;case 4:hi.packetsIterator=new St(Ve);break;default:throw new Te(`Unsupported progression order ${wi}`)}}function ai(Ve,Ue,ti,hi){let yi=0,wi,Ci=0,ki=!1;function fi(mi){for(;Ci<mi;){const _i=Ue[ti+yi];yi++,ki?(wi=wi<<7|_i,Ci+=7,ki=!1):(wi=wi<<8|_i,Ci+=8),_i===255&&(ki=!0)}return Ci-=mi,wi>>>Ci&(1<<mi)-1}function xi(mi){return Ue[ti+yi-1]===255&&Ue[ti+yi]===mi?(li(1),!0):Ue[ti+yi]===255&&Ue[ti+yi+1]===mi?(li(2),!0):!1}function li(mi){yi+=mi}function pi(){Ci=0,ki&&(yi++,ki=!1)}function ri(){if(fi(1)===0)return 1;if(fi(1)===0)return 2;let mi=fi(2);return mi<3?mi+3:(mi=fi(5),mi<31?mi+6:(mi=fi(7),mi+37))}const oi=Ve.currentTile.index,di=Ve.tiles[oi],bi=Ve.COD.sopMarkerUsed,Ai=Ve.COD.ephMarkerUsed,Ei=di.packetsIterator;for(;yi<hi;){pi(),bi&&xi(145)&&li(4);const mi=Ei.nextPacket();if(!fi(1))continue;const _i=mi.layerNumber,Si=[];let Fi;for(let Pi=0,Di=mi.codeblocks.length;Pi<Di;Pi++){Fi=mi.codeblocks[Pi];let Ii=Fi.precinct;const Mi=Fi.cbx-Ii.cbxMin,$i=Fi.cby-Ii.cbyMin;let Xi=!1,rn=!1,tn,on;if(Fi.included!==void 0)Xi=!!fi(1);else{Ii=Fi.precinct;let Ui;if(Ii.inclusionTree!==void 0)Ui=Ii.inclusionTree;else{const en=Ii.cbxMax-Ii.cbxMin+1,nn=Ii.cbyMax-Ii.cbyMin+1;Ui=new We(en,nn,_i),on=new ze(en,nn),Ii.inclusionTree=Ui,Ii.zeroBitPlanesTree=on;for(let Sn=0;Sn<_i;Sn++)if(fi(1)!==0)throw new Te("Invalid tag tree")}if(Ui.reset(Mi,$i,_i))for(;;)if(fi(1)){if(tn=!Ui.nextLevel(),tn){Fi.included=!0,Xi=rn=!0;break}}else{Ui.incrementValue(_i);break}}if(!Xi)continue;if(rn){for(on=Ii.zeroBitPlanesTree,on.reset(Mi,$i);;)if(fi(1)){if(tn=!on.nextLevel(),tn)break}else on.incrementValue();Fi.zeroBitPlanes=on.value}const fn=ri();for(;fi(1);)Fi.Lblock++;const Yi=(0,xe.log2)(fn),Ri=(fn<1<<Yi?Yi-1:Yi)+Fi.Lblock,ji=fi(Ri);Si.push({codeblock:Fi,codingpasses:fn,dataLength:ji})}for(pi(),Ai&&xi(146);Si.length>0;){const Pi=Si.shift();Fi=Pi.codeblock,Fi.data===void 0&&(Fi.data=[]),Fi.data.push({data:Ue,start:ti+yi,end:ti+yi+Pi.dataLength,codingpasses:Pi.codingpasses}),yi+=Pi.dataLength}}return yi}function ui(Ve,Ue,ti,hi,yi,wi,Ci,ki,fi){const xi=hi.tbx0,li=hi.tby0,pi=hi.tbx1-hi.tbx0,ri=hi.codeblocks,oi=hi.type.charAt(0)==="H"?1:0,di=hi.type.charAt(1)==="H"?Ue:0;for(let bi=0,Ai=ri.length;bi<Ai;++bi){const Ei=ri[bi],mi=Ei.tbx1_-Ei.tbx0_,_i=Ei.tby1_-Ei.tby0_;if(mi===0||_i===0||Ei.data===void 0)continue;const Si=new si(mi,_i,Ei.subbandType,Ei.zeroBitPlanes,wi);let Fi=2;const Pi=Ei.data;let Di=0,Ii=0,Mi,$i,Xi;for(Mi=0,$i=Pi.length;Mi<$i;Mi++)Xi=Pi[Mi],Di+=Xi.end-Xi.start,Ii+=Xi.codingpasses;const rn=new Uint8Array(Di);let tn=0;for(Mi=0,$i=Pi.length;Mi<$i;Mi++){Xi=Pi[Mi];const qi=Xi.data.subarray(Xi.start,Xi.end);rn.set(qi,tn),tn+=qi.length}const on=new Fe.ArithmeticDecoder(rn,0,Di);for(Si.setDecoder(on),Mi=0;Mi<Ii;Mi++){switch(Fi){case 0:Si.runSignificancePropagationPass();break;case 1:Si.runMagnitudeRefinementPass();break;case 2:Si.runCleanupPass(),ki&&Si.checkSegmentationSymbol();break}fi&&Si.reset(),Fi=(Fi+1)%3}let fn=Ei.tbx0_-xi+(Ei.tby0_-li)*pi;const Yi=Si.coefficentsSign,Ri=Si.coefficentsMagnitude,ji=Si.bitsDecoded,Ui=Ci?0:.5;let en,nn,Sn;tn=0;const Qi=hi.type!=="LL";for(Mi=0;Mi<_i;Mi++){const Zi=2*(fn/pi|0)*(Ue-pi)+oi+di;for(en=0;en<mi;en++){if(nn=Ri[tn],nn!==0){nn=(nn+Ui)*yi,Yi[tn]!==0&&(nn=-nn),Sn=ji[tn];const an=Qi?Zi+(fn<<1):fn;Ci&&Sn>=wi?Ve[an]=nn:Ve[an]=nn*(1<<wi-Sn)}fn++,tn++}fn+=pi-mi}}}function Qe(Ve,Ue,ti){const hi=Ue.components[ti],yi=hi.codingStyleParameters,wi=hi.quantizationParameters,Ci=yi.decompositionLevelsCount,ki=wi.SPqcds,fi=wi.scalarExpounded,xi=wi.guardBits,li=yi.segmentationSymbolUsed,pi=yi.resetContextProbabilities,ri=Ve.components[ti].precision,oi=yi.reversibleTransformation,di=oi?new Ke:new $e,bi=[];let Ai=0;for(let mi=0;mi<=Ci;mi++){const _i=hi.resolutions[mi],Si=_i.trx1-_i.trx0,Fi=_i.try1-_i.try0,Pi=new Float32Array(Si*Fi);for(let Di=0,Ii=_i.subbands.length;Di<Ii;Di++){let Mi,$i;fi?(Mi=ki[Ai].mu,$i=ki[Ai].epsilon,Ai++):(Mi=ki[0].mu,$i=ki[0].epsilon+(mi>0?1-mi:0));const Xi=_i.subbands[Di],rn=e[Xi.type],tn=oi?1:2**(ri+rn-$i)*(1+Mi/2048),on=xi+$i-1;ui(Pi,Si,Fi,Xi,tn,on,oi,li,pi)}bi.push({width:Si,height:Fi,items:Pi})}const Ei=di.calculate(bi,hi.tcx0,hi.tcy0);return{left:hi.tcx0,top:hi.tcy0,width:Ei.width,height:Ei.height,items:Ei.items}}function Ze(Ve){const Ue=Ve.SIZ,ti=Ve.components,hi=Ue.Csiz,yi=[];for(let wi=0,Ci=Ve.tiles.length;wi<Ci;wi++){const ki=Ve.tiles[wi],fi=[];for(let Si=0;Si<hi;Si++)fi[Si]=Qe(Ve,ki,Si);const xi=fi[0],li=new Uint8ClampedArray(xi.items.length*hi),pi={left:xi.left,top:xi.top,width:xi.width,height:xi.height,items:li};let ri,oi,di=0,bi,Ai,Ei,mi,_i;if(ki.codingStyleDefaultParameters.multipleComponentTransform){const Si=hi===4,Fi=fi[0].items,Pi=fi[1].items,Di=fi[2].items,Ii=Si?fi[3].items:null;ri=ti[0].precision-8,oi=(128<<ri)+.5;const Mi=ki.components[0],$i=hi-3;if(Ai=Fi.length,Mi.codingStyleParameters.reversibleTransformation)for(bi=0;bi<Ai;bi++,di+=$i){Ei=Fi[bi]+oi,mi=Pi[bi],_i=Di[bi];const Xi=Ei-(_i+mi>>2);li[di++]=Xi+_i>>ri,li[di++]=Xi>>ri,li[di++]=Xi+mi>>ri}else for(bi=0;bi<Ai;bi++,di+=$i)Ei=Fi[bi]+oi,mi=Pi[bi],_i=Di[bi],li[di++]=Ei+1.402*_i>>ri,li[di++]=Ei-.34413*mi-.71414*_i>>ri,li[di++]=Ei+1.772*mi>>ri;if(Si)for(bi=0,di=3;bi<Ai;bi++,di+=4)li[di]=Ii[bi]+oi>>ri}else for(let Si=0;Si<hi;Si++){const Fi=fi[Si].items;for(ri=ti[Si].precision-8,oi=(128<<ri)+.5,di=Si,bi=0,Ai=Fi.length;bi<Ai;bi++)li[di]=Fi[bi]+oi>>ri,di+=hi}yi.push(pi)}return yi}function ci(Ve,Ue){const hi=Ve.SIZ.Csiz,yi=Ve.tiles[Ue];for(let wi=0;wi<hi;wi++){const Ci=yi.components[wi],ki=Ve.currentTile.QCC[wi]!==void 0?Ve.currentTile.QCC[wi]:Ve.currentTile.QCD;Ci.quantizationParameters=ki;const fi=Ve.currentTile.COC[wi]!==void 0?Ve.currentTile.COC[wi]:Ve.currentTile.COD;Ci.codingStyleParameters=fi}yi.codingStyleDefaultParameters=Ve.currentTile.COD}class ze{constructor(Ue,ti){const hi=(0,xe.log2)(Math.max(Ue,ti))+1;this.levels=[];for(let yi=0;yi<hi;yi++){const wi={width:Ue,height:ti,items:[]};this.levels.push(wi),Ue=Math.ceil(Ue/2),ti=Math.ceil(ti/2)}}reset(Ue,ti){let hi=0,yi=0,wi;for(;hi<this.levels.length;){wi=this.levels[hi];const Ci=Ue+ti*wi.width;if(wi.items[Ci]!==void 0){yi=wi.items[Ci];break}wi.index=Ci,Ue>>=1,ti>>=1,hi++}hi--,wi=this.levels[hi],wi.items[wi.index]=yi,this.currentLevel=hi,delete this.value}incrementValue(){const Ue=this.levels[this.currentLevel];Ue.items[Ue.index]++}nextLevel(){let Ue=this.currentLevel,ti=this.levels[Ue];const hi=ti.items[ti.index];return Ue--,Ue<0?(this.value=hi,!1):(this.currentLevel=Ue,ti=this.levels[Ue],ti.items[ti.index]=hi,!0)}}class We{constructor(Ue,ti,hi){const yi=(0,xe.log2)(Math.max(Ue,ti))+1;this.levels=[];for(let wi=0;wi<yi;wi++){const Ci=new Uint8Array(Ue*ti);for(let fi=0,xi=Ci.length;fi<xi;fi++)Ci[fi]=hi;const ki={width:Ue,height:ti,items:Ci};this.levels.push(ki),Ue=Math.ceil(Ue/2),ti=Math.ceil(ti/2)}}reset(Ue,ti,hi){let yi=0;for(;yi<this.levels.length;){const wi=this.levels[yi],Ci=Ue+ti*wi.width;wi.index=Ci;const ki=wi.items[Ci];if(ki===255)break;if(ki>hi)return this.currentLevel=yi,this.propagateValues(),!1;Ue>>=1,ti>>=1,yi++}return this.currentLevel=yi-1,!0}incrementValue(Ue){const ti=this.levels[this.currentLevel];ti.items[ti.index]=Ue+1,this.propagateValues()}propagateValues(){let Ue=this.currentLevel,ti=this.levels[Ue];const hi=ti.items[ti.index];for(;--Ue>=0;)ti=this.levels[Ue],ti.items[ti.index]=hi}nextLevel(){let Ue=this.currentLevel,ti=this.levels[Ue];const hi=ti.items[ti.index];return ti.items[ti.index]=255,Ue--,Ue<0?!1:(this.currentLevel=Ue,ti=this.levels[Ue],ti.items[ti.index]=hi,!0)}}const si=function(){const hi=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),yi=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),wi=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class Ci{constructor(fi,xi,li,pi,ri){this.width=fi,this.height=xi;let oi;li==="HH"?oi=wi:li==="HL"?oi=yi:oi=hi,this.contextLabelTable=oi;const di=fi*xi;this.neighborsSignificance=new Uint8Array(di),this.coefficentsSign=new Uint8Array(di);let bi;ri>14?bi=new Uint32Array(di):ri>6?bi=new Uint16Array(di):bi=new Uint8Array(di),this.coefficentsMagnitude=bi,this.processingFlags=new Uint8Array(di);const Ai=new Uint8Array(di);if(pi!==0)for(let Ei=0;Ei<di;Ei++)Ai[Ei]=pi;this.bitsDecoded=Ai,this.reset()}setDecoder(fi){this.decoder=fi}reset(){this.contexts=new Int8Array(19),this.contexts[0]=4<<1|0,this.contexts[17]=46<<1|0,this.contexts[18]=3<<1|0}setNeighborsSignificance(fi,xi,li){const pi=this.neighborsSignificance,ri=this.width,oi=this.height,di=xi>0,bi=xi+1<ri;let Ai;fi>0&&(Ai=li-ri,di&&(pi[Ai-1]+=16),bi&&(pi[Ai+1]+=16),pi[Ai]+=4),fi+1<oi&&(Ai=li+ri,di&&(pi[Ai-1]+=16),bi&&(pi[Ai+1]+=16),pi[Ai]+=4),di&&(pi[li-1]+=1),bi&&(pi[li+1]+=1),pi[li]|=128}runSignificancePropagationPass(){const fi=this.decoder,xi=this.width,li=this.height,pi=this.coefficentsMagnitude,ri=this.coefficentsSign,oi=this.neighborsSignificance,di=this.processingFlags,bi=this.contexts,Ai=this.contextLabelTable,Ei=this.bitsDecoded,mi=-2,_i=1,Si=2;for(let Fi=0;Fi<li;Fi+=4)for(let Pi=0;Pi<xi;Pi++){let Di=Fi*xi+Pi;for(let Ii=0;Ii<4;Ii++,Di+=xi){const Mi=Fi+Ii;if(Mi>=li)break;if(di[Di]&=mi,pi[Di]||!oi[Di])continue;const $i=Ai[oi[Di]];if(fi.readBit(bi,$i)){const rn=this.decodeSignBit(Mi,Pi,Di);ri[Di]=rn,pi[Di]=1,this.setNeighborsSignificance(Mi,Pi,Di),di[Di]|=Si}Ei[Di]++,di[Di]|=_i}}}decodeSignBit(fi,xi,li){const pi=this.width,ri=this.height,oi=this.coefficentsMagnitude,di=this.coefficentsSign;let bi,Ai,Ei,mi,_i,Si;mi=xi>0&&oi[li-1]!==0,xi+1<pi&&oi[li+1]!==0?(Ei=di[li+1],mi?(Ai=di[li-1],bi=1-Ei-Ai):bi=1-Ei-Ei):mi?(Ai=di[li-1],bi=1-Ai-Ai):bi=0;const Fi=3*bi;return mi=fi>0&&oi[li-pi]!==0,fi+1<ri&&oi[li+pi]!==0?(Ei=di[li+pi],mi?(Ai=di[li-pi],bi=1-Ei-Ai+Fi):bi=1-Ei-Ei+Fi):mi?(Ai=di[li-pi],bi=1-Ai-Ai+Fi):bi=Fi,bi>=0?(_i=9+bi,Si=this.decoder.readBit(this.contexts,_i)):(_i=9-bi,Si=this.decoder.readBit(this.contexts,_i)^1),Si}runMagnitudeRefinementPass(){const fi=this.decoder,xi=this.width,li=this.height,pi=this.coefficentsMagnitude,ri=this.neighborsSignificance,oi=this.contexts,di=this.bitsDecoded,bi=this.processingFlags,Ai=1,Ei=2,mi=xi*li,_i=xi*4;for(let Si=0,Fi;Si<mi;Si=Fi){Fi=Math.min(mi,Si+_i);for(let Pi=0;Pi<xi;Pi++)for(let Di=Si+Pi;Di<Fi;Di+=xi){if(!pi[Di]||(bi[Di]&Ai)!==0)continue;let Ii=16;(bi[Di]&Ei)!==0&&(bi[Di]^=Ei,Ii=(ri[Di]&127)===0?15:14);const Mi=fi.readBit(oi,Ii);pi[Di]=pi[Di]<<1|Mi,di[Di]++,bi[Di]|=Ai}}}runCleanupPass(){const fi=this.decoder,xi=this.width,li=this.height,pi=this.neighborsSignificance,ri=this.coefficentsMagnitude,oi=this.coefficentsSign,di=this.contexts,bi=this.contextLabelTable,Ai=this.bitsDecoded,Ei=this.processingFlags,mi=1,_i=2,Si=xi,Fi=xi*2,Pi=xi*3;let Di;for(let Ii=0;Ii<li;Ii=Di){Di=Math.min(Ii+4,li);const Mi=Ii*xi,$i=Ii+3<li;for(let Xi=0;Xi<xi;Xi++){const rn=Mi+Xi,tn=$i&&Ei[rn]===0&&Ei[rn+Si]===0&&Ei[rn+Fi]===0&&Ei[rn+Pi]===0&&pi[rn]===0&&pi[rn+Si]===0&&pi[rn+Fi]===0&&pi[rn+Pi]===0;let on=0,fn=rn,Yi=Ii,Ri;if(tn){if(!fi.readBit(di,18)){Ai[rn]++,Ai[rn+Si]++,Ai[rn+Fi]++,Ai[rn+Pi]++;continue}on=fi.readBit(di,17)<<1|fi.readBit(di,17),on!==0&&(Yi=Ii+on,fn+=on*xi),Ri=this.decodeSignBit(Yi,Xi,fn),oi[fn]=Ri,ri[fn]=1,this.setNeighborsSignificance(Yi,Xi,fn),Ei[fn]|=_i,fn=rn;for(let Ui=Ii;Ui<=Yi;Ui++,fn+=xi)Ai[fn]++;on++}for(Yi=Ii+on;Yi<Di;Yi++,fn+=xi){if(ri[fn]||(Ei[fn]&mi)!==0)continue;const ji=bi[pi[fn]];fi.readBit(di,ji)===1&&(Ri=this.decodeSignBit(Yi,Xi,fn),oi[fn]=Ri,ri[fn]=1,this.setNeighborsSignificance(Yi,Xi,fn),Ei[fn]|=_i),Ai[fn]++}}}}checkSegmentationSymbol(){const fi=this.decoder,xi=this.contexts;if((fi.readBit(xi,17)<<3|fi.readBit(xi,17)<<2|fi.readBit(xi,17)<<1|fi.readBit(xi,17))!==10)throw new Te("Invalid segmentation symbol")}}return Ci}();class ni{constructor(){this.constructor===ni&&(0,t.unreachable)("Cannot initialize Transform.")}calculate(Ue,ti,hi){let yi=Ue[0];for(let wi=1,Ci=Ue.length;wi<Ci;wi++)yi=this.iterate(yi,Ue[wi],ti,hi);return yi}extend(Ue,ti,hi){let yi=ti-1,wi=ti+1,Ci=ti+hi-2,ki=ti+hi;Ue[yi--]=Ue[wi++],Ue[ki++]=Ue[Ci--],Ue[yi--]=Ue[wi++],Ue[ki++]=Ue[Ci--],Ue[yi--]=Ue[wi++],Ue[ki++]=Ue[Ci--],Ue[yi]=Ue[wi],Ue[ki]=Ue[Ci]}filter(Ue,ti,hi){(0,t.unreachable)("Abstract method `filter` called")}iterate(Ue,ti,hi,yi){const wi=Ue.width,Ci=Ue.height;let ki=Ue.items;const fi=ti.width,xi=ti.height,li=ti.items;let pi,ri,oi,di,bi,Ai;for(oi=0,pi=0;pi<Ci;pi++)for(di=pi*2*fi,ri=0;ri<wi;ri++,oi++,di+=2)li[di]=ki[oi];ki=Ue.items=null;const Ei=4,mi=new Float32Array(fi+2*Ei);if(fi===1){if((hi&1)!==0)for(Ai=0,oi=0;Ai<xi;Ai++,oi+=fi)li[oi]*=.5}else for(Ai=0,oi=0;Ai<xi;Ai++,oi+=fi)mi.set(li.subarray(oi,oi+fi),Ei),this.extend(mi,Ei,fi),this.filter(mi,Ei,fi),li.set(mi.subarray(Ei,Ei+fi),oi);let _i=16;const Si=[];for(pi=0;pi<_i;pi++)Si.push(new Float32Array(xi+2*Ei));let Fi,Pi=0;if(Ue=Ei+xi,xi===1){if((yi&1)!==0)for(bi=0;bi<fi;bi++)li[bi]*=.5}else for(bi=0;bi<fi;bi++){if(Pi===0){for(_i=Math.min(fi-bi,_i),oi=bi,di=Ei;di<Ue;oi+=fi,di++)for(Fi=0;Fi<_i;Fi++)Si[Fi][di]=li[oi+Fi];Pi=_i}Pi--;const Di=Si[Pi];if(this.extend(Di,Ei,xi),this.filter(Di,Ei,xi),Pi===0)for(oi=bi-_i+1,di=Ei;di<Ue;oi+=fi,di++)for(Fi=0;Fi<_i;Fi++)li[oi+Fi]=Si[Fi][di]}return{width:fi,height:xi,items:li}}}class $e extends ni{filter(Ue,ti,hi){const yi=hi>>1;ti|=0;let wi,Ci,ki,fi;const xi=-1.586134342059924,li=-.052980118572961,pi=.882911075530934,ri=.443506852043971,oi=1.230174104914001,di=1/oi;for(wi=ti-3,Ci=yi+4;Ci--;wi+=2)Ue[wi]*=di;for(wi=ti-2,ki=ri*Ue[wi-1],Ci=yi+3;Ci--&&(fi=ri*Ue[wi+1],Ue[wi]=oi*Ue[wi]-ki-fi,Ci--);wi+=2)wi+=2,ki=ri*Ue[wi+1],Ue[wi]=oi*Ue[wi]-ki-fi;for(wi=ti-1,ki=pi*Ue[wi-1],Ci=yi+2;Ci--&&(fi=pi*Ue[wi+1],Ue[wi]-=ki+fi,Ci--);wi+=2)wi+=2,ki=pi*Ue[wi+1],Ue[wi]-=ki+fi;for(wi=ti,ki=li*Ue[wi-1],Ci=yi+1;Ci--&&(fi=li*Ue[wi+1],Ue[wi]-=ki+fi,Ci--);wi+=2)wi+=2,ki=li*Ue[wi+1],Ue[wi]-=ki+fi;if(yi!==0)for(wi=ti+1,ki=xi*Ue[wi-1],Ci=yi;Ci--&&(fi=xi*Ue[wi+1],Ue[wi]-=ki+fi,Ci--);wi+=2)wi+=2,ki=xi*Ue[wi+1],Ue[wi]-=ki+fi}}class Ke extends ni{filter(Ue,ti,hi){const yi=hi>>1;ti|=0;let wi,Ci;for(wi=ti,Ci=yi+1;Ci--;wi+=2)Ue[wi]-=Ue[wi-1]+Ue[wi+1]+2>>2;for(wi=ti+1,Ci=yi;Ci--;wi+=2)Ue[wi]+=Ue[wi-1]+Ue[wi+1]>>1}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.LZWStream=void 0;var t=_e(17);class xe extends t.DecodeStream{constructor(Te,e,ke){super(e),this.str=Te,this.dict=Te.dict,this.cachedData=0,this.bitsCached=0;const Oe=4096,Ee={earlyChange:ke,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Oe),dictionaryLengths:new Uint16Array(Oe),dictionaryPrevCodes:new Uint16Array(Oe),currentSequence:new Uint8Array(Oe),currentSequenceLength:0};for(let Pe=0;Pe<256;++Pe)Ee.dictionaryValues[Pe]=Pe,Ee.dictionaryLengths[Pe]=1;this.lzwState=Ee}readBits(Te){let e=this.bitsCached,ke=this.cachedData;for(;e<Te;){const Oe=this.str.getByte();if(Oe===-1)return this.eof=!0,null;ke=ke<<8|Oe,e+=8}return this.bitsCached=e-=Te,this.cachedData=ke,this.lastCode=null,ke>>>e&(1<<Te)-1}readBlock(){let ke=1024,Oe,Ee,Pe;const De=this.lzwState;if(!De)return;const Me=De.earlyChange;let Ae=De.nextCode;const Be=De.dictionaryValues,He=De.dictionaryLengths,je=De.dictionaryPrevCodes;let Xe=De.codeLength,St=De.prevCode;const qe=De.currentSequence;let Ye=De.currentSequenceLength,gi=0,ai=this.bufferLength,ui=this.ensureBuffer(this.bufferLength+ke);for(Oe=0;Oe<512;Oe++){const Qe=this.readBits(Xe),Ze=Ye>0;if(Qe<256)qe[0]=Qe,Ye=1;else if(Qe>=258)if(Qe<Ae)for(Ye=He[Qe],Ee=Ye-1,Pe=Qe;Ee>=0;Ee--)qe[Ee]=Be[Pe],Pe=je[Pe];else qe[Ye++]=qe[0];else if(Qe===256){Xe=9,Ae=258,Ye=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Ze&&(je[Ae]=St,He[Ae]=He[St]+1,Be[Ae]=qe[0],Ae++,Xe=Ae+Me&Ae+Me-1?Xe:Math.min(Math.log(Ae+Me)/.6931471805599453+1,12)|0),St=Qe,gi+=Ye,ke<gi){do ke+=512;while(ke<gi);ui=this.ensureBuffer(this.bufferLength+ke)}for(Ee=0;Ee<Ye;Ee++)ui[ai++]=qe[Ee]}De.nextCode=Ae,De.codeLength=Xe,De.prevCode=St,De.currentSequenceLength=Ye,this.bufferLength=ai}}Se.LZWStream=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PredictorStream=void 0;var t=_e(17),xe=_e(3),Fe=_e(2);class Te extends t.DecodeStream{constructor(ke,Oe,Ee){if(super(Oe),!(Ee instanceof xe.Dict))return ke;const Pe=this.predictor=Ee.get("Predictor")||1;if(Pe<=1)return ke;if(Pe!==2&&(Pe<10||Pe>15))throw new Fe.FormatError(`Unsupported predictor: ${Pe}`);Pe===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=ke,this.dict=ke.dict;const De=this.colors=Ee.get("Colors")||1,Me=this.bits=Ee.get("BPC","BitsPerComponent")||8,Ae=this.columns=Ee.get("Columns")||1;return this.pixBytes=De*Me+7>>3,this.rowBytes=Ae*De*Me+7>>3,this}readBlockTiff(){const ke=this.rowBytes,Oe=this.bufferLength,Ee=this.ensureBuffer(Oe+ke),Pe=this.bits,De=this.colors,Me=this.str.getBytes(ke);if(this.eof=!Me.length,this.eof)return;let Ae=0,Be=0,He=0,je=0,Xe=Oe,St;if(Pe===1&&De===1)for(St=0;St<ke;++St){let qe=Me[St]^Ae;qe^=qe>>1,qe^=qe>>2,qe^=qe>>4,Ae=(qe&1)<<7,Ee[Xe++]=qe}else if(Pe===8){for(St=0;St<De;++St)Ee[Xe++]=Me[St];for(;St<ke;++St)Ee[Xe]=Ee[Xe-De]+Me[St],Xe++}else if(Pe===16){const qe=De*2;for(St=0;St<qe;++St)Ee[Xe++]=Me[St];for(;St<ke;St+=2){const Ye=((Me[St]&255)<<8)+(Me[St+1]&255)+((Ee[Xe-qe]&255)<<8)+(Ee[Xe-qe+1]&255);Ee[Xe++]=Ye>>8&255,Ee[Xe++]=Ye&255}}else{const qe=new Uint8Array(De+1),Ye=(1<<Pe)-1;let gi=0,ai=Oe;const ui=this.columns;for(St=0;St<ui;++St)for(let Qe=0;Qe<De;++Qe)He<Pe&&(Ae=Ae<<8|Me[gi++]&255,He+=8),qe[Qe]=qe[Qe]+(Ae>>He-Pe)&Ye,He-=Pe,Be=Be<<Pe|qe[Qe],je+=Pe,je>=8&&(Ee[ai++]=Be>>je-8&255,je-=8);je>0&&(Ee[ai++]=(Be<<8-je)+(Ae&(1<<8-je)-1))}this.bufferLength+=ke}readBlockPng(){const ke=this.rowBytes,Oe=this.pixBytes,Ee=this.str.getByte(),Pe=this.str.getBytes(ke);if(this.eof=!Pe.length,this.eof)return;const De=this.bufferLength,Me=this.ensureBuffer(De+ke);let Ae=Me.subarray(De-ke,De);Ae.length===0&&(Ae=new Uint8Array(ke));let Be,He=De,je,Xe;switch(Ee){case 0:for(Be=0;Be<ke;++Be)Me[He++]=Pe[Be];break;case 1:for(Be=0;Be<Oe;++Be)Me[He++]=Pe[Be];for(;Be<ke;++Be)Me[He]=Me[He-Oe]+Pe[Be]&255,He++;break;case 2:for(Be=0;Be<ke;++Be)Me[He++]=Ae[Be]+Pe[Be]&255;break;case 3:for(Be=0;Be<Oe;++Be)Me[He++]=(Ae[Be]>>1)+Pe[Be];for(;Be<ke;++Be)Me[He]=(Ae[Be]+Me[He-Oe]>>1)+Pe[Be]&255,He++;break;case 4:for(Be=0;Be<Oe;++Be)je=Ae[Be],Xe=Pe[Be],Me[He++]=je+Xe;for(;Be<ke;++Be){je=Ae[Be];const St=Ae[Be-Oe],qe=Me[He-Oe],Ye=qe+je-St;let gi=Ye-qe;gi<0&&(gi=-gi);let ai=Ye-je;ai<0&&(ai=-ai);let ui=Ye-St;ui<0&&(ui=-ui),Xe=Pe[Be],gi<=ai&&gi<=ui?Me[He++]=qe+Xe:ai<=ui?Me[He++]=je+Xe:Me[He++]=St+Xe}break;default:throw new Fe.FormatError(`Unsupported predictor: ${Ee}`)}this.bufferLength+=ke}}Se.PredictorStream=Te},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.RunLengthStream=void 0;var t=_e(17);class xe extends t.DecodeStream{constructor(Te,e){super(e),this.str=Te,this.dict=Te.dict}readBlock(){const Te=this.str.getBytes(2);if(!Te||Te.length<2||Te[0]===128){this.eof=!0;return}let e,ke=this.bufferLength,Oe=Te[0];if(Oe<128){if(e=this.ensureBuffer(ke+Oe+1),e[ke++]=Te[1],Oe>0){const Ee=this.str.getBytes(Oe);e.set(Ee,ke),ke+=Oe}}else{Oe=257-Oe;const Ee=Te[1];e=this.ensureBuffer(ke+Oe+1);for(let Pe=0;Pe<Oe;Pe++)e[ke++]=Ee}this.bufferLength=ke}}Se.RunLengthStream=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Font=Se.ErrorFont=void 0;var t=_e(2),xe=_e(33),Fe=_e(36),Te=_e(38),e=_e(37),ke=_e(35),Oe=_e(39),Ee=_e(40),Pe=_e(41),De=_e(42),Me=_e(43),Ae=_e(44),Be=_e(14),He=_e(45),je=_e(4),Xe=_e(8),St=_e(46);const qe=[[57344,63743],[1048576,1114109]],Ye=1e3,gi=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],ai=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function ui(_i){if(!_i.fontMatrix||_i.fontMatrix[0]===t.FONT_IDENTITY_MATRIX[0])return;const Si=.001/_i.fontMatrix[0],Fi=_i.widths;for(const Pi in Fi)Fi[Pi]*=Si;_i.defaultWidth*=Si}function Qe(_i,Si){if(_i.isInternalFont||_i.hasIncludedToUnicodeMap||Si===_i.defaultEncoding||_i.toUnicode instanceof Ee.IdentityToUnicodeMap)return;const Fi=[],Pi=(0,e.getGlyphsUnicode)();for(const Di in Si){if(_i.hasEncoding&&(_i.differences.length===0||_i.differences[Di]!==void 0))continue;const Ii=Si[Di],Mi=(0,Te.getUnicodeForGlyph)(Ii,Pi);Mi!==-1&&(Fi[Di]=String.fromCharCode(Mi))}Fi.length>0&&_i.toUnicode.amend(Fi)}function Ze(_i){if(!_i.fallbackToUnicode||_i.toUnicode instanceof Ee.IdentityToUnicodeMap)return;const Si=[];for(const Fi in _i.fallbackToUnicode)_i.toUnicode.has(Fi)||(Si[Fi]=_i.fallbackToUnicode[Fi]);Si.length>0&&_i.toUnicode.amend(Si)}class ci{constructor(Si,Fi,Pi,Di,Ii,Mi,$i,Xi,rn){this.originalCharCode=Si,this.fontChar=Fi,this.unicode=Pi,this.accent=Di,this.width=Ii,this.vmetric=Mi,this.operatorListId=$i,this.isSpace=Xi,this.isInFont=rn;const tn=(0,Te.getCharUnicodeCategory)(Pi);this.isWhitespace=tn.isWhitespace,this.isZeroWidthDiacritic=tn.isZeroWidthDiacritic,this.isInvisibleFormatMark=tn.isInvisibleFormatMark}}function ze(_i,Si){return(_i<<8)+Si}function We(_i,Si,Fi){_i[Si+1]=Fi,_i[Si]=Fi>>>8}function si(_i,Si){const Fi=(_i<<8)+Si;return Fi&32768?Fi-65536:Fi}function ni(_i,Si,Fi,Pi){return(_i<<24)+(Si<<16)+(Fi<<8)+Pi}function $e(_i){return String.fromCharCode(_i>>8&255,_i&255)}function Ke(_i){return _i>32767?_i=32767:_i<-32768&&(_i=-32768),String.fromCharCode(_i>>8&255,_i&255)}function Ve(_i){const Si=_i.peekBytes(4);return(0,je.readUint32)(Si,0)===65536||(0,t.bytesToString)(Si)==="true"}function Ue(_i){const Si=_i.peekBytes(4);return(0,t.bytesToString)(Si)==="ttcf"}function ti(_i){const Si=_i.peekBytes(4);return(0,t.bytesToString)(Si)==="OTTO"}function hi(_i){const Si=_i.peekBytes(2);return Si[0]===37&&Si[1]===33||Si[0]===128&&Si[1]===1}function yi(_i){const Si=_i.peekBytes(4);return Si[0]>=1&&Si[3]>=1&&Si[3]<=4}function wi(_i,{type:Si,subtype:Fi,composite:Pi}){let Di,Ii;return Ve(_i)||Ue(_i)?Pi?Di="CIDFontType2":Di="TrueType":ti(_i)?Pi?Di="CIDFontType2":Di="OpenType":hi(_i)?Pi?Di="CIDFontType0":Di=Si==="MMType1"?"MMType1":"Type1":yi(_i)?Pi?(Di="CIDFontType0",Ii="CIDFontType0C"):(Di=Si==="MMType1"?"MMType1":"Type1",Ii="Type1C"):((0,t.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Di=Si,Ii=Fi),[Di,Ii]}function Ci(_i,Si){for(const Fi in Si)_i[+Fi]=Si[Fi]}function ki(_i,Si,Fi){const Pi=[];let Di;for(let Ii=0,Mi=_i.length;Ii<Mi;Ii++)Di=(0,Te.getUnicodeForGlyph)(_i[Ii],Si),Di!==-1&&(Pi[Ii]=Di);for(const Ii in Fi)Di=(0,Te.getUnicodeForGlyph)(Fi[Ii],Si),Di!==-1&&(Pi[+Ii]=Di);return Pi}function fi(_i,Si,Fi=!1){switch(Si.length){case 1:return Si.charCodeAt(0);case 2:return Si.charCodeAt(0)<<8|Si.charCodeAt(1)}const Pi=`Unsupported CID string (charCode ${_i}): "${Si}".`;if(Fi)throw new t.FormatError(Pi);return(0,t.warn)(Pi),Si}function xi(_i,Si,Fi,Pi){const Di=Object.create(null),Ii=new Map,Mi=[],$i=new Set;let Xi=0;const rn=qe[Xi][0];let tn=rn,on=qe[Xi][1];for(let fn in _i){fn|=0;let Yi=_i[fn];if(!Si(Yi))continue;if(tn>on){if(Xi++,Xi>=qe.length){(0,t.warn)("Ran out of space in font private use area.");break}tn=qe[Xi][0],on=qe[Xi][1]}const Ri=tn++;Yi===0&&(Yi=Fi);let ji=Pi.get(fn);typeof ji=="string"&&(ji=ji.codePointAt(0)),ji&&ji<rn&&!$i.has(Yi)&&(Ii.set(ji,Yi),$i.add(Yi)),Di[Ri]=Yi,Mi[fn]=Ri}return{toFontChar:Mi,charCodeToGlyphId:Di,toUnicodeExtraMap:Ii,nextAvailableFontCharCode:tn}}function li(_i,Si,Fi){const Pi=[];for(const Mi in _i)_i[Mi]>=Fi||Pi.push({fontCharCode:Mi|0,glyphId:_i[Mi]});if(Si)for(const[Mi,$i]of Si)$i>=Fi||Pi.push({fontCharCode:Mi,glyphId:$i});Pi.length===0&&Pi.push({fontCharCode:0,glyphId:0}),Pi.sort(function($i,Xi){return $i.fontCharCode-Xi.fontCharCode});const Di=[],Ii=Pi.length;for(let Mi=0;Mi<Ii;){const $i=Pi[Mi].fontCharCode,Xi=[Pi[Mi].glyphId];++Mi;let rn=$i;for(;Mi<Ii&&rn+1===Pi[Mi].fontCharCode&&(Xi.push(Pi[Mi].glyphId),++rn,++Mi,rn!==65535););Di.push([$i,rn,Xi])}return Di}function pi(_i,Si,Fi){const Pi=li(_i,Si,Fi),Di=Pi.at(-1)[1]>65535?2:1;let Ii="\0\0"+$e(Di)+"\0\0"+(0,t.string32)(4+Di*8),Mi,$i,Xi,rn;for(Mi=Pi.length-1;Mi>=0&&!(Pi[Mi][0]<=65535);--Mi);const tn=Mi+1;Pi[Mi][0]<65535&&Pi[Mi][1]===65535&&(Pi[Mi][1]=65534);const on=Pi[Mi][1]<65535?1:0,fn=tn+on,Yi=He.OpenTypeFileBuilder.getSearchParams(fn,2);let Ri="",ji="",Ui="",en="",nn="",Sn=0,Qi,qi,Zi,an;for(Mi=0,$i=tn;Mi<$i;Mi++){Qi=Pi[Mi],qi=Qi[0],Zi=Qi[1],Ri+=$e(qi),ji+=$e(Zi),an=Qi[2];let Fn=!0;for(Xi=1,rn=an.length;Xi<rn;++Xi)if(an[Xi]!==an[Xi-1]+1){Fn=!1;break}if(Fn){const Xn=an[0];Ui+=$e(Xn-qi&65535),en+=$e(0)}else{const Xn=(fn-Mi)*2+Sn*2;for(Sn+=Zi-qi+1,Ui+=$e(0),en+=$e(Xn),Xi=0,rn=an.length;Xi<rn;++Xi)nn+=$e(an[Xi])}}on>0&&(ji+="\xFF\xFF",Ri+="\xFF\xFF",Ui+="\0",en+="\0\0");const Nn="\0\0"+$e(2*fn)+$e(Yi.range)+$e(Yi.entry)+$e(Yi.rangeShift)+ji+"\0\0"+Ri+Ui+en+nn;let Dn="",hn="";if(Di>1){for(Ii+=`\0\0
`+(0,t.string32)(4+Di*8+4+Nn.length),Dn="",Mi=0,$i=Pi.length;Mi<$i;Mi++){Qi=Pi[Mi],qi=Qi[0],an=Qi[2];let Fn=an[0];for(Xi=1,rn=an.length;Xi<rn;++Xi)an[Xi]!==an[Xi-1]+1&&(Zi=Qi[0]+Xi-1,Dn+=(0,t.string32)(qi)+(0,t.string32)(Zi)+(0,t.string32)(Fn),qi=Zi+1,Fn=an[Xi]);Dn+=(0,t.string32)(qi)+(0,t.string32)(Qi[1])+(0,t.string32)(Fn)}hn="\0\f\0\0"+(0,t.string32)(Dn.length+16)+"\0\0\0\0"+(0,t.string32)(Dn.length/12)}return Ii+"\0"+$e(Nn.length+4)+Nn+hn+Dn}function ri(_i,Si){Si.pos=(Si.start||0)+_i.offset;const Fi=Si.getUint16();Si.skip(60);const Pi=Si.getUint16();if(Fi<4&&Pi&768)return!1;const Di=Si.getUint16(),Ii=Si.getUint16();return Di>Ii||(Si.skip(6),Si.getUint16()===0)?!1:(_i.data[8]=_i.data[9]=0,!0)}function oi(_i,Si,Fi){Fi=Fi||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let Pi=0,Di=0,Ii=0,Mi=0,$i=null,Xi=0;if(Si){for(let Ui in Si){Ui|=0,($i>Ui||!$i)&&($i=Ui),Xi<Ui&&(Xi=Ui);const en=(0,Te.getUnicodeRangeFor)(Ui);if(en<32)Pi|=1<<en;else if(en<64)Di|=1<<en-32;else if(en<96)Ii|=1<<en-64;else if(en<123)Mi|=1<<en-96;else throw new t.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}Xi>65535&&(Xi=65535)}else $i=0,Xi=255;const rn=_i.bbox||[0,0,0,0],tn=Fi.unitsPerEm||1/(_i.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],on=_i.ascentScaled?1:tn/Ye,fn=Fi.ascent||Math.round(on*(_i.ascent||rn[3]));let Yi=Fi.descent||Math.round(on*(_i.descent||rn[1]));Yi>0&&_i.descent>0&&rn[1]<0&&(Yi=-Yi);const Ri=Fi.yMax||fn,ji=-Fi.yMin||-Yi;return"\0$\xF4\0\0\0\x8A\xBB\0\0\0\x8C\x8A\xBB\0\0\xDF\x001\0\0\0\0"+String.fromCharCode(_i.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,t.string32)(Pi)+(0,t.string32)(Di)+(0,t.string32)(Ii)+(0,t.string32)(Mi)+"*21*"+$e(_i.italicAngle?1:0)+$e($i||_i.firstChar)+$e(Xi||_i.lastChar)+$e(fn)+$e(Yi)+"\0d"+$e(Ri)+$e(ji)+"\0\0\0\0\0\0\0\0"+$e(_i.xHeight)+$e(_i.capHeight)+$e(0)+$e($i||_i.firstChar)+"\0"}function di(_i){const Si=Math.floor(_i.italicAngle*65536);return"\0\0\0"+(0,t.string32)(Si)+"\0\0\0\0"+(0,t.string32)(_i.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function bi(_i){return _i.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Ai(_i,Si){Si||(Si=[[],[]]);const Fi=[Si[0][0]||"Original licence",Si[0][1]||_i,Si[0][2]||"Unknown",Si[0][3]||"uniqueID",Si[0][4]||_i,Si[0][5]||"Version 0.11",Si[0][6]||bi(_i),Si[0][7]||"Unknown",Si[0][8]||"Unknown",Si[0][9]||"Unknown"],Pi=[];let Di,Ii,Mi,$i,Xi;for(Di=0,Ii=Fi.length;Di<Ii;Di++){Xi=Si[1][Di]||Fi[Di];const Ui=[];for(Mi=0,$i=Xi.length;Mi<$i;Mi++)Ui.push($e(Xi.charCodeAt(Mi)));Pi.push(Ui.join(""))}const rn=[Fi,Pi],tn=["\0","\0"],on=["\0\0","\0"],fn=["\0\0","	"],Yi=Fi.length*tn.length;let Ri="\0\0"+$e(Yi)+$e(Yi*12+6),ji=0;for(Di=0,Ii=tn.length;Di<Ii;Di++){const Ui=rn[Di];for(Mi=0,$i=Ui.length;Mi<$i;Mi++){Xi=Ui[Mi];const en=tn[Di]+on[Di]+fn[Di]+$e(Mi)+$e(Xi.length)+$e(ji);Ri+=en,ji+=Xi.length}}return Ri+=Fi.join("")+Pi.join(""),Ri}class Ei{constructor(Si,Fi,Pi){this.name=Si,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Pi.loadedName,this.isType3Font=Pi.isType3Font,this.missingFile=!1,this.cssFontInfo=Pi.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Di=!!(Pi.flags&Fe.FontFlags.Serif);if(!Di&&!Pi.isSimulatedFlags){const rn=Si.replace(/[,_]/g,"-").split("-")[0],tn=(0,Oe.getSerifFonts)();for(const on of rn.split("+"))if(tn[on]){Di=!0;break}}this.isSerifFont=Di,this.isSymbolicFont=!!(Pi.flags&Fe.FontFlags.Symbolic),this.isMonospace=!!(Pi.flags&Fe.FontFlags.FixedPitch);let Ii=Pi.type,Mi=Pi.subtype;this.type=Ii,this.subtype=Mi;let $i="sans-serif";if(this.isMonospace?$i="monospace":this.isSerifFont&&($i="serif"),this.fallbackName=$i,this.differences=Pi.differences,this.widths=Pi.widths,this.defaultWidth=Pi.defaultWidth,this.composite=Pi.composite,this.cMap=Pi.cMap,this.capHeight=Pi.capHeight/Ye,this.ascent=Pi.ascent/Ye,this.descent=Pi.descent/Ye,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Pi.fontMatrix,this.bbox=Pi.bbox,this.defaultEncoding=Pi.defaultEncoding,this.toUnicode=Pi.toUnicode,this.toFontChar=[],Pi.type==="Type3"){for(let rn=0;rn<256;rn++)this.toFontChar[rn]=this.differences[rn]||Pi.defaultEncoding[rn];this.fontType=t.FontType.TYPE3;return}if(this.cidEncoding=Pi.cidEncoding||"",this.vertical=!!Pi.vertical,this.vertical&&(this.vmetrics=Pi.vmetrics,this.defaultVMetrics=Pi.defaultVMetrics),!Fi||Fi.isEmpty){Fi&&(0,t.warn)('Font file is empty in "'+Si+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Pi);return}[Ii,Mi]=wi(Fi,Pi),(Ii!==this.type||Mi!==this.subtype)&&(0,t.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Ii}/${Mi}.`);let Xi;try{switch(Ii){case"MMType1":(0,t.info)("MMType1 font ("+Si+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const rn=Mi==="Type1C"||Mi==="CIDFontType0C"?new Pe.CFFFont(Fi,Pi):new St.Type1Font(Si,Fi,Pi);ui(Pi),Xi=this.convert(Si,rn,Pi);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Xi=this.checkAndRepair(Si,Fi,Pi),this.isOpenType&&(ui(Pi),Ii="OpenType");break;default:throw new t.FormatError(`Font ${Ii} is not supported`)}}catch(rn){(0,t.warn)(rn),this.fallbackToSystemFont(Pi);return}Ze(Pi),this.data=Xi,this.fontType=(0,Fe.getFontType)(Ii,Mi,Pi.isStandardFont),this.fontMatrix=Pi.fontMatrix,this.widths=Pi.widths,this.defaultWidth=Pi.defaultWidth,this.toUnicode=Pi.toUnicode,this.seacMap=Pi.seacMap}get renderer(){const Si=De.FontRendererFactory.create(this,Fe.SEAC_ANALYSIS_ENABLED);return(0,t.shadow)(this,"renderer",Si)}exportData(Si=!1){const Fi=Si?[...gi,...ai]:gi,Pi=Object.create(null);let Di,Ii;for(Di of Fi)Ii=this[Di],Ii!==void 0&&(Pi[Di]=Ii);return Pi}fallbackToSystemFont(Si){this.missingFile=!0;const Fi=this.name,Pi=this.type,Di=this.subtype;let Ii=(0,Fe.normalizeFontName)(Fi);const Mi=(0,Oe.getStdFontMap)(),$i=(0,Oe.getNonStdFontMap)(),Xi=!!Mi[Ii],rn=!!($i[Ii]&&Mi[$i[Ii]]);Ii=Mi[Ii]||$i[Ii]||Ii;const on=(0,Me.getFontBasicMetrics)()[Ii];on&&(isNaN(this.ascent)&&(this.ascent=on.ascent/Ye),isNaN(this.descent)&&(this.descent=on.descent/Ye),isNaN(this.capHeight)&&(this.capHeight=on.capHeight/Ye)),this.bold=/bold/gi.test(Ii),this.italic=/oblique|italic/gi.test(Ii),this.black=/Black/g.test(Fi);const fn=/Narrow/g.test(Fi);if(this.remeasure=(!Xi||fn)&&Object.keys(this.widths).length>0,(Xi||rn)&&Pi==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Yi=Si.cidToGidMap,Ri=[];if(Ci(Ri,(0,Oe.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Fi)?Ci(Ri,(0,Oe.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Fi)&&Ci(Ri,(0,Oe.getSupplementalGlyphMapForCalibri)()),Yi){for(const ji in Ri){const Ui=Ri[ji];Yi[Ui]!==void 0&&(Ri[+ji]=Yi[Ui])}Yi.length!==this.toUnicode.length&&Si.hasIncludedToUnicodeMap&&this.toUnicode instanceof Ee.IdentityToUnicodeMap&&this.toUnicode.forEach(function(ji,Ui){const en=Ri[ji];Yi[en]===void 0&&(Ri[+ji]=Ui)})}this.toUnicode instanceof Ee.IdentityToUnicodeMap||this.toUnicode.forEach(function(ji,Ui){Ri[+ji]=Ui}),this.toFontChar=Ri,this.toUnicode=new Ee.ToUnicodeMap(Ri)}else if(/Symbol/i.test(Ii))this.toFontChar=ki(ke.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Ii))/Wingdings/i.test(Fi)&&(0,t.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=ki(ke.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(Xi){const Yi=ki(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);Pi==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof Ee.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Ri,ji){Yi[+Ri]=ji}),this.toFontChar=Yi}else{const Yi=(0,e.getGlyphsUnicode)(),Ri=[];this.toUnicode.forEach((ji,Ui)=>{if(!this.composite){const en=this.differences[ji]||this.defaultEncoding[ji],nn=(0,Te.getUnicodeForGlyph)(en,Yi);nn!==-1&&(Ui=nn)}Ri[+ji]=Ui}),this.composite&&this.toUnicode instanceof Ee.IdentityToUnicodeMap&&/Verdana/i.test(Fi)&&Ci(Ri,(0,Oe.getGlyphMapForStandardFonts)()),this.toFontChar=Ri}Ze(Si),this.loadedName=Ii.split("-")[0],this.fontType=(0,Fe.getFontType)(Pi,Di,Si.isStandardFont)}checkAndRepair(Si,Fi,Pi){const Di=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Ii(An,kn){const Ln=Object.create(null);Ln["OS/2"]=null,Ln.cmap=null,Ln.head=null,Ln.hhea=null,Ln.hmtx=null,Ln.maxp=null,Ln.name=null,Ln.post=null;for(let jn=0;jn<kn;jn++){const Gn=Mi(An);!Di.includes(Gn.tag)||Gn.length!==0&&(Ln[Gn.tag]=Gn)}return Ln}function Mi(An){const kn=An.getString(4),Ln=An.getInt32()>>>0,jn=An.getInt32()>>>0,Gn=An.getInt32()>>>0,sr=An.pos;An.pos=An.start||0,An.skip(jn);const ir=An.getBytes(Gn);return An.pos=sr,kn==="head"&&(ir[8]=ir[9]=ir[10]=ir[11]=0,ir[17]|=32),{tag:kn,checksum:Ln,length:Gn,offset:jn,data:ir}}function $i(An){return{version:An.getString(4),numTables:An.getUint16(),searchRange:An.getUint16(),entrySelector:An.getUint16(),rangeShift:An.getUint16()}}function Xi(An){const kn=An.getString(4);(0,t.assert)(kn==="ttcf","Must be a TrueType Collection font.");const Ln=An.getUint16(),jn=An.getUint16(),Gn=An.getInt32()>>>0,sr=[];for(let Bn=0;Bn<Gn;Bn++)sr.push(An.getInt32()>>>0);const ir={ttcTag:kn,majorVersion:Ln,minorVersion:jn,numFonts:Gn,offsetTable:sr};switch(Ln){case 1:return ir;case 2:return ir.dsigTag=An.getInt32()>>>0,ir.dsigLength=An.getInt32()>>>0,ir.dsigOffset=An.getInt32()>>>0,ir}throw new t.FormatError(`Invalid TrueType Collection majorVersion: ${Ln}.`)}function rn(An,kn){const{numFonts:Ln,offsetTable:jn}=Xi(An),Gn=kn.split("+");let sr;for(let ir=0;ir<Ln;ir++){An.pos=(An.start||0)+jn[ir];const Bn=$i(An),gr=Ii(An,Bn.numTables);if(!gr.name)throw new t.FormatError('TrueType Collection font must contain a "name" table.');const rr=Ui(gr.name);for(let pr=0,xr=rr.length;pr<xr;pr++)for(let mr=0,un=rr[pr].length;mr<un;mr++){const bn=rr[pr][mr]&&rr[pr][mr].replace(/\s/g,"");if(!!bn){if(bn===kn)return{header:Bn,tables:gr};if(!(Gn.length<2))for(const Pn of Gn)bn===Pn&&(sr={name:Pn,header:Bn,tables:gr})}}}if(sr)return(0,t.warn)(`TrueType Collection does not contain "${kn}" font, falling back to "${sr.name}" font instead.`),{header:sr.header,tables:sr.tables};throw new t.FormatError(`TrueType Collection does not contain "${kn}" font.`)}function tn(An,kn,Ln,jn){if(!An)return(0,t.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Gn,sr=(kn.start||0)+An.offset;kn.pos=sr,kn.skip(2);const ir=kn.getUint16();let Bn,gr=!1;for(let bn=0;bn<ir;bn++){const Pn=kn.getUint16(),Tn=kn.getUint16(),Jn=kn.getInt32()>>>0;let yr=!1;if(!(Bn&&Bn.platformId===Pn&&Bn.encodingId===Tn)){if(Pn===0&&(Tn===0||Tn===1||Tn===3))yr=!0;else if(Pn===1&&Tn===0)yr=!0;else if(Pn===3&&Tn===1&&(jn||!Bn))yr=!0,Ln||(gr=!0);else if(Ln&&Pn===3&&Tn===0){yr=!0;let Er=!0;if(bn<ir-1){const wr=kn.peekBytes(2);ze(wr[0],wr[1])<Pn&&(Er=!1)}Er&&(gr=!0)}if(yr&&(Bn={platformId:Pn,encodingId:Tn,offset:Jn}),gr)break}}if(Bn&&(kn.pos=sr+Bn.offset),!Bn||kn.peekByte()===-1)return(0,t.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const rr=kn.getUint16();let pr=!1;const xr=[];let mr,un;if(rr===0){for(kn.skip(4),mr=0;mr<256;mr++){const bn=kn.getByte();!bn||xr.push({charCode:mr,glyphId:bn})}pr=!0}else if(rr===2){kn.skip(4);const bn=[];let Pn=0;for(let Jn=0;Jn<256;Jn++){const yr=kn.getUint16()>>3;bn.push(yr),Pn=Math.max(yr,Pn)}const Tn=[];for(let Jn=0;Jn<=Pn;Jn++)Tn.push({firstCode:kn.getUint16(),entryCount:kn.getUint16(),idDelta:si(kn.getByte(),kn.getByte()),idRangePos:kn.pos+kn.getUint16()});for(let Jn=0;Jn<256;Jn++)if(bn[Jn]===0)kn.pos=Tn[0].idRangePos+2*Jn,un=kn.getUint16(),xr.push({charCode:Jn,glyphId:un});else{const yr=Tn[bn[Jn]];for(mr=0;mr<yr.entryCount;mr++){const Er=(Jn<<8)+mr+yr.firstCode;kn.pos=yr.idRangePos+2*mr,un=kn.getUint16(),un!==0&&(un=(un+yr.idDelta)%65536),xr.push({charCode:Er,glyphId:un})}}}else if(rr===4){kn.skip(4);const bn=kn.getUint16()>>1;kn.skip(6);const Pn=[];let Tn;for(Tn=0;Tn<bn;Tn++)Pn.push({end:kn.getUint16()});for(kn.skip(2),Tn=0;Tn<bn;Tn++)Pn[Tn].start=kn.getUint16();for(Tn=0;Tn<bn;Tn++)Pn[Tn].delta=kn.getUint16();let Jn=0,yr;for(Tn=0;Tn<bn;Tn++){Gn=Pn[Tn];const wr=kn.getUint16();if(!wr){Gn.offsetIndex=-1;continue}yr=(wr>>1)-(bn-Tn),Gn.offsetIndex=yr,Jn=Math.max(Jn,yr+Gn.end-Gn.start+1)}const Er=[];for(mr=0;mr<Jn;mr++)Er.push(kn.getUint16());for(Tn=0;Tn<bn;Tn++){Gn=Pn[Tn],sr=Gn.start;const wr=Gn.end,Sr=Gn.delta;for(yr=Gn.offsetIndex,mr=sr;mr<=wr;mr++)mr!==65535&&(un=yr<0?mr:Er[yr+mr-sr],un=un+Sr&65535,xr.push({charCode:mr,glyphId:un}))}}else if(rr===6){kn.skip(4);const bn=kn.getUint16(),Pn=kn.getUint16();for(mr=0;mr<Pn;mr++){un=kn.getUint16();const Tn=bn+mr;xr.push({charCode:Tn,glyphId:un})}}else if(rr===12){kn.skip(10);const bn=kn.getInt32()>>>0;for(mr=0;mr<bn;mr++){const Pn=kn.getInt32()>>>0,Tn=kn.getInt32()>>>0;let Jn=kn.getInt32()>>>0;for(let yr=Pn;yr<=Tn;yr++)xr.push({charCode:yr,glyphId:Jn++})}}else return(0,t.warn)("cmap table has unsupported format: "+rr),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};xr.sort(function(bn,Pn){return bn.charCode-Pn.charCode});for(let bn=1;bn<xr.length;bn++)xr[bn-1].charCode===xr[bn].charCode&&(xr.splice(bn,1),bn--);return{platformId:Bn.platformId,encodingId:Bn.encodingId,mappings:xr,hasShortCmap:pr}}function on(An,kn,Ln,jn,Gn,sr){if(!kn){Ln&&(Ln.data=null);return}An.pos=(An.start||0)+kn.offset,An.pos+=4,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2,An.pos+=2;const ir=An.getUint16();An.pos+=8,An.pos+=2;let Bn=An.getUint16();ir!==0&&(ze(jn.data[44],jn.data[45])&2||(kn.data[22]=0,kn.data[23]=0)),Bn>Gn&&((0,t.info)(`The numOfMetrics (${Bn}) should not be greater than the numGlyphs (${Gn}).`),Bn=Gn,kn.data[34]=(Bn&65280)>>8,kn.data[35]=Bn&255);const rr=Gn-Bn-(Ln.length-Bn*4>>1);if(rr>0){const pr=new Uint8Array(Ln.length+rr*2);pr.set(Ln.data),sr&&(pr[Ln.length]=Ln.data[2],pr[Ln.length+1]=Ln.data[3]),Ln.data=pr}}function fn(An,kn,Ln,jn,Gn,sr){const ir={length:0,sizeOfInstructions:0};if(Ln-kn<=12)return ir;const Bn=An.subarray(kn,Ln);let gr=si(Bn[0],Bn[1]);if(gr<0)return gr=-1,We(Bn,0,gr),jn.set(Bn,Gn),ir.length=Bn.length,ir;let rr,pr=10,xr=0;for(rr=0;rr<gr;rr++)xr=(Bn[pr]<<8|Bn[pr+1])+1,pr+=2;const mr=pr,un=Bn[pr]<<8|Bn[pr+1];ir.sizeOfInstructions=un,pr+=2+un;const bn=pr;let Pn=0;for(rr=0;rr<xr;rr++){const Jn=Bn[pr++];Jn&192&&(Bn[pr-1]=Jn&63);let yr=2;Jn&2?yr=1:Jn&16&&(yr=0);let Er=2;Jn&4?Er=1:Jn&32&&(Er=0);const wr=yr+Er;if(Pn+=wr,Jn&8){const Sr=Bn[pr++];rr+=Sr,Pn+=Sr*wr}}if(Pn===0)return ir;let Tn=pr+Pn;return Tn>Bn.length?ir:!sr&&un>0?(jn.set(Bn.subarray(0,mr),Gn),jn.set([0,0],Gn+mr),jn.set(Bn.subarray(bn,Tn),Gn+mr+2),Tn-=un,Bn.length-Tn>3&&(Tn=Tn+3&-4),ir.length=Tn,ir):Bn.length-Tn>3?(Tn=Tn+3&-4,jn.set(Bn.subarray(0,Tn),Gn),ir.length=Tn,ir):(jn.set(Bn,Gn),ir.length=Bn.length,ir)}function Yi(An,kn,Ln){const jn=An.data,Gn=ni(jn[0],jn[1],jn[2],jn[3]);Gn>>16!==1&&((0,t.info)("Attempting to fix invalid version in head table: "+Gn),jn[0]=0,jn[1]=1,jn[2]=0,jn[3]=0);const sr=ze(jn[50],jn[51]);if(sr<0||sr>1){(0,t.info)("Attempting to fix invalid indexToLocFormat in head table: "+sr);const ir=kn+1;if(Ln===ir<<1)jn[50]=0,jn[51]=0;else if(Ln===ir<<2)jn[50]=0,jn[51]=1;else throw new t.FormatError("Could not fix indexToLocFormat: "+sr)}}function Ri(An,kn,Ln,jn,Gn,sr,ir){let Bn,gr,rr;jn?(Bn=4,gr=function(Rr,qr){return Rr[qr]<<24|Rr[qr+1]<<16|Rr[qr+2]<<8|Rr[qr+3]},rr=function(Rr,qr,vs){Rr[qr]=vs>>>24&255,Rr[qr+1]=vs>>16&255,Rr[qr+2]=vs>>8&255,Rr[qr+3]=vs&255}):(Bn=2,gr=function(Rr,qr){return Rr[qr]<<9|Rr[qr+1]<<1},rr=function(Rr,qr,vs){Rr[qr]=vs>>9&255,Rr[qr+1]=vs>>1&255});const pr=sr?Ln+1:Ln,xr=Bn*(1+pr),mr=new Uint8Array(xr);mr.set(An.data.subarray(0,xr)),An.data=mr;const un=kn.data,bn=un.length,Pn=new Uint8Array(bn);let Tn,Jn;const yr=[];for(Tn=0,Jn=0;Tn<Ln+1;Tn++,Jn+=Bn){let Sr=gr(mr,Jn);Sr>bn&&(Sr=bn),yr.push({index:Tn,offset:Sr,endOffset:0})}for(yr.sort((Sr,Rr)=>Sr.offset-Rr.offset),Tn=0;Tn<Ln;Tn++)yr[Tn].endOffset=yr[Tn+1].offset;for(yr.sort((Sr,Rr)=>Sr.index-Rr.index),Tn=0;Tn<Ln;Tn++){const{offset:Sr,endOffset:Rr}=yr[Tn];if(Sr!==0||Rr!==0)break;const qr=yr[Tn+1].offset;if(qr!==0){yr[Tn].endOffset=qr;break}}const Er=Object.create(null);let wr=0;for(rr(mr,0,wr),Tn=0,Jn=Bn;Tn<Ln;Tn++,Jn+=Bn){const Sr=fn(un,yr[Tn].offset,yr[Tn].endOffset,Pn,wr,Gn),Rr=Sr.length;Rr===0&&(Er[Tn]=!0),Sr.sizeOfInstructions>ir&&(ir=Sr.sizeOfInstructions),wr+=Rr,rr(mr,Jn,wr)}if(wr===0){const Sr=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Tn=0,Jn=Bn;Tn<pr;Tn++,Jn+=Bn)rr(mr,Jn,Sr.length);kn.data=Sr}else if(sr){const Sr=gr(mr,Bn);Pn.length>Sr+wr?kn.data=Pn.subarray(0,Sr+wr):(kn.data=new Uint8Array(Sr+wr),kn.data.set(Pn.subarray(0,wr))),kn.data.set(Pn.subarray(0,Sr),wr),rr(An.data,mr.length-Bn,wr+Sr)}else kn.data=Pn.subarray(0,wr);return{missingGlyphs:Er,maxSizeOfInstructions:ir}}function ji(An,kn,Ln){const jn=(Fi.start||0)+An.offset;Fi.pos=jn;const Gn=An.length,sr=jn+Gn,ir=Fi.getInt32();Fi.skip(28);let Bn,gr=!0,rr;switch(ir){case 65536:Bn=Fe.MacStandardGlyphOrdering;break;case 131072:const pr=Fi.getUint16();if(pr!==Ln){gr=!1;break}const xr=[];for(rr=0;rr<pr;++rr){const bn=Fi.getUint16();if(bn>=32768){gr=!1;break}xr.push(bn)}if(!gr)break;const mr=[],un=[];for(;Fi.pos<sr;){const bn=Fi.getByte();for(un.length=bn,rr=0;rr<bn;++rr)un[rr]=String.fromCharCode(Fi.getByte());mr.push(un.join(""))}for(Bn=[],rr=0;rr<pr;++rr){const bn=xr[rr];if(bn<258){Bn.push(Fe.MacStandardGlyphOrdering[bn]);continue}Bn.push(mr[bn-258])}break;case 196608:break;default:(0,t.warn)("Unknown/unsupported post table version "+ir),gr=!1,kn.defaultEncoding&&(Bn=kn.defaultEncoding);break}return kn.glyphNames=Bn,gr}function Ui(An){const kn=(Fi.start||0)+An.offset;Fi.pos=kn;const Ln=[[],[]],jn=An.length,Gn=kn+jn;if(Fi.getUint16()!==0||jn<6)return Ln;const Bn=Fi.getUint16(),gr=Fi.getUint16(),rr=[],pr=12;let xr,mr;for(xr=0;xr<Bn&&Fi.pos+pr<=Gn;xr++){const un={platform:Fi.getUint16(),encoding:Fi.getUint16(),language:Fi.getUint16(),name:Fi.getUint16(),length:Fi.getUint16(),offset:Fi.getUint16()};(un.platform===1&&un.encoding===0&&un.language===0||un.platform===3&&un.encoding===1&&un.language===1033)&&rr.push(un)}for(xr=0,mr=rr.length;xr<mr;xr++){const un=rr[xr];if(un.length<=0)continue;const bn=kn+gr+un.offset;if(bn+un.length>Gn)continue;Fi.pos=bn;const Pn=un.name;if(un.encoding){let Tn="";for(let Jn=0,yr=un.length;Jn<yr;Jn+=2)Tn+=String.fromCharCode(Fi.getUint16());Ln[1][Pn]=Tn}else Ln[0][Pn]=Fi.getString(un.length)}return Ln}const en=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function nn(An,kn){let Ln=An.data,jn=0,Gn,sr,ir,Bn,gr,rr=0,pr=0;const xr=[],mr=[],un=[];let bn=kn.tooComplexToFollowFunctions,Pn=!1,Tn=0,Jn=0;for(let Er=Ln.length;jn<Er;){const wr=Ln[jn++];if(wr===64)if(sr=Ln[jn++],Pn||Jn)jn+=sr;else for(Gn=0;Gn<sr;Gn++)xr.push(Ln[jn++]);else if(wr===65)if(sr=Ln[jn++],Pn||Jn)jn+=sr*2;else for(Gn=0;Gn<sr;Gn++)ir=Ln[jn++],xr.push(ir<<8|Ln[jn++]);else if((wr&248)===176)if(sr=wr-176+1,Pn||Jn)jn+=sr;else for(Gn=0;Gn<sr;Gn++)xr.push(Ln[jn++]);else if((wr&248)===184)if(sr=wr-184+1,Pn||Jn)jn+=sr*2;else for(Gn=0;Gn<sr;Gn++)ir=Ln[jn++],xr.push(ir<<8|Ln[jn++]);else if(wr===43&&!bn){if(!Pn&&!Jn){if(Bn=xr.at(-1),isNaN(Bn))(0,t.info)("TT: CALL empty stack (or invalid entry).");else if(kn.functionsUsed[Bn]=!0,Bn in kn.functionsStackDeltas){const Sr=xr.length+kn.functionsStackDeltas[Bn];if(Sr<0){(0,t.warn)("TT: CALL invalid functions stack delta."),kn.hintsValid=!1;return}xr.length=Sr}else if(Bn in kn.functionsDefined&&!un.includes(Bn)){if(mr.push({data:Ln,i:jn,stackTop:xr.length-1}),un.push(Bn),gr=kn.functionsDefined[Bn],!gr){(0,t.warn)("TT: CALL non-existent function"),kn.hintsValid=!1;return}Ln=gr.data,jn=gr.i}}}else if(wr===44&&!bn)(Pn||Jn)&&((0,t.warn)("TT: nested FDEFs not allowed"),bn=!0),Pn=!0,pr=jn,Bn=xr.pop(),kn.functionsDefined[Bn]={data:Ln,i:jn};else if(wr===45)if(Pn)Pn=!1,rr=jn;else{if(gr=mr.pop(),!gr){(0,t.warn)("TT: ENDF bad stack"),kn.hintsValid=!1;return}Bn=un.pop(),Ln=gr.data,jn=gr.i,kn.functionsStackDeltas[Bn]=xr.length-gr.stackTop}else if(wr===137)(Pn||Jn)&&((0,t.warn)("TT: nested IDEFs not allowed"),bn=!0),Pn=!0,pr=jn;else if(wr===88)++Tn;else if(wr===27)Jn=Tn;else if(wr===89)Jn===Tn&&(Jn=0),--Tn;else if(wr===28&&!Pn&&!Jn){const Sr=xr.at(-1);Sr>0&&(jn+=Sr-1)}if(!Pn&&!Jn){let Sr=0;for(wr<=142?Sr=en[wr]:wr>=192&&wr<=223?Sr=-1:wr>=224&&(Sr=-2),wr>=113&&wr<=117&&(sr=xr.pop(),isNaN(sr)||(Sr=-sr*2));Sr<0&&xr.length>0;)xr.pop(),Sr++;for(;Sr>0;)xr.push(NaN),Sr--}}kn.tooComplexToFollowFunctions=bn;const yr=[Ln];jn>Ln.length&&yr.push(new Uint8Array(jn-Ln.length)),pr>rr&&((0,t.warn)("TT: complementing a missing function tail"),yr.push(new Uint8Array([34,45]))),Qi(An,yr)}function Sn(An,kn){if(!An.tooComplexToFollowFunctions){if(An.functionsDefined.length>kn){(0,t.warn)("TT: more functions defined than expected"),An.hintsValid=!1;return}for(let Ln=0,jn=An.functionsUsed.length;Ln<jn;Ln++){if(Ln>kn){(0,t.warn)("TT: invalid function id: "+Ln),An.hintsValid=!1;return}if(An.functionsUsed[Ln]&&!An.functionsDefined[Ln]){(0,t.warn)("TT: undefined function: "+Ln),An.hintsValid=!1;return}}}}function Qi(An,kn){if(kn.length>1){let Ln=0,jn,Gn;for(jn=0,Gn=kn.length;jn<Gn;jn++)Ln+=kn[jn].length;Ln=Ln+3&-4;const sr=new Uint8Array(Ln);let ir=0;for(jn=0,Gn=kn.length;jn<Gn;jn++)sr.set(kn[jn],ir),ir+=kn[jn].length;An.data=sr,An.length=Ln}}function qi(An,kn,Ln,jn){const Gn={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(An&&nn(An,Gn),kn&&nn(kn,Gn),An&&Sn(Gn,jn),Ln&&Ln.length&1){const sr=new Uint8Array(Ln.length+1);sr.set(Ln.data),Ln.data=sr}return Gn.hintsValid}Fi=new Xe.Stream(new Uint8Array(Fi.getBytes()));let Zi,an;if(Ue(Fi)){const An=rn(Fi,this.name);Zi=An.header,an=An.tables}else Zi=$i(Fi),an=Ii(Fi,Zi.numTables);let Nn,Dn;const hn=!an["CFF "];if(hn){if(!an.loca)throw new t.FormatError('Required "loca" table is not found');an.glyf||((0,t.warn)('Required "glyf" table is not found -- trying to recover.'),an.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const An=Pi.composite&&((Pi.cidToGidMap||[]).length>0||!(Pi.cMap instanceof Be.IdentityCMap));if(Zi.version==="OTTO"&&!An||!an.head||!an.hhea||!an.maxp||!an.post)return Dn=new Xe.Stream(an["CFF "].data),Nn=new Pe.CFFFont(Dn,Pi),ui(Pi),this.convert(Si,Nn,Pi);delete an.glyf,delete an.loca,delete an.fpgm,delete an.prep,delete an["cvt "],this.isOpenType=!0}if(!an.maxp)throw new t.FormatError('Required "maxp" table is not found');Fi.pos=(Fi.start||0)+an.maxp.offset;const Fn=Fi.getInt32(),Xn=Fi.getUint16();if(Pi.scaleFactors&&Pi.scaleFactors.length===Xn&&hn){const{scaleFactors:An}=Pi,kn=ze(an.head.data[50],an.head.data[51]),Ln=new Ae.GlyfTable({glyfTable:an.glyf.data,isGlyphLocationsLong:kn,locaTable:an.loca.data,numGlyphs:Xn});Ln.scale(An);const{glyf:jn,loca:Gn,isLocationLong:sr}=Ln.write();an.glyf.data=jn,an.loca.data=Gn,sr!==!!kn&&(an.head.data[50]=0,an.head.data[51]=sr?1:0);const ir=an.hmtx.data;for(let Bn=0;Bn<Xn;Bn++){const gr=4*Bn,rr=Math.round(An[Bn]*ze(ir[gr],ir[gr+1]));ir[gr]=rr>>8&255,ir[gr+1]=rr&255;const pr=Math.round(An[Bn]*si(ir[gr+2],ir[gr+3]));We(ir,gr+2,pr)}}let Rn=Xn+1,Wn=!0;Rn>65535&&(Wn=!1,Rn=Xn,(0,t.warn)("Not enough space in glyfs to duplicate first glyph."));let Kn=0,Mn=0;Fn>=65536&&an.maxp.length>=22&&(Fi.pos+=8,Fi.getUint16()>2&&(an.maxp.data[14]=0,an.maxp.data[15]=2),Fi.pos+=4,Kn=Fi.getUint16(),Fi.pos+=4,Mn=Fi.getUint16()),an.maxp.data[4]=Rn>>8,an.maxp.data[5]=Rn&255;const er=qi(an.fpgm,an.prep,an["cvt "],Kn);if(er||(delete an.fpgm,delete an.prep,delete an["cvt "]),on(Fi,an.hhea,an.hmtx,an.head,Rn,Wn),!an.head)throw new t.FormatError('Required "head" table is not found');Yi(an.head,Xn,hn?an.loca.length:0);let Hn=Object.create(null);if(hn){const An=ze(an.head.data[50],an.head.data[51]),kn=Ri(an.loca,an.glyf,Xn,An,er,Wn,Mn);Hn=kn.missingGlyphs,Fn>=65536&&an.maxp.length>=22&&(an.maxp.data[26]=kn.maxSizeOfInstructions>>8,an.maxp.data[27]=kn.maxSizeOfInstructions&255)}if(!an.hhea)throw new t.FormatError('Required "hhea" table is not found');an.hhea.data[10]===0&&an.hhea.data[11]===0&&(an.hhea.data[10]=255,an.hhea.data[11]=255);const hr={unitsPerEm:ze(an.head.data[18],an.head.data[19]),yMax:ze(an.head.data[42],an.head.data[43]),yMin:si(an.head.data[38],an.head.data[39]),ascent:si(an.hhea.data[4],an.hhea.data[5]),descent:si(an.hhea.data[6],an.hhea.data[7]),lineGap:si(an.hhea.data[8],an.hhea.data[9])};this.ascent=hr.ascent/hr.unitsPerEm,this.descent=hr.descent/hr.unitsPerEm,this.lineGap=hr.lineGap/hr.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,an.post&&ji(an.post,Pi,Xn),an.post={tag:"post",data:di(Pi)};const or=[];function dr(An){return!Hn[An]}if(Pi.composite){const An=Pi.cidToGidMap||[],kn=An.length===0;Pi.cMap.forEach(function(Ln,jn){if(typeof jn=="string"&&(jn=fi(Ln,jn,!0)),jn>65535)throw new t.FormatError("Max size of CID is 65,535");let Gn=-1;kn?Gn=jn:An[jn]!==void 0&&(Gn=An[jn]),Gn>=0&&Gn<Xn&&dr(Gn)&&(or[Ln]=Gn)})}else{const An=tn(an.cmap,Fi,this.isSymbolicFont,Pi.hasEncoding),kn=An.platformId,Ln=An.encodingId,jn=An.mappings;let Gn=[],sr=!1;if(Pi.hasEncoding&&(Pi.baseEncodingName==="MacRomanEncoding"||Pi.baseEncodingName==="WinAnsiEncoding")&&(Gn=(0,ke.getEncoding)(Pi.baseEncodingName)),Pi.hasEncoding&&!this.isSymbolicFont&&(kn===3&&Ln===1||kn===1&&Ln===0)){const ir=(0,e.getGlyphsUnicode)();for(let Bn=0;Bn<256;Bn++){let gr;if(this.differences[Bn]!==void 0?gr=this.differences[Bn]:Gn.length&&Gn[Bn]!==""?gr=Gn[Bn]:gr=ke.StandardEncoding[Bn],!gr)continue;const rr=(0,Fe.recoverGlyphName)(gr,ir);let pr;if(kn===3&&Ln===1?pr=ir[rr]:kn===1&&Ln===0&&(pr=ke.MacRomanEncoding.indexOf(rr)),pr===void 0){if(!Pi.glyphNames&&Pi.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof Ee.IdentityToUnicodeMap)){const xr=this.toUnicode.get(Bn);xr&&(pr=xr.codePointAt(0))}if(pr===void 0)continue}for(const xr of jn)if(xr.charCode===pr){or[Bn]=xr.glyphId;break}}}else if(kn===0){for(const ir of jn)or[ir.charCode]=ir.glyphId;sr=!0}else for(const ir of jn){let Bn=ir.charCode;kn===3&&Bn>=61440&&Bn<=61695&&(Bn&=255),or[Bn]=ir.glyphId}if(Pi.glyphNames&&(Gn.length||this.differences.length))for(let ir=0;ir<256;++ir){if(!sr&&or[ir]!==void 0)continue;const Bn=this.differences[ir]||Gn[ir];if(!Bn)continue;const gr=Pi.glyphNames.indexOf(Bn);gr>0&&dr(gr)&&(or[ir]=gr)}}or.length===0&&(or[0]=0);let nr=Rn-1;if(Wn||(nr=0),!Pi.cssFontInfo){const An=xi(or,dr,nr,this.toUnicode);this.toFontChar=An.toFontChar,an.cmap={tag:"cmap",data:pi(An.charCodeToGlyphId,An.toUnicodeExtraMap,Rn)},(!an["OS/2"]||!ri(an["OS/2"],Fi))&&(an["OS/2"]={tag:"OS/2",data:oi(Pi,An.charCodeToGlyphId,hr)})}if(!hn)try{Dn=new Xe.Stream(an["CFF "].data),Nn=new xe.CFFParser(Dn,Pi,Fe.SEAC_ANALYSIS_ENABLED).parse(),Nn.duplicateFirstGlyph();const kn=new xe.CFFCompiler(Nn);an["CFF "].data=kn.compile()}catch{(0,t.warn)("Failed to compile font "+Pi.loadedName)}if(!an.name)an.name={tag:"name",data:Ai(this.name)};else{const An=Ui(an.name);an.name.data=Ai(Si,An),this.psName=An[0][6]||null}const Lr=new He.OpenTypeFileBuilder(Zi.version);for(const An in an)Lr.addTable(An,an[An].data);return Lr.toArray()}convert(Si,Fi,Pi){Pi.fixedPitch=!1,Pi.builtInEncoding&&Qe(Pi,Pi.builtInEncoding);let Di=1;Fi instanceof Pe.CFFFont&&(Di=Fi.numGlyphs-1);const Ii=Fi.getGlyphMapping(Pi);let Mi=null,$i=Ii,Xi=null;Pi.cssFontInfo||(Mi=xi(Ii,Fi.hasGlyphId.bind(Fi),Di,this.toUnicode),this.toFontChar=Mi.toFontChar,$i=Mi.charCodeToGlyphId,Xi=Mi.toUnicodeExtraMap);const rn=Fi.numGlyphs;function tn(ji,Ui){let en=null;for(const nn in ji)Ui===ji[nn]&&(en||(en=[]),en.push(nn|0));return en}function on(ji,Ui){for(const en in ji)if(Ui===ji[en])return en|0;return Mi.charCodeToGlyphId[Mi.nextAvailableFontCharCode]=Ui,Mi.nextAvailableFontCharCode++}const fn=Fi.seacs;if(Mi&&Fe.SEAC_ANALYSIS_ENABLED&&fn&&fn.length){const ji=Pi.fontMatrix||t.FONT_IDENTITY_MATRIX,Ui=Fi.getCharset(),en=Object.create(null);for(let nn in fn){nn|=0;const Sn=fn[nn],Qi=ke.StandardEncoding[Sn[2]],qi=ke.StandardEncoding[Sn[3]],Zi=Ui.indexOf(Qi),an=Ui.indexOf(qi);if(Zi<0||an<0)continue;const Nn={x:Sn[0]*ji[0]+Sn[1]*ji[2]+ji[4],y:Sn[0]*ji[1]+Sn[1]*ji[3]+ji[5]},Dn=tn(Ii,nn);if(!!Dn)for(const hn of Dn){const Fn=Mi.charCodeToGlyphId,Xn=on(Fn,Zi),Rn=on(Fn,an);en[hn]={baseFontCharCode:Xn,accentFontCharCode:Rn,accentOffset:Nn}}}Pi.seacMap=en}const Yi=1/(Pi.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],Ri=new He.OpenTypeFileBuilder("OTTO");return Ri.addTable("CFF ",Fi.data),Ri.addTable("OS/2",oi(Pi,$i)),Ri.addTable("cmap",pi($i,Xi,rn)),Ri.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\xF5\0\0"+Ke(Yi)+"\0\0\0\0\x9E\v~'\0\0\0\0\x9E\v~'\0\0"+Ke(Pi.descent)+"\xFF"+Ke(Pi.ascent)+$e(Pi.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Ri.addTable("hhea","\0\0\0"+Ke(Pi.ascent)+Ke(Pi.descent)+"\0\0\xFF\xFF\0\0\0\0\0\0"+Ke(Pi.capHeight)+Ke(Math.tan(Pi.italicAngle)*Pi.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+$e(rn)),Ri.addTable("hmtx",function(){const Ui=Fi.charstrings,en=Fi.cff?Fi.cff.widths:null;let nn="\0\0\0\0";for(let Sn=1,Qi=rn;Sn<Qi;Sn++){let qi=0;if(Ui){const Zi=Ui[Sn-1];qi="width"in Zi?Zi.width:0}else en&&(qi=Math.ceil(en[Sn]||0));nn+=$e(qi)+$e(0)}return nn}()),Ri.addTable("maxp","\0\0P\0"+$e(rn)),Ri.addTable("name",Ai(Si)),Ri.addTable("post",di(Pi)),Ri.toArray()}get spaceWidth(){const Si=["space","minus","one","i","I"];let Fi;for(const Pi of Si){if(Pi in this.widths){Fi=this.widths[Pi];break}const Ii=(0,e.getGlyphsUnicode)()[Pi];let Mi=0;if(this.composite&&this.cMap.contains(Ii)&&(Mi=this.cMap.lookup(Ii),typeof Mi=="string"&&(Mi=fi(Ii,Mi))),!Mi&&this.toUnicode&&(Mi=this.toUnicode.charCodeOf(Ii)),Mi<=0&&(Mi=Ii),Fi=this.widths[Mi],Fi)break}return Fi=Fi||this.defaultWidth,(0,t.shadow)(this,"spaceWidth",Fi)}_charToGlyph(Si,Fi=!1){let Pi=this._glyphCache[Si];if(Pi&&Pi.isSpace===Fi)return Pi;let Di,Ii,Mi,$i=Si;this.cMap&&this.cMap.contains(Si)&&($i=this.cMap.lookup(Si),typeof $i=="string"&&($i=fi(Si,$i))),Ii=this.widths[$i],typeof Ii!="number"&&(Ii=this.defaultWidth);const Xi=this.vmetrics&&this.vmetrics[$i];let rn=this.toUnicode.get(Si)||Si;typeof rn=="number"&&(rn=String.fromCharCode(rn));let tn=this.toFontChar[Si]!==void 0;if(Di=this.toFontChar[Si]||Si,this.missingFile){const Yi=this.differences[Si]||this.defaultEncoding[Si];(Yi===".notdef"||Yi==="")&&this.type==="Type1"&&(Di=32),Di=(0,Te.mapSpecialUnicodeValues)(Di)}this.isType3Font&&(Mi=Di);let on=null;if(this.seacMap&&this.seacMap[Si]){tn=!0;const Yi=this.seacMap[Si];Di=Yi.baseFontCharCode,on={fontChar:String.fromCodePoint(Yi.accentFontCharCode),offset:Yi.accentOffset}}let fn="";return typeof Di=="number"&&(Di<=1114111?fn=String.fromCodePoint(Di):(0,t.warn)(`charToGlyph - invalid fontCharCode: ${Di}`)),Pi=new ci(Si,fn,rn,on,Ii,Xi,Mi,Fi,tn),this._glyphCache[Si]=Pi}charsToGlyphs(Si){let Fi=this._charsCache[Si];if(Fi)return Fi;if(Fi=[],this.cMap){const Pi=Object.create(null),Di=Si.length;let Ii=0;for(;Ii<Di;){this.cMap.readCharCode(Si,Ii,Pi);const{charcode:Mi,length:$i}=Pi;Ii+=$i;const Xi=this._charToGlyph(Mi,$i===1&&Si.charCodeAt(Ii-1)===32);Fi.push(Xi)}}else for(let Pi=0,Di=Si.length;Pi<Di;++Pi){const Ii=Si.charCodeAt(Pi),Mi=this._charToGlyph(Ii,Ii===32);Fi.push(Mi)}return this._charsCache[Si]=Fi}getCharPositions(Si){const Fi=[];if(this.cMap){const Pi=Object.create(null);let Di=0;for(;Di<Si.length;){this.cMap.readCharCode(Si,Di,Pi);const Ii=Pi.length;Fi.push([Di,Di+Ii]),Di+=Ii}}else for(let Pi=0,Di=Si.length;Pi<Di;++Pi)Fi.push([Pi,Pi+1]);return Fi}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Si){const Fi=[],Pi=[],Di=()=>Fi.length%2===1,Ii=this.toUnicode instanceof Ee.IdentityToUnicodeMap?Mi=>this.toUnicode.charCodeOf(Mi):Mi=>this.toUnicode.charCodeOf(String.fromCodePoint(Mi));for(let Mi=0,$i=Si.length;Mi<$i;Mi++){const Xi=Si.codePointAt(Mi);if(Xi>55295&&(Xi<57344||Xi>65533)&&Mi++,this.toUnicode){const rn=Ii(Xi);if(rn!==-1){Di()&&(Fi.push(Pi.join("")),Pi.length=0);const tn=this.cMap?this.cMap.getCharCodeLength(rn):1;for(let on=tn-1;on>=0;on--)Pi.push(String.fromCharCode(rn>>8*on&255));continue}}Di()||(Fi.push(Pi.join("")),Pi.length=0),Pi.push(String.fromCodePoint(Xi))}return Fi.push(Pi.join("")),Fi}}Se.Font=Ei;class mi{constructor(Si){this.error=Si,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Si){return[Si]}exportData(Si=!1){return{error:this.error}}}Se.ErrorFont=mi},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CFFTopDict=Se.CFFStrings=Se.CFFStandardStrings=Se.CFFPrivateDict=Se.CFFParser=Se.CFFIndex=Se.CFFHeader=Se.CFFFDSelect=Se.CFFCompiler=Se.CFFCharset=Se.CFF=void 0;var t=_e(2),xe=_e(34),Fe=_e(35);const Te=10,e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];Se.CFFStandardStrings=e;const ke=391,Oe=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],Ee=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(ci,ze){ci[ze-2]=ci[ze-2]+ci[ze-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(ci,ze){ci[ze-2]=ci[ze-2]-ci[ze-1]}},{id:"div",min:2,stackDelta:-1,stackFn(ci,ze){ci[ze-2]=ci[ze-2]/ci[ze-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(ci,ze){ci[ze-1]=-ci[ze-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(ci,ze){ci[ze-2]=ci[ze-2]*ci[ze-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Pe{constructor(ze,We,si){this.bytes=ze.getBytes(),this.properties=We,this.seacAnalysisEnabled=!!si}parse(){const ze=this.properties,We=new De;this.cff=We;const si=this.parseHeader(),ni=this.parseIndex(si.endPos),$e=this.parseIndex(ni.endPos),Ke=this.parseIndex($e.endPos),Ve=this.parseIndex(Ke.endPos),Ue=this.parseDict($e.obj.get(0)),ti=this.createDict(Xe,Ue,We.strings);We.header=si.obj,We.names=this.parseNameIndex(ni.obj),We.strings=this.parseStringIndex(Ke.obj),We.topDict=ti,We.globalSubrIndex=Ve.obj,this.parsePrivateDict(We.topDict),We.isCIDFont=ti.hasName("ROS");const hi=ti.getByName("CharStrings"),yi=this.parseIndex(hi).obj,wi=ti.getByName("FontMatrix");wi&&(ze.fontMatrix=wi);const Ci=ti.getByName("FontBBox");Ci&&(ze.ascent=Math.max(Ci[3],Ci[1]),ze.descent=Math.min(Ci[1],Ci[3]),ze.ascentScaled=!0);let ki,fi;if(We.isCIDFont){const li=this.parseIndex(ti.getByName("FDArray")).obj;for(let pi=0,ri=li.count;pi<ri;++pi){const oi=li.get(pi),di=this.createDict(Xe,this.parseDict(oi),We.strings);this.parsePrivateDict(di),We.fdArray.push(di)}fi=null,ki=this.parseCharsets(ti.getByName("charset"),yi.count,We.strings,!0),We.fdSelect=this.parseFDSelect(ti.getByName("FDSelect"),yi.count)}else ki=this.parseCharsets(ti.getByName("charset"),yi.count,We.strings,!1),fi=this.parseEncoding(ti.getByName("Encoding"),ze,We.strings,ki.charset);We.charset=ki,We.encoding=fi;const xi=this.parseCharStrings({charStrings:yi,localSubrIndex:ti.privateDict.subrsIndex,globalSubrIndex:Ve.obj,fdSelect:We.fdSelect,fdArray:We.fdArray,privateDict:ti.privateDict});return We.charStrings=xi.charStrings,We.seacs=xi.seacs,We.widths=xi.widths,We}parseHeader(){let ze=this.bytes;const We=ze.length;let si=0;for(;si<We&&ze[si]!==1;)++si;if(si>=We)throw new t.FormatError("Invalid CFF header");si!==0&&((0,t.info)("cff data is shifted"),ze=ze.subarray(si),this.bytes=ze);const ni=ze[0],$e=ze[1],Ke=ze[2],Ve=ze[3];return{obj:new Me(ni,$e,Ke,Ve),endPos:Ke}}parseDict(ze){let We=0;function si(){let Ue=ze[We++];return Ue===30?ni():Ue===28?(Ue=ze[We++],Ue=(Ue<<24|ze[We++]<<16)>>16,Ue):Ue===29?(Ue=ze[We++],Ue=Ue<<8|ze[We++],Ue=Ue<<8|ze[We++],Ue=Ue<<8|ze[We++],Ue):Ue>=32&&Ue<=246?Ue-139:Ue>=247&&Ue<=250?(Ue-247)*256+ze[We++]+108:Ue>=251&&Ue<=254?-((Ue-251)*256)-ze[We++]-108:((0,t.warn)('CFFParser_parseDict: "'+Ue+'" is a reserved command.'),NaN)}function ni(){let Ue="";const hi=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],yi=ze.length;for(;We<yi;){const wi=ze[We++],Ci=wi>>4,ki=wi&15;if(Ci===15||(Ue+=hi[Ci],ki===15))break;Ue+=hi[ki]}return parseFloat(Ue)}let $e=[];const Ke=[];We=0;const Ve=ze.length;for(;We<Ve;){let Ue=ze[We];Ue<=21?(Ue===12&&(Ue=Ue<<8|ze[++We]),Ke.push([Ue,$e]),$e=[],++We):$e.push(si())}return Ke}parseIndex(ze){const We=new Be,si=this.bytes,ni=si[ze++]<<8|si[ze++],$e=[];let Ke=ze,Ve,Ue;if(ni!==0){const ti=si[ze++],hi=ze+(ni+1)*ti-1;for(Ve=0,Ue=ni+1;Ve<Ue;++Ve){let yi=0;for(let wi=0;wi<ti;++wi)yi<<=8,yi+=si[ze++];$e.push(hi+yi)}Ke=$e[ni]}for(Ve=0,Ue=$e.length-1;Ve<Ue;++Ve){const ti=$e[Ve],hi=$e[Ve+1];We.add(si.subarray(ti,hi))}return{obj:We,endPos:Ke}}parseNameIndex(ze){const We=[];for(let si=0,ni=ze.count;si<ni;++si){const $e=ze.get(si);We.push((0,t.bytesToString)($e))}return We}parseStringIndex(ze){const We=new Ae;for(let si=0,ni=ze.count;si<ni;++si){const $e=ze.get(si);We.add((0,t.bytesToString)($e))}return We}createDict(ze,We,si){const ni=new ze(si);for(const[$e,Ke]of We)ni.setByKey($e,Ke);return ni}parseCharString(ze,We,si,ni){if(!We||ze.callDepth>Te)return!1;let $e=ze.stackSize;const Ke=ze.stack,Ve=We.length;for(let Ue=0;Ue<Ve;){const ti=We[Ue++];let hi=null;if(ti===12){const yi=We[Ue++];yi===0?(We[Ue-2]=139,We[Ue-1]=22,$e=0):hi=Ee[yi]}else if(ti===28)Ke[$e]=(We[Ue]<<24|We[Ue+1]<<16)>>16,Ue+=2,$e++;else if(ti===14){if($e>=4&&($e-=4,this.seacAnalysisEnabled))return ze.seac=Ke.slice($e,$e+4),!1;hi=Oe[ti]}else if(ti>=32&&ti<=246)Ke[$e]=ti-139,$e++;else if(ti>=247&&ti<=254)Ke[$e]=ti<251?(ti-247<<8)+We[Ue]+108:-(ti-251<<8)-We[Ue]-108,Ue++,$e++;else if(ti===255)Ke[$e]=(We[Ue]<<24|We[Ue+1]<<16|We[Ue+2]<<8|We[Ue+3])/65536,Ue+=4,$e++;else if(ti===19||ti===20)ze.hints+=$e>>1,Ue+=ze.hints+7>>3,$e%=2,hi=Oe[ti];else if(ti===10||ti===29){let yi;if(ti===10?yi=si:yi=ni,!yi)return hi=Oe[ti],(0,t.warn)("Missing subrsIndex for "+hi.id),!1;let wi=32768;yi.count<1240?wi=107:yi.count<33900&&(wi=1131);const Ci=Ke[--$e]+wi;if(Ci<0||Ci>=yi.count||isNaN(Ci))return hi=Oe[ti],(0,t.warn)("Out of bounds subrIndex for "+hi.id),!1;if(ze.stackSize=$e,ze.callDepth++,!this.parseCharString(ze,yi.get(Ci),si,ni))return!1;ze.callDepth--,$e=ze.stackSize;continue}else{if(ti===11)return ze.stackSize=$e,!0;ti===0&&Ue===We.length?(We[Ue-1]=14,hi=Oe[14]):hi=Oe[ti]}if(hi){if(hi.stem&&(ze.hints+=$e>>1,ti===3||ti===23?ze.hasVStems=!0:ze.hasVStems&&(ti===1||ti===18)&&((0,t.warn)("CFF stem hints are in wrong order"),We[Ue-1]=ti===1?3:23)),"min"in hi&&!ze.undefStack&&$e<hi.min)return(0,t.warn)("Not enough parameters for "+hi.id+"; actual: "+$e+", expected: "+hi.min),$e===0?(We[Ue-1]=14,!0):!1;ze.firstStackClearing&&hi.stackClearing&&(ze.firstStackClearing=!1,$e-=hi.min,$e>=2&&hi.stem?$e%=2:$e>1&&(0,t.warn)("Found too many parameters for stack-clearing command"),$e>0&&(ze.width=Ke[$e-1])),"stackDelta"in hi?("stackFn"in hi&&hi.stackFn(Ke,$e),$e+=hi.stackDelta):hi.stackClearing?$e=0:hi.resetStack?($e=0,ze.undefStack=!1):hi.undefStack&&($e=0,ze.undefStack=!0,ze.firstStackClearing=!1)}}return ze.stackSize=$e,!0}parseCharStrings({charStrings:ze,localSubrIndex:We,globalSubrIndex:si,fdSelect:ni,fdArray:$e,privateDict:Ke}){const Ve=[],Ue=[],ti=ze.count;for(let hi=0;hi<ti;hi++){const yi=ze.get(hi),wi={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let Ci=!0,ki=null,fi=Ke;if(ni&&$e.length){const xi=ni.getFDIndex(hi);xi===-1&&((0,t.warn)("Glyph index is not in fd select."),Ci=!1),xi>=$e.length&&((0,t.warn)("Invalid fd index for glyph index."),Ci=!1),Ci&&(fi=$e[xi].privateDict,ki=fi.subrsIndex)}else We&&(ki=We);if(Ci&&(Ci=this.parseCharString(wi,yi,ki,si)),wi.width!==null){const xi=fi.getByName("nominalWidthX");Ue[hi]=xi+wi.width}else{const xi=fi.getByName("defaultWidthX");Ue[hi]=xi}wi.seac!==null&&(Ve[hi]=wi.seac),Ci||ze.set(hi,new Uint8Array([14]))}return{charStrings:ze,seacs:Ve,widths:Ue}}emptyPrivateDictionary(ze){const We=this.createDict(qe,[],ze.strings);ze.setByKey(18,[0,0]),ze.privateDict=We}parsePrivateDict(ze){if(!ze.hasName("Private")){this.emptyPrivateDictionary(ze);return}const We=ze.getByName("Private");if(!Array.isArray(We)||We.length!==2){ze.removeByName("Private");return}const si=We[0],ni=We[1];if(si===0||ni>=this.bytes.length){this.emptyPrivateDictionary(ze);return}const $e=ni+si,Ke=this.bytes.subarray(ni,$e),Ve=this.parseDict(Ke),Ue=this.createDict(qe,Ve,ze.strings);if(ze.privateDict=Ue,!Ue.getByName("Subrs"))return;const ti=Ue.getByName("Subrs"),hi=ni+ti;if(ti===0||hi>=this.bytes.length){this.emptyPrivateDictionary(ze);return}const yi=this.parseIndex(hi);Ue.subrsIndex=yi.obj}parseCharsets(ze,We,si,ni){if(ze===0)return new gi(!0,Ye.ISO_ADOBE,xe.ISOAdobeCharset);if(ze===1)return new gi(!0,Ye.EXPERT,xe.ExpertCharset);if(ze===2)return new gi(!0,Ye.EXPERT_SUBSET,xe.ExpertSubsetCharset);const $e=this.bytes,Ke=ze,Ve=$e[ze++],Ue=[ni?0:".notdef"];let ti,hi,yi;switch(We-=1,Ve){case 0:for(yi=0;yi<We;yi++)ti=$e[ze++]<<8|$e[ze++],Ue.push(ni?ti:si.get(ti));break;case 1:for(;Ue.length<=We;)for(ti=$e[ze++]<<8|$e[ze++],hi=$e[ze++],yi=0;yi<=hi;yi++)Ue.push(ni?ti++:si.get(ti++));break;case 2:for(;Ue.length<=We;)for(ti=$e[ze++]<<8|$e[ze++],hi=$e[ze++]<<8|$e[ze++],yi=0;yi<=hi;yi++)Ue.push(ni?ti++:si.get(ti++));break;default:throw new t.FormatError("Unknown charset format")}const wi=ze,Ci=$e.subarray(Ke,wi);return new gi(!1,Ve,Ue,Ci)}parseEncoding(ze,We,si,ni){const $e=Object.create(null),Ke=this.bytes;let Ve=!1,Ue,ti,hi,yi=null;function wi(){const Ci=Ke[ze++];for(ti=0;ti<Ci;ti++){const ki=Ke[ze++],fi=(Ke[ze++]<<8)+(Ke[ze++]&255);$e[ki]=ni.indexOf(si.get(fi))}}if(ze===0||ze===1){Ve=!0,Ue=ze;const Ci=ze?Fe.ExpertEncoding:Fe.StandardEncoding;for(ti=0,hi=ni.length;ti<hi;ti++){const ki=Ci.indexOf(ni[ti]);ki!==-1&&($e[ki]=ti)}}else{const Ci=ze;switch(Ue=Ke[ze++],Ue&127){case 0:const fi=Ke[ze++];for(ti=1;ti<=fi;ti++)$e[Ke[ze++]]=ti;break;case 1:const xi=Ke[ze++];let li=1;for(ti=0;ti<xi;ti++){const pi=Ke[ze++],ri=Ke[ze++];for(let oi=pi;oi<=pi+ri;oi++)$e[oi]=li++}break;default:throw new t.FormatError(`Unknown encoding format: ${Ue} in CFF`)}const ki=ze;Ue&128&&(Ke[Ci]&=127,wi()),yi=Ke.subarray(Ci,ki)}return Ue&=127,new ai(Ve,Ue,$e,yi)}parseFDSelect(ze,We){const si=this.bytes,ni=si[ze++],$e=[];let Ke;switch(ni){case 0:for(Ke=0;Ke<We;++Ke){const Ue=si[ze++];$e.push(Ue)}break;case 3:const Ve=si[ze++]<<8|si[ze++];for(Ke=0;Ke<Ve;++Ke){let Ue=si[ze++]<<8|si[ze++];Ke===0&&Ue!==0&&((0,t.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),Ue=0);const ti=si[ze++],hi=si[ze]<<8|si[ze+1];for(let yi=Ue;yi<hi;++yi)$e.push(ti)}ze+=2;break;default:throw new t.FormatError(`parseFDSelect: Unknown format "${ni}".`)}if($e.length!==We)throw new t.FormatError("parseFDSelect: Invalid font data.");return new ui(ni,$e)}}Se.CFFParser=Pe;class De{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new Ae,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,t.warn)("Not enough space in charstrings to duplicate first glyph.");return}const ze=this.charStrings.get(0);this.charStrings.add(ze),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(ze){return ze<0||ze>=this.charStrings.count?!1:this.charStrings.get(ze).length>0}}Se.CFF=De;class Me{constructor(ze,We,si,ni){this.major=ze,this.minor=We,this.hdrSize=si,this.offSize=ni}}Se.CFFHeader=Me;class Ae{constructor(){this.strings=[]}get(ze){return ze>=0&&ze<=ke-1?e[ze]:ze-ke<=this.strings.length?this.strings[ze-ke]:e[0]}getSID(ze){let We=e.indexOf(ze);return We!==-1?We:(We=this.strings.indexOf(ze),We!==-1?We+ke:-1)}add(ze){this.strings.push(ze)}get count(){return this.strings.length}}Se.CFFStrings=Ae;class Be{constructor(){this.objects=[],this.length=0}add(ze){this.length+=ze.length,this.objects.push(ze)}set(ze,We){this.length+=We.length-this.objects[ze].length,this.objects[ze]=We}get(ze){return this.objects[ze]}get count(){return this.objects.length}}Se.CFFIndex=Be;class He{constructor(ze,We){this.keyToNameMap=ze.keyToNameMap,this.nameToKeyMap=ze.nameToKeyMap,this.defaults=ze.defaults,this.types=ze.types,this.opcodes=ze.opcodes,this.order=ze.order,this.strings=We,this.values=Object.create(null)}setByKey(ze,We){if(!(ze in this.keyToNameMap))return!1;if(We.length===0)return!0;for(const ni of We)if(isNaN(ni))return(0,t.warn)(`Invalid CFFDict value: "${We}" for key "${ze}".`),!0;const si=this.types[ze];return(si==="num"||si==="sid"||si==="offset")&&(We=We[0]),this.values[ze]=We,!0}setByName(ze,We){if(!(ze in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name "${ze}"`);this.values[this.nameToKeyMap[ze]]=We}hasName(ze){return this.nameToKeyMap[ze]in this.values}getByName(ze){if(!(ze in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name ${ze}"`);const We=this.nameToKeyMap[ze];return We in this.values?this.values[We]:this.defaults[We]}removeByName(ze){delete this.values[this.nameToKeyMap[ze]]}static createTables(ze){const We={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const si of ze){const ni=Array.isArray(si[0])?(si[0][0]<<8)+si[0][1]:si[0];We.keyToNameMap[ni]=si[1],We.nameToKeyMap[si[1]]=ni,We.types[ni]=si[2],We.defaults[ni]=si[3],We.opcodes[ni]=Array.isArray(si[0])?si[0]:[si[0]],We.order.push(ni)}return We}}const je=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Xe extends He{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(je))}constructor(ze){super(Xe.tables,ze),this.privateDict=null}}Se.CFFTopDict=Xe;const St=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class qe extends He{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(St))}constructor(ze){super(qe.tables,ze),this.subrsIndex=null}}Se.CFFPrivateDict=qe;const Ye={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class gi{constructor(ze,We,si,ni){this.predefined=ze,this.format=We,this.charset=si,this.raw=ni}}Se.CFFCharset=gi;class ai{constructor(ze,We,si,ni){this.predefined=ze,this.format=We,this.encoding=si,this.raw=ni}}class ui{constructor(ze,We){this.format=ze,this.fdSelect=We}getFDIndex(ze){return ze<0||ze>=this.fdSelect.length?-1:this.fdSelect[ze]}}Se.CFFFDSelect=ui;class Qe{constructor(){this.offsets=Object.create(null)}isTracking(ze){return ze in this.offsets}track(ze,We){if(ze in this.offsets)throw new t.FormatError(`Already tracking location of ${ze}`);this.offsets[ze]=We}offset(ze){for(const We in this.offsets)this.offsets[We]+=ze}setEntryLocation(ze,We,si){if(!(ze in this.offsets))throw new t.FormatError(`Not tracking location of ${ze}`);const ni=si.data,$e=this.offsets[ze],Ke=5;for(let Ve=0,Ue=We.length;Ve<Ue;++Ve){const ti=Ve*Ke+$e,hi=ti+1,yi=ti+2,wi=ti+3,Ci=ti+4;if(ni[ti]!==29||ni[hi]!==0||ni[yi]!==0||ni[wi]!==0||ni[Ci]!==0)throw new t.FormatError("writing to an offset that is not empty");const ki=We[Ve];ni[ti]=29,ni[hi]=ki>>24&255,ni[yi]=ki>>16&255,ni[wi]=ki>>8&255,ni[Ci]=ki&255}}}class Ze{constructor(ze){this.cff=ze}compile(){const ze=this.cff,We={data:[],length:0,add(wi){this.data=this.data.concat(wi),this.length=this.data.length}},si=this.compileHeader(ze.header);We.add(si);const ni=this.compileNameIndex(ze.names);if(We.add(ni),ze.isCIDFont&&ze.topDict.hasName("FontMatrix")){const wi=ze.topDict.getByName("FontMatrix");ze.topDict.removeByName("FontMatrix");for(const Ci of ze.fdArray){let ki=wi.slice(0);Ci.hasName("FontMatrix")&&(ki=t.Util.transform(ki,Ci.getByName("FontMatrix"))),Ci.setByName("FontMatrix",ki)}}const $e=ze.topDict.getByName("XUID");$e&&$e.length>16&&ze.topDict.removeByName("XUID"),ze.topDict.setByName("charset",0);let Ke=this.compileTopDicts([ze.topDict],We.length,ze.isCIDFont);We.add(Ke.output);const Ve=Ke.trackers[0],Ue=this.compileStringIndex(ze.strings.strings);We.add(Ue);const ti=this.compileIndex(ze.globalSubrIndex);if(We.add(ti),ze.encoding&&ze.topDict.hasName("Encoding"))if(ze.encoding.predefined)Ve.setEntryLocation("Encoding",[ze.encoding.format],We);else{const wi=this.compileEncoding(ze.encoding);Ve.setEntryLocation("Encoding",[We.length],We),We.add(wi)}const hi=this.compileCharset(ze.charset,ze.charStrings.count,ze.strings,ze.isCIDFont);Ve.setEntryLocation("charset",[We.length],We),We.add(hi);const yi=this.compileCharStrings(ze.charStrings);if(Ve.setEntryLocation("CharStrings",[We.length],We),We.add(yi),ze.isCIDFont){Ve.setEntryLocation("FDSelect",[We.length],We);const wi=this.compileFDSelect(ze.fdSelect);We.add(wi),Ke=this.compileTopDicts(ze.fdArray,We.length,!0),Ve.setEntryLocation("FDArray",[We.length],We),We.add(Ke.output);const Ci=Ke.trackers;this.compilePrivateDicts(ze.fdArray,Ci,We)}return this.compilePrivateDicts([ze.topDict],[Ve],We),We.add([0]),We.data}encodeNumber(ze){return Number.isInteger(ze)?this.encodeInteger(ze):this.encodeFloat(ze)}static get EncodeFloatRegExp(){return(0,t.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(ze){let We=ze.toString();const si=Ze.EncodeFloatRegExp.exec(We);if(si){const Ue=parseFloat("1e"+((si[2]?+si[2]:0)+si[1].length));We=(Math.round(ze*Ue)/Ue).toString()}let ni="",$e,Ke;for($e=0,Ke=We.length;$e<Ke;++$e){const Ue=We[$e];Ue==="e"?ni+=We[++$e]==="-"?"c":"b":Ue==="."?ni+="a":Ue==="-"?ni+="e":ni+=Ue}ni+=ni.length&1?"f":"ff";const Ve=[30];for($e=0,Ke=ni.length;$e<Ke;$e+=2)Ve.push(parseInt(ni.substring($e,$e+2),16));return Ve}encodeInteger(ze){let We;return ze>=-107&&ze<=107?We=[ze+139]:ze>=108&&ze<=1131?(ze-=108,We=[(ze>>8)+247,ze&255]):ze>=-1131&&ze<=-108?(ze=-ze-108,We=[(ze>>8)+251,ze&255]):ze>=-32768&&ze<=32767?We=[28,ze>>8&255,ze&255]:We=[29,ze>>24&255,ze>>16&255,ze>>8&255,ze&255],We}compileHeader(ze){return[ze.major,ze.minor,4,ze.offSize]}compileNameIndex(ze){const We=new Be;for(const si of ze){const ni=Math.min(si.length,127);let $e=new Array(ni);for(let Ke=0;Ke<ni;Ke++){let Ve=si[Ke];(Ve<"!"||Ve>"~"||Ve==="["||Ve==="]"||Ve==="("||Ve===")"||Ve==="{"||Ve==="}"||Ve==="<"||Ve===">"||Ve==="/"||Ve==="%")&&(Ve="_"),$e[Ke]=Ve}$e=$e.join(""),$e===""&&($e="Bad_Font_Name"),We.add((0,t.stringToBytes)($e))}return this.compileIndex(We)}compileTopDicts(ze,We,si){const ni=[];let $e=new Be;for(const Ke of ze){si&&(Ke.removeByName("CIDFontVersion"),Ke.removeByName("CIDFontRevision"),Ke.removeByName("CIDFontType"),Ke.removeByName("CIDCount"),Ke.removeByName("UIDBase"));const Ve=new Qe,Ue=this.compileDict(Ke,Ve);ni.push(Ve),$e.add(Ue),Ve.offset(We)}return $e=this.compileIndex($e,ni),{trackers:ni,output:$e}}compilePrivateDicts(ze,We,si){for(let ni=0,$e=ze.length;ni<$e;++ni){const Ke=ze[ni],Ve=Ke.privateDict;if(!Ve||!Ke.hasName("Private"))throw new t.FormatError("There must be a private dictionary.");const Ue=new Qe,ti=this.compileDict(Ve,Ue);let hi=si.length;if(Ue.offset(hi),ti.length||(hi=0),We[ni].setEntryLocation("Private",[ti.length,hi],si),si.add(ti),Ve.subrsIndex&&Ve.hasName("Subrs")){const yi=this.compileIndex(Ve.subrsIndex);Ue.setEntryLocation("Subrs",[ti.length],si),si.add(yi)}}}compileDict(ze,We){const si=[];for(const ni of ze.order){if(!(ni in ze.values))continue;let $e=ze.values[ni],Ke=ze.types[ni];if(Array.isArray(Ke)||(Ke=[Ke]),Array.isArray($e)||($e=[$e]),$e.length!==0){for(let Ve=0,Ue=Ke.length;Ve<Ue;++Ve){const ti=Ke[Ve],hi=$e[Ve];switch(ti){case"num":case"sid":si.push(...this.encodeNumber(hi));break;case"offset":const yi=ze.keyToNameMap[ni];We.isTracking(yi)||We.track(yi,si.length),si.push(29,0,0,0,0);break;case"array":case"delta":si.push(...this.encodeNumber(hi));for(let wi=1,Ci=$e.length;wi<Ci;++wi)si.push(...this.encodeNumber($e[wi]));break;default:throw new t.FormatError(`Unknown data type of ${ti}`)}}si.push(...ze.opcodes[ni])}}return si}compileStringIndex(ze){const We=new Be;for(const si of ze)We.add((0,t.stringToBytes)(si));return this.compileIndex(We)}compileGlobalSubrIndex(){const ze=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(ze))}compileCharStrings(ze){const We=new Be;for(let si=0;si<ze.count;si++){const ni=ze.get(si);if(ni.length===0){We.add(new Uint8Array([139,14]));continue}We.add(ni)}return this.compileIndex(We)}compileCharset(ze,We,si,ni){let $e;const Ke=We-1;if(ni)$e=new Uint8Array([2,0,0,Ke>>8&255,Ke&255]);else{const Ve=1+Ke*2;$e=new Uint8Array(Ve),$e[0]=0;let Ue=0;const ti=ze.charset.length;let hi=!1;for(let yi=1;yi<$e.length;yi+=2){let wi=0;if(Ue<ti){const Ci=ze.charset[Ue++];wi=si.getSID(Ci),wi===-1&&(wi=0,hi||(hi=!0,(0,t.warn)(`Couldn't find ${Ci} in CFF strings`)))}$e[yi]=wi>>8&255,$e[yi+1]=wi&255}}return this.compileTypedArray($e)}compileEncoding(ze){return this.compileTypedArray(ze.raw)}compileFDSelect(ze){const We=ze.format;let si,ni;switch(We){case 0:for(si=new Uint8Array(1+ze.fdSelect.length),si[0]=We,ni=0;ni<ze.fdSelect.length;ni++)si[ni+1]=ze.fdSelect[ni];break;case 3:const $e=0;let Ke=ze.fdSelect[0];const Ve=[We,0,0,$e>>8&255,$e&255,Ke];for(ni=1;ni<ze.fdSelect.length;ni++){const ti=ze.fdSelect[ni];ti!==Ke&&(Ve.push(ni>>8&255,ni&255,ti),Ke=ti)}const Ue=(Ve.length-3)/3;Ve[1]=Ue>>8&255,Ve[2]=Ue&255,Ve.push(ni>>8&255,ni&255),si=new Uint8Array(Ve);break}return this.compileTypedArray(si)}compileTypedArray(ze){const We=[];for(let si=0,ni=ze.length;si<ni;++si)We[si]=ze[si];return We}compileIndex(ze,We=[]){const si=ze.objects,ni=si.length;if(ni===0)return[0,0];const $e=[ni>>8&255,ni&255];let Ke=1,Ve;for(Ve=0;Ve<ni;++Ve)Ke+=si[Ve].length;let Ue;Ke<256?Ue=1:Ke<65536?Ue=2:Ke<16777216?Ue=3:Ue=4,$e.push(Ue);let ti=1;for(Ve=0;Ve<ni+1;Ve++)Ue===1?$e.push(ti&255):Ue===2?$e.push(ti>>8&255,ti&255):Ue===3?$e.push(ti>>16&255,ti>>8&255,ti&255):$e.push(ti>>>24&255,ti>>16&255,ti>>8&255,ti&255),si[Ve]&&(ti+=si[Ve].length);for(Ve=0;Ve<ni;Ve++)We[Ve]&&We[Ve].offset($e.length),$e.push(...si[Ve]);return $e}}Se.CFFCompiler=Ze},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ISOAdobeCharset=Se.ExpertSubsetCharset=Se.ExpertCharset=void 0;const _e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];Se.ISOAdobeCharset=_e;const t=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Se.ExpertCharset=t;const xe=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];Se.ExpertSubsetCharset=xe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ZapfDingbatsEncoding=Se.WinAnsiEncoding=Se.SymbolSetEncoding=Se.StandardEncoding=Se.MacRomanEncoding=Se.ExpertEncoding=void 0,Se.getEncoding=Oe;const _e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Se.ExpertEncoding=_e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],xe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];Se.MacRomanEncoding=xe;const Fe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];Se.StandardEncoding=Fe;const Te=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];Se.WinAnsiEncoding=Te;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];Se.SymbolSetEncoding=e;const ke=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];Se.ZapfDingbatsEncoding=ke;function Oe(Ee){switch(Ee){case"WinAnsiEncoding":return Te;case"StandardEncoding":return Fe;case"MacRomanEncoding":return xe;case"SymbolSetEncoding":return e;case"ZapfDingbatsEncoding":return ke;case"ExpertEncoding":return _e;case"MacExpertEncoding":return t;default:return null}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.SEAC_ANALYSIS_ENABLED=Se.MacStandardGlyphOrdering=Se.FontFlags=void 0,Se.getFontType=Ee,Se.normalizeFontName=Me,Se.recoverGlyphName=Pe,Se.type1FontGlyphMapping=De;var t=_e(2),xe=_e(35),Fe=_e(37),Te=_e(38);const e=!0;Se.SEAC_ANALYSIS_ENABLED=e;const ke={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};Se.FontFlags=ke;const Oe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];Se.MacStandardGlyphOrdering=Oe;function Ee(Ae,Be,He=!1){switch(Ae){case"Type1":return He?t.FontType.TYPE1STANDARD:Be==="Type1C"?t.FontType.TYPE1C:t.FontType.TYPE1;case"CIDFontType0":return Be==="CIDFontType0C"?t.FontType.CIDFONTTYPE0C:t.FontType.CIDFONTTYPE0;case"OpenType":return t.FontType.OPENTYPE;case"TrueType":return t.FontType.TRUETYPE;case"CIDFontType2":return t.FontType.CIDFONTTYPE2;case"MMType1":return t.FontType.MMTYPE1;case"Type0":return t.FontType.TYPE0;default:return t.FontType.UNKNOWN}}function Pe(Ae,Be){if(Be[Ae]!==void 0)return Ae;const He=(0,Te.getUnicodeForGlyph)(Ae,Be);if(He!==-1){for(const je in Be)if(Be[je]===He)return je}return(0,t.info)("Unable to recover a standard glyph name for: "+Ae),Ae}function De(Ae,Be,He){const je=Object.create(null);let Xe,St,qe;const Ye=!!(Ae.flags&ke.Symbolic);if(Ae.isInternalFont)for(qe=Be,St=0;St<qe.length;St++)Xe=He.indexOf(qe[St]),Xe>=0?je[St]=Xe:je[St]=0;else if(Ae.baseEncodingName)for(qe=(0,xe.getEncoding)(Ae.baseEncodingName),St=0;St<qe.length;St++)Xe=He.indexOf(qe[St]),Xe>=0?je[St]=Xe:je[St]=0;else if(Ye)for(St in Be)je[St]=Be[St];else for(qe=xe.StandardEncoding,St=0;St<qe.length;St++)Xe=He.indexOf(qe[St]),Xe>=0?je[St]=Xe:je[St]=0;const gi=Ae.differences;let ai;if(gi)for(St in gi){const ui=gi[St];if(Xe=He.indexOf(ui),Xe===-1){ai||(ai=(0,Fe.getGlyphsUnicode)());const Qe=Pe(ui,ai);Qe!==ui&&(Xe=He.indexOf(Qe))}Xe>=0?je[St]=Xe:je[St]=0}return je}function Me(Ae){return Ae.replace(/[,_]/g,"-").replace(/\s/g,"")}},(ii,Se,_e)=>{_e.r(Se),_e.d(Se,{getDingbatsGlyphsUnicode:()=>Fe,getGlyphsUnicode:()=>xe});var t=_e(4);const xe=(0,t.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"f_f_i",64259,"ffl",64260,"f_f_l",64260,"fi",64257,"f_i",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"f_l",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),Fe=(0,t.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(ii,Se,_e)=>{_e.r(Se),_e.d(Se,{clearUnicodeCaches:()=>Be,getCharUnicodeCategory:()=>Ae,getNormalizedUnicodes:()=>Ee,getUnicodeForGlyph:()=>Te,getUnicodeRangeFor:()=>ke,mapSpecialUnicodeValues:()=>Fe,reverseIfRtl:()=>Pe});var t=_e(4);const xe=(0,t.getLookupTableFactory)(function(He){He[63721]=169,He[63193]=169,He[63720]=174,He[63194]=174,He[63722]=8482,He[63195]=8482,He[63729]=9127,He[63730]=9128,He[63731]=9129,He[63740]=9131,He[63741]=9132,He[63742]=9133,He[63726]=9121,He[63727]=9122,He[63728]=9123,He[63737]=9124,He[63738]=9125,He[63739]=9126,He[63723]=9115,He[63724]=9116,He[63725]=9117,He[63734]=9118,He[63735]=9119,He[63736]=9120});function Fe(He){return He>=65520&&He<=65535?0:He>=62976&&He<=63743?xe()[He]||He:He===173?45:He}function Te(He,je){let Xe=je[He];if(Xe!==void 0)return Xe;if(!He)return-1;if(He[0]==="u"){const St=He.length;let qe;if(St===7&&He[1]==="n"&&He[2]==="i")qe=He.substring(3);else if(St>=5&&St<=7)qe=He.substring(1);else return-1;if(qe===qe.toUpperCase()&&(Xe=parseInt(qe,16),Xe>=0))return Xe}return-1}const e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function ke(He){for(let je=0,Xe=e.length;je<Xe;je++){const St=e[je];if(He>=St.begin&&He<St.end)return je}return-1}function Oe(He){let je=e[13];return He>=je.begin&&He<je.end||(je=e[11],He>=je.begin&&He<je.end)}const Ee=(0,t.getArrayLookupTableFactory)(function(){return["\xA8"," \u0308","\xAF"," \u0304","\xB4"," \u0301","\xB5","\u03BC","\xB8"," \u0327","\u0132","IJ","\u0133","ij","\u013F","L\xB7","\u0140","l\xB7","\u0149","\u02BCn","\u017F","s","\u01C4","D\u017D","\u01C5","D\u017E","\u01C6","d\u017E","\u01C7","LJ","\u01C8","Lj","\u01C9","lj","\u01CA","NJ","\u01CB","Nj","\u01CC","nj","\u01F1","DZ","\u01F2","Dz","\u01F3","dz","\u02D8"," \u0306","\u02D9"," \u0307","\u02DA"," \u030A","\u02DB"," \u0328","\u02DC"," \u0303","\u02DD"," \u030B","\u037A"," \u0345","\u0384"," \u0301","\u03D0","\u03B2","\u03D1","\u03B8","\u03D2","\u03A5","\u03D5","\u03C6","\u03D6","\u03C0","\u03F0","\u03BA","\u03F1","\u03C1","\u03F2","\u03C2","\u03F4","\u0398","\u03F5","\u03B5","\u03F9","\u03A3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06C7\u0674","\u0678","\u064A\u0674","\u0E33","\u0E4D\u0E32","\u0EB3","\u0ECD\u0EB2","\u0EDC","\u0EAB\u0E99","\u0EDD","\u0EAB\u0EA1","\u0F77","\u0FB2\u0F81","\u0F79","\u0FB3\u0F81","\u1E9A","a\u02BE","\u1FBD"," \u0313","\u1FBF"," \u0313","\u1FC0"," \u0342","\u1FFE"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200A"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203C","!!","\u203E"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205F"," ","\u20A8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xB0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xB0F","\u2116","No","\u2121","TEL","\u2135","\u05D0","\u2136","\u05D1","\u2137","\u05D2","\u2138","\u05D3","\u213B","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216A","XI","\u216B","XII","\u216C","L","\u216D","C","\u216E","D","\u216F","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217A","xi","\u217B","xii","\u217C","l","\u217D","c","\u217E","d","\u217F","m","\u222C","\u222B\u222B","\u222D","\u222B\u222B\u222B","\u222F","\u222E\u222E","\u2230","\u222E\u222E\u222E","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247A","(7)","\u247B","(8)","\u247C","(9)","\u247D","(10)","\u247E","(11)","\u247F","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248A","3.","\u248B","4.","\u248C","5.","\u248D","6.","\u248E","7.","\u248F","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249A","19.","\u249B","20.","\u249C","(a)","\u249D","(b)","\u249E","(c)","\u249F","(d)","\u24A0","(e)","\u24A1","(f)","\u24A2","(g)","\u24A3","(h)","\u24A4","(i)","\u24A5","(j)","\u24A6","(k)","\u24A7","(l)","\u24A8","(m)","\u24A9","(n)","\u24AA","(o)","\u24AB","(p)","\u24AC","(q)","\u24AD","(r)","\u24AE","(s)","\u24AF","(t)","\u24B0","(u)","\u24B1","(v)","\u24B2","(w)","\u24B3","(x)","\u24B4","(y)","\u24B5","(z)","\u2A0C","\u222B\u222B\u222B\u222B","\u2A74","::=","\u2A75","==","\u2A76","===","\u2E9F","\u6BCD","\u2EF3","\u9F9F","\u2F00","\u4E00","\u2F01","\u4E28","\u2F02","\u4E36","\u2F03","\u4E3F","\u2F04","\u4E59","\u2F05","\u4E85","\u2F06","\u4E8C","\u2F07","\u4EA0","\u2F08","\u4EBA","\u2F09","\u513F","\u2F0A","\u5165","\u2F0B","\u516B","\u2F0C","\u5182","\u2F0D","\u5196","\u2F0E","\u51AB","\u2F0F","\u51E0","\u2F10","\u51F5","\u2F11","\u5200","\u2F12","\u529B","\u2F13","\u52F9","\u2F14","\u5315","\u2F15","\u531A","\u2F16","\u5338","\u2F17","\u5341","\u2F18","\u535C","\u2F19","\u5369","\u2F1A","\u5382","\u2F1B","\u53B6","\u2F1C","\u53C8","\u2F1D","\u53E3","\u2F1E","\u56D7","\u2F1F","\u571F","\u2F20","\u58EB","\u2F21","\u5902","\u2F22","\u590A","\u2F23","\u5915","\u2F24","\u5927","\u2F25","\u5973","\u2F26","\u5B50","\u2F27","\u5B80","\u2F28","\u5BF8","\u2F29","\u5C0F","\u2F2A","\u5C22","\u2F2B","\u5C38","\u2F2C","\u5C6E","\u2F2D","\u5C71","\u2F2E","\u5DDB","\u2F2F","\u5DE5","\u2F30","\u5DF1","\u2F31","\u5DFE","\u2F32","\u5E72","\u2F33","\u5E7A","\u2F34","\u5E7F","\u2F35","\u5EF4","\u2F36","\u5EFE","\u2F37","\u5F0B","\u2F38","\u5F13","\u2F39","\u5F50","\u2F3A","\u5F61","\u2F3B","\u5F73","\u2F3C","\u5FC3","\u2F3D","\u6208","\u2F3E","\u6236","\u2F3F","\u624B","\u2F40","\u652F","\u2F41","\u6534","\u2F42","\u6587","\u2F43","\u6597","\u2F44","\u65A4","\u2F45","\u65B9","\u2F46","\u65E0","\u2F47","\u65E5","\u2F48","\u66F0","\u2F49","\u6708","\u2F4A","\u6728","\u2F4B","\u6B20","\u2F4C","\u6B62","\u2F4D","\u6B79","\u2F4E","\u6BB3","\u2F4F","\u6BCB","\u2F50","\u6BD4","\u2F51","\u6BDB","\u2F52","\u6C0F","\u2F53","\u6C14","\u2F54","\u6C34","\u2F55","\u706B","\u2F56","\u722A","\u2F57","\u7236","\u2F58","\u723B","\u2F59","\u723F","\u2F5A","\u7247","\u2F5B","\u7259","\u2F5C","\u725B","\u2F5D","\u72AC","\u2F5E","\u7384","\u2F5F","\u7389","\u2F60","\u74DC","\u2F61","\u74E6","\u2F62","\u7518","\u2F63","\u751F","\u2F64","\u7528","\u2F65","\u7530","\u2F66","\u758B","\u2F67","\u7592","\u2F68","\u7676","\u2F69","\u767D","\u2F6A","\u76AE","\u2F6B","\u76BF","\u2F6C","\u76EE","\u2F6D","\u77DB","\u2F6E","\u77E2","\u2F6F","\u77F3","\u2F70","\u793A","\u2F71","\u79B8","\u2F72","\u79BE","\u2F73","\u7A74","\u2F74","\u7ACB","\u2F75","\u7AF9","\u2F76","\u7C73","\u2F77","\u7CF8","\u2F78","\u7F36","\u2F79","\u7F51","\u2F7A","\u7F8A","\u2F7B","\u7FBD","\u2F7C","\u8001","\u2F7D","\u800C","\u2F7E","\u8012","\u2F7F","\u8033","\u2F80","\u807F","\u2F81","\u8089","\u2F82","\u81E3","\u2F83","\u81EA","\u2F84","\u81F3","\u2F85","\u81FC","\u2F86","\u820C","\u2F87","\u821B","\u2F88","\u821F","\u2F89","\u826E","\u2F8A","\u8272","\u2F8B","\u8278","\u2F8C","\u864D","\u2F8D","\u866B","\u2F8E","\u8840","\u2F8F","\u884C","\u2F90","\u8863","\u2F91","\u897E","\u2F92","\u898B","\u2F93","\u89D2","\u2F94","\u8A00","\u2F95","\u8C37","\u2F96","\u8C46","\u2F97","\u8C55","\u2F98","\u8C78","\u2F99","\u8C9D","\u2F9A","\u8D64","\u2F9B","\u8D70","\u2F9C","\u8DB3","\u2F9D","\u8EAB","\u2F9E","\u8ECA","\u2F9F","\u8F9B","\u2FA0","\u8FB0","\u2FA1","\u8FB5","\u2FA2","\u9091","\u2FA3","\u9149","\u2FA4","\u91C6","\u2FA5","\u91CC","\u2FA6","\u91D1","\u2FA7","\u9577","\u2FA8","\u9580","\u2FA9","\u961C","\u2FAA","\u96B6","\u2FAB","\u96B9","\u2FAC","\u96E8","\u2FAD","\u9751","\u2FAE","\u975E","\u2FAF","\u9762","\u2FB0","\u9769","\u2FB1","\u97CB","\u2FB2","\u97ED","\u2FB3","\u97F3","\u2FB4","\u9801","\u2FB5","\u98A8","\u2FB6","\u98DB","\u2FB7","\u98DF","\u2FB8","\u9996","\u2FB9","\u9999","\u2FBA","\u99AC","\u2FBB","\u9AA8","\u2FBC","\u9AD8","\u2FBD","\u9ADF","\u2FBE","\u9B25","\u2FBF","\u9B2F","\u2FC0","\u9B32","\u2FC1","\u9B3C","\u2FC2","\u9B5A","\u2FC3","\u9CE5","\u2FC4","\u9E75","\u2FC5","\u9E7F","\u2FC6","\u9EA5","\u2FC7","\u9EBB","\u2FC8","\u9EC3","\u2FC9","\u9ECD","\u2FCA","\u9ED1","\u2FCB","\u9EF9","\u2FCC","\u9EFD","\u2FCD","\u9F0E","\u2FCE","\u9F13","\u2FCF","\u9F20","\u2FD0","\u9F3B","\u2FD1","\u9F4A","\u2FD2","\u9F52","\u2FD3","\u9F8D","\u2FD4","\u9F9C","\u2FD5","\u9FA0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303A","\u5345","\u309B"," \u3099","\u309C"," \u309A","\u3131","\u1100","\u3132","\u1101","\u3133","\u11AA","\u3134","\u1102","\u3135","\u11AC","\u3136","\u11AD","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313A","\u11B0","\u313B","\u11B1","\u313C","\u11B2","\u313D","\u11B3","\u313E","\u11B4","\u313F","\u11B5","\u3140","\u111A","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110A","\u3147","\u110B","\u3148","\u110C","\u3149","\u110D","\u314A","\u110E","\u314B","\u110F","\u314C","\u1110","\u314D","\u1111","\u314E","\u1112","\u314F","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116A","\u3159","\u116B","\u315A","\u116C","\u315B","\u116D","\u315C","\u116E","\u315D","\u116F","\u315E","\u1170","\u315F","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11C7","\u3168","\u11C8","\u3169","\u11CC","\u316A","\u11CE","\u316B","\u11D3","\u316C","\u11D7","\u316D","\u11D9","\u316E","\u111C","\u316F","\u11DD","\u3170","\u11DF","\u3171","\u111D","\u3172","\u111E","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112B","\u3179","\u112C","\u317A","\u112D","\u317B","\u112E","\u317C","\u112F","\u317D","\u1132","\u317E","\u1136","\u317F","\u1140","\u3180","\u1147","\u3181","\u114C","\u3182","\u11F1","\u3183","\u11F2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318A","\u1191","\u318B","\u1192","\u318C","\u1194","\u318D","\u119E","\u318E","\u11A1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110B)","\u3208","(\u110C)","\u3209","(\u110E)","\u320A","(\u110F)","\u320B","(\u1110)","\u320C","(\u1111)","\u320D","(\u1112)","\u320E","(\u1100\u1161)","\u320F","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110B\u1161)","\u3216","(\u110C\u1161)","\u3217","(\u110E\u1161)","\u3218","(\u110F\u1161)","\u3219","(\u1110\u1161)","\u321A","(\u1111\u1161)","\u321B","(\u1112\u1161)","\u321C","(\u110C\u116E)","\u321D","(\u110B\u1169\u110C\u1165\u11AB)","\u321E","(\u110B\u1169\u1112\u116E)","\u3220","(\u4E00)","\u3221","(\u4E8C)","\u3222","(\u4E09)","\u3223","(\u56DB)","\u3224","(\u4E94)","\u3225","(\u516D)","\u3226","(\u4E03)","\u3227","(\u516B)","\u3228","(\u4E5D)","\u3229","(\u5341)","\u322A","(\u6708)","\u322B","(\u706B)","\u322C","(\u6C34)","\u322D","(\u6728)","\u322E","(\u91D1)","\u322F","(\u571F)","\u3230","(\u65E5)","\u3231","(\u682A)","\u3232","(\u6709)","\u3233","(\u793E)","\u3234","(\u540D)","\u3235","(\u7279)","\u3236","(\u8CA1)","\u3237","(\u795D)","\u3238","(\u52B4)","\u3239","(\u4EE3)","\u323A","(\u547C)","\u323B","(\u5B66)","\u323C","(\u76E3)","\u323D","(\u4F01)","\u323E","(\u8CC7)","\u323F","(\u5354)","\u3240","(\u796D)","\u3241","(\u4F11)","\u3242","(\u81EA)","\u3243","(\u81F3)","\u32C0","1\u6708","\u32C1","2\u6708","\u32C2","3\u6708","\u32C3","4\u6708","\u32C4","5\u6708","\u32C5","6\u6708","\u32C6","7\u6708","\u32C7","8\u6708","\u32C8","9\u6708","\u32C9","10\u6708","\u32CA","11\u6708","\u32CB","12\u6708","\u3358","0\u70B9","\u3359","1\u70B9","\u335A","2\u70B9","\u335B","3\u70B9","\u335C","4\u70B9","\u335D","5\u70B9","\u335E","6\u70B9","\u335F","7\u70B9","\u3360","8\u70B9","\u3361","9\u70B9","\u3362","10\u70B9","\u3363","11\u70B9","\u3364","12\u70B9","\u3365","13\u70B9","\u3366","14\u70B9","\u3367","15\u70B9","\u3368","16\u70B9","\u3369","17\u70B9","\u336A","18\u70B9","\u336B","19\u70B9","\u336C","20\u70B9","\u336D","21\u70B9","\u336E","22\u70B9","\u336F","23\u70B9","\u3370","24\u70B9","\u33E0","1\u65E5","\u33E1","2\u65E5","\u33E2","3\u65E5","\u33E3","4\u65E5","\u33E4","5\u65E5","\u33E5","6\u65E5","\u33E6","7\u65E5","\u33E7","8\u65E5","\u33E8","9\u65E5","\u33E9","10\u65E5","\u33EA","11\u65E5","\u33EB","12\u65E5","\u33EC","13\u65E5","\u33ED","14\u65E5","\u33EE","15\u65E5","\u33EF","16\u65E5","\u33F0","17\u65E5","\u33F1","18\u65E5","\u33F2","19\u65E5","\u33F3","20\u65E5","\u33F4","21\u65E5","\u33F5","22\u65E5","\u33F6","23\u65E5","\u33F7","24\u65E5","\u33F8","25\u65E5","\u33F9","26\u65E5","\u33FA","27\u65E5","\u33FB","28\u65E5","\u33FC","29\u65E5","\u33FD","30\u65E5","\u33FE","31\u65E5","\uFB00","ff","\uFB01","fi","\uFB02","fl","\uFB03","ffi","\uFB04","ffl","\uFB05","\u017Ft","\uFB06","st","\uFB13","\u0574\u0576","\uFB14","\u0574\u0565","\uFB15","\u0574\u056B","\uFB16","\u057E\u0576","\uFB17","\u0574\u056D","\uFB4F","\u05D0\u05DC","\uFB50","\u0671","\uFB51","\u0671","\uFB52","\u067B","\uFB53","\u067B","\uFB54","\u067B","\uFB55","\u067B","\uFB56","\u067E","\uFB57","\u067E","\uFB58","\u067E","\uFB59","\u067E","\uFB5A","\u0680","\uFB5B","\u0680","\uFB5C","\u0680","\uFB5D","\u0680","\uFB5E","\u067A","\uFB5F","\u067A","\uFB60","\u067A","\uFB61","\u067A","\uFB62","\u067F","\uFB63","\u067F","\uFB64","\u067F","\uFB65","\u067F","\uFB66","\u0679","\uFB67","\u0679","\uFB68","\u0679","\uFB69","\u0679","\uFB6A","\u06A4","\uFB6B","\u06A4","\uFB6C","\u06A4","\uFB6D","\u06A4","\uFB6E","\u06A6","\uFB6F","\u06A6","\uFB70","\u06A6","\uFB71","\u06A6","\uFB72","\u0684","\uFB73","\u0684","\uFB74","\u0684","\uFB75","\u0684","\uFB76","\u0683","\uFB77","\u0683","\uFB78","\u0683","\uFB79","\u0683","\uFB7A","\u0686","\uFB7B","\u0686","\uFB7C","\u0686","\uFB7D","\u0686","\uFB7E","\u0687","\uFB7F","\u0687","\uFB80","\u0687","\uFB81","\u0687","\uFB82","\u068D","\uFB83","\u068D","\uFB84","\u068C","\uFB85","\u068C","\uFB86","\u068E","\uFB87","\u068E","\uFB88","\u0688","\uFB89","\u0688","\uFB8A","\u0698","\uFB8B","\u0698","\uFB8C","\u0691","\uFB8D","\u0691","\uFB8E","\u06A9","\uFB8F","\u06A9","\uFB90","\u06A9","\uFB91","\u06A9","\uFB92","\u06AF","\uFB93","\u06AF","\uFB94","\u06AF","\uFB95","\u06AF","\uFB96","\u06B3","\uFB97","\u06B3","\uFB98","\u06B3","\uFB99","\u06B3","\uFB9A","\u06B1","\uFB9B","\u06B1","\uFB9C","\u06B1","\uFB9D","\u06B1","\uFB9E","\u06BA","\uFB9F","\u06BA","\uFBA0","\u06BB","\uFBA1","\u06BB","\uFBA2","\u06BB","\uFBA3","\u06BB","\uFBA4","\u06C0","\uFBA5","\u06C0","\uFBA6","\u06C1","\uFBA7","\u06C1","\uFBA8","\u06C1","\uFBA9","\u06C1","\uFBAA","\u06BE","\uFBAB","\u06BE","\uFBAC","\u06BE","\uFBAD","\u06BE","\uFBAE","\u06D2","\uFBAF","\u06D2","\uFBB0","\u06D3","\uFBB1","\u06D3","\uFBD3","\u06AD","\uFBD4","\u06AD","\uFBD5","\u06AD","\uFBD6","\u06AD","\uFBD7","\u06C7","\uFBD8","\u06C7","\uFBD9","\u06C6","\uFBDA","\u06C6","\uFBDB","\u06C8","\uFBDC","\u06C8","\uFBDD","\u0677","\uFBDE","\u06CB","\uFBDF","\u06CB","\uFBE0","\u06C5","\uFBE1","\u06C5","\uFBE2","\u06C9","\uFBE3","\u06C9","\uFBE4","\u06D0","\uFBE5","\u06D0","\uFBE6","\u06D0","\uFBE7","\u06D0","\uFBE8","\u0649","\uFBE9","\u0649","\uFBEA","\u0626\u0627","\uFBEB","\u0626\u0627","\uFBEC","\u0626\u06D5","\uFBED","\u0626\u06D5","\uFBEE","\u0626\u0648","\uFBEF","\u0626\u0648","\uFBF0","\u0626\u06C7","\uFBF1","\u0626\u06C7","\uFBF2","\u0626\u06C6","\uFBF3","\u0626\u06C6","\uFBF4","\u0626\u06C8","\uFBF5","\u0626\u06C8","\uFBF6","\u0626\u06D0","\uFBF7","\u0626\u06D0","\uFBF8","\u0626\u06D0","\uFBF9","\u0626\u0649","\uFBFA","\u0626\u0649","\uFBFB","\u0626\u0649","\uFBFC","\u06CC","\uFBFD","\u06CC","\uFBFE","\u06CC","\uFBFF","\u06CC","\uFC00","\u0626\u062C","\uFC01","\u0626\u062D","\uFC02","\u0626\u0645","\uFC03","\u0626\u0649","\uFC04","\u0626\u064A","\uFC05","\u0628\u062C","\uFC06","\u0628\u062D","\uFC07","\u0628\u062E","\uFC08","\u0628\u0645","\uFC09","\u0628\u0649","\uFC0A","\u0628\u064A","\uFC0B","\u062A\u062C","\uFC0C","\u062A\u062D","\uFC0D","\u062A\u062E","\uFC0E","\u062A\u0645","\uFC0F","\u062A\u0649","\uFC10","\u062A\u064A","\uFC11","\u062B\u062C","\uFC12","\u062B\u0645","\uFC13","\u062B\u0649","\uFC14","\u062B\u064A","\uFC15","\u062C\u062D","\uFC16","\u062C\u0645","\uFC17","\u062D\u062C","\uFC18","\u062D\u0645","\uFC19","\u062E\u062C","\uFC1A","\u062E\u062D","\uFC1B","\u062E\u0645","\uFC1C","\u0633\u062C","\uFC1D","\u0633\u062D","\uFC1E","\u0633\u062E","\uFC1F","\u0633\u0645","\uFC20","\u0635\u062D","\uFC21","\u0635\u0645","\uFC22","\u0636\u062C","\uFC23","\u0636\u062D","\uFC24","\u0636\u062E","\uFC25","\u0636\u0645","\uFC26","\u0637\u062D","\uFC27","\u0637\u0645","\uFC28","\u0638\u0645","\uFC29","\u0639\u062C","\uFC2A","\u0639\u0645","\uFC2B","\u063A\u062C","\uFC2C","\u063A\u0645","\uFC2D","\u0641\u062C","\uFC2E","\u0641\u062D","\uFC2F","\u0641\u062E","\uFC30","\u0641\u0645","\uFC31","\u0641\u0649","\uFC32","\u0641\u064A","\uFC33","\u0642\u062D","\uFC34","\u0642\u0645","\uFC35","\u0642\u0649","\uFC36","\u0642\u064A","\uFC37","\u0643\u0627","\uFC38","\u0643\u062C","\uFC39","\u0643\u062D","\uFC3A","\u0643\u062E","\uFC3B","\u0643\u0644","\uFC3C","\u0643\u0645","\uFC3D","\u0643\u0649","\uFC3E","\u0643\u064A","\uFC3F","\u0644\u062C","\uFC40","\u0644\u062D","\uFC41","\u0644\u062E","\uFC42","\u0644\u0645","\uFC43","\u0644\u0649","\uFC44","\u0644\u064A","\uFC45","\u0645\u062C","\uFC46","\u0645\u062D","\uFC47","\u0645\u062E","\uFC48","\u0645\u0645","\uFC49","\u0645\u0649","\uFC4A","\u0645\u064A","\uFC4B","\u0646\u062C","\uFC4C","\u0646\u062D","\uFC4D","\u0646\u062E","\uFC4E","\u0646\u0645","\uFC4F","\u0646\u0649","\uFC50","\u0646\u064A","\uFC51","\u0647\u062C","\uFC52","\u0647\u0645","\uFC53","\u0647\u0649","\uFC54","\u0647\u064A","\uFC55","\u064A\u062C","\uFC56","\u064A\u062D","\uFC57","\u064A\u062E","\uFC58","\u064A\u0645","\uFC59","\u064A\u0649","\uFC5A","\u064A\u064A","\uFC5B","\u0630\u0670","\uFC5C","\u0631\u0670","\uFC5D","\u0649\u0670","\uFC5E"," \u064C\u0651","\uFC5F"," \u064D\u0651","\uFC60"," \u064E\u0651","\uFC61"," \u064F\u0651","\uFC62"," \u0650\u0651","\uFC63"," \u0651\u0670","\uFC64","\u0626\u0631","\uFC65","\u0626\u0632","\uFC66","\u0626\u0645","\uFC67","\u0626\u0646","\uFC68","\u0626\u0649","\uFC69","\u0626\u064A","\uFC6A","\u0628\u0631","\uFC6B","\u0628\u0632","\uFC6C","\u0628\u0645","\uFC6D","\u0628\u0646","\uFC6E","\u0628\u0649","\uFC6F","\u0628\u064A","\uFC70","\u062A\u0631","\uFC71","\u062A\u0632","\uFC72","\u062A\u0645","\uFC73","\u062A\u0646","\uFC74","\u062A\u0649","\uFC75","\u062A\u064A","\uFC76","\u062B\u0631","\uFC77","\u062B\u0632","\uFC78","\u062B\u0645","\uFC79","\u062B\u0646","\uFC7A","\u062B\u0649","\uFC7B","\u062B\u064A","\uFC7C","\u0641\u0649","\uFC7D","\u0641\u064A","\uFC7E","\u0642\u0649","\uFC7F","\u0642\u064A","\uFC80","\u0643\u0627","\uFC81","\u0643\u0644","\uFC82","\u0643\u0645","\uFC83","\u0643\u0649","\uFC84","\u0643\u064A","\uFC85","\u0644\u0645","\uFC86","\u0644\u0649","\uFC87","\u0644\u064A","\uFC88","\u0645\u0627","\uFC89","\u0645\u0645","\uFC8A","\u0646\u0631","\uFC8B","\u0646\u0632","\uFC8C","\u0646\u0645","\uFC8D","\u0646\u0646","\uFC8E","\u0646\u0649","\uFC8F","\u0646\u064A","\uFC90","\u0649\u0670","\uFC91","\u064A\u0631","\uFC92","\u064A\u0632","\uFC93","\u064A\u0645","\uFC94","\u064A\u0646","\uFC95","\u064A\u0649","\uFC96","\u064A\u064A","\uFC97","\u0626\u062C","\uFC98","\u0626\u062D","\uFC99","\u0626\u062E","\uFC9A","\u0626\u0645","\uFC9B","\u0626\u0647","\uFC9C","\u0628\u062C","\uFC9D","\u0628\u062D","\uFC9E","\u0628\u062E","\uFC9F","\u0628\u0645","\uFCA0","\u0628\u0647","\uFCA1","\u062A\u062C","\uFCA2","\u062A\u062D","\uFCA3","\u062A\u062E","\uFCA4","\u062A\u0645","\uFCA5","\u062A\u0647","\uFCA6","\u062B\u0645","\uFCA7","\u062C\u062D","\uFCA8","\u062C\u0645","\uFCA9","\u062D\u062C","\uFCAA","\u062D\u0645","\uFCAB","\u062E\u062C","\uFCAC","\u062E\u0645","\uFCAD","\u0633\u062C","\uFCAE","\u0633\u062D","\uFCAF","\u0633\u062E","\uFCB0","\u0633\u0645","\uFCB1","\u0635\u062D","\uFCB2","\u0635\u062E","\uFCB3","\u0635\u0645","\uFCB4","\u0636\u062C","\uFCB5","\u0636\u062D","\uFCB6","\u0636\u062E","\uFCB7","\u0636\u0645","\uFCB8","\u0637\u062D","\uFCB9","\u0638\u0645","\uFCBA","\u0639\u062C","\uFCBB","\u0639\u0645","\uFCBC","\u063A\u062C","\uFCBD","\u063A\u0645","\uFCBE","\u0641\u062C","\uFCBF","\u0641\u062D","\uFCC0","\u0641\u062E","\uFCC1","\u0641\u0645","\uFCC2","\u0642\u062D","\uFCC3","\u0642\u0645","\uFCC4","\u0643\u062C","\uFCC5","\u0643\u062D","\uFCC6","\u0643\u062E","\uFCC7","\u0643\u0644","\uFCC8","\u0643\u0645","\uFCC9","\u0644\u062C","\uFCCA","\u0644\u062D","\uFCCB","\u0644\u062E","\uFCCC","\u0644\u0645","\uFCCD","\u0644\u0647","\uFCCE","\u0645\u062C","\uFCCF","\u0645\u062D","\uFCD0","\u0645\u062E","\uFCD1","\u0645\u0645","\uFCD2","\u0646\u062C","\uFCD3","\u0646\u062D","\uFCD4","\u0646\u062E","\uFCD5","\u0646\u0645","\uFCD6","\u0646\u0647","\uFCD7","\u0647\u062C","\uFCD8","\u0647\u0645","\uFCD9","\u0647\u0670","\uFCDA","\u064A\u062C","\uFCDB","\u064A\u062D","\uFCDC","\u064A\u062E","\uFCDD","\u064A\u0645","\uFCDE","\u064A\u0647","\uFCDF","\u0626\u0645","\uFCE0","\u0626\u0647","\uFCE1","\u0628\u0645","\uFCE2","\u0628\u0647","\uFCE3","\u062A\u0645","\uFCE4","\u062A\u0647","\uFCE5","\u062B\u0645","\uFCE6","\u062B\u0647","\uFCE7","\u0633\u0645","\uFCE8","\u0633\u0647","\uFCE9","\u0634\u0645","\uFCEA","\u0634\u0647","\uFCEB","\u0643\u0644","\uFCEC","\u0643\u0645","\uFCED","\u0644\u0645","\uFCEE","\u0646\u0645","\uFCEF","\u0646\u0647","\uFCF0","\u064A\u0645","\uFCF1","\u064A\u0647","\uFCF2","\u0640\u064E\u0651","\uFCF3","\u0640\u064F\u0651","\uFCF4","\u0640\u0650\u0651","\uFCF5","\u0637\u0649","\uFCF6","\u0637\u064A","\uFCF7","\u0639\u0649","\uFCF8","\u0639\u064A","\uFCF9","\u063A\u0649","\uFCFA","\u063A\u064A","\uFCFB","\u0633\u0649","\uFCFC","\u0633\u064A","\uFCFD","\u0634\u0649","\uFCFE","\u0634\u064A","\uFCFF","\u062D\u0649","\uFD00","\u062D\u064A","\uFD01","\u062C\u0649","\uFD02","\u062C\u064A","\uFD03","\u062E\u0649","\uFD04","\u062E\u064A","\uFD05","\u0635\u0649","\uFD06","\u0635\u064A","\uFD07","\u0636\u0649","\uFD08","\u0636\u064A","\uFD09","\u0634\u062C","\uFD0A","\u0634\u062D","\uFD0B","\u0634\u062E","\uFD0C","\u0634\u0645","\uFD0D","\u0634\u0631","\uFD0E","\u0633\u0631","\uFD0F","\u0635\u0631","\uFD10","\u0636\u0631","\uFD11","\u0637\u0649","\uFD12","\u0637\u064A","\uFD13","\u0639\u0649","\uFD14","\u0639\u064A","\uFD15","\u063A\u0649","\uFD16","\u063A\u064A","\uFD17","\u0633\u0649","\uFD18","\u0633\u064A","\uFD19","\u0634\u0649","\uFD1A","\u0634\u064A","\uFD1B","\u062D\u0649","\uFD1C","\u062D\u064A","\uFD1D","\u062C\u0649","\uFD1E","\u062C\u064A","\uFD1F","\u062E\u0649","\uFD20","\u062E\u064A","\uFD21","\u0635\u0649","\uFD22","\u0635\u064A","\uFD23","\u0636\u0649","\uFD24","\u0636\u064A","\uFD25","\u0634\u062C","\uFD26","\u0634\u062D","\uFD27","\u0634\u062E","\uFD28","\u0634\u0645","\uFD29","\u0634\u0631","\uFD2A","\u0633\u0631","\uFD2B","\u0635\u0631","\uFD2C","\u0636\u0631","\uFD2D","\u0634\u062C","\uFD2E","\u0634\u062D","\uFD2F","\u0634\u062E","\uFD30","\u0634\u0645","\uFD31","\u0633\u0647","\uFD32","\u0634\u0647","\uFD33","\u0637\u0645","\uFD34","\u0633\u062C","\uFD35","\u0633\u062D","\uFD36","\u0633\u062E","\uFD37","\u0634\u062C","\uFD38","\u0634\u062D","\uFD39","\u0634\u062E","\uFD3A","\u0637\u0645","\uFD3B","\u0638\u0645","\uFD3C","\u0627\u064B","\uFD3D","\u0627\u064B","\uFD50","\u062A\u062C\u0645","\uFD51","\u062A\u062D\u062C","\uFD52","\u062A\u062D\u062C","\uFD53","\u062A\u062D\u0645","\uFD54","\u062A\u062E\u0645","\uFD55","\u062A\u0645\u062C","\uFD56","\u062A\u0645\u062D","\uFD57","\u062A\u0645\u062E","\uFD58","\u062C\u0645\u062D","\uFD59","\u062C\u0645\u062D","\uFD5A","\u062D\u0645\u064A","\uFD5B","\u062D\u0645\u0649","\uFD5C","\u0633\u062D\u062C","\uFD5D","\u0633\u062C\u062D","\uFD5E","\u0633\u062C\u0649","\uFD5F","\u0633\u0645\u062D","\uFD60","\u0633\u0645\u062D","\uFD61","\u0633\u0645\u062C","\uFD62","\u0633\u0645\u0645","\uFD63","\u0633\u0645\u0645","\uFD64","\u0635\u062D\u062D","\uFD65","\u0635\u062D\u062D","\uFD66","\u0635\u0645\u0645","\uFD67","\u0634\u062D\u0645","\uFD68","\u0634\u062D\u0645","\uFD69","\u0634\u062C\u064A","\uFD6A","\u0634\u0645\u062E","\uFD6B","\u0634\u0645\u062E","\uFD6C","\u0634\u0645\u0645","\uFD6D","\u0634\u0645\u0645","\uFD6E","\u0636\u062D\u0649","\uFD6F","\u0636\u062E\u0645","\uFD70","\u0636\u062E\u0645","\uFD71","\u0637\u0645\u062D","\uFD72","\u0637\u0645\u062D","\uFD73","\u0637\u0645\u0645","\uFD74","\u0637\u0645\u064A","\uFD75","\u0639\u062C\u0645","\uFD76","\u0639\u0645\u0645","\uFD77","\u0639\u0645\u0645","\uFD78","\u0639\u0645\u0649","\uFD79","\u063A\u0645\u0645","\uFD7A","\u063A\u0645\u064A","\uFD7B","\u063A\u0645\u0649","\uFD7C","\u0641\u062E\u0645","\uFD7D","\u0641\u062E\u0645","\uFD7E","\u0642\u0645\u062D","\uFD7F","\u0642\u0645\u0645","\uFD80","\u0644\u062D\u0645","\uFD81","\u0644\u062D\u064A","\uFD82","\u0644\u062D\u0649","\uFD83","\u0644\u062C\u062C","\uFD84","\u0644\u062C\u062C","\uFD85","\u0644\u062E\u0645","\uFD86","\u0644\u062E\u0645","\uFD87","\u0644\u0645\u062D","\uFD88","\u0644\u0645\u062D","\uFD89","\u0645\u062D\u062C","\uFD8A","\u0645\u062D\u0645","\uFD8B","\u0645\u062D\u064A","\uFD8C","\u0645\u062C\u062D","\uFD8D","\u0645\u062C\u0645","\uFD8E","\u0645\u062E\u062C","\uFD8F","\u0645\u062E\u0645","\uFD92","\u0645\u062C\u062E","\uFD93","\u0647\u0645\u062C","\uFD94","\u0647\u0645\u0645","\uFD95","\u0646\u062D\u0645","\uFD96","\u0646\u062D\u0649","\uFD97","\u0646\u062C\u0645","\uFD98","\u0646\u062C\u0645","\uFD99","\u0646\u062C\u0649","\uFD9A","\u0646\u0645\u064A","\uFD9B","\u0646\u0645\u0649","\uFD9C","\u064A\u0645\u0645","\uFD9D","\u064A\u0645\u0645","\uFD9E","\u0628\u062E\u064A","\uFD9F","\u062A\u062C\u064A","\uFDA0","\u062A\u062C\u0649","\uFDA1","\u062A\u062E\u064A","\uFDA2","\u062A\u062E\u0649","\uFDA3","\u062A\u0645\u064A","\uFDA4","\u062A\u0645\u0649","\uFDA5","\u062C\u0645\u064A","\uFDA6","\u062C\u062D\u0649","\uFDA7","\u062C\u0645\u0649","\uFDA8","\u0633\u062E\u0649","\uFDA9","\u0635\u062D\u064A","\uFDAA","\u0634\u062D\u064A","\uFDAB","\u0636\u062D\u064A","\uFDAC","\u0644\u062C\u064A","\uFDAD","\u0644\u0645\u064A","\uFDAE","\u064A\u062D\u064A","\uFDAF","\u064A\u062C\u064A","\uFDB0","\u064A\u0645\u064A","\uFDB1","\u0645\u0645\u064A","\uFDB2","\u0642\u0645\u064A","\uFDB3","\u0646\u062D\u064A","\uFDB4","\u0642\u0645\u062D","\uFDB5","\u0644\u062D\u0645","\uFDB6","\u0639\u0645\u064A","\uFDB7","\u0643\u0645\u064A","\uFDB8","\u0646\u062C\u062D","\uFDB9","\u0645\u062E\u064A","\uFDBA","\u0644\u062C\u0645","\uFDBB","\u0643\u0645\u0645","\uFDBC","\u0644\u062C\u0645","\uFDBD","\u0646\u062C\u062D","\uFDBE","\u062C\u062D\u064A","\uFDBF","\u062D\u062C\u064A","\uFDC0","\u0645\u062C\u064A","\uFDC1","\u0641\u0645\u064A","\uFDC2","\u0628\u062D\u064A","\uFDC3","\u0643\u0645\u0645","\uFDC4","\u0639\u062C\u0645","\uFDC5","\u0635\u0645\u0645","\uFDC6","\u0633\u062E\u064A","\uFDC7","\u0646\u062C\u064A","\uFE49","\u203E","\uFE4A","\u203E","\uFE4B","\u203E","\uFE4C","\u203E","\uFE4D","_","\uFE4E","_","\uFE4F","_","\uFE80","\u0621","\uFE81","\u0622","\uFE82","\u0622","\uFE83","\u0623","\uFE84","\u0623","\uFE85","\u0624","\uFE86","\u0624","\uFE87","\u0625","\uFE88","\u0625","\uFE89","\u0626","\uFE8A","\u0626","\uFE8B","\u0626","\uFE8C","\u0626","\uFE8D","\u0627","\uFE8E","\u0627","\uFE8F","\u0628","\uFE90","\u0628","\uFE91","\u0628","\uFE92","\u0628","\uFE93","\u0629","\uFE94","\u0629","\uFE95","\u062A","\uFE96","\u062A","\uFE97","\u062A","\uFE98","\u062A","\uFE99","\u062B","\uFE9A","\u062B","\uFE9B","\u062B","\uFE9C","\u062B","\uFE9D","\u062C","\uFE9E","\u062C","\uFE9F","\u062C","\uFEA0","\u062C","\uFEA1","\u062D","\uFEA2","\u062D","\uFEA3","\u062D","\uFEA4","\u062D","\uFEA5","\u062E","\uFEA6","\u062E","\uFEA7","\u062E","\uFEA8","\u062E","\uFEA9","\u062F","\uFEAA","\u062F","\uFEAB","\u0630","\uFEAC","\u0630","\uFEAD","\u0631","\uFEAE","\u0631","\uFEAF","\u0632","\uFEB0","\u0632","\uFEB1","\u0633","\uFEB2","\u0633","\uFEB3","\u0633","\uFEB4","\u0633","\uFEB5","\u0634","\uFEB6","\u0634","\uFEB7","\u0634","\uFEB8","\u0634","\uFEB9","\u0635","\uFEBA","\u0635","\uFEBB","\u0635","\uFEBC","\u0635","\uFEBD","\u0636","\uFEBE","\u0636","\uFEBF","\u0636","\uFEC0","\u0636","\uFEC1","\u0637","\uFEC2","\u0637","\uFEC3","\u0637","\uFEC4","\u0637","\uFEC5","\u0638","\uFEC6","\u0638","\uFEC7","\u0638","\uFEC8","\u0638","\uFEC9","\u0639","\uFECA","\u0639","\uFECB","\u0639","\uFECC","\u0639","\uFECD","\u063A","\uFECE","\u063A","\uFECF","\u063A","\uFED0","\u063A","\uFED1","\u0641","\uFED2","\u0641","\uFED3","\u0641","\uFED4","\u0641","\uFED5","\u0642","\uFED6","\u0642","\uFED7","\u0642","\uFED8","\u0642","\uFED9","\u0643","\uFEDA","\u0643","\uFEDB","\u0643","\uFEDC","\u0643","\uFEDD","\u0644","\uFEDE","\u0644","\uFEDF","\u0644","\uFEE0","\u0644","\uFEE1","\u0645","\uFEE2","\u0645","\uFEE3","\u0645","\uFEE4","\u0645","\uFEE5","\u0646","\uFEE6","\u0646","\uFEE7","\u0646","\uFEE8","\u0646","\uFEE9","\u0647","\uFEEA","\u0647","\uFEEB","\u0647","\uFEEC","\u0647","\uFEED","\u0648","\uFEEE","\u0648","\uFEEF","\u0649","\uFEF0","\u0649","\uFEF1","\u064A","\uFEF2","\u064A","\uFEF3","\u064A","\uFEF4","\u064A","\uFEF5","\u0644\u0622","\uFEF6","\u0644\u0622","\uFEF7","\u0644\u0623","\uFEF8","\u0644\u0623","\uFEF9","\u0644\u0625","\uFEFA","\u0644\u0625","\uFEFB","\u0644\u0627","\uFEFC","\u0644\u0627"]});function Pe(He){const je=He.length;if(je<=1||!Oe(He.charCodeAt(0)))return He;const Xe=[];for(let St=je-1;St>=0;St--)Xe.push(He[St]);return Xe.join("")}const De=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),Me=new Map;function Ae(He){const je=Me.get(He);if(je)return je;const Xe=He.match(De),St={isWhitespace:!!(Xe&&Xe[1]),isZeroWidthDiacritic:!!(Xe&&Xe[2]),isInvisibleFormatMark:!!(Xe&&Xe[3])};return Me.set(He,St),St}function Be(){Me.clear()}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.getSerifFonts=Se.getNonStdFontMap=Se.getGlyphMapForStandardFonts=Se.getFontNameToFileMap=void 0,Se.getStandardFontName=Me,Se.getSymbolsFonts=Se.getSupplementalGlyphMapForCalibri=Se.getSupplementalGlyphMapForArialBlack=Se.getStdFontMap=void 0;var t=_e(4),xe=_e(36);const Fe=(0,t.getLookupTableFactory)(function(Ae){Ae["Times-Roman"]="Times-Roman",Ae.Helvetica="Helvetica",Ae.Courier="Courier",Ae.Symbol="Symbol",Ae["Times-Bold"]="Times-Bold",Ae["Helvetica-Bold"]="Helvetica-Bold",Ae["Courier-Bold"]="Courier-Bold",Ae.ZapfDingbats="ZapfDingbats",Ae["Times-Italic"]="Times-Italic",Ae["Helvetica-Oblique"]="Helvetica-Oblique",Ae["Courier-Oblique"]="Courier-Oblique",Ae["Times-BoldItalic"]="Times-BoldItalic",Ae["Helvetica-BoldOblique"]="Helvetica-BoldOblique",Ae["Courier-BoldOblique"]="Courier-BoldOblique",Ae.ArialNarrow="Helvetica",Ae["ArialNarrow-Bold"]="Helvetica-Bold",Ae["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",Ae["ArialNarrow-Italic"]="Helvetica-Oblique",Ae.ArialBlack="Helvetica",Ae["ArialBlack-Bold"]="Helvetica-Bold",Ae["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",Ae["ArialBlack-Italic"]="Helvetica-Oblique",Ae["Arial-Black"]="Helvetica",Ae["Arial-Black-Bold"]="Helvetica-Bold",Ae["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",Ae["Arial-Black-Italic"]="Helvetica-Oblique",Ae.Arial="Helvetica",Ae["Arial-Bold"]="Helvetica-Bold",Ae["Arial-BoldItalic"]="Helvetica-BoldOblique",Ae["Arial-Italic"]="Helvetica-Oblique",Ae.ArialMT="Helvetica",Ae["Arial-BoldItalicMT"]="Helvetica-BoldOblique",Ae["Arial-BoldMT"]="Helvetica-Bold",Ae["Arial-ItalicMT"]="Helvetica-Oblique",Ae.ArialUnicodeMS="Helvetica",Ae["ArialUnicodeMS-Bold"]="Helvetica-Bold",Ae["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",Ae["ArialUnicodeMS-Italic"]="Helvetica-Oblique",Ae["Courier-BoldItalic"]="Courier-BoldOblique",Ae["Courier-Italic"]="Courier-Oblique",Ae.CourierNew="Courier",Ae["CourierNew-Bold"]="Courier-Bold",Ae["CourierNew-BoldItalic"]="Courier-BoldOblique",Ae["CourierNew-Italic"]="Courier-Oblique",Ae["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",Ae["CourierNewPS-BoldMT"]="Courier-Bold",Ae["CourierNewPS-ItalicMT"]="Courier-Oblique",Ae.CourierNewPSMT="Courier",Ae["Helvetica-BoldItalic"]="Helvetica-BoldOblique",Ae["Helvetica-Italic"]="Helvetica-Oblique",Ae["Symbol-Bold"]="Symbol",Ae["Symbol-BoldItalic"]="Symbol",Ae["Symbol-Italic"]="Symbol",Ae.TimesNewRoman="Times-Roman",Ae["TimesNewRoman-Bold"]="Times-Bold",Ae["TimesNewRoman-BoldItalic"]="Times-BoldItalic",Ae["TimesNewRoman-Italic"]="Times-Italic",Ae.TimesNewRomanPS="Times-Roman",Ae["TimesNewRomanPS-Bold"]="Times-Bold",Ae["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",Ae["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",Ae["TimesNewRomanPS-BoldMT"]="Times-Bold",Ae["TimesNewRomanPS-Italic"]="Times-Italic",Ae["TimesNewRomanPS-ItalicMT"]="Times-Italic",Ae.TimesNewRomanPSMT="Times-Roman",Ae["TimesNewRomanPSMT-Bold"]="Times-Bold",Ae["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",Ae["TimesNewRomanPSMT-Italic"]="Times-Italic"});Se.getStdFontMap=Fe;const Te=(0,t.getLookupTableFactory)(function(Ae){Ae.Courier="FoxitFixed.pfb",Ae["Courier-Bold"]="FoxitFixedBold.pfb",Ae["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",Ae["Courier-Oblique"]="FoxitFixedItalic.pfb",Ae.Helvetica="FoxitSans.pfb",Ae["Helvetica-Bold"]="FoxitSansBold.pfb",Ae["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",Ae["Helvetica-Oblique"]="FoxitSansItalic.pfb",Ae["Times-Roman"]="FoxitSerif.pfb",Ae["Times-Bold"]="FoxitSerifBold.pfb",Ae["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",Ae["Times-Italic"]="FoxitSerifItalic.pfb",Ae.Symbol="FoxitSymbol.pfb",Ae.ZapfDingbats="FoxitDingbats.pfb",Ae["LiberationSans-Regular"]="LiberationSans-Regular.ttf",Ae["LiberationSans-Bold"]="LiberationSans-Bold.ttf",Ae["LiberationSans-Italic"]="LiberationSans-Italic.ttf",Ae["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});Se.getFontNameToFileMap=Te;const e=(0,t.getLookupTableFactory)(function(Ae){Ae.Calibri="Helvetica",Ae["Calibri-Bold"]="Helvetica-Bold",Ae["Calibri-BoldItalic"]="Helvetica-BoldOblique",Ae["Calibri-Italic"]="Helvetica-Oblique",Ae.CenturyGothic="Helvetica",Ae["CenturyGothic-Bold"]="Helvetica-Bold",Ae["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",Ae["CenturyGothic-Italic"]="Helvetica-Oblique",Ae.ComicSansMS="Comic Sans MS",Ae["ComicSansMS-Bold"]="Comic Sans MS-Bold",Ae["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",Ae["ComicSansMS-Italic"]="Comic Sans MS-Italic",Ae["ItcSymbol-Bold"]="Helvetica-Bold",Ae["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",Ae["ItcSymbol-Book"]="Helvetica",Ae["ItcSymbol-BookItalic"]="Helvetica-Oblique",Ae["ItcSymbol-Medium"]="Helvetica",Ae["ItcSymbol-MediumItalic"]="Helvetica-Oblique",Ae.LucidaConsole="Courier",Ae["LucidaConsole-Bold"]="Courier-Bold",Ae["LucidaConsole-BoldItalic"]="Courier-BoldOblique",Ae["LucidaConsole-Italic"]="Courier-Oblique",Ae["LucidaSans-Demi"]="Helvetica-Bold",Ae["MS-Gothic"]="MS Gothic",Ae["MS-Gothic-Bold"]="MS Gothic-Bold",Ae["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",Ae["MS-Gothic-Italic"]="MS Gothic-Italic",Ae["MS-Mincho"]="MS Mincho",Ae["MS-Mincho-Bold"]="MS Mincho-Bold",Ae["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",Ae["MS-Mincho-Italic"]="MS Mincho-Italic",Ae["MS-PGothic"]="MS PGothic",Ae["MS-PGothic-Bold"]="MS PGothic-Bold",Ae["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",Ae["MS-PGothic-Italic"]="MS PGothic-Italic",Ae["MS-PMincho"]="MS PMincho",Ae["MS-PMincho-Bold"]="MS PMincho-Bold",Ae["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",Ae["MS-PMincho-Italic"]="MS PMincho-Italic",Ae.NuptialScript="Times-Italic",Ae.SegoeUISymbol="Helvetica",Ae.Wingdings="ZapfDingbats",Ae["Wingdings-Regular"]="ZapfDingbats"});Se.getNonStdFontMap=e;const ke=(0,t.getLookupTableFactory)(function(Ae){Ae["Adobe Jenson"]=!0,Ae["Adobe Text"]=!0,Ae.Albertus=!0,Ae.Aldus=!0,Ae.Alexandria=!0,Ae.Algerian=!0,Ae["American Typewriter"]=!0,Ae.Antiqua=!0,Ae.Apex=!0,Ae.Arno=!0,Ae.Aster=!0,Ae.Aurora=!0,Ae.Baskerville=!0,Ae.Bell=!0,Ae.Bembo=!0,Ae["Bembo Schoolbook"]=!0,Ae.Benguiat=!0,Ae["Berkeley Old Style"]=!0,Ae["Bernhard Modern"]=!0,Ae["Berthold City"]=!0,Ae.Bodoni=!0,Ae["Bauer Bodoni"]=!0,Ae["Book Antiqua"]=!0,Ae.Bookman=!0,Ae["Bordeaux Roman"]=!0,Ae["Californian FB"]=!0,Ae.Calisto=!0,Ae.Calvert=!0,Ae.Capitals=!0,Ae.Cambria=!0,Ae.Cartier=!0,Ae.Caslon=!0,Ae.Catull=!0,Ae.Centaur=!0,Ae["Century Old Style"]=!0,Ae["Century Schoolbook"]=!0,Ae.Chaparral=!0,Ae["Charis SIL"]=!0,Ae.Cheltenham=!0,Ae["Cholla Slab"]=!0,Ae.Clarendon=!0,Ae.Clearface=!0,Ae.Cochin=!0,Ae.Colonna=!0,Ae["Computer Modern"]=!0,Ae["Concrete Roman"]=!0,Ae.Constantia=!0,Ae["Cooper Black"]=!0,Ae.Corona=!0,Ae.Ecotype=!0,Ae.Egyptienne=!0,Ae.Elephant=!0,Ae.Excelsior=!0,Ae.Fairfield=!0,Ae["FF Scala"]=!0,Ae.Folkard=!0,Ae.Footlight=!0,Ae.FreeSerif=!0,Ae["Friz Quadrata"]=!0,Ae.Garamond=!0,Ae.Gentium=!0,Ae.Georgia=!0,Ae.Gloucester=!0,Ae["Goudy Old Style"]=!0,Ae["Goudy Schoolbook"]=!0,Ae["Goudy Pro Font"]=!0,Ae.Granjon=!0,Ae["Guardian Egyptian"]=!0,Ae.Heather=!0,Ae.Hercules=!0,Ae["High Tower Text"]=!0,Ae.Hiroshige=!0,Ae["Hoefler Text"]=!0,Ae["Humana Serif"]=!0,Ae.Imprint=!0,Ae["Ionic No. 5"]=!0,Ae.Janson=!0,Ae.Joanna=!0,Ae.Korinna=!0,Ae.Lexicon=!0,Ae.LiberationSerif=!0,Ae["Liberation Serif"]=!0,Ae["Linux Libertine"]=!0,Ae.Literaturnaya=!0,Ae.Lucida=!0,Ae["Lucida Bright"]=!0,Ae.Melior=!0,Ae.Memphis=!0,Ae.Miller=!0,Ae.Minion=!0,Ae.Modern=!0,Ae["Mona Lisa"]=!0,Ae["Mrs Eaves"]=!0,Ae["MS Serif"]=!0,Ae["Museo Slab"]=!0,Ae["New York"]=!0,Ae["Nimbus Roman"]=!0,Ae["NPS Rawlinson Roadway"]=!0,Ae.NuptialScript=!0,Ae.Palatino=!0,Ae.Perpetua=!0,Ae.Plantin=!0,Ae["Plantin Schoolbook"]=!0,Ae.Playbill=!0,Ae["Poor Richard"]=!0,Ae["Rawlinson Roadway"]=!0,Ae.Renault=!0,Ae.Requiem=!0,Ae.Rockwell=!0,Ae.Roman=!0,Ae["Rotis Serif"]=!0,Ae.Sabon=!0,Ae.Scala=!0,Ae.Seagull=!0,Ae.Sistina=!0,Ae.Souvenir=!0,Ae.STIX=!0,Ae["Stone Informal"]=!0,Ae["Stone Serif"]=!0,Ae.Sylfaen=!0,Ae.Times=!0,Ae.Trajan=!0,Ae.Trinit\u00E9=!0,Ae["Trump Mediaeval"]=!0,Ae.Utopia=!0,Ae["Vale Type"]=!0,Ae["Bitstream Vera"]=!0,Ae["Vera Serif"]=!0,Ae.Versailles=!0,Ae.Wanted=!0,Ae.Weiss=!0,Ae["Wide Latin"]=!0,Ae.Windsor=!0,Ae.XITS=!0});Se.getSerifFonts=ke;const Oe=(0,t.getLookupTableFactory)(function(Ae){Ae.Dingbats=!0,Ae.Symbol=!0,Ae.ZapfDingbats=!0});Se.getSymbolsFonts=Oe;const Ee=(0,t.getLookupTableFactory)(function(Ae){Ae[2]=10,Ae[3]=32,Ae[4]=33,Ae[5]=34,Ae[6]=35,Ae[7]=36,Ae[8]=37,Ae[9]=38,Ae[10]=39,Ae[11]=40,Ae[12]=41,Ae[13]=42,Ae[14]=43,Ae[15]=44,Ae[16]=45,Ae[17]=46,Ae[18]=47,Ae[19]=48,Ae[20]=49,Ae[21]=50,Ae[22]=51,Ae[23]=52,Ae[24]=53,Ae[25]=54,Ae[26]=55,Ae[27]=56,Ae[28]=57,Ae[29]=58,Ae[30]=894,Ae[31]=60,Ae[32]=61,Ae[33]=62,Ae[34]=63,Ae[35]=64,Ae[36]=65,Ae[37]=66,Ae[38]=67,Ae[39]=68,Ae[40]=69,Ae[41]=70,Ae[42]=71,Ae[43]=72,Ae[44]=73,Ae[45]=74,Ae[46]=75,Ae[47]=76,Ae[48]=77,Ae[49]=78,Ae[50]=79,Ae[51]=80,Ae[52]=81,Ae[53]=82,Ae[54]=83,Ae[55]=84,Ae[56]=85,Ae[57]=86,Ae[58]=87,Ae[59]=88,Ae[60]=89,Ae[61]=90,Ae[62]=91,Ae[63]=92,Ae[64]=93,Ae[65]=94,Ae[66]=95,Ae[67]=96,Ae[68]=97,Ae[69]=98,Ae[70]=99,Ae[71]=100,Ae[72]=101,Ae[73]=102,Ae[74]=103,Ae[75]=104,Ae[76]=105,Ae[77]=106,Ae[78]=107,Ae[79]=108,Ae[80]=109,Ae[81]=110,Ae[82]=111,Ae[83]=112,Ae[84]=113,Ae[85]=114,Ae[86]=115,Ae[87]=116,Ae[88]=117,Ae[89]=118,Ae[90]=119,Ae[91]=120,Ae[92]=121,Ae[93]=122,Ae[94]=123,Ae[95]=124,Ae[96]=125,Ae[97]=126,Ae[98]=196,Ae[99]=197,Ae[100]=199,Ae[101]=201,Ae[102]=209,Ae[103]=214,Ae[104]=220,Ae[105]=225,Ae[106]=224,Ae[107]=226,Ae[108]=228,Ae[109]=227,Ae[110]=229,Ae[111]=231,Ae[112]=233,Ae[113]=232,Ae[114]=234,Ae[115]=235,Ae[116]=237,Ae[117]=236,Ae[118]=238,Ae[119]=239,Ae[120]=241,Ae[121]=243,Ae[122]=242,Ae[123]=244,Ae[124]=246,Ae[125]=245,Ae[126]=250,Ae[127]=249,Ae[128]=251,Ae[129]=252,Ae[130]=8224,Ae[131]=176,Ae[132]=162,Ae[133]=163,Ae[134]=167,Ae[135]=8226,Ae[136]=182,Ae[137]=223,Ae[138]=174,Ae[139]=169,Ae[140]=8482,Ae[141]=180,Ae[142]=168,Ae[143]=8800,Ae[144]=198,Ae[145]=216,Ae[146]=8734,Ae[147]=177,Ae[148]=8804,Ae[149]=8805,Ae[150]=165,Ae[151]=181,Ae[152]=8706,Ae[153]=8721,Ae[154]=8719,Ae[156]=8747,Ae[157]=170,Ae[158]=186,Ae[159]=8486,Ae[160]=230,Ae[161]=248,Ae[162]=191,Ae[163]=161,Ae[164]=172,Ae[165]=8730,Ae[166]=402,Ae[167]=8776,Ae[168]=8710,Ae[169]=171,Ae[170]=187,Ae[171]=8230,Ae[179]=8220,Ae[180]=8221,Ae[181]=8216,Ae[182]=8217,Ae[200]=193,Ae[203]=205,Ae[210]=218,Ae[223]=711,Ae[224]=321,Ae[225]=322,Ae[226]=352,Ae[227]=353,Ae[228]=381,Ae[229]=382,Ae[233]=221,Ae[234]=253,Ae[252]=263,Ae[253]=268,Ae[254]=269,Ae[258]=258,Ae[260]=260,Ae[261]=261,Ae[265]=280,Ae[266]=281,Ae[267]=282,Ae[268]=283,Ae[269]=313,Ae[275]=323,Ae[276]=324,Ae[278]=328,Ae[283]=344,Ae[284]=345,Ae[285]=346,Ae[286]=347,Ae[292]=367,Ae[295]=377,Ae[296]=378,Ae[298]=380,Ae[305]=963,Ae[306]=964,Ae[307]=966,Ae[308]=8215,Ae[309]=8252,Ae[310]=8319,Ae[311]=8359,Ae[312]=8592,Ae[313]=8593,Ae[337]=9552,Ae[493]=1039,Ae[494]=1040,Ae[672]=1488,Ae[673]=1489,Ae[674]=1490,Ae[675]=1491,Ae[676]=1492,Ae[677]=1493,Ae[678]=1494,Ae[679]=1495,Ae[680]=1496,Ae[681]=1497,Ae[682]=1498,Ae[683]=1499,Ae[684]=1500,Ae[685]=1501,Ae[686]=1502,Ae[687]=1503,Ae[688]=1504,Ae[689]=1505,Ae[690]=1506,Ae[691]=1507,Ae[692]=1508,Ae[693]=1509,Ae[694]=1510,Ae[695]=1511,Ae[696]=1512,Ae[697]=1513,Ae[698]=1514,Ae[705]=1524,Ae[706]=8362,Ae[710]=64288,Ae[711]=64298,Ae[759]=1617,Ae[761]=1776,Ae[763]=1778,Ae[775]=1652,Ae[777]=1764,Ae[778]=1780,Ae[779]=1781,Ae[780]=1782,Ae[782]=771,Ae[783]=64726,Ae[786]=8363,Ae[788]=8532,Ae[790]=768,Ae[791]=769,Ae[792]=768,Ae[795]=803,Ae[797]=64336,Ae[798]=64337,Ae[799]=64342,Ae[800]=64343,Ae[801]=64344,Ae[802]=64345,Ae[803]=64362,Ae[804]=64363,Ae[805]=64364,Ae[2424]=7821,Ae[2425]=7822,Ae[2426]=7823,Ae[2427]=7824,Ae[2428]=7825,Ae[2429]=7826,Ae[2430]=7827,Ae[2433]=7682,Ae[2678]=8045,Ae[2679]=8046,Ae[2830]=1552,Ae[2838]=686,Ae[2840]=751,Ae[2842]=753,Ae[2843]=754,Ae[2844]=755,Ae[2846]=757,Ae[2856]=767,Ae[2857]=848,Ae[2858]=849,Ae[2862]=853,Ae[2863]=854,Ae[2864]=855,Ae[2865]=861,Ae[2866]=862,Ae[2906]=7460,Ae[2908]=7462,Ae[2909]=7463,Ae[2910]=7464,Ae[2912]=7466,Ae[2913]=7467,Ae[2914]=7468,Ae[2916]=7470,Ae[2917]=7471,Ae[2918]=7472,Ae[2920]=7474,Ae[2921]=7475,Ae[2922]=7476,Ae[2924]=7478,Ae[2925]=7479,Ae[2926]=7480,Ae[2928]=7482,Ae[2929]=7483,Ae[2930]=7484,Ae[2932]=7486,Ae[2933]=7487,Ae[2934]=7488,Ae[2936]=7490,Ae[2937]=7491,Ae[2938]=7492,Ae[2940]=7494,Ae[2941]=7495,Ae[2942]=7496,Ae[2944]=7498,Ae[2946]=7500,Ae[2948]=7502,Ae[2950]=7504,Ae[2951]=7505,Ae[2952]=7506,Ae[2954]=7508,Ae[2955]=7509,Ae[2956]=7510,Ae[2958]=7512,Ae[2959]=7513,Ae[2960]=7514,Ae[2962]=7516,Ae[2963]=7517,Ae[2964]=7518,Ae[2966]=7520,Ae[2967]=7521,Ae[2968]=7522,Ae[2970]=7524,Ae[2971]=7525,Ae[2972]=7526,Ae[2974]=7528,Ae[2975]=7529,Ae[2976]=7530,Ae[2978]=1537,Ae[2979]=1538,Ae[2980]=1539,Ae[2982]=1549,Ae[2983]=1551,Ae[2984]=1552,Ae[2986]=1554,Ae[2987]=1555,Ae[2988]=1556,Ae[2990]=1623,Ae[2991]=1624,Ae[2995]=1775,Ae[2999]=1791,Ae[3002]=64290,Ae[3003]=64291,Ae[3004]=64292,Ae[3006]=64294,Ae[3007]=64295,Ae[3008]=64296,Ae[3011]=1900,Ae[3014]=8223,Ae[3015]=8244,Ae[3017]=7532,Ae[3018]=7533,Ae[3019]=7534,Ae[3075]=7590,Ae[3076]=7591,Ae[3079]=7594,Ae[3080]=7595,Ae[3083]=7598,Ae[3084]=7599,Ae[3087]=7602,Ae[3088]=7603,Ae[3091]=7606,Ae[3092]=7607,Ae[3095]=7610,Ae[3096]=7611,Ae[3099]=7614,Ae[3100]=7615,Ae[3103]=7618,Ae[3104]=7619,Ae[3107]=8337,Ae[3108]=8338,Ae[3116]=1884,Ae[3119]=1885,Ae[3120]=1885,Ae[3123]=1886,Ae[3124]=1886,Ae[3127]=1887,Ae[3128]=1887,Ae[3131]=1888,Ae[3132]=1888,Ae[3135]=1889,Ae[3136]=1889,Ae[3139]=1890,Ae[3140]=1890,Ae[3143]=1891,Ae[3144]=1891,Ae[3147]=1892,Ae[3148]=1892,Ae[3153]=580,Ae[3154]=581,Ae[3157]=584,Ae[3158]=585,Ae[3161]=588,Ae[3162]=589,Ae[3165]=891,Ae[3166]=892,Ae[3169]=1274,Ae[3170]=1275,Ae[3173]=1278,Ae[3174]=1279,Ae[3181]=7622,Ae[3182]=7623,Ae[3282]=11799,Ae[3316]=578,Ae[3379]=42785,Ae[3393]=1159,Ae[3416]=8377});Se.getGlyphMapForStandardFonts=Ee;const Pe=(0,t.getLookupTableFactory)(function(Ae){Ae[227]=322,Ae[264]=261,Ae[291]=346});Se.getSupplementalGlyphMapForArialBlack=Pe;const De=(0,t.getLookupTableFactory)(function(Ae){Ae[1]=32,Ae[4]=65,Ae[5]=192,Ae[6]=193,Ae[9]=196,Ae[17]=66,Ae[18]=67,Ae[21]=268,Ae[24]=68,Ae[28]=69,Ae[29]=200,Ae[30]=201,Ae[32]=282,Ae[38]=70,Ae[39]=71,Ae[44]=72,Ae[47]=73,Ae[48]=204,Ae[49]=205,Ae[58]=74,Ae[60]=75,Ae[62]=76,Ae[68]=77,Ae[69]=78,Ae[75]=79,Ae[76]=210,Ae[80]=214,Ae[87]=80,Ae[89]=81,Ae[90]=82,Ae[92]=344,Ae[94]=83,Ae[97]=352,Ae[100]=84,Ae[104]=85,Ae[109]=220,Ae[115]=86,Ae[116]=87,Ae[121]=88,Ae[122]=89,Ae[124]=221,Ae[127]=90,Ae[129]=381,Ae[258]=97,Ae[259]=224,Ae[260]=225,Ae[263]=228,Ae[268]=261,Ae[271]=98,Ae[272]=99,Ae[273]=263,Ae[275]=269,Ae[282]=100,Ae[286]=101,Ae[287]=232,Ae[288]=233,Ae[290]=283,Ae[295]=281,Ae[296]=102,Ae[336]=103,Ae[346]=104,Ae[349]=105,Ae[350]=236,Ae[351]=237,Ae[361]=106,Ae[364]=107,Ae[367]=108,Ae[371]=322,Ae[373]=109,Ae[374]=110,Ae[381]=111,Ae[382]=242,Ae[383]=243,Ae[386]=246,Ae[393]=112,Ae[395]=113,Ae[396]=114,Ae[398]=345,Ae[400]=115,Ae[401]=347,Ae[403]=353,Ae[410]=116,Ae[437]=117,Ae[442]=252,Ae[448]=118,Ae[449]=119,Ae[454]=120,Ae[455]=121,Ae[457]=253,Ae[460]=122,Ae[462]=382,Ae[463]=380,Ae[853]=44,Ae[855]=58,Ae[856]=46,Ae[876]=47,Ae[878]=45,Ae[882]=45,Ae[894]=40,Ae[895]=41,Ae[896]=91,Ae[897]=93,Ae[923]=64,Ae[1004]=48,Ae[1005]=49,Ae[1006]=50,Ae[1007]=51,Ae[1008]=52,Ae[1009]=53,Ae[1010]=54,Ae[1011]=55,Ae[1012]=56,Ae[1013]=57,Ae[1081]=37,Ae[1085]=43,Ae[1086]=45});Se.getSupplementalGlyphMapForCalibri=De;function Me(Ae){const Be=(0,xe.normalizeFontName)(Ae);return Fe()[Be]}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ToUnicodeMap=Se.IdentityToUnicodeMap=void 0;var t=_e(2);class xe{constructor(e=[]){this._map=e}get length(){return this._map.length}forEach(e){for(const ke in this._map)e(ke,this._map[ke].charCodeAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const ke=this._map;if(ke.length<=65536)return ke.indexOf(e);for(const Oe in ke)if(ke[Oe]===e)return Oe|0;return-1}amend(e){for(const ke in e)this._map[ke]=e[ke]}}Se.ToUnicodeMap=xe;class Fe{constructor(e,ke){this.firstChar=e,this.lastChar=ke}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let ke=this.firstChar,Oe=this.lastChar;ke<=Oe;ke++)e(ke,ke)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){(0,t.unreachable)("Should not call amend()")}}Se.IdentityToUnicodeMap=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CFFFont=void 0;var t=_e(33),xe=_e(36),Fe=_e(2);class Te{constructor(ke,Oe){this.properties=Oe;const Ee=new t.CFFParser(ke,Oe,xe.SEAC_ANALYSIS_ENABLED);this.cff=Ee.parse(),this.cff.duplicateFirstGlyph();const Pe=new t.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Pe.compile()}catch{(0,Fe.warn)("Failed to compile font "+Oe.loadedName),this.data=ke}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const ke=this.cff,Oe=this.properties,{cidToGidMap:Ee,cMap:Pe}=Oe,De=ke.charset.charset;let Me,Ae;if(Oe.composite){let He;if(Ee&&Ee.length>0){He=Object.create(null);for(let Xe=0,St=Ee.length;Xe<St;Xe++){const qe=Ee[Xe];qe!==void 0&&(He[qe]=Xe)}}Me=Object.create(null);let je;if(ke.isCIDFont)for(Ae=0;Ae<De.length;Ae++){const Xe=De[Ae];je=Pe.charCodeOf(Xe),He&&He[je]!==void 0&&(je=He[je]),Me[je]=Ae}else for(Ae=0;Ae<ke.charStrings.count;Ae++)je=Pe.charCodeOf(Ae),Me[je]=Ae;return Me}let Be=ke.encoding?ke.encoding.encoding:null;return Oe.isInternalFont&&(Be=Oe.defaultEncoding),Me=(0,xe.type1FontGlyphMapping)(Oe,Be,De),Me}hasGlyphId(ke){return this.cff.hasGlyphId(ke)}_createBuiltInEncoding(){const{charset:ke,encoding:Oe}=this.cff;if(!ke||!Oe)return;const Ee=ke.charset,Pe=Oe.encoding,De=[];for(const Me in Pe){const Ae=Pe[Me];if(Ae>=0){const Be=Ee[Ae];Be&&(De[Me]=Be)}}De.length>0&&(this.properties.builtInEncoding=De)}}Se.CFFFont=Te},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.FontRendererFactory=void 0;var t=_e(2),xe=_e(33),Fe=_e(37),Te=_e(35),e=_e(8);function ke(Qe,Ze){return(Qe[Ze]<<24|Qe[Ze+1]<<16|Qe[Ze+2]<<8|Qe[Ze+3])>>>0}function Oe(Qe,Ze){return Qe[Ze]<<8|Qe[Ze+1]}function Ee(Qe,Ze){return(Qe[Ze]<<24|Qe[Ze+1]<<16)>>16}function Pe(Qe,Ze){return Qe[Ze]<<24>>24}function De(Qe,Ze){return Ee(Qe,Ze)/16384}function Me(Qe){const Ze=Qe.length;let ci=32768;return Ze<1240?ci=107:Ze<33900&&(ci=1131),ci}function Ae(Qe,Ze,ci){const ze=Oe(Qe,Ze+2)===1?ke(Qe,Ze+8):ke(Qe,Ze+16),We=Oe(Qe,Ze+ze);let si,ni,$e;if(We===4){Oe(Qe,Ze+ze+2);const Ke=Oe(Qe,Ze+ze+6)>>1;for(ni=Ze+ze+14,si=[],$e=0;$e<Ke;$e++,ni+=2)si[$e]={end:Oe(Qe,ni)};for(ni+=2,$e=0;$e<Ke;$e++,ni+=2)si[$e].start=Oe(Qe,ni);for($e=0;$e<Ke;$e++,ni+=2)si[$e].idDelta=Oe(Qe,ni);for($e=0;$e<Ke;$e++,ni+=2){let Ve=Oe(Qe,ni);if(Ve!==0){si[$e].ids=[];for(let Ue=0,ti=si[$e].end-si[$e].start+1;Ue<ti;Ue++)si[$e].ids[Ue]=Oe(Qe,ni+Ve),Ve+=2}}return si}else if(We===12){const Ke=ke(Qe,Ze+ze+12);for(ni=Ze+ze+16,si=[],$e=0;$e<Ke;$e++)Ze=ke(Qe,ni),si.push({start:Ze,end:ke(Qe,ni+4),idDelta:ke(Qe,ni+8)-Ze}),ni+=12;return si}throw new t.FormatError(`unsupported cmap: ${We}`)}function Be(Qe,Ze,ci,ze){const We={},ni=new xe.CFFParser(new e.Stream(Qe,Ze,ci-Ze),We,ze).parse();return{glyphs:ni.charStrings.objects,subrs:ni.topDict.privateDict&&ni.topDict.privateDict.subrsIndex&&ni.topDict.privateDict.subrsIndex.objects,gsubrs:ni.globalSubrIndex&&ni.globalSubrIndex.objects,isCFFCIDFont:ni.isCIDFont,fdSelect:ni.fdSelect,fdArray:ni.fdArray}}function He(Qe,Ze,ci){let ze,We;ci?(ze=4,We=ke):(ze=2,We=($e,Ke)=>2*Oe($e,Ke));const si=[];let ni=We(Ze,0);for(let $e=ze;$e<Ze.length;$e+=ze){const Ke=We(Ze,$e);si.push(Qe.subarray(ni,Ke)),ni=Ke}return si}function je(Qe,Ze){const ci=Ze.codePointAt(0);let ze=0,We=0,si=Qe.length-1;for(;We<si;){const ni=We+si+1>>1;ci<Qe[ni].start?si=ni-1:We=ni}return Qe[We].start<=ci&&ci<=Qe[We].end&&(ze=Qe[We].idDelta+(Qe[We].ids?Qe[We].ids[ci-Qe[We].start]:ci)&65535),{charCode:ci,glyphId:ze}}function Xe(Qe,Ze,ci){function ze(ti,hi){Ze.push({cmd:"moveTo",args:[ti,hi]})}function We(ti,hi){Ze.push({cmd:"lineTo",args:[ti,hi]})}function si(ti,hi,yi,wi){Ze.push({cmd:"quadraticCurveTo",args:[ti,hi,yi,wi]})}let ni=0;const $e=Ee(Qe,ni);let Ke,Ve=0,Ue=0;if(ni+=10,$e<0)do{Ke=Oe(Qe,ni);const ti=Oe(Qe,ni+2);ni+=4;let hi,yi;Ke&1?(Ke&2?(hi=Ee(Qe,ni),yi=Ee(Qe,ni+2)):(hi=Oe(Qe,ni),yi=Oe(Qe,ni+2)),ni+=4):Ke&2?(hi=Pe(Qe,ni++),yi=Pe(Qe,ni++)):(hi=Qe[ni++],yi=Qe[ni++]),Ke&2?(Ve=hi,Ue=yi):(Ve=0,Ue=0);let wi=1,Ci=1,ki=0,fi=0;Ke&8?(wi=Ci=De(Qe,ni),ni+=2):Ke&64?(wi=De(Qe,ni),Ci=De(Qe,ni+2),ni+=4):Ke&128&&(wi=De(Qe,ni),ki=De(Qe,ni+2),fi=De(Qe,ni+4),Ci=De(Qe,ni+6),ni+=8);const xi=ci.glyphs[ti];xi&&(Ze.push({cmd:"save"},{cmd:"transform",args:[wi,ki,fi,Ci,Ve,Ue]}),Xe(xi,Ze,ci),Ze.push({cmd:"restore"}))}while(Ke&32);else{const ti=[];let hi,yi;for(hi=0;hi<$e;hi++)ti.push(Oe(Qe,ni)),ni+=2;const wi=Oe(Qe,ni);ni+=2+wi;const Ci=ti.at(-1)+1,ki=[];for(;ki.length<Ci;){Ke=Qe[ni++];let xi=1;for(Ke&8&&(xi+=Qe[ni++]);xi-- >0;)ki.push({flags:Ke})}for(hi=0;hi<Ci;hi++){switch(ki[hi].flags&18){case 0:Ve+=Ee(Qe,ni),ni+=2;break;case 2:Ve-=Qe[ni++];break;case 18:Ve+=Qe[ni++];break}ki[hi].x=Ve}for(hi=0;hi<Ci;hi++){switch(ki[hi].flags&36){case 0:Ue+=Ee(Qe,ni),ni+=2;break;case 4:Ue-=Qe[ni++];break;case 36:Ue+=Qe[ni++];break}ki[hi].y=Ue}let fi=0;for(ni=0;ni<$e;ni++){const xi=ti[ni],li=ki.slice(fi,xi+1);if(li[0].flags&1)li.push(li[0]);else if(li.at(-1).flags&1)li.unshift(li.at(-1));else{const pi={flags:1,x:(li[0].x+li.at(-1).x)/2,y:(li[0].y+li.at(-1).y)/2};li.unshift(pi),li.push(pi)}for(ze(li[0].x,li[0].y),hi=1,yi=li.length;hi<yi;hi++)li[hi].flags&1?We(li[hi].x,li[hi].y):li[hi+1].flags&1?(si(li[hi].x,li[hi].y,li[hi+1].x,li[hi+1].y),hi++):si(li[hi].x,li[hi].y,(li[hi].x+li[hi+1].x)/2,(li[hi].y+li[hi+1].y)/2);fi=xi+1}}}function St(Qe,Ze,ci,ze){function We(hi,yi){Ze.push({cmd:"moveTo",args:[hi,yi]})}function si(hi,yi){Ze.push({cmd:"lineTo",args:[hi,yi]})}function ni(hi,yi,wi,Ci,ki,fi){Ze.push({cmd:"bezierCurveTo",args:[hi,yi,wi,Ci,ki,fi]})}const $e=[];let Ke=0,Ve=0,Ue=0;function ti(hi){let yi=0;for(;yi<hi.length;){let wi=!1,Ci=hi[yi++],ki,fi,xi,li,pi,ri,oi,di,bi;switch(Ci){case 1:Ue+=$e.length>>1,wi=!0;break;case 3:Ue+=$e.length>>1,wi=!0;break;case 4:Ve+=$e.pop(),We(Ke,Ve),wi=!0;break;case 5:for(;$e.length>0;)Ke+=$e.shift(),Ve+=$e.shift(),si(Ke,Ve);break;case 6:for(;$e.length>0&&(Ke+=$e.shift(),si(Ke,Ve),$e.length!==0);)Ve+=$e.shift(),si(Ke,Ve);break;case 7:for(;$e.length>0&&(Ve+=$e.shift(),si(Ke,Ve),$e.length!==0);)Ke+=$e.shift(),si(Ke,Ve);break;case 8:for(;$e.length>0;)ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve);break;case 10:if(di=$e.pop(),bi=null,ci.isCFFCIDFont){const Ai=ci.fdSelect.getFDIndex(ze);if(Ai>=0&&Ai<ci.fdArray.length){const Ei=ci.fdArray[Ai];let mi;Ei.privateDict&&Ei.privateDict.subrsIndex&&(mi=Ei.privateDict.subrsIndex.objects),mi&&(di+=Me(mi),bi=mi[di])}else(0,t.warn)("Invalid fd index for glyph index.")}else bi=ci.subrs[di+ci.subrsBias];bi&&ti(bi);break;case 11:return;case 12:switch(Ci=hi[yi++],Ci){case 34:ki=Ke+$e.shift(),fi=ki+$e.shift(),pi=Ve+$e.shift(),Ke=fi+$e.shift(),ni(ki,Ve,fi,pi,Ke,pi),ki=Ke+$e.shift(),fi=ki+$e.shift(),Ke=fi+$e.shift(),ni(ki,pi,fi,Ve,Ke,Ve);break;case 35:ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve),ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve),$e.pop();break;case 36:ki=Ke+$e.shift(),pi=Ve+$e.shift(),fi=ki+$e.shift(),ri=pi+$e.shift(),Ke=fi+$e.shift(),ni(ki,pi,fi,ri,Ke,ri),ki=Ke+$e.shift(),fi=ki+$e.shift(),oi=ri+$e.shift(),Ke=fi+$e.shift(),ni(ki,ri,fi,oi,Ke,Ve);break;case 37:const Ai=Ke,Ei=Ve;ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve),ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi,Ve=li,Math.abs(Ke-Ai)>Math.abs(Ve-Ei)?Ke+=$e.shift():Ve+=$e.shift(),ni(ki,xi,fi,li,Ke,Ve);break;default:throw new t.FormatError(`unknown operator: 12 ${Ci}`)}break;case 14:if($e.length>=4){const Ai=$e.pop(),Ei=$e.pop();Ve=$e.pop(),Ke=$e.pop(),Ze.push({cmd:"save"},{cmd:"translate",args:[Ke,Ve]});let mi=je(ci.cmap,String.fromCharCode(ci.glyphNameMap[Te.StandardEncoding[Ai]]));St(ci.glyphs[mi.glyphId],Ze,ci,mi.glyphId),Ze.push({cmd:"restore"}),mi=je(ci.cmap,String.fromCharCode(ci.glyphNameMap[Te.StandardEncoding[Ei]])),St(ci.glyphs[mi.glyphId],Ze,ci,mi.glyphId)}return;case 18:Ue+=$e.length>>1,wi=!0;break;case 19:Ue+=$e.length>>1,yi+=Ue+7>>3,wi=!0;break;case 20:Ue+=$e.length>>1,yi+=Ue+7>>3,wi=!0;break;case 21:Ve+=$e.pop(),Ke+=$e.pop(),We(Ke,Ve),wi=!0;break;case 22:Ke+=$e.pop(),We(Ke,Ve),wi=!0;break;case 23:Ue+=$e.length>>1,wi=!0;break;case 24:for(;$e.length>2;)ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve);Ke+=$e.shift(),Ve+=$e.shift(),si(Ke,Ve);break;case 25:for(;$e.length>6;)Ke+=$e.shift(),Ve+=$e.shift(),si(Ke,Ve);ki=Ke+$e.shift(),xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve);break;case 26:for($e.length%2&&(Ke+=$e.shift());$e.length>0;)ki=Ke,xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi,Ve=li+$e.shift(),ni(ki,xi,fi,li,Ke,Ve);break;case 27:for($e.length%2&&(Ve+=$e.shift());$e.length>0;)ki=Ke+$e.shift(),xi=Ve,fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li,ni(ki,xi,fi,li,Ke,Ve);break;case 28:$e.push((hi[yi]<<24|hi[yi+1]<<16)>>16),yi+=2;break;case 29:di=$e.pop()+ci.gsubrsBias,bi=ci.gsubrs[di],bi&&ti(bi);break;case 30:for(;$e.length>0&&(ki=Ke,xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+($e.length===1?$e.shift():0),ni(ki,xi,fi,li,Ke,Ve),$e.length!==0);)ki=Ke+$e.shift(),xi=Ve,fi=ki+$e.shift(),li=xi+$e.shift(),Ve=li+$e.shift(),Ke=fi+($e.length===1?$e.shift():0),ni(ki,xi,fi,li,Ke,Ve);break;case 31:for(;$e.length>0&&(ki=Ke+$e.shift(),xi=Ve,fi=ki+$e.shift(),li=xi+$e.shift(),Ve=li+$e.shift(),Ke=fi+($e.length===1?$e.shift():0),ni(ki,xi,fi,li,Ke,Ve),$e.length!==0);)ki=Ke,xi=Ve+$e.shift(),fi=ki+$e.shift(),li=xi+$e.shift(),Ke=fi+$e.shift(),Ve=li+($e.length===1?$e.shift():0),ni(ki,xi,fi,li,Ke,Ve);break;default:if(Ci<32)throw new t.FormatError(`unknown operator: ${Ci}`);Ci<247?$e.push(Ci-139):Ci<251?$e.push((Ci-247)*256+hi[yi++]+108):Ci<255?$e.push(-(Ci-251)*256-hi[yi++]-108):($e.push((hi[yi]<<24|hi[yi+1]<<16|hi[yi+2]<<8|hi[yi+3])/65536),yi+=4);break}wi&&($e.length=0)}}ti(Qe)}const qe=[];class Ye{constructor(Ze){this.constructor===Ye&&(0,t.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Ze,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Ze){const{charCode:ci,glyphId:ze}=je(this.cmap,Ze);let We=this.compiledGlyphs[ze];if(!We)try{We=this.compileGlyph(this.glyphs[ze],ze),this.compiledGlyphs[ze]=We}catch(si){throw this.compiledGlyphs[ze]=qe,this.compiledCharCodeToGlyphId[ci]===void 0&&(this.compiledCharCodeToGlyphId[ci]=ze),si}return this.compiledCharCodeToGlyphId[ci]===void 0&&(this.compiledCharCodeToGlyphId[ci]=ze),We}compileGlyph(Ze,ci){if(!Ze||Ze.length===0||Ze[0]===14)return qe;let ze=this.fontMatrix;if(this.isCFFCIDFont){const si=this.fdSelect.getFDIndex(ci);si>=0&&si<this.fdArray.length?ze=this.fdArray[si].getByName("FontMatrix")||t.FONT_IDENTITY_MATRIX:(0,t.warn)("Invalid fd index for glyph index.")}const We=[{cmd:"save"},{cmd:"transform",args:ze.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Ze,We,ci),We.push({cmd:"restore"}),We}compileGlyphImpl(){(0,t.unreachable)("Children classes should implement this.")}hasBuiltPath(Ze){const{charCode:ci,glyphId:ze}=je(this.cmap,Ze);return this.compiledGlyphs[ze]!==void 0&&this.compiledCharCodeToGlyphId[ci]!==void 0}}class gi extends Ye{constructor(Ze,ci,ze){super(ze||[488e-6,0,0,488e-6,0,0]),this.glyphs=Ze,this.cmap=ci}compileGlyphImpl(Ze,ci){Xe(Ze,ci,this)}}class ai extends Ye{constructor(Ze,ci,ze,We){super(ze||[.001,0,0,.001,0,0]),this.glyphs=Ze.glyphs,this.gsubrs=Ze.gsubrs||[],this.subrs=Ze.subrs||[],this.cmap=ci,this.glyphNameMap=We||(0,Fe.getGlyphsUnicode)(),this.gsubrsBias=Me(this.gsubrs),this.subrsBias=Me(this.subrs),this.isCFFCIDFont=Ze.isCFFCIDFont,this.fdSelect=Ze.fdSelect,this.fdArray=Ze.fdArray}compileGlyphImpl(Ze,ci,ze){St(Ze,ci,this,ze)}}class ui{static create(Ze,ci){const ze=new Uint8Array(Ze.data);let We,si,ni,$e,Ke,Ve;const Ue=Oe(ze,4);for(let ti=0,hi=12;ti<Ue;ti++,hi+=16){const yi=(0,t.bytesToString)(ze.subarray(hi,hi+4)),wi=ke(ze,hi+8),Ci=ke(ze,hi+12);switch(yi){case"cmap":We=Ae(ze,wi);break;case"glyf":si=ze.subarray(wi,wi+Ci);break;case"loca":ni=ze.subarray(wi,wi+Ci);break;case"head":Ve=Oe(ze,wi+18),Ke=Oe(ze,wi+50);break;case"CFF ":$e=Be(ze,wi,wi+Ci,ci);break}}if(si){const ti=Ve?[1/Ve,0,0,1/Ve,0,0]:Ze.fontMatrix;return new gi(He(si,ni,Ke),We,ti)}return new ai($e,We,Ze.fontMatrix,Ze.glyphNameMap)}}Se.FontRendererFactory=ui},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.getMetrics=Se.getFontBasicMetrics=void 0;var t=_e(4);const xe=(0,t.getLookupTableFactory)(function(Te){Te.Courier=600,Te["Courier-Bold"]=600,Te["Courier-BoldOblique"]=600,Te["Courier-Oblique"]=600,Te.Helvetica=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),Te["Helvetica-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),Te["Helvetica-BoldOblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),Te["Helvetica-Oblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),Te.Symbol=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),Te["Times-Roman"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),Te["Times-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),Te["Times-BoldItalic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),Te["Times-Italic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),Te.ZapfDingbats=(0,t.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});Se.getMetrics=xe;const Fe=(0,t.getLookupTableFactory)(function(Te){Te.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},Te["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},Te["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},Te["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},Te.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},Te["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},Te["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},Te["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},Te["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},Te["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},Te["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},Te["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},Te.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},Te.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});Se.getFontBasicMetrics=Fe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.GlyfTable=void 0;const _e=1<<0,t=1<<1,xe=1<<2,Fe=1<<3,Te=1<<4,e=1<<5,ke=1<<6,Oe=1<<0,Ee=1<<1,Pe=1<<3,De=1<<5,Me=1<<6,Ae=1<<7,Be=1<<8;class He{constructor({glyfTable:ai,isGlyphLocationsLong:ui,locaTable:Qe,numGlyphs:Ze}){this.glyphs=[];const ci=new DataView(Qe.buffer,Qe.byteOffset,Qe.byteLength),ze=new DataView(ai.buffer,ai.byteOffset,ai.byteLength),We=ui?4:2;let si=ui?ci.getUint32(0):2*ci.getUint16(0),ni=0;for(let $e=0;$e<Ze;$e++){ni+=We;const Ke=ui?ci.getUint32(ni):2*ci.getUint16(ni);if(Ke===si){this.glyphs.push(new je({}));continue}const Ve=je.parse(si,ze);this.glyphs.push(Ve),si=Ke}}getSize(){return this.glyphs.reduce((ai,ui)=>{const Qe=ui.getSize();return ai+(Qe+3&-4)},0)}write(){const ai=this.getSize(),ui=new DataView(new ArrayBuffer(ai)),Qe=ai>131070,Ze=Qe?4:2,ci=new DataView(new ArrayBuffer((this.glyphs.length+1)*Ze));Qe?ci.setUint32(0,0):ci.setUint16(0,0);let ze=0,We=0;for(const si of this.glyphs)ze+=si.write(ze,ui),ze=ze+3&-4,We+=Ze,Qe?ci.setUint32(We,ze):ci.setUint16(We,ze>>1);return{isLocationLong:Qe,loca:new Uint8Array(ci.buffer),glyf:new Uint8Array(ui.buffer)}}scale(ai){for(let ui=0,Qe=this.glyphs.length;ui<Qe;ui++)this.glyphs[ui].scale(ai[ui])}}Se.GlyfTable=He;class je{constructor({header:ai=null,simple:ui=null,composites:Qe=null}){this.header=ai,this.simple=ui,this.composites=Qe}static parse(ai,ui){const[Qe,Ze]=Xe.parse(ai,ui);if(ai+=Qe,Ze.numberOfContours<0){const ze=[];for(;;){const[We,si]=Ye.parse(ai,ui);if(ai+=We,ze.push(si),!(si.flags&De))break}return new je({header:Ze,composites:ze})}const ci=qe.parse(ai,ui,Ze.numberOfContours);return new je({header:Ze,simple:ci})}getSize(){if(!this.header)return 0;const ai=this.simple?this.simple.getSize():this.composites.reduce((ui,Qe)=>ui+Qe.getSize(),0);return this.header.getSize()+ai}write(ai,ui){if(!this.header)return 0;const Qe=ai;if(ai+=this.header.write(ai,ui),this.simple)ai+=this.simple.write(ai,ui);else for(const Ze of this.composites)ai+=Ze.write(ai,ui);return ai-Qe}scale(ai){if(!this.header)return;const ui=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(ui,ai),this.simple)this.simple.scale(ui,ai);else for(const Qe of this.composites)Qe.scale(ui,ai)}}class Xe{constructor({numberOfContours:ai,xMin:ui,yMin:Qe,xMax:Ze,yMax:ci}){this.numberOfContours=ai,this.xMin=ui,this.yMin=Qe,this.xMax=Ze,this.yMax=ci}static parse(ai,ui){return[10,new Xe({numberOfContours:ui.getInt16(ai),xMin:ui.getInt16(ai+2),yMin:ui.getInt16(ai+4),xMax:ui.getInt16(ai+6),yMax:ui.getInt16(ai+8)})]}getSize(){return 10}write(ai,ui){return ui.setInt16(ai,this.numberOfContours),ui.setInt16(ai+2,this.xMin),ui.setInt16(ai+4,this.yMin),ui.setInt16(ai+6,this.xMax),ui.setInt16(ai+8,this.yMax),10}scale(ai,ui){this.xMin=Math.round(ai+(this.xMin-ai)*ui),this.xMax=Math.round(ai+(this.xMax-ai)*ui)}}class St{constructor({flags:ai,xCoordinates:ui,yCoordinates:Qe}){this.xCoordinates=ui,this.yCoordinates=Qe,this.flags=ai}}class qe{constructor({contours:ai,instructions:ui}){this.contours=ai,this.instructions=ui}static parse(ai,ui,Qe){const Ze=[];for(let yi=0;yi<Qe;yi++){const wi=ui.getUint16(ai);ai+=2,Ze.push(wi)}const ci=Ze[Qe-1]+1,ze=ui.getUint16(ai);ai+=2;const We=new Uint8Array(ui).slice(ai,ai+ze);ai+=ze;const si=[];for(let yi=0;yi<ci;ai++,yi++){let wi=ui.getUint8(ai);if(si.push(wi),wi&Fe){const Ci=ui.getUint8(++ai);wi^=Fe;for(let ki=0;ki<Ci;ki++)si.push(wi);yi+=Ci}}const ni=[];let $e=[],Ke=[],Ve=[];const Ue=[];let ti=0,hi=0;for(let yi=0;yi<ci;yi++){const wi=si[yi];if(wi&t){const Ci=ui.getUint8(ai++);hi+=wi&Te?Ci:-Ci,$e.push(hi)}else wi&Te||(hi+=ui.getInt16(ai),ai+=2),$e.push(hi);Ze[ti]===yi&&(ti++,ni.push($e),$e=[])}hi=0,ti=0;for(let yi=0;yi<ci;yi++){const wi=si[yi];if(wi&xe){const Ci=ui.getUint8(ai++);hi+=wi&e?Ci:-Ci,Ke.push(hi)}else wi&e||(hi+=ui.getInt16(ai),ai+=2),Ke.push(hi);Ve.push(wi&_e|wi&ke),Ze[ti]===yi&&($e=ni[ti],ti++,Ue.push(new St({flags:Ve,xCoordinates:$e,yCoordinates:Ke})),Ke=[],Ve=[])}return new qe({contours:Ue,instructions:We})}getSize(){let ai=this.contours.length*2+2+this.instructions.length,ui=0,Qe=0;for(const Ze of this.contours){ai+=Ze.flags.length;for(let ci=0,ze=Ze.xCoordinates.length;ci<ze;ci++){const We=Ze.xCoordinates[ci],si=Ze.yCoordinates[ci];let ni=Math.abs(We-ui);ni>255?ai+=2:ni>0&&(ai+=1),ui=We,ni=Math.abs(si-Qe),ni>255?ai+=2:ni>0&&(ai+=1),Qe=si}}return ai}write(ai,ui){const Qe=ai,Ze=[],ci=[],ze=[];let We=0,si=0;for(const ni of this.contours){for(let $e=0,Ke=ni.xCoordinates.length;$e<Ke;$e++){let Ve=ni.flags[$e];const Ue=ni.xCoordinates[$e];let ti=Ue-We;if(ti===0)Ve|=Te,Ze.push(0);else{const yi=Math.abs(ti);yi<=255?(Ve|=ti>=0?t|Te:t,Ze.push(yi)):Ze.push(ti)}We=Ue;const hi=ni.yCoordinates[$e];if(ti=hi-si,ti===0)Ve|=e,ci.push(0);else{const yi=Math.abs(ti);yi<=255?(Ve|=ti>=0?xe|e:xe,ci.push(yi)):ci.push(ti)}si=hi,ze.push(Ve)}ui.setUint16(ai,Ze.length-1),ai+=2}ui.setUint16(ai,this.instructions.length),ai+=2,this.instructions.length&&(new Uint8Array(ui.buffer,0,ui.buffer.byteLength).set(this.instructions,ai),ai+=this.instructions.length);for(const ni of ze)ui.setUint8(ai++,ni);for(let ni=0,$e=Ze.length;ni<$e;ni++){const Ke=Ze[ni],Ve=ze[ni];Ve&t?ui.setUint8(ai++,Ke):Ve&Te||(ui.setInt16(ai,Ke),ai+=2)}for(let ni=0,$e=ci.length;ni<$e;ni++){const Ke=ci[ni],Ve=ze[ni];Ve&xe?ui.setUint8(ai++,Ke):Ve&e||(ui.setInt16(ai,Ke),ai+=2)}return ai-Qe}scale(ai,ui){for(const Qe of this.contours)if(Qe.xCoordinates.length!==0)for(let Ze=0,ci=Qe.xCoordinates.length;Ze<ci;Ze++)Qe.xCoordinates[Ze]=Math.round(ai+(Qe.xCoordinates[Ze]-ai)*ui)}}class Ye{constructor({flags:ai,glyphIndex:ui,argument1:Qe,argument2:Ze,transf:ci,instructions:ze}){this.flags=ai,this.glyphIndex=ui,this.argument1=Qe,this.argument2=Ze,this.transf=ci,this.instructions=ze}static parse(ai,ui){const Qe=ai,Ze=[];let ci=ui.getUint16(ai);const ze=ui.getUint16(ai+2);ai+=4;let We,si;ci&Oe?(ci&Ee?(We=ui.getInt16(ai),si=ui.getInt16(ai+2)):(We=ui.getUint16(ai),si=ui.getUint16(ai+2)),ai+=4,ci^=Oe):(ci&Ee?(We=ui.getInt8(ai),si=ui.getInt8(ai+1)):(We=ui.getUint8(ai),si=ui.getUint8(ai+1)),ai+=2),ci&Pe?(Ze.push(ui.getUint16(ai)),ai+=2):ci&Me?(Ze.push(ui.getUint16(ai),ui.getUint16(ai+2)),ai+=4):ci&Ae&&(Ze.push(ui.getUint16(ai),ui.getUint16(ai+2),ui.getUint16(ai+4),ui.getUint16(ai+6)),ai+=8);let ni=null;if(ci&Be){const $e=ui.getUint16(ai);ai+=2,ni=new Uint8Array(ui).slice(ai,ai+$e),ai+=$e}return[ai-Qe,new Ye({flags:ci,glyphIndex:ze,argument1:We,argument2:si,transf:Ze,instructions:ni})]}getSize(){let ai=4+this.transf.length*2;return this.flags&Be&&(ai+=2+this.instructions.length),ai+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(ai+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(ai+=2),ai}write(ai,ui){const Qe=ai;return this.flags&Ee?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Oe):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Oe),ui.setUint16(ai,this.flags),ui.setUint16(ai+2,this.glyphIndex),ai+=4,this.flags&Oe?(this.flags&Ee?(ui.setInt16(ai,this.argument1),ui.setInt16(ai+2,this.argument2)):(ui.setUint16(ai,this.argument1),ui.setUint16(ai+2,this.argument2)),ai+=4):(ui.setUint8(ai,this.argument1),ui.setUint8(ai+1,this.argument2),ai+=2),this.flags&Be&&(ui.setUint16(ai,this.instructions.length),ai+=2,this.instructions.length&&(new Uint8Array(ui.buffer,0,ui.buffer.byteLength).set(this.instructions,ai),ai+=this.instructions.length)),ai-Qe}scale(ai,ui){}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.OpenTypeFileBuilder=void 0;var t=_e(4),xe=_e(2);function Fe(Pe,De,Me){Pe[De]=Me>>8&255,Pe[De+1]=Me&255}function Te(Pe,De,Me){Pe[De]=Me>>24&255,Pe[De+1]=Me>>16&255,Pe[De+2]=Me>>8&255,Pe[De+3]=Me&255}function e(Pe,De,Me){if(Me instanceof Uint8Array)Pe.set(Me,De);else if(typeof Me=="string")for(let Ae=0,Be=Me.length;Ae<Be;Ae++)Pe[De++]=Me.charCodeAt(Ae)&255;else for(const Ae of Me)Pe[De++]=Ae&255}const ke=12,Oe=16;class Ee{constructor(De){this.sfnt=De,this.tables=Object.create(null)}static getSearchParams(De,Me){let Ae=1,Be=0;for(;(Ae^De)>Ae;)Ae<<=1,Be++;const He=Ae*Me;return{range:He,entry:Be,rangeShift:Me*De-He}}toArray(){let De=this.sfnt;const Me=this.tables,Ae=Object.keys(Me);Ae.sort();const Be=Ae.length;let He,je,Xe,St,qe,Ye=ke+Be*Oe;const gi=[Ye];for(He=0;He<Be;He++){St=Me[Ae[He]];const Qe=(St.length+3&-4)>>>0;Ye+=Qe,gi.push(Ye)}const ai=new Uint8Array(Ye);for(He=0;He<Be;He++)St=Me[Ae[He]],e(ai,gi[He],St);De==="true"&&(De=(0,xe.string32)(65536)),ai[0]=De.charCodeAt(0)&255,ai[1]=De.charCodeAt(1)&255,ai[2]=De.charCodeAt(2)&255,ai[3]=De.charCodeAt(3)&255,Fe(ai,4,Be);const ui=Ee.getSearchParams(Be,16);for(Fe(ai,6,ui.range),Fe(ai,8,ui.entry),Fe(ai,10,ui.rangeShift),Ye=ke,He=0;He<Be;He++){qe=Ae[He],ai[Ye]=qe.charCodeAt(0)&255,ai[Ye+1]=qe.charCodeAt(1)&255,ai[Ye+2]=qe.charCodeAt(2)&255,ai[Ye+3]=qe.charCodeAt(3)&255;let Qe=0;for(je=gi[He],Xe=gi[He+1];je<Xe;je+=4){const Ze=(0,t.readUint32)(ai,je);Qe=Qe+Ze>>>0}Te(ai,Ye+4,Qe),Te(ai,Ye+8,gi[He]),Te(ai,Ye+12,Me[qe].length),Ye+=Oe}return ai}addTable(De,Me){if(De in this.tables)throw new Error("Table "+De+" already exists");this.tables[De]=Me}}Se.OpenTypeFileBuilder=Ee},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Type1Font=void 0;var t=_e(33),xe=_e(2),Fe=_e(36),Te=_e(4),e=_e(8),ke=_e(47);function Oe(Me,Ae,Be){const He=Me.length,je=Ae.length,Xe=He-je;let St=Be,qe=!1;for(;St<Xe;){let Ye=0;for(;Ye<je&&Me[St+Ye]===Ae[Ye];)Ye++;if(Ye>=je){for(St+=Ye;St<He&&(0,Te.isWhiteSpace)(Me[St]);)St++;qe=!0;break}St++}return{found:qe,length:St}}function Ee(Me,Ae){const Be=[101,101,120,101,99],He=Me.pos;let je,Xe,St;try{je=Me.getBytes(Ae),Xe=je.length}catch{}if(Xe===Ae&&(St=Oe(je,Be,Ae-2*Be.length),St.found&&St.length===Ae))return{stream:new e.Stream(je),length:Ae};(0,xe.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Me.pos=He;const qe=2048;let Ye;for(;;){const gi=Me.peekBytes(qe);if(St=Oe(gi,Be,0),St.length===0)break;if(Me.pos+=St.length,St.found){Ye=Me.pos-He;break}}return Me.pos=He,Ye?{stream:new e.Stream(Me.getBytes(Ye)),length:Ye}:((0,xe.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new e.Stream(Me.getBytes(Ae)),length:Ae})}function Pe(Me,Ae){const Be=Me.getBytes();if(Be.length===0)throw new xe.FormatError("getEexecBlock - no font program found.");return{stream:new e.Stream(Be),length:Be.length}}class De{constructor(Ae,Be,He){let Xe=He.length1;He.length2;let St=Be.peekBytes(6);const qe=St[0]===128&&St[1]===1;qe&&(Be.skip(6),Xe=St[5]<<24|St[4]<<16|St[3]<<8|St[2]);const Ye=Ee(Be,Xe);new ke.Type1Parser(Ye.stream,!1,Fe.SEAC_ANALYSIS_ENABLED).extractFontHeader(He),qe&&(St=Be.getBytes(6),St[5]<<24|St[4]<<16|St[3]<<8|St[2]);const ai=Pe(Be),Qe=new ke.Type1Parser(ai.stream,!0,Fe.SEAC_ANALYSIS_ENABLED).extractFontProgram(He);for(const We in Qe.properties)He[We]=Qe.properties[We];const Ze=Qe.charstrings,ci=this.getType2Charstrings(Ze),ze=this.getType2Subrs(Qe.subrs);this.charstrings=Ze,this.data=this.wrap(Ae,ci,this.charstrings,ze,He),this.seacs=this.getSeacs(Qe.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const Ae=[".notdef"];for(const{glyphName:Be}of this.charstrings)Ae.push(Be);return Ae}getGlyphMapping(Ae){const Be=this.charstrings;if(Ae.composite){const qe=Object.create(null);for(let Ye=0,gi=Be.length;Ye<gi;Ye++){const ai=Ae.cMap.charCodeOf(Ye);qe[ai]=Ye+1}return qe}const He=[".notdef"];let je,Xe;for(Xe=0;Xe<Be.length;Xe++)He.push(Be[Xe].glyphName);const St=Ae.builtInEncoding;if(St){je=Object.create(null);for(const qe in St)Xe=He.indexOf(St[qe]),Xe>=0&&(je[qe]=Xe)}return(0,Fe.type1FontGlyphMapping)(Ae,je,He)}hasGlyphId(Ae){return Ae<0||Ae>=this.numGlyphs?!1:Ae===0?!0:this.charstrings[Ae-1].charstring.length>0}getSeacs(Ae){const Be=[];for(let He=0,je=Ae.length;He<je;He++){const Xe=Ae[He];Xe.seac&&(Be[He+1]=Xe.seac)}return Be}getType2Charstrings(Ae){const Be=[];for(const He of Ae)Be.push(He.charstring);return Be}getType2Subrs(Ae){let Be=0;const He=Ae.length;He<1133?Be=107:He<33769?Be=1131:Be=32768;const je=[];let Xe;for(Xe=0;Xe<Be;Xe++)je.push([11]);for(Xe=0;Xe<He;Xe++)je.push(Ae[Xe]);return je}wrap(Ae,Be,He,je,Xe){const St=new t.CFF;St.header=new t.CFFHeader(1,0,4,4),St.names=[Ae];const qe=new t.CFFTopDict;qe.setByName("version",391),qe.setByName("Notice",392),qe.setByName("FullName",393),qe.setByName("FamilyName",394),qe.setByName("Weight",395),qe.setByName("Encoding",null),qe.setByName("FontMatrix",Xe.fontMatrix),qe.setByName("FontBBox",Xe.bbox),qe.setByName("charset",null),qe.setByName("CharStrings",null),qe.setByName("Private",null),St.topDict=qe;const Ye=new t.CFFStrings;Ye.add("Version 0.11"),Ye.add("See original notice"),Ye.add(Ae),Ye.add(Ae),Ye.add("Medium"),St.strings=Ye,St.globalSubrIndex=new t.CFFIndex;const gi=Be.length,ai=[".notdef"];let ui,Qe;for(ui=0;ui<gi;ui++){const ni=He[ui].glyphName;t.CFFStandardStrings.indexOf(ni)===-1&&Ye.add(ni),ai.push(ni)}St.charset=new t.CFFCharset(!1,0,ai);const Ze=new t.CFFIndex;for(Ze.add([139,14]),ui=0;ui<gi;ui++)Ze.add(Be[ui]);St.charStrings=Ze;const ci=new t.CFFPrivateDict;ci.setByName("Subrs",null);const ze=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(ui=0,Qe=ze.length;ui<Qe;ui++){const ni=ze[ui];if(!(ni in Xe.privateData))continue;const $e=Xe.privateData[ni];if(Array.isArray($e))for(let Ke=$e.length-1;Ke>0;Ke--)$e[Ke]-=$e[Ke-1];ci.setByName(ni,$e)}St.topDict.privateDict=ci;const We=new t.CFFIndex;for(ui=0,Qe=je.length;ui<Qe;ui++)We.add(je[ui]);return ci.subrsIndex=We,new t.CFFCompiler(St).compile()}}Se.Type1Font=De},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Type1Parser=void 0;var t=_e(35),xe=_e(4),Fe=_e(8),Te=_e(2);const e=!1,ke={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Oe{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Xe,St,qe){const Ye=Xe.length;let gi=!1,ai,ui,Qe;for(let Ze=0;Ze<Ye;Ze++){let ci=Xe[Ze];if(ci<32){switch(ci===12&&(ci=(ci<<8)+Xe[++Ze]),ci){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){gi=!0;break}const $e=this.stack.pop();this.stack.push(0,$e);break}gi=this.executeCommand(1,ke.vmoveto);break;case 5:gi=this.executeCommand(2,ke.rlineto);break;case 6:gi=this.executeCommand(1,ke.hlineto);break;case 7:gi=this.executeCommand(1,ke.vlineto);break;case 8:gi=this.executeCommand(6,ke.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){gi=!0;break}if(Qe=this.stack.pop(),!St[Qe]){gi=!0;break}gi=this.convert(St[Qe],St,qe);break;case 11:return gi;case 13:if(this.stack.length<2){gi=!0;break}ai=this.stack.pop(),ui=this.stack.pop(),this.lsb=ui,this.width=ai,this.stack.push(ai,ui),gi=this.executeCommand(2,ke.hmoveto);break;case 14:this.output.push(ke.endchar[0]);break;case 21:if(this.flexing)break;gi=this.executeCommand(2,ke.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}gi=this.executeCommand(1,ke.hmoveto);break;case 30:gi=this.executeCommand(4,ke.vhcurveto);break;case 31:gi=this.executeCommand(4,ke.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(qe){const $e=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-$e,gi=this.executeCommand(0,ke.endchar)}else gi=this.executeCommand(4,ke.endchar);break;case 3079:if(this.stack.length<4){gi=!0;break}this.stack.pop(),ai=this.stack.pop();const ze=this.stack.pop();ui=this.stack.pop(),this.lsb=ui,this.width=ai,this.stack.push(ai,ui,ze),gi=this.executeCommand(3,ke.rmoveto);break;case 3084:if(this.stack.length<2){gi=!0;break}const We=this.stack.pop(),si=this.stack.pop();this.stack.push(si/We);break;case 3088:if(this.stack.length<2){gi=!0;break}Qe=this.stack.pop();const ni=this.stack.pop();if(Qe===0&&ni===3){const $e=this.stack.splice(this.stack.length-17,17);this.stack.push($e[2]+$e[0],$e[3]+$e[1],$e[4],$e[5],$e[6],$e[7],$e[8],$e[9],$e[10],$e[11],$e[12],$e[13],$e[14]),gi=this.executeCommand(13,ke.flex,!0),this.flexing=!1,this.stack.push($e[15],$e[16])}else Qe===1&&ni===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,Te.warn)('Unknown type 1 charstring command of "'+ci+'"');break}if(gi)break;continue}else ci<=246?ci-=139:ci<=250?ci=(ci-247)*256+Xe[++Ze]+108:ci<=254?ci=-((ci-251)*256)-Xe[++Ze]-108:ci=(Xe[++Ze]&255)<<24|(Xe[++Ze]&255)<<16|(Xe[++Ze]&255)<<8|(Xe[++Ze]&255)<<0;this.stack.push(ci)}return gi}executeCommand(Xe,St,qe){const Ye=this.stack.length;if(Xe>Ye)return!0;const gi=Ye-Xe;for(let ai=gi;ai<Ye;ai++){let ui=this.stack[ai];Number.isInteger(ui)?this.output.push(28,ui>>8&255,ui&255):(ui=65536*ui|0,this.output.push(255,ui>>24&255,ui>>16&255,ui>>8&255,ui&255))}return this.output.push(...St),qe?this.stack.splice(gi,Xe):this.stack.length=0,!1}}const Ee=55665,Pe=4330;function De(je){return je>=48&&je<=57||je>=65&&je<=70||je>=97&&je<=102}function Me(je,Xe,St){if(St>=je.length)return new Uint8Array(0);const qe=52845,Ye=22719;let gi=Xe|0,ai,ui;for(ai=0;ai<St;ai++)gi=(je[ai]+gi)*qe+Ye&65535;const Qe=je.length-St,Ze=new Uint8Array(Qe);for(ai=St,ui=0;ui<Qe;ai++,ui++){const ci=je[ai];Ze[ui]=ci^gi>>8,gi=(ci+gi)*qe+Ye&65535}return Ze}function Ae(je,Xe,St){let gi=Xe|0;const ai=je.length,ui=ai>>>1,Qe=new Uint8Array(ui);let Ze,ci;for(Ze=0,ci=0;Ze<ai;Ze++){const ze=je[Ze];if(!De(ze))continue;Ze++;let We;for(;Ze<ai&&!De(We=je[Ze]);)Ze++;if(Ze<ai){const si=parseInt(String.fromCharCode(ze,We),16);Qe[ci++]=si^gi>>8,gi=(si+gi)*52845+22719&65535}}return Qe.slice(St,ci)}function Be(je){return je===47||je===91||je===93||je===123||je===125||je===40||je===41}class He{constructor(Xe,St,qe){if(St){const Ye=Xe.getBytes(),gi=!((De(Ye[0])||(0,xe.isWhiteSpace)(Ye[0]))&&De(Ye[1])&&De(Ye[2])&&De(Ye[3])&&De(Ye[4])&&De(Ye[5])&&De(Ye[6])&&De(Ye[7]));Xe=new Fe.Stream(gi?Me(Ye,Ee,4):Ae(Ye,Ee,4))}this.seacAnalysisEnabled=!!qe,this.stream=Xe,this.nextChar()}readNumberArray(){this.getToken();const Xe=[];for(;;){const St=this.getToken();if(St===null||St==="]"||St==="}")break;Xe.push(parseFloat(St||0))}return Xe}readNumber(){const Xe=this.getToken();return parseFloat(Xe||0)}readInt(){const Xe=this.getToken();return parseInt(Xe||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Xe=!1,St=this.currentChar;for(;;){if(St===-1)return null;if(Xe)(St===10||St===13)&&(Xe=!1);else if(St===37)Xe=!0;else if(!(0,xe.isWhiteSpace)(St))break;St=this.nextChar()}if(Be(St))return this.nextChar(),String.fromCharCode(St);let qe="";do qe+=String.fromCharCode(St),St=this.nextChar();while(St>=0&&!(0,xe.isWhiteSpace)(St)&&!Be(St));return qe}readCharStrings(Xe,St){return St===-1?Xe:Me(Xe,Pe,St)}extractFontProgram(Xe){const St=this.stream,qe=[],Ye=[],gi=Object.create(null);gi.lenIV=4;const ai={subrs:[],charstrings:[],properties:{privateData:gi}};let ui,Qe,Ze,ci;for(;(ui=this.getToken())!==null;)if(ui==="/")switch(ui=this.getToken(),ui){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();ui=this.getToken(),!(ui===null||ui==="end");){if(ui!=="/")continue;const We=this.getToken();Qe=this.readInt(),this.getToken(),Ze=Qe>0?St.getBytes(Qe):new Uint8Array(0),ci=ai.properties.privateData.lenIV;const si=this.readCharStrings(Ze,ci);this.nextChar(),ui=this.getToken(),ui==="noaccess"?this.getToken():ui==="/"&&this.prevChar(),Ye.push({glyph:We,encoded:si})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const We=this.readInt();Qe=this.readInt(),this.getToken(),Ze=Qe>0?St.getBytes(Qe):new Uint8Array(0),ci=ai.properties.privateData.lenIV;const si=this.readCharStrings(Ze,ci);this.nextChar(),ui=this.getToken(),ui==="noaccess"&&this.getToken(),qe[We]=si}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const ze=this.readNumberArray();ze.length>0&&ze.length%2===0&&e&&(ai.properties.privateData[ui]=ze);break;case"StemSnapH":case"StemSnapV":ai.properties.privateData[ui]=this.readNumberArray();break;case"StdHW":case"StdVW":ai.properties.privateData[ui]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":ai.properties.privateData[ui]=this.readNumber();break;case"ForceBold":ai.properties.privateData[ui]=this.readBoolean();break}for(const{encoded:ze,glyph:We}of Ye){const si=new Oe,ni=si.convert(ze,qe,this.seacAnalysisEnabled);let $e=si.output;ni&&($e=[14]);const Ke={glyphName:We,charstring:$e,width:si.width,lsb:si.lsb,seac:si.seac};if(We===".notdef"?ai.charstrings.unshift(Ke):ai.charstrings.push(Ke),Xe.builtInEncoding){const Ve=Xe.builtInEncoding.indexOf(We);Ve>-1&&Xe.widths[Ve]===void 0&&Ve>=Xe.firstChar&&Ve<=Xe.lastChar&&(Xe.widths[Ve]=si.width)}}return ai}extractFontHeader(Xe){let St;for(;(St=this.getToken())!==null;)if(St==="/")switch(St=this.getToken(),St){case"FontMatrix":const qe=this.readNumberArray();Xe.fontMatrix=qe;break;case"Encoding":const Ye=this.getToken();let gi;if(!/^\d+$/.test(Ye))gi=(0,t.getEncoding)(Ye);else{gi=[];const ui=parseInt(Ye,10)|0;this.getToken();for(let Qe=0;Qe<ui;Qe++){for(St=this.getToken();St!=="dup"&&St!=="def";)if(St=this.getToken(),St===null)return;if(St==="def")break;const Ze=this.readInt();this.getToken();const ci=this.getToken();gi[Ze]=ci,this.getToken()}}Xe.builtInEncoding=gi;break;case"FontBBox":const ai=this.readNumberArray();Xe.ascent=Math.max(ai[3],ai[1]),Xe.descent=Math.min(ai[1],ai[3]),Xe.ascentScaled=!0;break}}}Se.Type1Parser=He},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Pattern=void 0,Se.getTilingPatternIR=Be;var t=_e(2),xe=_e(5),Fe=_e(12),Te=_e(4);const e={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class ke{constructor(){(0,t.unreachable)("Cannot initialize Pattern.")}static parseShading(je,Xe,St,qe,Ye,gi){const ai=je instanceof xe.BaseStream?je.dict:je,ui=ai.get("ShadingType");try{switch(ui){case e.AXIAL:case e.RADIAL:return new Ee(ai,Xe,St,Ye,gi);case e.FREE_FORM_MESH:case e.LATTICE_FORM_MESH:case e.COONS_PATCH_MESH:case e.TENSOR_PATCH_MESH:return new Me(je,Xe,St,Ye,gi);default:throw new t.FormatError("Unsupported ShadingType: "+ui)}}catch(Qe){if(Qe instanceof Te.MissingDataException)throw Qe;return qe.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.shadingPattern}),(0,t.warn)(Qe),new Ae}}}Se.Pattern=ke;class Oe{static get SMALL_NUMBER(){return(0,t.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===Oe&&(0,t.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,t.unreachable)("Abstract method `getIR` called.")}}class Ee extends Oe{constructor(je,Xe,St,qe,Ye){super(),this.coordsArr=je.getArray("Coords"),this.shadingType=je.get("ShadingType");const gi=Fe.ColorSpace.parse({cs:je.getRaw("CS")||je.getRaw("ColorSpace"),xref:Xe,resources:St,pdfFunctionFactory:qe,localColorSpaceCache:Ye}),ai=je.getArray("BBox");Array.isArray(ai)&&ai.length===4?this.bbox=t.Util.normalizeRect(ai):this.bbox=null;let ui=0,Qe=1;if(je.has("Domain")){const hi=je.getArray("Domain");ui=hi[0],Qe=hi[1]}let Ze=!1,ci=!1;if(je.has("Extend")){const hi=je.getArray("Extend");Ze=hi[0],ci=hi[1]}if(this.shadingType===e.RADIAL&&(!Ze||!ci)){const[hi,yi,wi,Ci,ki,fi]=this.coordsArr,xi=Math.hypot(hi-Ci,yi-ki);wi<=fi+xi&&fi<=wi+xi&&(0,t.warn)("Unsupported radial gradient.")}this.extendStart=Ze,this.extendEnd=ci;const ze=je.getRaw("Function"),We=qe.createFromArray(ze),si=10,ni=(Qe-ui)/si,$e=this.colorStops=[];if(ui>=Qe||ni<=0){(0,t.info)("Bad shading domain.");return}const Ke=new Float32Array(gi.numComps),Ve=new Float32Array(1);let Ue;for(let hi=0;hi<=si;hi++){Ve[0]=ui+hi*ni,We(Ve,0,Ke,0),Ue=gi.getRgb(Ke,0);const yi=t.Util.makeHexColor(Ue[0],Ue[1],Ue[2]);$e.push([hi/si,yi])}let ti="transparent";je.has("Background")&&(Ue=gi.getRgb(je.get("Background"),0),ti=t.Util.makeHexColor(Ue[0],Ue[1],Ue[2])),Ze||($e.unshift([0,ti]),$e[1][0]+=Oe.SMALL_NUMBER),ci||($e.at(-1)[0]-=Oe.SMALL_NUMBER,$e.push([1,ti])),this.colorStops=$e}getIR(){const je=this.coordsArr,Xe=this.shadingType;let St,qe,Ye,gi,ai;return Xe===e.AXIAL?(qe=[je[0],je[1]],Ye=[je[2],je[3]],gi=null,ai=null,St="axial"):Xe===e.RADIAL?(qe=[je[0],je[1]],Ye=[je[3],je[4]],gi=je[2],ai=je[5],St="radial"):(0,t.unreachable)(`getPattern type unknown: ${Xe}`),["RadialAxial",St,this.bbox,this.colorStops,qe,Ye,gi,ai]}}class Pe{constructor(je,Xe){this.stream=je,this.context=Xe,this.buffer=0,this.bufferLength=0;const St=Xe.numComps;this.tmpCompsBuf=new Float32Array(St);const qe=Xe.colorSpace.numComps;this.tmpCsCompsBuf=Xe.colorFn?new Float32Array(qe):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const je=this.stream.getByte();return je<0?!1:(this.buffer=je,this.bufferLength=8,!0)}readBits(je){let Xe=this.buffer,St=this.bufferLength;if(je===32){if(St===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;Xe=Xe<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const qe=this.stream.getByte();return this.buffer=qe&(1<<St)-1,(Xe<<8-St|(qe&255)>>St)>>>0}if(je===8&&St===0)return this.stream.getByte();for(;St<je;)Xe=Xe<<8|this.stream.getByte(),St+=8;return St-=je,this.bufferLength=St,this.buffer=Xe&(1<<St)-1,Xe>>St}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const je=this.context.bitsPerCoordinate,Xe=this.readBits(je),St=this.readBits(je),qe=this.context.decode,Ye=je<32?1/((1<<je)-1):23283064365386963e-26;return[Xe*Ye*(qe[1]-qe[0])+qe[0],St*Ye*(qe[3]-qe[2])+qe[2]]}readComponents(){const je=this.context.numComps,Xe=this.context.bitsPerComponent,St=Xe<32?1/((1<<Xe)-1):23283064365386963e-26,qe=this.context.decode,Ye=this.tmpCompsBuf;for(let ai=0,ui=4;ai<je;ai++,ui+=2){const Qe=this.readBits(Xe);Ye[ai]=Qe*St*(qe[ui+1]-qe[ui])+qe[ui]}const gi=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Ye,0,gi,0),this.context.colorSpace.getRgb(gi,0)}}const De=function(){function je(St){const qe=[];for(let Ye=0;Ye<=St;Ye++){const gi=Ye/St,ai=1-gi;qe.push(new Float32Array([ai*ai*ai,3*gi*ai*ai,3*gi*gi*ai,gi*gi*gi]))}return qe}const Xe=[];return function(St){return Xe[St]||(Xe[St]=je(St)),Xe[St]}}();class Me extends Oe{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,t.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(je,Xe,St,qe,Ye){if(super(),!(je instanceof xe.BaseStream))throw new t.FormatError("Mesh data is not a stream");const gi=je.dict;this.shadingType=gi.get("ShadingType");const ai=gi.getArray("BBox");Array.isArray(ai)&&ai.length===4?this.bbox=t.Util.normalizeRect(ai):this.bbox=null;const ui=Fe.ColorSpace.parse({cs:gi.getRaw("CS")||gi.getRaw("ColorSpace"),xref:Xe,resources:St,pdfFunctionFactory:qe,localColorSpaceCache:Ye});this.background=gi.has("Background")?ui.getRgb(gi.get("Background"),0):null;const Qe=gi.getRaw("Function"),Ze=Qe?qe.createFromArray(Qe):null;this.coords=[],this.colors=[],this.figures=[];const ci={bitsPerCoordinate:gi.get("BitsPerCoordinate"),bitsPerComponent:gi.get("BitsPerComponent"),bitsPerFlag:gi.get("BitsPerFlag"),decode:gi.getArray("Decode"),colorFn:Ze,colorSpace:ui,numComps:Ze?1:ui.numComps},ze=new Pe(je,ci);let We=!1;switch(this.shadingType){case e.FREE_FORM_MESH:this._decodeType4Shading(ze);break;case e.LATTICE_FORM_MESH:const si=gi.get("VerticesPerRow")|0;if(si<2)throw new t.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(ze,si);break;case e.COONS_PATCH_MESH:this._decodeType6Shading(ze),We=!0;break;case e.TENSOR_PATCH_MESH:this._decodeType7Shading(ze),We=!0;break;default:(0,t.unreachable)("Unsupported mesh type.");break}if(We){this._updateBounds();for(let si=0,ni=this.figures.length;si<ni;si++)this._buildFigureFromPatch(si)}this._updateBounds(),this._packData()}_decodeType4Shading(je){const Xe=this.coords,St=this.colors,qe=[];let Ye=0;for(;je.hasData;){const gi=je.readFlag(),ai=je.readCoordinate(),ui=je.readComponents();if(Ye===0){if(!(0<=gi&&gi<=2))throw new t.FormatError("Unknown type4 flag");switch(gi){case 0:Ye=3;break;case 1:qe.push(qe.at(-2),qe.at(-1)),Ye=1;break;case 2:qe.push(qe.at(-3),qe.at(-1)),Ye=1;break}}qe.push(Xe.length),Xe.push(ai),St.push(ui),Ye--,je.align()}this.figures.push({type:"triangles",coords:new Int32Array(qe),colors:new Int32Array(qe)})}_decodeType5Shading(je,Xe){const St=this.coords,qe=this.colors,Ye=[];for(;je.hasData;){const gi=je.readCoordinate(),ai=je.readComponents();Ye.push(St.length),St.push(gi),qe.push(ai)}this.figures.push({type:"lattice",coords:new Int32Array(Ye),colors:new Int32Array(Ye),verticesPerRow:Xe})}_decodeType6Shading(je){const Xe=this.coords,St=this.colors,qe=new Int32Array(16),Ye=new Int32Array(4);for(;je.hasData;){const gi=je.readFlag();if(!(0<=gi&&gi<=3))throw new t.FormatError("Unknown type6 flag");const ai=Xe.length;for(let We=0,si=gi!==0?8:12;We<si;We++)Xe.push(je.readCoordinate());const ui=St.length;for(let We=0,si=gi!==0?2:4;We<si;We++)St.push(je.readComponents());let Qe,Ze,ci,ze;switch(gi){case 0:qe[12]=ai+3,qe[13]=ai+4,qe[14]=ai+5,qe[15]=ai+6,qe[8]=ai+2,qe[11]=ai+7,qe[4]=ai+1,qe[7]=ai+8,qe[0]=ai,qe[1]=ai+11,qe[2]=ai+10,qe[3]=ai+9,Ye[2]=ui+1,Ye[3]=ui+2,Ye[0]=ui,Ye[1]=ui+3;break;case 1:Qe=qe[12],Ze=qe[13],ci=qe[14],ze=qe[15],qe[12]=ze,qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=ci,qe[11]=ai+3,qe[4]=Ze,qe[7]=ai+4,qe[0]=Qe,qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Qe=Ye[2],Ze=Ye[3],Ye[2]=Ze,Ye[3]=ui,Ye[0]=Qe,Ye[1]=ui+1;break;case 2:Qe=qe[15],Ze=qe[11],qe[12]=qe[3],qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=qe[7],qe[11]=ai+3,qe[4]=Ze,qe[7]=ai+4,qe[0]=Qe,qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Qe=Ye[3],Ye[2]=Ye[1],Ye[3]=ui,Ye[0]=Qe,Ye[1]=ui+1;break;case 3:qe[12]=qe[0],qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=qe[1],qe[11]=ai+3,qe[4]=qe[2],qe[7]=ai+4,qe[0]=qe[3],qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Ye[2]=Ye[0],Ye[3]=ui,Ye[0]=Ye[1],Ye[1]=ui+1;break}qe[5]=Xe.length,Xe.push([(-4*Xe[qe[0]][0]-Xe[qe[15]][0]+6*(Xe[qe[4]][0]+Xe[qe[1]][0])-2*(Xe[qe[12]][0]+Xe[qe[3]][0])+3*(Xe[qe[13]][0]+Xe[qe[7]][0]))/9,(-4*Xe[qe[0]][1]-Xe[qe[15]][1]+6*(Xe[qe[4]][1]+Xe[qe[1]][1])-2*(Xe[qe[12]][1]+Xe[qe[3]][1])+3*(Xe[qe[13]][1]+Xe[qe[7]][1]))/9]),qe[6]=Xe.length,Xe.push([(-4*Xe[qe[3]][0]-Xe[qe[12]][0]+6*(Xe[qe[2]][0]+Xe[qe[7]][0])-2*(Xe[qe[0]][0]+Xe[qe[15]][0])+3*(Xe[qe[4]][0]+Xe[qe[14]][0]))/9,(-4*Xe[qe[3]][1]-Xe[qe[12]][1]+6*(Xe[qe[2]][1]+Xe[qe[7]][1])-2*(Xe[qe[0]][1]+Xe[qe[15]][1])+3*(Xe[qe[4]][1]+Xe[qe[14]][1]))/9]),qe[9]=Xe.length,Xe.push([(-4*Xe[qe[12]][0]-Xe[qe[3]][0]+6*(Xe[qe[8]][0]+Xe[qe[13]][0])-2*(Xe[qe[0]][0]+Xe[qe[15]][0])+3*(Xe[qe[11]][0]+Xe[qe[1]][0]))/9,(-4*Xe[qe[12]][1]-Xe[qe[3]][1]+6*(Xe[qe[8]][1]+Xe[qe[13]][1])-2*(Xe[qe[0]][1]+Xe[qe[15]][1])+3*(Xe[qe[11]][1]+Xe[qe[1]][1]))/9]),qe[10]=Xe.length,Xe.push([(-4*Xe[qe[15]][0]-Xe[qe[0]][0]+6*(Xe[qe[11]][0]+Xe[qe[14]][0])-2*(Xe[qe[12]][0]+Xe[qe[3]][0])+3*(Xe[qe[2]][0]+Xe[qe[8]][0]))/9,(-4*Xe[qe[15]][1]-Xe[qe[0]][1]+6*(Xe[qe[11]][1]+Xe[qe[14]][1])-2*(Xe[qe[12]][1]+Xe[qe[3]][1])+3*(Xe[qe[2]][1]+Xe[qe[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(qe),colors:new Int32Array(Ye)})}}_decodeType7Shading(je){const Xe=this.coords,St=this.colors,qe=new Int32Array(16),Ye=new Int32Array(4);for(;je.hasData;){const gi=je.readFlag();if(!(0<=gi&&gi<=3))throw new t.FormatError("Unknown type7 flag");const ai=Xe.length;for(let We=0,si=gi!==0?12:16;We<si;We++)Xe.push(je.readCoordinate());const ui=St.length;for(let We=0,si=gi!==0?2:4;We<si;We++)St.push(je.readComponents());let Qe,Ze,ci,ze;switch(gi){case 0:qe[12]=ai+3,qe[13]=ai+4,qe[14]=ai+5,qe[15]=ai+6,qe[8]=ai+2,qe[9]=ai+13,qe[10]=ai+14,qe[11]=ai+7,qe[4]=ai+1,qe[5]=ai+12,qe[6]=ai+15,qe[7]=ai+8,qe[0]=ai,qe[1]=ai+11,qe[2]=ai+10,qe[3]=ai+9,Ye[2]=ui+1,Ye[3]=ui+2,Ye[0]=ui,Ye[1]=ui+3;break;case 1:Qe=qe[12],Ze=qe[13],ci=qe[14],ze=qe[15],qe[12]=ze,qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=ci,qe[9]=ai+9,qe[10]=ai+10,qe[11]=ai+3,qe[4]=Ze,qe[5]=ai+8,qe[6]=ai+11,qe[7]=ai+4,qe[0]=Qe,qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Qe=Ye[2],Ze=Ye[3],Ye[2]=Ze,Ye[3]=ui,Ye[0]=Qe,Ye[1]=ui+1;break;case 2:Qe=qe[15],Ze=qe[11],qe[12]=qe[3],qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=qe[7],qe[9]=ai+9,qe[10]=ai+10,qe[11]=ai+3,qe[4]=Ze,qe[5]=ai+8,qe[6]=ai+11,qe[7]=ai+4,qe[0]=Qe,qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Qe=Ye[3],Ye[2]=Ye[1],Ye[3]=ui,Ye[0]=Qe,Ye[1]=ui+1;break;case 3:qe[12]=qe[0],qe[13]=ai+0,qe[14]=ai+1,qe[15]=ai+2,qe[8]=qe[1],qe[9]=ai+9,qe[10]=ai+10,qe[11]=ai+3,qe[4]=qe[2],qe[5]=ai+8,qe[6]=ai+11,qe[7]=ai+4,qe[0]=qe[3],qe[1]=ai+7,qe[2]=ai+6,qe[3]=ai+5,Ye[2]=Ye[0],Ye[3]=ui,Ye[0]=Ye[1],Ye[1]=ui+1;break}this.figures.push({type:"patch",coords:new Int32Array(qe),colors:new Int32Array(Ye)})}}_buildFigureFromPatch(je){const Xe=this.figures[je];(0,t.assert)(Xe.type==="patch","Unexpected patch mesh figure");const St=this.coords,qe=this.colors,Ye=Xe.coords,gi=Xe.colors,ai=Math.min(St[Ye[0]][0],St[Ye[3]][0],St[Ye[12]][0],St[Ye[15]][0]),ui=Math.min(St[Ye[0]][1],St[Ye[3]][1],St[Ye[12]][1],St[Ye[15]][1]),Qe=Math.max(St[Ye[0]][0],St[Ye[3]][0],St[Ye[12]][0],St[Ye[15]][0]),Ze=Math.max(St[Ye[0]][1],St[Ye[3]][1],St[Ye[12]][1],St[Ye[15]][1]);let ci=Math.ceil((Qe-ai)*Me.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));ci=Math.max(Me.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Me.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,ci));let ze=Math.ceil((Ze-ui)*Me.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));ze=Math.max(Me.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Me.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,ze));const We=ci+1,si=new Int32Array((ze+1)*We),ni=new Int32Array((ze+1)*We);let $e=0;const Ke=new Uint8Array(3),Ve=new Uint8Array(3),Ue=qe[gi[0]],ti=qe[gi[1]],hi=qe[gi[2]],yi=qe[gi[3]],wi=De(ze),Ci=De(ci);for(let ki=0;ki<=ze;ki++){Ke[0]=(Ue[0]*(ze-ki)+hi[0]*ki)/ze|0,Ke[1]=(Ue[1]*(ze-ki)+hi[1]*ki)/ze|0,Ke[2]=(Ue[2]*(ze-ki)+hi[2]*ki)/ze|0,Ve[0]=(ti[0]*(ze-ki)+yi[0]*ki)/ze|0,Ve[1]=(ti[1]*(ze-ki)+yi[1]*ki)/ze|0,Ve[2]=(ti[2]*(ze-ki)+yi[2]*ki)/ze|0;for(let fi=0;fi<=ci;fi++,$e++){if((ki===0||ki===ze)&&(fi===0||fi===ci))continue;let xi=0,li=0,pi=0;for(let oi=0;oi<=3;oi++)for(let di=0;di<=3;di++,pi++){const bi=wi[ki][oi]*Ci[fi][di];xi+=St[Ye[pi]][0]*bi,li+=St[Ye[pi]][1]*bi}si[$e]=St.length,St.push([xi,li]),ni[$e]=qe.length;const ri=new Uint8Array(3);ri[0]=(Ke[0]*(ci-fi)+Ve[0]*fi)/ci|0,ri[1]=(Ke[1]*(ci-fi)+Ve[1]*fi)/ci|0,ri[2]=(Ke[2]*(ci-fi)+Ve[2]*fi)/ci|0,qe.push(ri)}}si[0]=Ye[0],ni[0]=gi[0],si[ci]=Ye[3],ni[ci]=gi[1],si[We*ze]=Ye[12],ni[We*ze]=gi[2],si[We*ze+ci]=Ye[15],ni[We*ze+ci]=gi[3],this.figures[je]={type:"lattice",coords:si,colors:ni,verticesPerRow:We}}_updateBounds(){let je=this.coords[0][0],Xe=this.coords[0][1],St=je,qe=Xe;for(let Ye=1,gi=this.coords.length;Ye<gi;Ye++){const ai=this.coords[Ye][0],ui=this.coords[Ye][1];je=je>ai?ai:je,Xe=Xe>ui?ui:Xe,St=St<ai?ai:St,qe=qe<ui?ui:qe}this.bounds=[je,Xe,St,qe]}_packData(){let je,Xe,St,qe;const Ye=this.coords,gi=new Float32Array(Ye.length*2);for(je=0,St=0,Xe=Ye.length;je<Xe;je++){const Ze=Ye[je];gi[St++]=Ze[0],gi[St++]=Ze[1]}this.coords=gi;const ai=this.colors,ui=new Uint8Array(ai.length*3);for(je=0,St=0,Xe=ai.length;je<Xe;je++){const Ze=ai[je];ui[St++]=Ze[0],ui[St++]=Ze[1],ui[St++]=Ze[2]}this.colors=ui;const Qe=this.figures;for(je=0,Xe=Qe.length;je<Xe;je++){const Ze=Qe[je],ci=Ze.coords,ze=Ze.colors;for(St=0,qe=ci.length;St<qe;St++)ci[St]*=2,ze[St]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class Ae extends Oe{getIR(){return["Dummy"]}}function Be(He,je,Xe){const St=je.getArray("Matrix"),qe=t.Util.normalizeRect(je.getArray("BBox")),Ye=je.get("XStep"),gi=je.get("YStep"),ai=je.get("PaintType"),ui=je.get("TilingType");if(qe[2]-qe[0]===0||qe[3]-qe[1]===0)throw new t.FormatError(`Invalid getTilingPatternIR /BBox array: [${qe}].`);return["TilingPattern",Xe,He,St,qe,Ye,gi,ai,ui]}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.getXfaFontDict=Ae,Se.getXfaFontName=De;var t=_e(50),xe=_e(3),Fe=_e(51),Te=_e(52),e=_e(53),ke=_e(54),Oe=_e(4),Ee=_e(36);const Pe=(0,Oe.getLookupTableFactory)(function(Be){Be["MyriadPro-Regular"]=Be["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:e.MyriadProRegularFactors,baseWidths:Te.LiberationSansRegularWidths,baseMapping:Te.LiberationSansRegularMapping,metrics:e.MyriadProRegularMetrics},Be["MyriadPro-Bold"]=Be["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:e.MyriadProBoldFactors,baseWidths:Te.LiberationSansBoldWidths,baseMapping:Te.LiberationSansBoldMapping,metrics:e.MyriadProBoldMetrics},Be["MyriadPro-It"]=Be["MyriadPro-Italic"]=Be["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:e.MyriadProItalicFactors,baseWidths:Te.LiberationSansItalicWidths,baseMapping:Te.LiberationSansItalicMapping,metrics:e.MyriadProItalicMetrics},Be["MyriadPro-BoldIt"]=Be["MyriadPro-BoldItalic"]=Be["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.MyriadProBoldItalicFactors,baseWidths:Te.LiberationSansBoldItalicWidths,baseMapping:Te.LiberationSansBoldItalicMapping,metrics:e.MyriadProBoldItalicMetrics},Be.ArialMT=Be.Arial=Be["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:Te.LiberationSansRegularWidths,baseMapping:Te.LiberationSansRegularMapping},Be["Arial-BoldMT"]=Be["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:Te.LiberationSansBoldWidths,baseMapping:Te.LiberationSansBoldMapping},Be["Arial-ItalicMT"]=Be["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:Te.LiberationSansItalicWidths,baseMapping:Te.LiberationSansItalicMapping},Be["Arial-BoldItalicMT"]=Be["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:Te.LiberationSansBoldItalicWidths,baseMapping:Te.LiberationSansBoldItalicMapping},Be["Calibri-Regular"]={name:"LiberationSans-Regular",factors:t.CalibriRegularFactors,baseWidths:Te.LiberationSansRegularWidths,baseMapping:Te.LiberationSansRegularMapping,metrics:t.CalibriRegularMetrics},Be["Calibri-Bold"]={name:"LiberationSans-Bold",factors:t.CalibriBoldFactors,baseWidths:Te.LiberationSansBoldWidths,baseMapping:Te.LiberationSansBoldMapping,metrics:t.CalibriBoldMetrics},Be["Calibri-Italic"]={name:"LiberationSans-Italic",factors:t.CalibriItalicFactors,baseWidths:Te.LiberationSansItalicWidths,baseMapping:Te.LiberationSansItalicMapping,metrics:t.CalibriItalicMetrics},Be["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.CalibriBoldItalicFactors,baseWidths:Te.LiberationSansBoldItalicWidths,baseMapping:Te.LiberationSansBoldItalicMapping,metrics:t.CalibriBoldItalicMetrics},Be["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:ke.SegoeuiRegularFactors,baseWidths:Te.LiberationSansRegularWidths,baseMapping:Te.LiberationSansRegularMapping,metrics:ke.SegoeuiRegularMetrics},Be["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:ke.SegoeuiBoldFactors,baseWidths:Te.LiberationSansBoldWidths,baseMapping:Te.LiberationSansBoldMapping,metrics:ke.SegoeuiBoldMetrics},Be["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:ke.SegoeuiItalicFactors,baseWidths:Te.LiberationSansItalicWidths,baseMapping:Te.LiberationSansItalicMapping,metrics:ke.SegoeuiItalicMetrics},Be["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:ke.SegoeuiBoldItalicFactors,baseWidths:Te.LiberationSansBoldItalicWidths,baseMapping:Te.LiberationSansBoldItalicMapping,metrics:ke.SegoeuiBoldItalicMetrics},Be["Helvetica-Regular"]=Be.Helvetica={name:"LiberationSans-Regular",factors:Fe.HelveticaRegularFactors,baseWidths:Te.LiberationSansRegularWidths,baseMapping:Te.LiberationSansRegularMapping,metrics:Fe.HelveticaRegularMetrics},Be["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Fe.HelveticaBoldFactors,baseWidths:Te.LiberationSansBoldWidths,baseMapping:Te.LiberationSansBoldMapping,metrics:Fe.HelveticaBoldMetrics},Be["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Fe.HelveticaItalicFactors,baseWidths:Te.LiberationSansItalicWidths,baseMapping:Te.LiberationSansItalicMapping,metrics:Fe.HelveticaItalicMetrics},Be["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Fe.HelveticaBoldItalicFactors,baseWidths:Te.LiberationSansBoldItalicWidths,baseMapping:Te.LiberationSansBoldItalicMapping,metrics:Fe.HelveticaBoldItalicMetrics}});function De(Be){const He=(0,Ee.normalizeFontName)(Be);return Pe()[He]}function Me(Be){const He=De(Be);if(!He)return null;const{baseWidths:je,baseMapping:Xe,factors:St}=He;let qe;St?qe=je.map((ui,Qe)=>ui*St[Qe]):qe=je;let Ye=-2,gi;const ai=[];for(const[ui,Qe]of Xe.map((Ze,ci)=>[Ze,ci]).sort(([Ze],[ci])=>Ze-ci))ui!==-1&&(ui===Ye+1?(gi.push(qe[Qe]),Ye+=1):(Ye=ui,gi=[qe[Qe]],ai.push(ui,gi)));return ai}function Ae(Be){const He=Me(Be),je=new xe.Dict(null);je.set("BaseFont",xe.Name.get(Be)),je.set("Type",xe.Name.get("Font")),je.set("Subtype",xe.Name.get("CIDFontType2")),je.set("Encoding",xe.Name.get("Identity-H")),je.set("CIDToGIDMap",xe.Name.get("Identity")),je.set("W",He),je.set("FirstChar",He[0]),je.set("LastChar",He.at(-2)+He.at(-1).length-1);const Xe=new xe.Dict(null);je.set("FontDescriptor",Xe);const St=new xe.Dict(null);return St.set("Ordering","Identity"),St.set("Registry","Adobe"),St.set("Supplement",0),je.set("CIDSystemInfo",St),je}},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.CalibriRegularMetrics=Se.CalibriRegularFactors=Se.CalibriItalicMetrics=Se.CalibriItalicFactors=Se.CalibriBoldMetrics=Se.CalibriBoldItalicMetrics=Se.CalibriBoldItalicFactors=Se.CalibriBoldFactors=void 0;const _e=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.CalibriBoldFactors=_e;const t={lineHeight:1.2207,lineGap:.2207};Se.CalibriBoldMetrics=t;const xe=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.CalibriBoldItalicFactors=xe;const Fe={lineHeight:1.2207,lineGap:.2207};Se.CalibriBoldItalicMetrics=Fe;const Te=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.CalibriItalicFactors=Te;const e={lineHeight:1.2207,lineGap:.2207};Se.CalibriItalicMetrics=e;const ke=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];Se.CalibriRegularFactors=ke;const Oe={lineHeight:1.2207,lineGap:.2207};Se.CalibriRegularMetrics=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.HelveticaRegularMetrics=Se.HelveticaRegularFactors=Se.HelveticaItalicMetrics=Se.HelveticaItalicFactors=Se.HelveticaBoldMetrics=Se.HelveticaBoldItalicMetrics=Se.HelveticaBoldItalicFactors=Se.HelveticaBoldFactors=void 0;const _e=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Se.HelveticaBoldFactors=_e;const t={lineHeight:1.2,lineGap:.2};Se.HelveticaBoldMetrics=t;const xe=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Se.HelveticaBoldItalicFactors=xe;const Fe={lineHeight:1.35,lineGap:.2};Se.HelveticaBoldItalicMetrics=Fe;const Te=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Se.HelveticaItalicFactors=Te;const e={lineHeight:1.35,lineGap:.2};Se.HelveticaItalicMetrics=e;const ke=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.HelveticaRegularFactors=ke;const Oe={lineHeight:1.2,lineGap:.2};Se.HelveticaRegularMetrics=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.LiberationSansRegularWidths=Se.LiberationSansRegularMapping=Se.LiberationSansItalicWidths=Se.LiberationSansItalicMapping=Se.LiberationSansBoldWidths=Se.LiberationSansBoldMapping=Se.LiberationSansBoldItalicWidths=Se.LiberationSansBoldItalicMapping=void 0;const _e=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Se.LiberationSansBoldWidths=_e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Se.LiberationSansBoldMapping=t;const xe=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Se.LiberationSansBoldItalicWidths=xe;const Fe=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Se.LiberationSansBoldItalicMapping=Fe;const Te=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Se.LiberationSansItalicWidths=Te;const e=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Se.LiberationSansItalicMapping=e;const ke=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Se.LiberationSansRegularWidths=ke;const Oe=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Se.LiberationSansRegularMapping=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.MyriadProRegularMetrics=Se.MyriadProRegularFactors=Se.MyriadProItalicMetrics=Se.MyriadProItalicFactors=Se.MyriadProBoldMetrics=Se.MyriadProBoldItalicMetrics=Se.MyriadProBoldItalicFactors=Se.MyriadProBoldFactors=void 0;const _e=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.MyriadProBoldFactors=_e;const t={lineHeight:1.2,lineGap:.2};Se.MyriadProBoldMetrics=t;const xe=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.MyriadProBoldItalicFactors=xe;const Fe={lineHeight:1.2,lineGap:.2};Se.MyriadProBoldItalicMetrics=Fe;const Te=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.MyriadProItalicFactors=Te;const e={lineHeight:1.2,lineGap:.2};Se.MyriadProItalicMetrics=e;const ke=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.MyriadProRegularFactors=ke;const Oe={lineHeight:1.2,lineGap:.2};Se.MyriadProRegularMetrics=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.SegoeuiRegularMetrics=Se.SegoeuiRegularFactors=Se.SegoeuiItalicMetrics=Se.SegoeuiItalicFactors=Se.SegoeuiBoldMetrics=Se.SegoeuiBoldItalicMetrics=Se.SegoeuiBoldItalicFactors=Se.SegoeuiBoldFactors=void 0;const _e=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.SegoeuiBoldFactors=_e;const t={lineHeight:1.33008,lineGap:0};Se.SegoeuiBoldMetrics=t;const xe=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.SegoeuiBoldItalicFactors=xe;const Fe={lineHeight:1.33008,lineGap:0};Se.SegoeuiBoldItalicMetrics=Fe;const Te=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Se.SegoeuiItalicFactors=Te;const e={lineHeight:1.33008,lineGap:0};Se.SegoeuiItalicMetrics=e;const ke=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];Se.SegoeuiRegularFactors=ke;const Oe={lineHeight:1.33008,lineGap:0};Se.SegoeuiRegularMetrics=Oe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PostScriptEvaluator=Se.PostScriptCompiler=Se.PDFFunctionFactory=void 0,Se.isPDFFunction=Pe;var t=_e(3),xe=_e(2),Fe=_e(56),Te=_e(5),e=_e(57);class ke{constructor({xref:ze,isEvalSupported:We=!0}){this.xref=ze,this.isEvalSupported=We!==!1}create(ze){const We=this.getCached(ze);if(We)return We;const si=Ee.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:ze instanceof t.Ref?this.xref.fetch(ze):ze});return this._cache(ze,si),si}createFromArray(ze){const We=this.getCached(ze);if(We)return We;const si=Ee.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:ze instanceof t.Ref?this.xref.fetch(ze):ze});return this._cache(ze,si),si}getCached(ze){let We;if(ze instanceof t.Ref?We=ze:ze instanceof t.Dict?We=ze.objId:ze instanceof Te.BaseStream&&(We=ze.dict&&ze.dict.objId),We){const si=this._localFunctionCache.getByRef(We);if(si)return si}return null}_cache(ze,We){if(!We)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let si;ze instanceof t.Ref?si=ze:ze instanceof t.Dict?si=ze.objId:ze instanceof Te.BaseStream&&(si=ze.dict&&ze.dict.objId),si&&this._localFunctionCache.set(null,si,We)}get _localFunctionCache(){return(0,xe.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}}Se.PDFFunctionFactory=ke;function Oe(ci){if(!Array.isArray(ci))return null;const ze=ci.length;for(let We=0;We<ze;We++)if(typeof ci[We]!="number"){const si=new Array(ze);for(let ni=0;ni<ze;ni++)si[ni]=+ci[ni];return si}return ci}class Ee{static getSampleArray(ze,We,si,ni){let $e,Ke,Ve=1;for($e=0,Ke=ze.length;$e<Ke;$e++)Ve*=ze[$e];Ve*=We;const Ue=new Array(Ve);let ti=0,hi=0;const yi=1/(2**si-1),wi=ni.getBytes((Ve*si+7)/8);let Ci=0;for($e=0;$e<Ve;$e++){for(;ti<si;)hi<<=8,hi|=wi[Ci++],ti+=8;ti-=si,Ue[$e]=(hi>>ti)*yi,hi&=(1<<ti)-1}return Ue}static parse({xref:ze,isEvalSupported:We,fn:si}){const ni=si.dict||si;switch(ni.get("FunctionType")){case 0:return this.constructSampled({xref:ze,isEvalSupported:We,fn:si,dict:ni});case 1:break;case 2:return this.constructInterpolated({xref:ze,isEvalSupported:We,dict:ni});case 3:return this.constructStiched({xref:ze,isEvalSupported:We,dict:ni});case 4:return this.constructPostScript({xref:ze,isEvalSupported:We,fn:si,dict:ni})}throw new xe.FormatError("Unknown type of function")}static parseArray({xref:ze,isEvalSupported:We,fnObj:si}){if(!Array.isArray(si))return this.parse({xref:ze,isEvalSupported:We,fn:si});const ni=[];for(const $e of si)ni.push(this.parse({xref:ze,isEvalSupported:We,fn:ze.fetchIfRef($e)}));return function($e,Ke,Ve,Ue){for(let ti=0,hi=ni.length;ti<hi;ti++)ni[ti]($e,Ke,Ve,Ue+ti)}}static constructSampled({xref:ze,isEvalSupported:We,fn:si,dict:ni}){function $e(li){const pi=li.length,ri=[];let oi=0;for(let di=0;di<pi;di+=2)ri[oi++]=[li[di],li[di+1]];return ri}function Ke(li,pi,ri,oi,di){return oi+(li-pi)*((di-oi)/(ri-pi))}let Ve=Oe(ni.getArray("Domain")),Ue=Oe(ni.getArray("Range"));if(!Ve||!Ue)throw new xe.FormatError("No domain or range");const ti=Ve.length/2,hi=Ue.length/2;Ve=$e(Ve),Ue=$e(Ue);const yi=Oe(ni.getArray("Size")),wi=ni.get("BitsPerSample"),Ci=ni.get("Order")||1;Ci!==1&&(0,xe.info)("No support for cubic spline interpolation: "+Ci);let ki=Oe(ni.getArray("Encode"));if(ki)ki=$e(ki);else{ki=[];for(let li=0;li<ti;++li)ki.push([0,yi[li]-1])}let fi=Oe(ni.getArray("Decode"));fi?fi=$e(fi):fi=Ue;const xi=this.getSampleArray(yi,hi,wi,si);return function(pi,ri,oi,di){const bi=1<<ti,Ai=new Float64Array(bi),Ei=new Uint32Array(bi);let mi,_i;for(_i=0;_i<bi;_i++)Ai[_i]=1;let Si=hi,Fi=1;for(mi=0;mi<ti;++mi){const Pi=Ve[mi][0],Di=Ve[mi][1],Ii=Math.min(Math.max(pi[ri+mi],Pi),Di);let Mi=Ke(Ii,Pi,Di,ki[mi][0],ki[mi][1]);const $i=yi[mi];Mi=Math.min(Math.max(Mi,0),$i-1);const Xi=Mi<$i-1?Math.floor(Mi):Mi-1,rn=Xi+1-Mi,tn=Mi-Xi,on=Xi*Si,fn=on+Si;for(_i=0;_i<bi;_i++)_i&Fi?(Ai[_i]*=tn,Ei[_i]+=fn):(Ai[_i]*=rn,Ei[_i]+=on);Si*=$i,Fi<<=1}for(_i=0;_i<hi;++_i){let Pi=0;for(mi=0;mi<bi;mi++)Pi+=xi[Ei[mi]+_i]*Ai[mi];Pi=Ke(Pi,0,1,fi[_i][0],fi[_i][1]),oi[di+_i]=Math.min(Math.max(Pi,Ue[_i][0]),Ue[_i][1])}}}static constructInterpolated({xref:ze,isEvalSupported:We,dict:si}){const ni=Oe(si.getArray("C0"))||[0],$e=Oe(si.getArray("C1"))||[1],Ke=si.get("N"),Ve=[];for(let ti=0,hi=ni.length;ti<hi;++ti)Ve.push($e[ti]-ni[ti]);const Ue=Ve.length;return function(hi,yi,wi,Ci){const ki=Ke===1?hi[yi]:hi[yi]**Ke;for(let fi=0;fi<Ue;++fi)wi[Ci+fi]=ni[fi]+ki*Ve[fi]}}static constructStiched({xref:ze,isEvalSupported:We,dict:si}){const ni=Oe(si.getArray("Domain"));if(!ni)throw new xe.FormatError("No domain");if(ni.length/2!==1)throw new xe.FormatError("Bad domain for stiched function");const Ke=[];for(const hi of si.get("Functions"))Ke.push(this.parse({xref:ze,isEvalSupported:We,fn:ze.fetchIfRef(hi)}));const Ve=Oe(si.getArray("Bounds")),Ue=Oe(si.getArray("Encode")),ti=new Float32Array(1);return function(yi,wi,Ci,ki){const xi=function(Ei,mi,_i){return Ei>_i?Ei=_i:Ei<mi&&(Ei=mi),Ei}(yi[wi],ni[0],ni[1]),li=Ve.length;let pi;for(pi=0;pi<li&&!(xi<Ve[pi]);++pi);let ri=ni[0];pi>0&&(ri=Ve[pi-1]);let oi=ni[1];pi<Ve.length&&(oi=Ve[pi]);const di=Ue[2*pi],bi=Ue[2*pi+1];ti[0]=ri===oi?di:di+(xi-ri)*(bi-di)/(oi-ri),Ke[pi](ti,0,Ci,ki)}}static constructPostScript({xref:ze,isEvalSupported:We,fn:si,dict:ni}){const $e=Oe(ni.getArray("Domain")),Ke=Oe(ni.getArray("Range"));if(!$e)throw new xe.FormatError("No domain.");if(!Ke)throw new xe.FormatError("No range.");const Ve=new Fe.PostScriptLexer(si),ti=new Fe.PostScriptParser(Ve).parse();if(We&&xe.FeatureTest.isEvalSupported){const li=new Ze().compile(ti,$e,Ke);if(li)return new Function("src","srcOffset","dest","destOffset",li)}(0,xe.info)("Unable to compile PS function");const hi=Ke.length>>1,yi=$e.length>>1,wi=new Me(ti),Ci=Object.create(null);let fi=2048*4;const xi=new Float32Array(yi);return function(pi,ri,oi,di){let bi,Ai,Ei="";const mi=xi;for(bi=0;bi<yi;bi++)Ai=pi[ri+bi],mi[bi]=Ai,Ei+=Ai+"_";const _i=Ci[Ei];if(_i!==void 0){oi.set(_i,di);return}const Si=new Float32Array(hi),Fi=wi.execute(mi),Pi=Fi.length-hi;for(bi=0;bi<hi;bi++){Ai=Fi[Pi+bi];let Di=Ke[bi*2];Ai<Di?Ai=Di:(Di=Ke[bi*2+1],Ai>Di&&(Ai=Di)),Si[bi]=Ai}fi>0&&(fi--,Ci[Ei]=Si),oi.set(Si,di)}}}function Pe(ci){let ze;if(typeof ci!="object")return!1;if(ci instanceof t.Dict)ze=ci;else if(ci instanceof Te.BaseStream)ze=ci.dict;else return!1;return ze.has("FunctionType")}class De{static get MAX_STACK_SIZE(){return(0,xe.shadow)(this,"MAX_STACK_SIZE",100)}constructor(ze){this.stack=ze?Array.from(ze):[]}push(ze){if(this.stack.length>=De.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(ze)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(ze){if(this.stack.length+ze>=De.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const We=this.stack;for(let si=We.length-ze,ni=ze-1;ni>=0;ni--,si++)We.push(We[si])}index(ze){this.push(this.stack[this.stack.length-ze-1])}roll(ze,We){const si=this.stack,ni=si.length-ze,$e=si.length-1,Ke=ni+(We-Math.floor(We/ze)*ze);for(let Ve=ni,Ue=$e;Ve<Ue;Ve++,Ue--){const ti=si[Ve];si[Ve]=si[Ue],si[Ue]=ti}for(let Ve=ni,Ue=Ke-1;Ve<Ue;Ve++,Ue--){const ti=si[Ve];si[Ve]=si[Ue],si[Ue]=ti}for(let Ve=Ke,Ue=$e;Ve<Ue;Ve++,Ue--){const ti=si[Ve];si[Ve]=si[Ue],si[Ue]=ti}}}class Me{constructor(ze){this.operators=ze}execute(ze){const We=new De(ze);let si=0;const ni=this.operators,$e=ni.length;let Ke,Ve,Ue;for(;si<$e;){if(Ke=ni[si++],typeof Ke=="number"){We.push(Ke);continue}switch(Ke){case"jz":Ue=We.pop(),Ve=We.pop(),Ve||(si=Ue);break;case"j":Ve=We.pop(),si=Ve;break;case"abs":Ve=We.pop(),We.push(Math.abs(Ve));break;case"add":Ue=We.pop(),Ve=We.pop(),We.push(Ve+Ue);break;case"and":Ue=We.pop(),Ve=We.pop(),typeof Ve=="boolean"&&typeof Ue=="boolean"?We.push(Ve&&Ue):We.push(Ve&Ue);break;case"atan":Ve=We.pop(),We.push(Math.atan(Ve));break;case"bitshift":Ue=We.pop(),Ve=We.pop(),Ve>0?We.push(Ve<<Ue):We.push(Ve>>Ue);break;case"ceiling":Ve=We.pop(),We.push(Math.ceil(Ve));break;case"copy":Ve=We.pop(),We.copy(Ve);break;case"cos":Ve=We.pop(),We.push(Math.cos(Ve));break;case"cvi":Ve=We.pop()|0,We.push(Ve);break;case"cvr":break;case"div":Ue=We.pop(),Ve=We.pop(),We.push(Ve/Ue);break;case"dup":We.copy(1);break;case"eq":Ue=We.pop(),Ve=We.pop(),We.push(Ve===Ue);break;case"exch":We.roll(2,1);break;case"exp":Ue=We.pop(),Ve=We.pop(),We.push(Ve**Ue);break;case"false":We.push(!1);break;case"floor":Ve=We.pop(),We.push(Math.floor(Ve));break;case"ge":Ue=We.pop(),Ve=We.pop(),We.push(Ve>=Ue);break;case"gt":Ue=We.pop(),Ve=We.pop(),We.push(Ve>Ue);break;case"idiv":Ue=We.pop(),Ve=We.pop(),We.push(Ve/Ue|0);break;case"index":Ve=We.pop(),We.index(Ve);break;case"le":Ue=We.pop(),Ve=We.pop(),We.push(Ve<=Ue);break;case"ln":Ve=We.pop(),We.push(Math.log(Ve));break;case"log":Ve=We.pop(),We.push(Math.log(Ve)/Math.LN10);break;case"lt":Ue=We.pop(),Ve=We.pop(),We.push(Ve<Ue);break;case"mod":Ue=We.pop(),Ve=We.pop(),We.push(Ve%Ue);break;case"mul":Ue=We.pop(),Ve=We.pop(),We.push(Ve*Ue);break;case"ne":Ue=We.pop(),Ve=We.pop(),We.push(Ve!==Ue);break;case"neg":Ve=We.pop(),We.push(-Ve);break;case"not":Ve=We.pop(),typeof Ve=="boolean"?We.push(!Ve):We.push(~Ve);break;case"or":Ue=We.pop(),Ve=We.pop(),typeof Ve=="boolean"&&typeof Ue=="boolean"?We.push(Ve||Ue):We.push(Ve|Ue);break;case"pop":We.pop();break;case"roll":Ue=We.pop(),Ve=We.pop(),We.roll(Ve,Ue);break;case"round":Ve=We.pop(),We.push(Math.round(Ve));break;case"sin":Ve=We.pop(),We.push(Math.sin(Ve));break;case"sqrt":Ve=We.pop(),We.push(Math.sqrt(Ve));break;case"sub":Ue=We.pop(),Ve=We.pop(),We.push(Ve-Ue);break;case"true":We.push(!0);break;case"truncate":Ve=We.pop(),Ve=Ve<0?Math.ceil(Ve):Math.floor(Ve),We.push(Ve);break;case"xor":Ue=We.pop(),Ve=We.pop(),typeof Ve=="boolean"&&typeof Ue=="boolean"?We.push(Ve!==Ue):We.push(Ve^Ue);break;default:throw new xe.FormatError(`Unknown operator ${Ke}`)}}return We.stack}}Se.PostScriptEvaluator=Me;class Ae{constructor(ze){this.type=ze}visit(ze){(0,xe.unreachable)("abstract method")}}class Be extends Ae{constructor(ze,We,si){super("args"),this.index=ze,this.min=We,this.max=si}visit(ze){ze.visitArgument(this)}}class He extends Ae{constructor(ze){super("literal"),this.number=ze,this.min=ze,this.max=ze}visit(ze){ze.visitLiteral(this)}}class je extends Ae{constructor(ze,We,si,ni,$e){super("binary"),this.op=ze,this.arg1=We,this.arg2=si,this.min=ni,this.max=$e}visit(ze){ze.visitBinaryOperation(this)}}class Xe extends Ae{constructor(ze,We){super("max"),this.arg=ze,this.min=ze.min,this.max=We}visit(ze){ze.visitMin(this)}}class St extends Ae{constructor(ze,We,si){super("var"),this.index=ze,this.min=We,this.max=si}visit(ze){ze.visitVariable(this)}}class qe extends Ae{constructor(ze,We){super("definition"),this.variable=ze,this.arg=We}visit(ze){ze.visitVariableDefinition(this)}}class Ye{constructor(){this.parts=[]}visitArgument(ze){this.parts.push("Math.max(",ze.min,", Math.min(",ze.max,", src[srcOffset + ",ze.index,"]))")}visitVariable(ze){this.parts.push("v",ze.index)}visitLiteral(ze){this.parts.push(ze.number)}visitBinaryOperation(ze){this.parts.push("("),ze.arg1.visit(this),this.parts.push(" ",ze.op," "),ze.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(ze){this.parts.push("var "),ze.variable.visit(this),this.parts.push(" = "),ze.arg.visit(this),this.parts.push(";")}visitMin(ze){this.parts.push("Math.min("),ze.arg.visit(this),this.parts.push(", ",ze.max,")")}toString(){return this.parts.join("")}}function gi(ci,ze){return ze.type==="literal"&&ze.number===0?ci:ci.type==="literal"&&ci.number===0?ze:ze.type==="literal"&&ci.type==="literal"?new He(ci.number+ze.number):new je("+",ci,ze,ci.min+ze.min,ci.max+ze.max)}function ai(ci,ze){if(ze.type==="literal"){if(ze.number===0)return new He(0);if(ze.number===1)return ci;if(ci.type==="literal")return new He(ci.number*ze.number)}if(ci.type==="literal"){if(ci.number===0)return new He(0);if(ci.number===1)return ze}const We=Math.min(ci.min*ze.min,ci.min*ze.max,ci.max*ze.min,ci.max*ze.max),si=Math.max(ci.min*ze.min,ci.min*ze.max,ci.max*ze.min,ci.max*ze.max);return new je("*",ci,ze,We,si)}function ui(ci,ze){if(ze.type==="literal"){if(ze.number===0)return ci;if(ci.type==="literal")return new He(ci.number-ze.number)}return ze.type==="binary"&&ze.op==="-"&&ci.type==="literal"&&ci.number===1&&ze.arg1.type==="literal"&&ze.arg1.number===1?ze.arg2:new je("-",ci,ze,ci.min-ze.max,ci.max-ze.min)}function Qe(ci,ze){return ci.min>=ze?new He(ze):ci.max<=ze?ci:new Xe(ci,ze)}class Ze{compile(ze,We,si){const ni=[],$e=[],Ke=We.length>>1,Ve=si.length>>1;let Ue=0,ti,hi,yi,wi,Ci,ki,fi,xi;for(let pi=0;pi<Ke;pi++)ni.push(new Be(pi,We[pi*2],We[pi*2+1]));for(let pi=0,ri=ze.length;pi<ri;pi++){if(xi=ze[pi],typeof xi=="number"){ni.push(new He(xi));continue}switch(xi){case"add":if(ni.length<2)return null;wi=ni.pop(),yi=ni.pop(),ni.push(gi(yi,wi));break;case"cvr":if(ni.length<1)return null;break;case"mul":if(ni.length<2)return null;wi=ni.pop(),yi=ni.pop(),ni.push(ai(yi,wi));break;case"sub":if(ni.length<2)return null;wi=ni.pop(),yi=ni.pop(),ni.push(ui(yi,wi));break;case"exch":if(ni.length<2)return null;Ci=ni.pop(),ki=ni.pop(),ni.push(Ci,ki);break;case"pop":if(ni.length<1)return null;ni.pop();break;case"index":if(ni.length<1||(yi=ni.pop(),yi.type!=="literal")||(ti=yi.number,ti<0||!Number.isInteger(ti)||ni.length<ti))return null;if(Ci=ni[ni.length-ti-1],Ci.type==="literal"||Ci.type==="var"){ni.push(Ci);break}fi=new St(Ue++,Ci.min,Ci.max),ni[ni.length-ti-1]=fi,ni.push(fi),$e.push(new qe(fi,Ci));break;case"dup":if(ni.length<1)return null;if(typeof ze[pi+1]=="number"&&ze[pi+2]==="gt"&&ze[pi+3]===pi+7&&ze[pi+4]==="jz"&&ze[pi+5]==="pop"&&ze[pi+6]===ze[pi+1]){yi=ni.pop(),ni.push(Qe(yi,ze[pi+1])),pi+=6;break}if(Ci=ni.at(-1),Ci.type==="literal"||Ci.type==="var"){ni.push(Ci);break}fi=new St(Ue++,Ci.min,Ci.max),ni[ni.length-1]=fi,ni.push(fi),$e.push(new qe(fi,Ci));break;case"roll":if(ni.length<2||(wi=ni.pop(),yi=ni.pop(),wi.type!=="literal"||yi.type!=="literal")||(hi=wi.number,ti=yi.number,ti<=0||!Number.isInteger(ti)||!Number.isInteger(hi)||ni.length<ti))return null;if(hi=(hi%ti+ti)%ti,hi===0)break;ni.push(...ni.splice(ni.length-ti,ti-hi));break;default:return null}}if(ni.length!==Ve)return null;const li=[];for(const pi of $e){const ri=new Ye;pi.visit(ri),li.push(ri.toString())}for(let pi=0,ri=ni.length;pi<ri;pi++){const oi=ni[pi],di=new Ye;oi.visit(di);const bi=si[pi*2],Ai=si[pi*2+1],Ei=[di.toString()];bi>oi.min&&(Ei.unshift("Math.max(",bi,", "),Ei.push(")")),Ai<oi.max&&(Ei.unshift("Math.min(",Ai,", "),Ei.push(")")),Ei.unshift("dest[destOffset + ",pi,"] = "),Ei.push(";"),li.push(Ei.join(""))}return li.join(`
`)}}Se.PostScriptCompiler=Ze},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PostScriptParser=Se.PostScriptLexer=void 0;var t=_e(2),xe=_e(3),Fe=_e(4);class Te{constructor(Pe){this.lexer=Pe,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Pe){return this.token.type===Pe?(this.nextToken(),!0):!1}expect(Pe){if(this.accept(Pe))return!0;throw new t.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Pe}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(e.LBRACE))this.parseCondition();else return}parseCondition(){const Pe=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[Pe]=this.operators.length,this.operators[Pe+1]="jz";else if(this.accept(e.LBRACE)){const De=this.operators.length;this.operators.push(null,null);const Me=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[De]=this.operators.length,this.operators[De+1]="j",this.operators[Pe]=Me,this.operators[Pe+1]="jz"}else throw new t.FormatError("PS Function: error parsing conditional.")}}Se.PostScriptParser=Te;const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class ke{static get opCache(){return(0,t.shadow)(this,"opCache",Object.create(null))}constructor(Pe,De){this.type=Pe,this.value=De}static getOperator(Pe){const De=ke.opCache[Pe];return De||(ke.opCache[Pe]=new ke(e.OPERATOR,Pe))}static get LBRACE(){return(0,t.shadow)(this,"LBRACE",new ke(e.LBRACE,"{"))}static get RBRACE(){return(0,t.shadow)(this,"RBRACE",new ke(e.RBRACE,"}"))}static get IF(){return(0,t.shadow)(this,"IF",new ke(e.IF,"IF"))}static get IFELSE(){return(0,t.shadow)(this,"IFELSE",new ke(e.IFELSE,"IFELSE"))}}class Oe{constructor(Pe){this.stream=Pe,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Pe=!1,De=this.currentChar;for(;;){if(De<0)return xe.EOF;if(Pe)(De===10||De===13)&&(Pe=!1);else if(De===37)Pe=!0;else if(!(0,Fe.isWhiteSpace)(De))break;De=this.nextChar()}switch(De|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new ke(e.NUMBER,this.getNumber());case 123:return this.nextChar(),ke.LBRACE;case 125:return this.nextChar(),ke.RBRACE}const Me=this.strBuf;for(Me.length=0,Me[0]=String.fromCharCode(De);(De=this.nextChar())>=0&&(De>=65&&De<=90||De>=97&&De<=122);)Me.push(String.fromCharCode(De));const Ae=Me.join("");switch(Ae.toLowerCase()){case"if":return ke.IF;case"ifelse":return ke.IFELSE;default:return ke.getOperator(Ae)}}getNumber(){let Pe=this.currentChar;const De=this.strBuf;for(De.length=0,De[0]=String.fromCharCode(Pe);(Pe=this.nextChar())>=0&&(Pe>=48&&Pe<=57||Pe===45||Pe===46);)De.push(String.fromCharCode(Pe));const Me=parseFloat(De.join(""));if(isNaN(Me))throw new t.FormatError(`Invalid floating point number: ${Me}`);return Me}}Se.PostScriptLexer=Oe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.LocalTilingPatternCache=Se.LocalImageCache=Se.LocalGStateCache=Se.LocalFunctionCache=Se.LocalColorSpaceCache=Se.GlobalImageCache=void 0;var t=_e(2),xe=_e(3);class Fe{constructor(Me){this.constructor===Fe&&(0,t.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(Me&&Me.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new xe.RefSetCache}getByName(Me){this._onlyRefs&&(0,t.unreachable)("Should not call `getByName` method.");const Ae=this._nameRefMap.get(Me);return Ae?this.getByRef(Ae):this._imageMap.get(Me)||null}getByRef(Me){return this._imageCache.get(Me)||null}set(Me,Ae,Be){(0,t.unreachable)("Abstract method `set` called.")}}class Te extends Fe{set(Me,Ae=null,Be){if(typeof Me!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(Ae){if(this._imageCache.has(Ae))return;this._nameRefMap.set(Me,Ae),this._imageCache.put(Ae,Be);return}this._imageMap.has(Me)||this._imageMap.set(Me,Be)}}Se.LocalImageCache=Te;class e extends Fe{set(Me=null,Ae=null,Be){if(typeof Me!="string"&&!Ae)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(Ae){if(this._imageCache.has(Ae))return;Me!==null&&this._nameRefMap.set(Me,Ae),this._imageCache.put(Ae,Be);return}this._imageMap.has(Me)||this._imageMap.set(Me,Be)}}Se.LocalColorSpaceCache=e;class ke extends Fe{constructor(Me){super({onlyRefs:!0})}set(Me=null,Ae,Be){if(!Ae)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(Ae)||this._imageCache.put(Ae,Be)}}Se.LocalFunctionCache=ke;class Oe extends Fe{set(Me,Ae=null,Be){if(typeof Me!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(Ae){if(this._imageCache.has(Ae))return;this._nameRefMap.set(Me,Ae),this._imageCache.put(Ae,Be);return}this._imageMap.has(Me)||this._imageMap.set(Me,Be)}}Se.LocalGStateCache=Oe;class Ee extends Fe{constructor(Me){super({onlyRefs:!0})}set(Me=null,Ae,Be){if(!Ae)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(Ae)||this._imageCache.put(Ae,Be)}}Se.LocalTilingPatternCache=Ee;class Pe{static get NUM_PAGES_THRESHOLD(){return(0,t.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,t.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,t.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new xe.RefSetCache,this._imageCache=new xe.RefSetCache}get _byteSize(){let Me=0;for(const Ae of this._imageCache)Me+=Ae.byteSize;return Me}get _cacheLimitReached(){return!(this._imageCache.size<Pe.MIN_IMAGES_TO_CACHE||this._byteSize<Pe.MAX_BYTE_SIZE)}shouldCache(Me,Ae){const Be=this._refCache.get(Me);return!((Be?Be.size+(Be.has(Ae)?0:1):1)<Pe.NUM_PAGES_THRESHOLD||!this._imageCache.has(Me)&&this._cacheLimitReached)}addPageIndex(Me,Ae){let Be=this._refCache.get(Me);Be||(Be=new Set,this._refCache.put(Me,Be)),Be.add(Ae)}addByteSize(Me,Ae){const Be=this._imageCache.get(Me);!Be||Be.byteSize||(Be.byteSize=Ae)}getData(Me,Ae){const Be=this._refCache.get(Me);if(!Be||Be.size<Pe.NUM_PAGES_THRESHOLD)return null;const He=this._imageCache.get(Me);return He?(Be.add(Ae),He):null}setData(Me,Ae){if(!this._refCache.has(Me))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(Me)){if(this._cacheLimitReached){(0,t.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(Me,Ae)}}clear(Me=!1){Me||this._refCache.clear(),this._imageCache.clear()}}Se.GlobalImageCache=Pe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.bidi=Ae;var t=_e(2);const xe=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Fe=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function Te(Be){return(Be&1)!==0}function e(Be){return(Be&1)===0}function ke(Be,He,je){let Xe,St;for(Xe=He,St=Be.length;Xe<St;++Xe)if(Be[Xe]!==je)return Xe;return Xe}function Oe(Be,He,je,Xe){for(let St=He;St<je;++St)Be[St]=Xe}function Ee(Be,He,je){for(let Xe=He,St=je-1;Xe<St;++Xe,--St){const qe=Be[Xe];Be[Xe]=Be[St],Be[St]=qe}}function Pe(Be,He,je=!1){let Xe="ltr";return je?Xe="ttb":He||(Xe="rtl"),{str:Be,dir:Xe}}const De=[],Me=[];function Ae(Be,He=-1,je=!1){let Xe=!0;const St=Be.length;if(St===0||je)return Pe(Be,Xe,je);De.length=St,Me.length=St;let qe=0,Ye,gi;for(Ye=0;Ye<St;++Ye){De[Ye]=Be.charAt(Ye);const $e=Be.charCodeAt(Ye);let Ke="L";$e<=255?Ke=xe[$e]:1424<=$e&&$e<=1524?Ke="R":1536<=$e&&$e<=1791?(Ke=Fe[$e&255],Ke||(0,t.warn)("Bidi: invalid Unicode character "+$e.toString(16))):1792<=$e&&$e<=2220&&(Ke="AL"),(Ke==="R"||Ke==="AL"||Ke==="AN")&&qe++,Me[Ye]=Ke}if(qe===0)return Xe=!0,Pe(Be,Xe);He===-1&&(qe/St<.3&&St>4?(Xe=!0,He=0):(Xe=!1,He=1));const ai=[];for(Ye=0;Ye<St;++Ye)ai[Ye]=He;const ui=Te(He)?"R":"L",Qe=ui,Ze=Qe;let ci=Qe;for(Ye=0;Ye<St;++Ye)Me[Ye]==="NSM"?Me[Ye]=ci:ci=Me[Ye];ci=Qe;let ze;for(Ye=0;Ye<St;++Ye)ze=Me[Ye],ze==="EN"?Me[Ye]=ci==="AL"?"AN":"EN":(ze==="R"||ze==="L"||ze==="AL")&&(ci=ze);for(Ye=0;Ye<St;++Ye)ze=Me[Ye],ze==="AL"&&(Me[Ye]="R");for(Ye=1;Ye<St-1;++Ye)Me[Ye]==="ES"&&Me[Ye-1]==="EN"&&Me[Ye+1]==="EN"&&(Me[Ye]="EN"),Me[Ye]==="CS"&&(Me[Ye-1]==="EN"||Me[Ye-1]==="AN")&&Me[Ye+1]===Me[Ye-1]&&(Me[Ye]=Me[Ye-1]);for(Ye=0;Ye<St;++Ye)if(Me[Ye]==="EN"){for(let $e=Ye-1;$e>=0&&Me[$e]==="ET";--$e)Me[$e]="EN";for(let $e=Ye+1;$e<St&&Me[$e]==="ET";++$e)Me[$e]="EN"}for(Ye=0;Ye<St;++Ye)ze=Me[Ye],(ze==="WS"||ze==="ES"||ze==="ET"||ze==="CS")&&(Me[Ye]="ON");for(ci=Qe,Ye=0;Ye<St;++Ye)ze=Me[Ye],ze==="EN"?Me[Ye]=ci==="L"?"L":"EN":(ze==="R"||ze==="L")&&(ci=ze);for(Ye=0;Ye<St;++Ye)if(Me[Ye]==="ON"){const $e=ke(Me,Ye+1,"ON");let Ke=Qe;Ye>0&&(Ke=Me[Ye-1]);let Ve=Ze;$e+1<St&&(Ve=Me[$e+1]),Ke!=="L"&&(Ke="R"),Ve!=="L"&&(Ve="R"),Ke===Ve&&Oe(Me,Ye,$e,Ke),Ye=$e-1}for(Ye=0;Ye<St;++Ye)Me[Ye]==="ON"&&(Me[Ye]=ui);for(Ye=0;Ye<St;++Ye)ze=Me[Ye],e(ai[Ye])?ze==="R"?ai[Ye]+=1:(ze==="AN"||ze==="EN")&&(ai[Ye]+=2):(ze==="L"||ze==="AN"||ze==="EN")&&(ai[Ye]+=1);let We=-1,si=99,ni;for(Ye=0,gi=ai.length;Ye<gi;++Ye)ni=ai[Ye],We<ni&&(We=ni),si>ni&&Te(ni)&&(si=ni);for(ni=We;ni>=si;--ni){let $e=-1;for(Ye=0,gi=ai.length;Ye<gi;++Ye)ai[Ye]<ni?$e>=0&&(Ee(De,$e,Ye),$e=-1):$e<0&&($e=Ye);$e>=0&&Ee(De,$e,ai.length)}for(Ye=0,gi=De.length;Ye<gi;++Ye){const $e=De[Ye];($e==="<"||$e===">")&&(De[Ye]="")}return Pe(De.join(""),Xe)}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.MurmurHash3_64=void 0;var t=_e(2);const xe=3285377520,Fe=4294901760,Te=65535;class e{constructor(Oe){this.h1=Oe?Oe&4294967295:xe,this.h2=Oe?Oe&4294967295:xe}update(Oe){let Ee,Pe;if(typeof Oe=="string"){Ee=new Uint8Array(Oe.length*2),Pe=0;for(let ai=0,ui=Oe.length;ai<ui;ai++){const Qe=Oe.charCodeAt(ai);Qe<=255?Ee[Pe++]=Qe:(Ee[Pe++]=Qe>>>8,Ee[Pe++]=Qe&255)}}else if((0,t.isArrayBuffer)(Oe))Ee=Oe.slice(),Pe=Ee.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const De=Pe>>2,Me=Pe-De*4,Ae=new Uint32Array(Ee.buffer,0,De);let Be=0,He=0,je=this.h1,Xe=this.h2;const St=3432918353,qe=461845907,Ye=St&Te,gi=qe&Te;for(let ai=0;ai<De;ai++)ai&1?(Be=Ae[ai],Be=Be*St&Fe|Be*Ye&Te,Be=Be<<15|Be>>>17,Be=Be*qe&Fe|Be*gi&Te,je^=Be,je=je<<13|je>>>19,je=je*5+3864292196):(He=Ae[ai],He=He*St&Fe|He*Ye&Te,He=He<<15|He>>>17,He=He*qe&Fe|He*gi&Te,Xe^=He,Xe=Xe<<13|Xe>>>19,Xe=Xe*5+3864292196);switch(Be=0,Me){case 3:Be^=Ee[De*4+2]<<16;case 2:Be^=Ee[De*4+1]<<8;case 1:Be^=Ee[De*4],Be=Be*St&Fe|Be*Ye&Te,Be=Be<<15|Be>>>17,Be=Be*qe&Fe|Be*gi&Te,De&1?je^=Be:Xe^=Be}this.h1=je,this.h2=Xe}hexdigest(){let Oe=this.h1,Ee=this.h2;Oe^=Ee>>>1,Oe=Oe*3981806797&Fe|Oe*36045&Te,Ee=Ee*4283543511&Fe|((Ee<<16|Oe>>>16)*2950163797&Fe)>>>16,Oe^=Ee>>>1,Oe=Oe*444984403&Fe|Oe*60499&Te,Ee=Ee*3301882366&Fe|((Ee<<16|Oe>>>16)*3120437893&Fe)>>>16,Oe^=Ee>>>1;const Pe=(Oe>>>0).toString(16),De=(Ee>>>0).toString(16);return Pe.padStart(8,"0")+De.padStart(8,"0")}}Se.MurmurHash3_64=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.OperatorList=void 0;var t=_e(2);function xe(Oe,Ee,Pe,De,Me){let Ae=Oe;for(let Be=0,He=Ee.length-1;Be<He;Be++){const je=Ee[Be];Ae=Ae[je]||(Ae[je]=[])}Ae[Ee.at(-1)]={checkFn:Pe,iterateFn:De,processFn:Me}}const Fe=[];xe(Fe,[t.OPS.save,t.OPS.transform,t.OPS.paintInlineImageXObject,t.OPS.restore],null,function(Ee,Pe){const De=Ee.fnArray,Me=Ee.iCurr-3,Ae=(Pe-Me)%4;switch(Ae){case 0:return De[Pe]===t.OPS.save;case 1:return De[Pe]===t.OPS.transform;case 2:return De[Pe]===t.OPS.paintInlineImageXObject;case 3:return De[Pe]===t.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${Ae}`)},function(Ee,Pe){const He=Ee.fnArray,je=Ee.argsArray,Xe=Ee.iCurr,St=Xe-3,qe=Xe-2,Ye=Xe-1,gi=Math.min(Math.floor((Pe-St)/4),200);if(gi<10)return Pe-(Pe-St)%4;let ai=0;const ui=[];let Qe=0,Ze=1,ci=1;for(let $e=0;$e<gi;$e++){const Ke=je[qe+($e<<2)],Ve=je[Ye+($e<<2)][0];Ze+Ve.width>1e3&&(ai=Math.max(ai,Ze),ci+=Qe+2,Ze=0,Qe=0),ui.push({transform:Ke,x:Ze,y:ci,w:Ve.width,h:Ve.height}),Ze+=Ve.width+2,Qe=Math.max(Qe,Ve.height)}const ze=Math.max(ai,Ze)+1,We=ci+Qe+1,si=new Uint8Array(ze*We*4),ni=ze<<2;for(let $e=0;$e<gi;$e++){const Ke=je[Ye+($e<<2)][0].data,Ve=ui[$e].w<<2;let Ue=0,ti=ui[$e].x+ui[$e].y*ze<<2;si.set(Ke.subarray(0,Ve),ti-ni);for(let hi=0,yi=ui[$e].h;hi<yi;hi++)si.set(Ke.subarray(Ue,Ue+Ve),ti),Ue+=Ve,ti+=ni;for(si.set(Ke.subarray(Ue-Ve,Ue),ti);ti>=0;)Ke[ti-4]=Ke[ti],Ke[ti-3]=Ke[ti+1],Ke[ti-2]=Ke[ti+2],Ke[ti-1]=Ke[ti+3],Ke[ti+Ve]=Ke[ti+Ve-4],Ke[ti+Ve+1]=Ke[ti+Ve-3],Ke[ti+Ve+2]=Ke[ti+Ve-2],Ke[ti+Ve+3]=Ke[ti+Ve-1],ti-=ni}return He.splice(St,gi*4,t.OPS.paintInlineImageXObjectGroup),je.splice(St,gi*4,[{width:ze,height:We,kind:t.ImageKind.RGBA_32BPP,data:si},ui]),St+1}),xe(Fe,[t.OPS.save,t.OPS.transform,t.OPS.paintImageMaskXObject,t.OPS.restore],null,function(Ee,Pe){const De=Ee.fnArray,Me=Ee.iCurr-3,Ae=(Pe-Me)%4;switch(Ae){case 0:return De[Pe]===t.OPS.save;case 1:return De[Pe]===t.OPS.transform;case 2:return De[Pe]===t.OPS.paintImageMaskXObject;case 3:return De[Pe]===t.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${Ae}`)},function(Ee,Pe){const Be=Ee.fnArray,He=Ee.argsArray,je=Ee.iCurr,Xe=je-3,St=je-2,qe=je-1;let Ye=Math.floor((Pe-Xe)/4);if(Ye<10)return Pe-(Pe-Xe)%4;let gi=!1,ai,ui;const Qe=He[qe][0],Ze=He[St][0],ci=He[St][1],ze=He[St][2],We=He[St][3];if(ci===ze){gi=!0,ai=St+4;let si=qe+4;for(let ni=1;ni<Ye;ni++,ai+=4,si+=4)if(ui=He[ai],He[si][0]!==Qe||ui[0]!==Ze||ui[1]!==ci||ui[2]!==ze||ui[3]!==We){ni<10?gi=!1:Ye=ni;break}}if(gi){Ye=Math.min(Ye,1e3);const si=new Float32Array(Ye*2);ai=St;for(let ni=0;ni<Ye;ni++,ai+=4)ui=He[ai],si[ni<<1]=ui[4],si[(ni<<1)+1]=ui[5];Be.splice(Xe,Ye*4,t.OPS.paintImageMaskXObjectRepeat),He.splice(Xe,Ye*4,[Qe,Ze,ci,ze,We,si])}else{Ye=Math.min(Ye,100);const si=[];for(let ni=0;ni<Ye;ni++){ui=He[St+(ni<<2)];const $e=He[qe+(ni<<2)][0];si.push({data:$e.data,width:$e.width,height:$e.height,interpolate:$e.interpolate,count:$e.count,transform:ui})}Be.splice(Xe,Ye*4,t.OPS.paintImageMaskXObjectGroup),He.splice(Xe,Ye*4,[si])}return Xe+1}),xe(Fe,[t.OPS.save,t.OPS.transform,t.OPS.paintImageXObject,t.OPS.restore],function(Oe){const Ee=Oe.argsArray,Pe=Oe.iCurr-2;return Ee[Pe][1]===0&&Ee[Pe][2]===0},function(Ee,Pe){const De=Ee.fnArray,Me=Ee.argsArray,Ae=Ee.iCurr-3,Be=(Pe-Ae)%4;switch(Be){case 0:return De[Pe]===t.OPS.save;case 1:if(De[Pe]!==t.OPS.transform)return!1;const He=Ee.iCurr-2,je=Me[He][0],Xe=Me[He][3];return!(Me[Pe][0]!==je||Me[Pe][1]!==0||Me[Pe][2]!==0||Me[Pe][3]!==Xe);case 2:if(De[Pe]!==t.OPS.paintImageXObject)return!1;const St=Ee.iCurr-1,qe=Me[St][0];return Me[Pe][0]===qe;case 3:return De[Pe]===t.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${Be}`)},function(Oe,Ee){const Me=Oe.fnArray,Ae=Oe.argsArray,Be=Oe.iCurr,He=Be-3,je=Be-2,Xe=Be-1,St=Ae[Xe][0],qe=Ae[je][0],Ye=Ae[je][3],gi=Math.min(Math.floor((Ee-He)/4),1e3);if(gi<3)return Ee-(Ee-He)%4;const ai=new Float32Array(gi*2);let ui=je;for(let Ze=0;Ze<gi;Ze++,ui+=4){const ci=Ae[ui];ai[Ze<<1]=ci[4],ai[(Ze<<1)+1]=ci[5]}const Qe=[St,qe,Ye,ai];return Me.splice(He,gi*4,t.OPS.paintImageXObjectRepeat),Ae.splice(He,gi*4,Qe),He+1}),xe(Fe,[t.OPS.beginText,t.OPS.setFont,t.OPS.setTextMatrix,t.OPS.showText,t.OPS.endText],null,function(Ee,Pe){const De=Ee.fnArray,Me=Ee.argsArray,Ae=Ee.iCurr-4,Be=(Pe-Ae)%5;switch(Be){case 0:return De[Pe]===t.OPS.beginText;case 1:return De[Pe]===t.OPS.setFont;case 2:return De[Pe]===t.OPS.setTextMatrix;case 3:if(De[Pe]!==t.OPS.showText)return!1;const He=Ee.iCurr-3,je=Me[He][0],Xe=Me[He][1];return!(Me[Pe][0]!==je||Me[Pe][1]!==Xe);case 4:return De[Pe]===t.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${Be}`)},function(Oe,Ee){const Me=Oe.fnArray,Ae=Oe.argsArray,Be=Oe.iCurr,He=Be-4,je=Be-3,Xe=Be-2,St=Be-1,qe=Be,Ye=Ae[je][0],gi=Ae[je][1];let ai=Math.min(Math.floor((Ee-He)/5),1e3);if(ai<3)return Ee-(Ee-He)%5;let ui=He;He>=4&&Me[He-4]===Me[je]&&Me[He-3]===Me[Xe]&&Me[He-2]===Me[St]&&Me[He-1]===Me[qe]&&Ae[He-4][0]===Ye&&Ae[He-4][1]===gi&&(ai++,ui-=5);let Qe=ui+4;for(let Ze=1;Ze<ai;Ze++)Me.splice(Qe,3),Ae.splice(Qe,3),Qe+=2;return Qe+1});class Te{constructor(Ee){this.queue=Ee}_optimize(){}push(Ee,Pe){this.queue.fnArray.push(Ee),this.queue.argsArray.push(Pe),this._optimize()}flush(){}reset(){}}class e extends Te{constructor(Ee){super(Ee),this.state=null,this.context={iCurr:0,fnArray:Ee.fnArray,argsArray:Ee.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const Ee=this.queue.fnArray;let Pe=this.lastProcessed,De=Ee.length,Me=this.state,Ae=this.match;if(!Me&&!Ae&&Pe+1===De&&!Fe[Ee[Pe]]){this.lastProcessed=De;return}const Be=this.context;for(;Pe<De;){if(Ae){if((0,Ae.iterateFn)(Be,Pe)){Pe++;continue}if(Pe=(0,Ae.processFn)(Be,Pe+1),De=Ee.length,Ae=null,Me=null,Pe>=De)break}if(Me=(Me||Fe)[Ee[Pe]],!Me||Array.isArray(Me)){Pe++;continue}if(Be.iCurr=Pe,Pe++,Me.checkFn&&!(0,Me.checkFn)(Be)){Me=null;continue}Ae=Me,Me=null}this.state=Me,this.match=Ae,this.lastProcessed=Pe}flush(){for(;this.match;){const Ee=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Ee),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class ke{static get CHUNK_SIZE(){return(0,t.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,t.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(Ee=0,Pe){this._streamSink=Pe,this.fnArray=[],this.argsArray=[],Pe&&!(Ee&t.RenderingIntentFlag.OPLIST)?this.optimizer=new e(this):this.optimizer=new Te(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=Pe?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Ee,Pe){this.optimizer.push(Ee,Pe),this.weight++,this._streamSink&&(this.weight>=ke.CHUNK_SIZE?this.flush():this.weight>=ke.CHUNK_SIZE_ABOUT&&(Ee===t.OPS.restore||Ee===t.OPS.endText)&&this.flush())}addImageOps(Ee,Pe,De){De!==void 0&&this.addOp(t.OPS.beginMarkedContentProps,["OC",De]),this.addOp(Ee,Pe),De!==void 0&&this.addOp(t.OPS.endMarkedContent,[])}addDependency(Ee){this.dependencies.has(Ee)||(this.dependencies.add(Ee),this.addOp(t.OPS.dependency,[Ee]))}addDependencies(Ee){for(const Pe of Ee)this.addDependency(Pe)}addOpList(Ee){if(!(Ee instanceof ke)){(0,t.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const Pe of Ee.dependencies)this.dependencies.add(Pe);for(let Pe=0,De=Ee.length;Pe<De;Pe++)this.addOp(Ee.fnArray[Pe],Ee.argsArray[Pe])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const Ee=[],{fnArray:Pe,argsArray:De,length:Me}=this;for(let Ae=0;Ae<Me;Ae++)switch(Pe[Ae]){case t.OPS.paintInlineImageXObject:case t.OPS.paintInlineImageXObjectGroup:case t.OPS.paintImageMaskXObject:const Be=De[Ae][0];!Be.cached&&Be.data&&Be.data.buffer instanceof ArrayBuffer&&Ee.push(Be.data.buffer);break}return Ee}flush(Ee=!1,Pe=null){this.optimizer.flush();const De=this.length;this._totalLength+=De,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Ee,separateAnnots:Pe,length:De},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}Se.OperatorList=ke},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFImage=void 0;var t=_e(2),xe=_e(62),Fe=_e(5),Te=_e(12),e=_e(17),ke=_e(25),Oe=_e(28),Ee=_e(3);function Pe(Ae,Be,He,je){return Ae=Be+Ae*He,Ae<0?Ae=0:Ae>je&&(Ae=je),Ae}function De(Ae,Be,He,je,Xe,St){const qe=Xe*St;let Ye;Be<=8?Ye=new Uint8Array(qe):Be<=16?Ye=new Uint16Array(qe):Ye=new Uint32Array(qe);const gi=He/Xe,ai=je/St;let ui,Qe,Ze,ci=0,ze;const We=new Uint16Array(Xe),si=He;for(ui=0;ui<Xe;ui++)We[ui]=Math.floor(ui*gi);for(ui=0;ui<St;ui++)for(Ze=Math.floor(ui*ai)*si,Qe=0;Qe<Xe;Qe++)ze=Ze+We[Qe],Ye[ci++]=Ae[ze];return Ye}class Me{constructor({xref:Be,res:He,image:je,isInline:Xe=!1,smask:St=null,mask:qe=null,isMask:Ye=!1,pdfFunctionFactory:gi,localColorSpaceCache:ai}){this.image=je;const ui=je.dict,Qe=ui.get("F","Filter");let Ze;if(Qe instanceof Ee.Name)Ze=Qe.name;else if(Array.isArray(Qe)){const si=Be.fetchIfRef(Qe[0]);si instanceof Ee.Name&&(Ze=si.name)}switch(Ze){case"JPXDecode":const si=new Oe.JpxImage;si.parseImageProperties(je.stream),je.stream.reset(),je.width=si.width,je.height=si.height,je.bitsPerComponent=si.bitsPerComponent,je.numComps=si.componentsCount;break;case"JBIG2Decode":je.bitsPerComponent=1,je.numComps=1;break}let ci=ui.get("W","Width"),ze=ui.get("H","Height");if(Number.isInteger(je.width)&&je.width>0&&Number.isInteger(je.height)&&je.height>0&&(je.width!==ci||je.height!==ze)&&((0,t.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),ci=je.width,ze=je.height),ci<1||ze<1)throw new t.FormatError(`Invalid image width: ${ci} or height: ${ze}`);this.width=ci,this.height=ze,this.interpolate=ui.get("I","Interpolate"),this.imageMask=ui.get("IM","ImageMask")||!1,this.matte=ui.get("Matte")||!1;let We=je.bitsPerComponent;if(!We&&(We=ui.get("BPC","BitsPerComponent"),!We))if(this.imageMask)We=1;else throw new t.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=We,!this.imageMask){let si=ui.getRaw("CS")||ui.getRaw("ColorSpace");if(!si)switch((0,t.info)("JPX images (which do not require color spaces)"),je.numComps){case 1:si=Ee.Name.get("DeviceGray");break;case 3:si=Ee.Name.get("DeviceRGB");break;case 4:si=Ee.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${je.numComps} color components not supported.`)}this.colorSpace=Te.ColorSpace.parse({cs:si,xref:Be,resources:Xe?He:null,pdfFunctionFactory:gi,localColorSpaceCache:ai}),this.numComps=this.colorSpace.numComps}if(this.decode=ui.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,We)||Ye&&!Te.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const si=(1<<We)-1;this.decodeCoefficients=[],this.decodeAddends=[];const ni=this.colorSpace&&this.colorSpace.name==="Indexed";for(let $e=0,Ke=0;$e<this.decode.length;$e+=2,++Ke){const Ve=this.decode[$e],Ue=this.decode[$e+1];this.decodeCoefficients[Ke]=ni?(Ue-Ve)/si:Ue-Ve,this.decodeAddends[Ke]=ni?Ve:si*Ve}}St?this.smask=new Me({xref:Be,res:He,image:St,isInline:Xe,pdfFunctionFactory:gi,localColorSpaceCache:ai}):qe&&(qe instanceof Fe.BaseStream?qe.dict.get("IM","ImageMask")?this.mask=new Me({xref:Be,res:He,image:qe,isInline:Xe,isMask:!0,pdfFunctionFactory:gi,localColorSpaceCache:ai}):(0,t.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=qe)}static async buildImage({xref:Be,res:He,image:je,isInline:Xe=!1,pdfFunctionFactory:St,localColorSpaceCache:qe}){const Ye=je;let gi=null,ai=null;const ui=je.dict.get("SMask"),Qe=je.dict.get("Mask");return ui?ui instanceof Fe.BaseStream?gi=ui:(0,t.warn)("Unsupported /SMask format."):Qe&&(Qe instanceof Fe.BaseStream||Array.isArray(Qe)?ai=Qe:(0,t.warn)("Unsupported /Mask format.")),new Me({xref:Be,res:He,image:Ye,isInline:Xe,smask:gi,mask:ai,pdfFunctionFactory:St,localColorSpaceCache:qe})}static createRawMask({imgArray:Be,width:He,height:je,imageIsFromDecodeStream:Xe,inverseDecode:St,interpolate:qe}){const Ye=(He+7>>3)*je,gi=Be.byteLength,ai=Ye===gi;let ui,Qe;if(Xe&&(!St||ai)?ui=Be:St?(ui=new Uint8Array(Ye),ui.set(Be),ui.fill(255,gi)):ui=new Uint8Array(Be),St)for(Qe=0;Qe<gi;Qe++)ui[Qe]^=255;return{data:ui,width:He,height:je,interpolate:qe}}static createMask({imgArray:Be,width:He,height:je,imageIsFromDecodeStream:Xe,inverseDecode:St,interpolate:qe,isOffscreenCanvasSupported:Ye=!0}){const gi=He===1&&je===1&&St===(Be.length===0||!!(Be[0]&128));if(gi)return{isSingleOpaquePixel:gi};if(Ye&&t.FeatureTest.isOffscreenCanvasSupported){const ai=new OffscreenCanvas(He,je),ui=ai.getContext("2d"),Qe=ui.createImageData(He,je);(0,xe.applyMaskImageData)({src:Be,dest:Qe.data,width:He,height:je,inverseDecode:St}),ui.putImageData(Qe,0,0);const Ze=ai.transferToImageBitmap();return{data:null,width:He,height:je,interpolate:qe,bitmap:Ze}}return this.createRawMask({imgArray:Be,width:He,height:je,inverseDecode:St,imageIsFromDecodeStream:Xe,interpolate:qe})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(Be){const He=this.bpc,je=this.numComps,Xe=this.decodeAddends,St=this.decodeCoefficients,qe=(1<<He)-1;let Ye,gi;if(He===1){for(Ye=0,gi=Be.length;Ye<gi;Ye++)Be[Ye]=+!Be[Ye];return}let ai=0;for(Ye=0,gi=this.width*this.height;Ye<gi;Ye++)for(let ui=0;ui<je;ui++)Be[ai]=Pe(Be[ai],Xe[ui],St[ui],qe),ai++}getComponents(Be){const He=this.bpc;if(He===8)return Be;const je=this.width,Xe=this.height,St=this.numComps,qe=je*Xe*St;let Ye=0,gi;He<=8?gi=new Uint8Array(qe):He<=16?gi=new Uint16Array(qe):gi=new Uint32Array(qe);const ai=je*St,ui=(1<<He)-1;let Qe=0,Ze,ci;if(He===1){let ze,We,si;for(let ni=0;ni<Xe;ni++){for(We=Qe+(ai&-8),si=Qe+ai;Qe<We;)ci=Be[Ye++],gi[Qe]=ci>>7&1,gi[Qe+1]=ci>>6&1,gi[Qe+2]=ci>>5&1,gi[Qe+3]=ci>>4&1,gi[Qe+4]=ci>>3&1,gi[Qe+5]=ci>>2&1,gi[Qe+6]=ci>>1&1,gi[Qe+7]=ci&1,Qe+=8;if(Qe<si)for(ci=Be[Ye++],ze=128;Qe<si;)gi[Qe++]=+!!(ci&ze),ze>>=1}}else{let ze=0;for(ci=0,Qe=0,Ze=qe;Qe<Ze;++Qe){for(Qe%ai===0&&(ci=0,ze=0);ze<He;)ci=ci<<8|Be[Ye++],ze+=8;const We=ze-He;let si=ci>>We;si<0?si=0:si>ui&&(si=ui),gi[Qe]=si,ci&=(1<<We)-1,ze=We}}return gi}fillOpacity(Be,He,je,Xe,St){const qe=this.smask,Ye=this.mask;let gi,ai,ui,Qe,Ze,ci;if(qe)ai=qe.width,ui=qe.height,gi=new Uint8ClampedArray(ai*ui),qe.fillGrayBuffer(gi),(ai!==He||ui!==je)&&(gi=De(gi,qe.bpc,ai,ui,He,je));else if(Ye)if(Ye instanceof Me){for(ai=Ye.width,ui=Ye.height,gi=new Uint8ClampedArray(ai*ui),Ye.numComps=1,Ye.fillGrayBuffer(gi),Qe=0,Ze=ai*ui;Qe<Ze;++Qe)gi[Qe]=255-gi[Qe];(ai!==He||ui!==je)&&(gi=De(gi,Ye.bpc,ai,ui,He,je))}else if(Array.isArray(Ye)){gi=new Uint8ClampedArray(He*je);const ze=this.numComps;for(Qe=0,Ze=He*je;Qe<Ze;++Qe){let We=0;const si=Qe*ze;for(ci=0;ci<ze;++ci){const ni=St[si+ci],$e=ci*2;if(ni<Ye[$e]||ni>Ye[$e+1]){We=255;break}}gi[Qe]=We}}else throw new t.FormatError("Unknown mask format.");if(gi)for(Qe=0,ci=3,Ze=He*Xe;Qe<Ze;++Qe,ci+=4)Be[ci]=gi[Qe];else for(Qe=0,ci=3,Ze=He*Xe;Qe<Ze;++Qe,ci+=4)Be[ci]=255}undoPreblend(Be,He,je){const Xe=this.smask&&this.smask.matte;if(!Xe)return;const St=this.colorSpace.getRgb(Xe,0),qe=St[0],Ye=St[1],gi=St[2],ai=He*je*4;for(let ui=0;ui<ai;ui+=4){const Qe=Be[ui+3];if(Qe===0){Be[ui]=255,Be[ui+1]=255,Be[ui+2]=255;continue}const Ze=255/Qe;Be[ui]=(Be[ui]-qe)*Ze+qe,Be[ui+1]=(Be[ui+1]-Ye)*Ze+Ye,Be[ui+2]=(Be[ui+2]-gi)*Ze+gi}}createImageData(Be=!1){const He=this.drawWidth,je=this.drawHeight,Xe={width:He,height:je,interpolate:this.interpolate,kind:0,data:null},St=this.numComps,qe=this.width,Ye=this.height,gi=this.bpc,ai=qe*St*gi+7>>3;if(!Be){let We;if(this.colorSpace.name==="DeviceGray"&&gi===1?We=t.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&gi===8&&!this.needsDecode&&(We=t.ImageKind.RGB_24BPP),We&&!this.smask&&!this.mask&&He===qe&&je===Ye){if(Xe.kind=We,Xe.data=this.getImageBytes(Ye*ai,{}),this.needsDecode){(0,t.assert)(We===t.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const si=Xe.data;for(let ni=0,$e=si.length;ni<$e;ni++)si[ni]^=255}return Xe}if(this.image instanceof ke.JpegStream&&!this.smask&&!this.mask){let si=Ye*ai;switch(this.colorSpace.name){case"DeviceGray":si*=3;case"DeviceRGB":case"DeviceCMYK":return Xe.kind=t.ImageKind.RGB_24BPP,Xe.data=this.getImageBytes(si,{drawWidth:He,drawHeight:je,forceRGB:!0}),Xe}}}const ui=this.getImageBytes(Ye*ai,{internal:!0}),Qe=0|ui.length/ai*je/Ye,Ze=this.getComponents(ui);let ci,ze;return!Be&&!this.smask&&!this.mask?(Xe.kind=t.ImageKind.RGB_24BPP,Xe.data=new Uint8ClampedArray(He*je*3),ci=0,ze=!1):(Xe.kind=t.ImageKind.RGBA_32BPP,Xe.data=new Uint8ClampedArray(He*je*4),ci=1,ze=!0,this.fillOpacity(Xe.data,He,je,Qe,Ze)),this.needsDecode&&this.decodeBuffer(Ze),this.colorSpace.fillRgb(Xe.data,qe,Ye,He,je,Qe,gi,Ze,ci),ze&&this.undoPreblend(Xe.data,He,Qe),Xe}fillGrayBuffer(Be){const He=this.numComps;if(He!==1)throw new t.FormatError(`Reading gray scale from a color image: ${He}`);const je=this.width,Xe=this.height,St=this.bpc,qe=je*He*St+7>>3,Ye=this.getImageBytes(Xe*qe,{internal:!0}),gi=this.getComponents(Ye);let ai,ui;if(St===1){if(ui=je*Xe,this.needsDecode)for(ai=0;ai<ui;++ai)Be[ai]=gi[ai]-1&255;else for(ai=0;ai<ui;++ai)Be[ai]=-gi[ai]&255;return}this.needsDecode&&this.decodeBuffer(gi),ui=je*Xe;const Qe=255/((1<<St)-1);for(ai=0;ai<ui;++ai)Be[ai]=Qe*gi[ai]}getImageBytes(Be,{drawWidth:He,drawHeight:je,forceRGB:Xe=!1,internal:St=!1}){this.image.reset(),this.image.drawWidth=He||this.width,this.image.drawHeight=je||this.height,this.image.forceRGB=!!Xe;const qe=this.image.getBytes(Be);return St||this.image instanceof e.DecodeStream?qe:((0,t.assert)(qe instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(qe))}}Se.PDFImage=Me},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.applyMaskImageData=xe;var t=_e(2);function xe({src:Fe,srcPos:Te=0,dest:e,destPos:ke=0,width:Oe,height:Ee,inverseDecode:Pe=!1}){const De=t.FeatureTest.isLittleEndian?4278190080:255,[Me,Ae]=Pe?[0,De]:[De,0],Be=Oe>>3,He=Oe&7,je=Fe.length;e=new Uint32Array(e.buffer);for(let Xe=0;Xe<Ee;Xe++){for(const qe=Te+Be;Te<qe;Te++){const Ye=Te<je?Fe[Te]:255;e[ke++]=Ye&128?Ae:Me,e[ke++]=Ye&64?Ae:Me,e[ke++]=Ye&32?Ae:Me,e[ke++]=Ye&16?Ae:Me,e[ke++]=Ye&8?Ae:Me,e[ke++]=Ye&4?Ae:Me,e[ke++]=Ye&2?Ae:Me,e[ke++]=Ye&1?Ae:Me}if(He===0)continue;const St=Te<je?Fe[Te++]:255;for(let qe=0;qe<He;qe++)e[ke++]=St&1<<7-qe?Ae:Me}return{srcPos:Te,destPos:ke}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.incrementalUpdate=St,Se.writeDict=Ee,Se.writeObject=Oe;var t=_e(2),xe=_e(3),Fe=_e(4),Te=_e(64),e=_e(5),ke=_e(65);function Oe(qe,Ye,gi,ai){gi.push(`${qe.num} ${qe.gen} obj
`),Ye instanceof xe.Dict?Ee(Ye,gi,ai):Ye instanceof e.BaseStream&&Pe(Ye,gi,ai),gi.push(`
endobj
`)}function Ee(qe,Ye,gi){Ye.push("<<");for(const ai of qe.getKeys())Ye.push(` /${(0,Fe.escapePDFName)(ai)} `),Me(qe.getRaw(ai),Ye,gi);Ye.push(">>")}function Pe(qe,Ye,gi){Ee(qe.dict,Ye,gi),Ye.push(` stream
`);let ai=qe.getString();gi!==null&&(ai=gi.encryptString(ai)),Ye.push(ai,`
endstream
`)}function De(qe,Ye,gi){Ye.push("[");let ai=!0;for(const ui of qe)ai?ai=!1:Ye.push(" "),Me(ui,Ye,gi);Ye.push("]")}function Me(qe,Ye,gi){qe instanceof xe.Name?Ye.push(`/${(0,Fe.escapePDFName)(qe.name)}`):qe instanceof xe.Ref?Ye.push(`${qe.num} ${qe.gen} R`):Array.isArray(qe)?De(qe,Ye,gi):typeof qe=="string"?(gi!==null&&(qe=gi.encryptString(qe)),Ye.push(`(${(0,t.escapeString)(qe)})`)):typeof qe=="number"?Ye.push((0,Fe.numberToString)(qe)):typeof qe=="boolean"?Ye.push(qe.toString()):qe instanceof xe.Dict?Ee(qe,Ye,gi):qe instanceof e.BaseStream?Pe(qe,Ye,gi):qe===null?Ye.push("null"):(0,t.warn)(`Unhandled value in writer: ${typeof qe}, please file a bug.`)}function Ae(qe,Ye,gi,ai){for(let ui=Ye+gi-1;ui>gi-1;ui--)ai[ui]=qe&255,qe>>=8;return gi+Ye}function Be(qe,Ye,gi){for(let ai=0,ui=qe.length;ai<ui;ai++)gi[Ye+ai]=qe.charCodeAt(ai)&255}function He(qe,Ye){const gi=Math.floor(Date.now()/1e3),ai=Ye.filename||"",ui=[gi.toString(),ai,qe.toString()];let Qe=ui.reduce((ze,We)=>ze+We.length,0);for(const ze of Object.values(Ye.info))ui.push(ze),Qe+=ze.length;const Ze=new Uint8Array(Qe);let ci=0;for(const ze of ui)Be(ze,ci,Ze),ci+=ze.length;return(0,t.bytesToString)((0,ke.calculateMD5)(Ze))}function je(qe,Ye){const gi=new Te.SimpleXMLParser({hasAttributes:!0}).parseFromString(qe);for(const{xfa:ui}of Ye){if(!ui)continue;const{path:Qe,value:Ze}=ui;if(!Qe)continue;const ci=gi.documentElement.searchNode((0,Fe.parseXFAPath)(Qe),0);ci?Array.isArray(Ze)?ci.childNodes=Ze.map(ze=>new Te.SimpleDOMNode("value",ze)):ci.childNodes=[new Te.SimpleDOMNode("#text",Ze)]:(0,t.warn)(`Node not found for path: ${Qe}`)}const ai=[];return gi.documentElement.dump(ai),ai.join("")}function Xe({xfaData:qe,xfaDatasetsRef:Ye,hasXfaDatasetsEntry:gi,acroFormRef:ai,acroForm:ui,newRefs:Qe,xref:Ze,xrefInfo:ci}){if(Ze===null)return;if(!gi){if(!ai){(0,t.warn)("XFA - Cannot save it");return}const si=ui.get("XFA"),ni=si.slice();ni.splice(2,0,"datasets"),ni.splice(3,0,Ye),ui.set("XFA",ni);const $e=Ze.encrypt;let Ke=null;$e&&(Ke=$e.createCipherTransform(ai.num,ai.gen));const Ve=[`${ai.num} ${ai.gen} obj
`];Ee(ui,Ve,Ke),Ve.push(`
`),ui.set("XFA",si),Qe.push({ref:ai,data:Ve.join("")})}if(qe===null){const si=Ze.fetchIfRef(Ye);qe=je(si.getString(),Qe)}const ze=Ze.encrypt;ze&&(qe=ze.createCipherTransform(Ye.num,Ye.gen).encryptString(qe));const We=`${Ye.num} ${Ye.gen} obj
<< /Type /EmbeddedFile /Length ${qe.length}>>
stream
`+qe+`
endstream
endobj
`;Qe.push({ref:Ye,data:We})}function St({originalData:qe,xrefInfo:Ye,newRefs:gi,xref:ai=null,hasXfa:ui=!1,xfaDatasetsRef:Qe=null,hasXfaDatasetsEntry:Ze=!1,acroFormRef:ci=null,acroForm:ze=null,xfaData:We=null}){ui&&Xe({xfaData:We,xfaDatasetsRef:Qe,hasXfaDatasetsEntry:Ze,acroFormRef:ci,acroForm:ze,newRefs:gi,xref:ai,xrefInfo:Ye});const si=new xe.Dict(null),ni=Ye.newRef;let $e,Ke;const Ve=qe.at(-1);Ve===10||Ve===13?($e=[],Ke=qe.length):($e=[`
`],Ke=qe.length+1),si.set("Size",ni.num+1),si.set("Prev",Ye.startXRef),si.set("Type",xe.Name.get("XRef")),Ye.rootRef!==null&&si.set("Root",Ye.rootRef),Ye.infoRef!==null&&si.set("Info",Ye.infoRef),Ye.encryptRef!==null&&si.set("Encrypt",Ye.encryptRef),gi.push({ref:ni,data:""}),gi=gi.sort((ri,oi)=>ri.ref.num-oi.ref.num);const Ue=[[0,1,65535]],ti=[0,1];let hi=0;for(const{ref:ri,data:oi}of gi)hi=Math.max(hi,Ke),Ue.push([1,Ke,Math.min(ri.gen,65535)]),Ke+=oi.length,ti.push(ri.num,1),$e.push(oi);if(si.set("Index",ti),Array.isArray(Ye.fileIds)&&Ye.fileIds.length>0){const ri=He(Ke,Ye);si.set("ID",[Ye.fileIds[0],ri])}const wi=[1,Math.ceil(Math.log2(hi)/8),2],ki=(wi[0]+wi[1]+wi[2])*Ue.length;si.set("W",wi),si.set("Length",ki),$e.push(`${ni.num} ${ni.gen} obj
`),Ee(si,$e,null),$e.push(` stream
`);const fi=$e.reduce((ri,oi)=>ri+oi.length,0),xi=`
endstream
endobj
startxref
${Ke}
%%EOF
`,li=new Uint8Array(qe.length+fi+ki+xi.length);li.set(qe);let pi=qe.length;for(const ri of $e)Be(ri,pi,li),pi+=ri.length;for(const[ri,oi,di]of Ue)pi=Ae(ri,wi[0],pi,li),pi=Ae(oi,wi[1],pi,li),pi=Ae(di,wi[2],pi,li);return Be(xi,pi,li),li}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XMLParserErrorCode=Se.XMLParserBase=Se.SimpleXMLParser=Se.SimpleDOMNode=void 0;var t=_e(4);const xe={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};Se.XMLParserErrorCode=xe;function Fe(Ee,Pe){const De=Ee[Pe];return De===" "||De===`
`||De==="\r"||De==="	"}function Te(Ee){for(let Pe=0,De=Ee.length;Pe<De;Pe++)if(!Fe(Ee,Pe))return!1;return!0}class e{_resolveEntities(Pe){return Pe.replace(/&([^;]+);/g,(De,Me)=>{if(Me.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Me.substring(2),16));if(Me.substring(0,1)==="#")return String.fromCodePoint(parseInt(Me.substring(1),10));switch(Me){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Me)})}_parseContent(Pe,De){const Me=[];let Ae=De;function Be(){for(;Ae<Pe.length&&Fe(Pe,Ae);)++Ae}for(;Ae<Pe.length&&!Fe(Pe,Ae)&&Pe[Ae]!==">"&&Pe[Ae]!=="/";)++Ae;const He=Pe.substring(De,Ae);for(Be();Ae<Pe.length&&Pe[Ae]!==">"&&Pe[Ae]!=="/"&&Pe[Ae]!=="?";){Be();let je="",Xe="";for(;Ae<Pe.length&&!Fe(Pe,Ae)&&Pe[Ae]!=="=";)je+=Pe[Ae],++Ae;if(Be(),Pe[Ae]!=="=")return null;++Ae,Be();const St=Pe[Ae];if(St!=='"'&&St!=="'")return null;const qe=Pe.indexOf(St,++Ae);if(qe<0)return null;Xe=Pe.substring(Ae,qe),Me.push({name:je,value:this._resolveEntities(Xe)}),Ae=qe+1,Be()}return{name:He,attributes:Me,parsed:Ae-De}}_parseProcessingInstruction(Pe,De){let Me=De;function Ae(){for(;Me<Pe.length&&Fe(Pe,Me);)++Me}for(;Me<Pe.length&&!Fe(Pe,Me)&&Pe[Me]!==">"&&Pe[Me]!=="?"&&Pe[Me]!=="/";)++Me;const Be=Pe.substring(De,Me);Ae();const He=Me;for(;Me<Pe.length&&(Pe[Me]!=="?"||Pe[Me+1]!==">");)++Me;const je=Pe.substring(He,Me);return{name:Be,value:je,parsed:Me-De}}parseXml(Pe){let De=0;for(;De<Pe.length;){const Me=Pe[De];let Ae=De;if(Me==="<"){++Ae;const Be=Pe[Ae];let He;switch(Be){case"/":if(++Ae,He=Pe.indexOf(">",Ae),He<0){this.onError(xe.UnterminatedElement);return}this.onEndElement(Pe.substring(Ae,He)),Ae=He+1;break;case"?":++Ae;const je=this._parseProcessingInstruction(Pe,Ae);if(Pe.substring(Ae+je.parsed,Ae+je.parsed+2)!=="?>"){this.onError(xe.UnterminatedXmlDeclaration);return}this.onPi(je.name,je.value),Ae+=je.parsed+2;break;case"!":if(Pe.substring(Ae+1,Ae+3)==="--"){if(He=Pe.indexOf("-->",Ae+3),He<0){this.onError(xe.UnterminatedComment);return}this.onComment(Pe.substring(Ae+3,He)),Ae=He+3}else if(Pe.substring(Ae+1,Ae+8)==="[CDATA["){if(He=Pe.indexOf("]]>",Ae+8),He<0){this.onError(xe.UnterminatedCdat);return}this.onCdata(Pe.substring(Ae+8,He)),Ae=He+3}else if(Pe.substring(Ae+1,Ae+8)==="DOCTYPE"){const qe=Pe.indexOf("[",Ae+8);let Ye=!1;if(He=Pe.indexOf(">",Ae+8),He<0){this.onError(xe.UnterminatedDoctypeDeclaration);return}if(qe>0&&He>qe){if(He=Pe.indexOf("]>",Ae+8),He<0){this.onError(xe.UnterminatedDoctypeDeclaration);return}Ye=!0}const gi=Pe.substring(Ae+8,He+(Ye?1:0));this.onDoctype(gi),Ae=He+(Ye?2:1)}else{this.onError(xe.MalformedElement);return}break;default:const Xe=this._parseContent(Pe,Ae);if(Xe===null){this.onError(xe.MalformedElement);return}let St=!1;if(Pe.substring(Ae+Xe.parsed,Ae+Xe.parsed+2)==="/>")St=!0;else if(Pe.substring(Ae+Xe.parsed,Ae+Xe.parsed+1)!==">"){this.onError(xe.UnterminatedElement);return}this.onBeginElement(Xe.name,Xe.attributes,St),Ae+=Xe.parsed+(St?2:1);break}}else{for(;Ae<Pe.length&&Pe[Ae]!=="<";)Ae++;const Be=Pe.substring(De,Ae);this.onText(this._resolveEntities(Be))}De=Ae}}onResolveEntity(Pe){return`&${Pe};`}onPi(Pe,De){}onComment(Pe){}onCdata(Pe){}onDoctype(Pe){}onText(Pe){}onBeginElement(Pe,De,Me){}onEndElement(Pe){}onError(Pe){}}Se.XMLParserBase=e;class ke{constructor(Pe,De){this.nodeName=Pe,this.nodeValue=De,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const Pe=this.parentNode.childNodes;if(!Pe)return;const De=Pe.indexOf(this);if(De!==-1)return Pe[De+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Pe){return Pe.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(Pe,De){if(De>=Pe.length)return this;const Me=Pe[De],Ae=[];let Be=this;for(;;){if(Me.name===Be.nodeName)if(Me.pos===0){const He=Be.searchNode(Pe,De+1);if(He!==null)return He}else{if(Ae.length===0)return null;{const[He]=Ae.pop();let je=0;for(const Xe of He.childNodes)if(Me.name===Xe.nodeName){if(je===Me.pos)return Xe.searchNode(Pe,De+1);je++}return Be.searchNode(Pe,De+1)}}if(Be.childNodes&&Be.childNodes.length!==0)Ae.push([Be,0]),Be=Be.childNodes[0];else{if(Ae.length===0)return null;for(;Ae.length!==0;){const[He,je]=Ae.pop(),Xe=je+1;if(Xe<He.childNodes.length){Ae.push([He,Xe]),Be=He.childNodes[Xe];break}}if(Ae.length===0)return null}}}dump(Pe){if(this.nodeName==="#text"){Pe.push((0,t.encodeToXmlString)(this.nodeValue));return}if(Pe.push(`<${this.nodeName}`),this.attributes)for(const De of this.attributes)Pe.push(` ${De.name}="${(0,t.encodeToXmlString)(De.value)}"`);if(this.hasChildNodes()){Pe.push(">");for(const De of this.childNodes)De.dump(Pe);Pe.push(`</${this.nodeName}>`)}else this.nodeValue?Pe.push(`>${(0,t.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Pe.push("/>")}}Se.SimpleDOMNode=ke;class Oe extends e{constructor({hasAttributes:Pe=!1,lowerCaseName:De=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=xe.NoError,this._hasAttributes=Pe,this._lowerCaseName=De}parseFromString(Pe){if(this._currentFragment=[],this._stack=[],this._errorCode=xe.NoError,this.parseXml(Pe),this._errorCode!==xe.NoError)return;const[De]=this._currentFragment;if(!!De)return{documentElement:De}}onText(Pe){if(Te(Pe))return;const De=new ke("#text",Pe);this._currentFragment.push(De)}onCdata(Pe){const De=new ke("#text",Pe);this._currentFragment.push(De)}onBeginElement(Pe,De,Me){this._lowerCaseName&&(Pe=Pe.toLowerCase());const Ae=new ke(Pe);Ae.childNodes=[],this._hasAttributes&&(Ae.attributes=De),this._currentFragment.push(Ae),!Me&&(this._stack.push(this._currentFragment),this._currentFragment=Ae.childNodes)}onEndElement(Pe){this._currentFragment=this._stack.pop()||[];const De=this._currentFragment.at(-1);if(!De)return null;for(const Me of De.childNodes)Me.parentNode=De;return De}onError(Pe){this._errorCode=Pe}}Se.SimpleXMLParser=Oe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.calculateSHA256=Se.calculateMD5=Se.PDF20=Se.PDF17=Se.CipherTransformFactory=Se.ARCFourCipher=Se.AES256Cipher=Se.AES128Cipher=void 0,Se.calculateSHA384=Pe,Se.calculateSHA512=void 0;var t=_e(2),xe=_e(3),Fe=_e(66);class Te{constructor(Ye){this.a=0,this.b=0;const gi=new Uint8Array(256),ai=Ye.length;for(let ui=0;ui<256;++ui)gi[ui]=ui;for(let ui=0,Qe=0;ui<256;++ui){const Ze=gi[ui];Qe=Qe+Ze+Ye[ui%ai]&255,gi[ui]=gi[Qe],gi[Qe]=Ze}this.s=gi}encryptBlock(Ye){let gi=this.a,ai=this.b;const ui=this.s,Qe=Ye.length,Ze=new Uint8Array(Qe);for(let ci=0;ci<Qe;++ci){gi=gi+1&255;const ze=ui[gi];ai=ai+ze&255;const We=ui[ai];ui[gi]=We,ui[ai]=ze,Ze[ci]=Ye[ci]^ui[ze+We&255]}return this.a=gi,this.b=ai,Ze}decryptBlock(Ye){return this.encryptBlock(Ye)}encrypt(Ye){return this.encryptBlock(Ye)}}Se.ARCFourCipher=Te;const e=function(){const Ye=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),gi=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function ai(ui,Qe,Ze){let ci=1732584193,ze=-271733879,We=-1732584194,si=271733878;const ni=Ze+72&-64,$e=new Uint8Array(ni);let Ke,Ve;for(Ke=0;Ke<Ze;++Ke)$e[Ke]=ui[Qe++];$e[Ke++]=128;const Ue=ni-8;for(;Ke<Ue;)$e[Ke++]=0;$e[Ke++]=Ze<<3&255,$e[Ke++]=Ze>>5&255,$e[Ke++]=Ze>>13&255,$e[Ke++]=Ze>>21&255,$e[Ke++]=Ze>>>29&255,$e[Ke++]=0,$e[Ke++]=0,$e[Ke++]=0;const ti=new Int32Array(16);for(Ke=0;Ke<ni;){for(Ve=0;Ve<16;++Ve,Ke+=4)ti[Ve]=$e[Ke]|$e[Ke+1]<<8|$e[Ke+2]<<16|$e[Ke+3]<<24;let hi=ci,yi=ze,wi=We,Ci=si,ki,fi;for(Ve=0;Ve<64;++Ve){Ve<16?(ki=yi&wi|~yi&Ci,fi=Ve):Ve<32?(ki=Ci&yi|~Ci&wi,fi=5*Ve+1&15):Ve<48?(ki=yi^wi^Ci,fi=3*Ve+5&15):(ki=wi^(yi|~Ci),fi=7*Ve&15);const xi=Ci,li=hi+ki+gi[Ve]+ti[fi]|0,pi=Ye[Ve];Ci=wi,wi=yi,yi=yi+(li<<pi|li>>>32-pi)|0,hi=xi}ci=ci+hi|0,ze=ze+yi|0,We=We+wi|0,si=si+Ci|0}return new Uint8Array([ci&255,ci>>8&255,ci>>16&255,ci>>>24&255,ze&255,ze>>8&255,ze>>16&255,ze>>>24&255,We&255,We>>8&255,We>>16&255,We>>>24&255,si&255,si>>8&255,si>>16&255,si>>>24&255])}return ai}();Se.calculateMD5=e;class ke{constructor(Ye,gi){this.high=Ye|0,this.low=gi|0}and(Ye){this.high&=Ye.high,this.low&=Ye.low}xor(Ye){this.high^=Ye.high,this.low^=Ye.low}or(Ye){this.high|=Ye.high,this.low|=Ye.low}shiftRight(Ye){Ye>=32?(this.low=this.high>>>Ye-32|0,this.high=0):(this.low=this.low>>>Ye|this.high<<32-Ye,this.high=this.high>>>Ye|0)}shiftLeft(Ye){Ye>=32?(this.high=this.low<<Ye-32,this.low=0):(this.high=this.high<<Ye|this.low>>>32-Ye,this.low<<=Ye)}rotateRight(Ye){let gi,ai;Ye&32?(ai=this.low,gi=this.high):(gi=this.low,ai=this.high),Ye&=31,this.low=gi>>>Ye|ai<<32-Ye,this.high=ai>>>Ye|gi<<32-Ye}not(){this.high=~this.high,this.low=~this.low}add(Ye){const gi=(this.low>>>0)+(Ye.low>>>0);let ai=(this.high>>>0)+(Ye.high>>>0);gi>4294967295&&(ai+=1),this.low=gi|0,this.high=ai|0}copyTo(Ye,gi){Ye[gi]=this.high>>>24&255,Ye[gi+1]=this.high>>16&255,Ye[gi+2]=this.high>>8&255,Ye[gi+3]=this.high&255,Ye[gi+4]=this.low>>>24&255,Ye[gi+5]=this.low>>16&255,Ye[gi+6]=this.low>>8&255,Ye[gi+7]=this.low&255}assign(Ye){this.high=Ye.high,this.low=Ye.low}}const Oe=function(){function Ye(si,ni){return si>>>ni|si<<32-ni}function gi(si,ni,$e){return si&ni^~si&$e}function ai(si,ni,$e){return si&ni^si&$e^ni&$e}function ui(si){return Ye(si,2)^Ye(si,13)^Ye(si,22)}function Qe(si){return Ye(si,6)^Ye(si,11)^Ye(si,25)}function Ze(si){return Ye(si,7)^Ye(si,18)^si>>>3}function ci(si){return Ye(si,17)^Ye(si,19)^si>>>10}const ze=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function We(si,ni,$e){let Ke=1779033703,Ve=3144134277,Ue=1013904242,ti=2773480762,hi=1359893119,yi=2600822924,wi=528734635,Ci=1541459225;const ki=Math.ceil(($e+9)/64)*64,fi=new Uint8Array(ki);let xi,li;for(xi=0;xi<$e;++xi)fi[xi]=si[ni++];fi[xi++]=128;const pi=ki-8;for(;xi<pi;)fi[xi++]=0;fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=$e>>>29&255,fi[xi++]=$e>>21&255,fi[xi++]=$e>>13&255,fi[xi++]=$e>>5&255,fi[xi++]=$e<<3&255;const ri=new Uint32Array(64);for(xi=0;xi<ki;){for(li=0;li<16;++li)ri[li]=fi[xi]<<24|fi[xi+1]<<16|fi[xi+2]<<8|fi[xi+3],xi+=4;for(li=16;li<64;++li)ri[li]=ci(ri[li-2])+ri[li-7]+Ze(ri[li-15])+ri[li-16]|0;let oi=Ke,di=Ve,bi=Ue,Ai=ti,Ei=hi,mi=yi,_i=wi,Si=Ci,Fi,Pi;for(li=0;li<64;++li)Fi=Si+Qe(Ei)+gi(Ei,mi,_i)+ze[li]+ri[li],Pi=ui(oi)+ai(oi,di,bi),Si=_i,_i=mi,mi=Ei,Ei=Ai+Fi|0,Ai=bi,bi=di,di=oi,oi=Fi+Pi|0;Ke=Ke+oi|0,Ve=Ve+di|0,Ue=Ue+bi|0,ti=ti+Ai|0,hi=hi+Ei|0,yi=yi+mi|0,wi=wi+_i|0,Ci=Ci+Si|0}return new Uint8Array([Ke>>24&255,Ke>>16&255,Ke>>8&255,Ke&255,Ve>>24&255,Ve>>16&255,Ve>>8&255,Ve&255,Ue>>24&255,Ue>>16&255,Ue>>8&255,Ue&255,ti>>24&255,ti>>16&255,ti>>8&255,ti&255,hi>>24&255,hi>>16&255,hi>>8&255,hi&255,yi>>24&255,yi>>16&255,yi>>8&255,yi&255,wi>>24&255,wi>>16&255,wi>>8&255,wi&255,Ci>>24&255,Ci>>16&255,Ci>>8&255,Ci&255])}return We}();Se.calculateSHA256=Oe;const Ee=function(){function Ye(We,si,ni,$e,Ke){We.assign(si),We.and(ni),Ke.assign(si),Ke.not(),Ke.and($e),We.xor(Ke)}function gi(We,si,ni,$e,Ke){We.assign(si),We.and(ni),Ke.assign(si),Ke.and($e),We.xor(Ke),Ke.assign(ni),Ke.and($e),We.xor(Ke)}function ai(We,si,ni){We.assign(si),We.rotateRight(28),ni.assign(si),ni.rotateRight(34),We.xor(ni),ni.assign(si),ni.rotateRight(39),We.xor(ni)}function ui(We,si,ni){We.assign(si),We.rotateRight(14),ni.assign(si),ni.rotateRight(18),We.xor(ni),ni.assign(si),ni.rotateRight(41),We.xor(ni)}function Qe(We,si,ni){We.assign(si),We.rotateRight(1),ni.assign(si),ni.rotateRight(8),We.xor(ni),ni.assign(si),ni.shiftRight(7),We.xor(ni)}function Ze(We,si,ni){We.assign(si),We.rotateRight(19),ni.assign(si),ni.rotateRight(61),We.xor(ni),ni.assign(si),ni.shiftRight(6),We.xor(ni)}const ci=[new ke(1116352408,3609767458),new ke(1899447441,602891725),new ke(3049323471,3964484399),new ke(3921009573,2173295548),new ke(961987163,4081628472),new ke(1508970993,3053834265),new ke(2453635748,2937671579),new ke(2870763221,3664609560),new ke(3624381080,2734883394),new ke(310598401,1164996542),new ke(607225278,1323610764),new ke(1426881987,3590304994),new ke(1925078388,4068182383),new ke(2162078206,991336113),new ke(2614888103,633803317),new ke(3248222580,3479774868),new ke(3835390401,2666613458),new ke(4022224774,944711139),new ke(264347078,2341262773),new ke(604807628,2007800933),new ke(770255983,1495990901),new ke(1249150122,1856431235),new ke(1555081692,3175218132),new ke(1996064986,2198950837),new ke(2554220882,3999719339),new ke(2821834349,766784016),new ke(2952996808,2566594879),new ke(3210313671,3203337956),new ke(3336571891,1034457026),new ke(3584528711,2466948901),new ke(113926993,3758326383),new ke(338241895,168717936),new ke(666307205,1188179964),new ke(773529912,1546045734),new ke(1294757372,1522805485),new ke(1396182291,2643833823),new ke(1695183700,2343527390),new ke(1986661051,1014477480),new ke(2177026350,1206759142),new ke(2456956037,344077627),new ke(2730485921,1290863460),new ke(2820302411,3158454273),new ke(3259730800,3505952657),new ke(3345764771,106217008),new ke(3516065817,3606008344),new ke(3600352804,1432725776),new ke(4094571909,1467031594),new ke(275423344,851169720),new ke(430227734,3100823752),new ke(506948616,1363258195),new ke(659060556,3750685593),new ke(883997877,3785050280),new ke(958139571,3318307427),new ke(1322822218,3812723403),new ke(1537002063,2003034995),new ke(1747873779,3602036899),new ke(1955562222,1575990012),new ke(2024104815,1125592928),new ke(2227730452,2716904306),new ke(2361852424,442776044),new ke(2428436474,593698344),new ke(2756734187,3733110249),new ke(3204031479,2999351573),new ke(3329325298,3815920427),new ke(3391569614,3928383900),new ke(3515267271,566280711),new ke(3940187606,3454069534),new ke(4118630271,4000239992),new ke(116418474,1914138554),new ke(174292421,2731055270),new ke(289380356,3203993006),new ke(460393269,320620315),new ke(685471733,587496836),new ke(852142971,1086792851),new ke(1017036298,365543100),new ke(1126000580,2618297676),new ke(1288033470,3409855158),new ke(1501505948,4234509866),new ke(1607167915,987167468),new ke(1816402316,1246189591)];function ze(We,si,ni,$e=!1){let Ke,Ve,Ue,ti,hi,yi,wi,Ci;$e?(Ke=new ke(3418070365,3238371032),Ve=new ke(1654270250,914150663),Ue=new ke(2438529370,812702999),ti=new ke(355462360,4144912697),hi=new ke(1731405415,4290775857),yi=new ke(2394180231,1750603025),wi=new ke(3675008525,1694076839),Ci=new ke(1203062813,3204075428)):(Ke=new ke(1779033703,4089235720),Ve=new ke(3144134277,2227873595),Ue=new ke(1013904242,4271175723),ti=new ke(2773480762,1595750129),hi=new ke(1359893119,2917565137),yi=new ke(2600822924,725511199),wi=new ke(528734635,4215389547),Ci=new ke(1541459225,327033209));const ki=Math.ceil((ni+17)/128)*128,fi=new Uint8Array(ki);let xi,li;for(xi=0;xi<ni;++xi)fi[xi]=We[si++];fi[xi++]=128;const pi=ki-16;for(;xi<pi;)fi[xi++]=0;fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=0,fi[xi++]=ni>>>29&255,fi[xi++]=ni>>21&255,fi[xi++]=ni>>13&255,fi[xi++]=ni>>5&255,fi[xi++]=ni<<3&255;const ri=new Array(80);for(xi=0;xi<80;xi++)ri[xi]=new ke(0,0);let oi=new ke(0,0),di=new ke(0,0),bi=new ke(0,0),Ai=new ke(0,0),Ei=new ke(0,0),mi=new ke(0,0),_i=new ke(0,0),Si=new ke(0,0);const Fi=new ke(0,0),Pi=new ke(0,0),Di=new ke(0,0),Ii=new ke(0,0);let Mi;for(xi=0;xi<ki;){for(li=0;li<16;++li)ri[li].high=fi[xi]<<24|fi[xi+1]<<16|fi[xi+2]<<8|fi[xi+3],ri[li].low=fi[xi+4]<<24|fi[xi+5]<<16|fi[xi+6]<<8|fi[xi+7],xi+=8;for(li=16;li<80;++li)Mi=ri[li],Ze(Mi,ri[li-2],Ii),Mi.add(ri[li-7]),Qe(Di,ri[li-15],Ii),Mi.add(Di),Mi.add(ri[li-16]);for(oi.assign(Ke),di.assign(Ve),bi.assign(Ue),Ai.assign(ti),Ei.assign(hi),mi.assign(yi),_i.assign(wi),Si.assign(Ci),li=0;li<80;++li)Fi.assign(Si),ui(Di,Ei,Ii),Fi.add(Di),Ye(Di,Ei,mi,_i,Ii),Fi.add(Di),Fi.add(ci[li]),Fi.add(ri[li]),ai(Pi,oi,Ii),gi(Di,oi,di,bi,Ii),Pi.add(Di),Mi=Si,Si=_i,_i=mi,mi=Ei,Ai.add(Fi),Ei=Ai,Ai=bi,bi=di,di=oi,Mi.assign(Fi),Mi.add(Pi),oi=Mi;Ke.add(oi),Ve.add(di),Ue.add(bi),ti.add(Ai),hi.add(Ei),yi.add(mi),wi.add(_i),Ci.add(Si)}let $i;return $e?($i=new Uint8Array(48),Ke.copyTo($i,0),Ve.copyTo($i,8),Ue.copyTo($i,16),ti.copyTo($i,24),hi.copyTo($i,32),yi.copyTo($i,40)):($i=new Uint8Array(64),Ke.copyTo($i,0),Ve.copyTo($i,8),Ue.copyTo($i,16),ti.copyTo($i,24),hi.copyTo($i,32),yi.copyTo($i,40),wi.copyTo($i,48),Ci.copyTo($i,56)),$i}return ze}();Se.calculateSHA512=Ee;function Pe(qe,Ye,gi){return Ee(qe,Ye,gi,!0)}class De{decryptBlock(Ye){return Ye}encrypt(Ye){return Ye}}class Me{constructor(){this.constructor===Me&&(0,t.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Ye=0;Ye<256;Ye++)Ye<128?this._mixCol[Ye]=Ye<<1:this._mixCol[Ye]=Ye<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Ye){(0,t.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Ye,gi){let ai,ui,Qe;const Ze=new Uint8Array(16);Ze.set(Ye);for(let ci=0,ze=this._keySize;ci<16;++ci,++ze)Ze[ci]^=gi[ze];for(let ci=this._cyclesOfRepetition-1;ci>=1;--ci){ai=Ze[13],Ze[13]=Ze[9],Ze[9]=Ze[5],Ze[5]=Ze[1],Ze[1]=ai,ai=Ze[14],ui=Ze[10],Ze[14]=Ze[6],Ze[10]=Ze[2],Ze[6]=ai,Ze[2]=ui,ai=Ze[15],ui=Ze[11],Qe=Ze[7],Ze[15]=Ze[3],Ze[11]=ai,Ze[7]=ui,Ze[3]=Qe;for(let ze=0;ze<16;++ze)Ze[ze]=this._inv_s[Ze[ze]];for(let ze=0,We=ci*16;ze<16;++ze,++We)Ze[ze]^=gi[We];for(let ze=0;ze<16;ze+=4){const We=this._mix[Ze[ze]],si=this._mix[Ze[ze+1]],ni=this._mix[Ze[ze+2]],$e=this._mix[Ze[ze+3]];ai=We^si>>>8^si<<24^ni>>>16^ni<<16^$e>>>24^$e<<8,Ze[ze]=ai>>>24&255,Ze[ze+1]=ai>>16&255,Ze[ze+2]=ai>>8&255,Ze[ze+3]=ai&255}}ai=Ze[13],Ze[13]=Ze[9],Ze[9]=Ze[5],Ze[5]=Ze[1],Ze[1]=ai,ai=Ze[14],ui=Ze[10],Ze[14]=Ze[6],Ze[10]=Ze[2],Ze[6]=ai,Ze[2]=ui,ai=Ze[15],ui=Ze[11],Qe=Ze[7],Ze[15]=Ze[3],Ze[11]=ai,Ze[7]=ui,Ze[3]=Qe;for(let ci=0;ci<16;++ci)Ze[ci]=this._inv_s[Ze[ci]],Ze[ci]^=gi[ci];return Ze}_encrypt(Ye,gi){const ai=this._s;let ui,Qe,Ze;const ci=new Uint8Array(16);ci.set(Ye);for(let ze=0;ze<16;++ze)ci[ze]^=gi[ze];for(let ze=1;ze<this._cyclesOfRepetition;ze++){for(let We=0;We<16;++We)ci[We]=ai[ci[We]];Ze=ci[1],ci[1]=ci[5],ci[5]=ci[9],ci[9]=ci[13],ci[13]=Ze,Ze=ci[2],Qe=ci[6],ci[2]=ci[10],ci[6]=ci[14],ci[10]=Ze,ci[14]=Qe,Ze=ci[3],Qe=ci[7],ui=ci[11],ci[3]=ci[15],ci[7]=Ze,ci[11]=Qe,ci[15]=ui;for(let We=0;We<16;We+=4){const si=ci[We+0],ni=ci[We+1],$e=ci[We+2],Ke=ci[We+3];ui=si^ni^$e^Ke,ci[We+0]^=ui^this._mixCol[si^ni],ci[We+1]^=ui^this._mixCol[ni^$e],ci[We+2]^=ui^this._mixCol[$e^Ke],ci[We+3]^=ui^this._mixCol[Ke^si]}for(let We=0,si=ze*16;We<16;++We,++si)ci[We]^=gi[si]}for(let ze=0;ze<16;++ze)ci[ze]=ai[ci[ze]];Ze=ci[1],ci[1]=ci[5],ci[5]=ci[9],ci[9]=ci[13],ci[13]=Ze,Ze=ci[2],Qe=ci[6],ci[2]=ci[10],ci[6]=ci[14],ci[10]=Ze,ci[14]=Qe,Ze=ci[3],Qe=ci[7],ui=ci[11],ci[3]=ci[15],ci[7]=Ze,ci[11]=Qe,ci[15]=ui;for(let ze=0,We=this._keySize;ze<16;++ze,++We)ci[ze]^=gi[We];return ci}_decryptBlock2(Ye,gi){const ai=Ye.length;let ui=this.buffer,Qe=this.bufferPosition;const Ze=[];let ci=this.iv;for(let si=0;si<ai;++si){if(ui[Qe]=Ye[si],++Qe,Qe<16)continue;const ni=this._decrypt(ui,this._key);for(let $e=0;$e<16;++$e)ni[$e]^=ci[$e];ci=ui,Ze.push(ni),ui=new Uint8Array(16),Qe=0}if(this.buffer=ui,this.bufferLength=Qe,this.iv=ci,Ze.length===0)return new Uint8Array(0);let ze=16*Ze.length;if(gi){const si=Ze.at(-1);let ni=si[15];if(ni<=16){for(let $e=15,Ke=16-ni;$e>=Ke;--$e)if(si[$e]!==ni){ni=0;break}ze-=ni,Ze[Ze.length-1]=si.subarray(0,16-ni)}}const We=new Uint8Array(ze);for(let si=0,ni=0,$e=Ze.length;si<$e;++si,ni+=16)We.set(Ze[si],ni);return We}decryptBlock(Ye,gi,ai=null){const ui=Ye.length,Qe=this.buffer;let Ze=this.bufferPosition;if(ai)this.iv=ai;else{for(let ci=0;Ze<16&&ci<ui;++ci,++Ze)Qe[Ze]=Ye[ci];if(Ze<16)return this.bufferLength=Ze,new Uint8Array(0);this.iv=Qe,Ye=Ye.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Ye,gi)}encrypt(Ye,gi){const ai=Ye.length;let ui=this.buffer,Qe=this.bufferPosition;const Ze=[];gi||(gi=new Uint8Array(16));for(let We=0;We<ai;++We){if(ui[Qe]=Ye[We],++Qe,Qe<16)continue;for(let ni=0;ni<16;++ni)ui[ni]^=gi[ni];const si=this._encrypt(ui,this._key);gi=si,Ze.push(si),ui=new Uint8Array(16),Qe=0}if(this.buffer=ui,this.bufferLength=Qe,this.iv=gi,Ze.length===0)return new Uint8Array(0);const ci=16*Ze.length,ze=new Uint8Array(ci);for(let We=0,si=0,ni=Ze.length;We<ni;++We,si+=16)ze.set(Ze[We],si);return ze}}class Ae extends Me{constructor(Ye){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Ye)}_expandKey(Ye){const ai=this._s,ui=this._rcon,Qe=new Uint8Array(176);Qe.set(Ye);for(let Ze=16,ci=1;Ze<176;++ci){let ze=Qe[Ze-3],We=Qe[Ze-2],si=Qe[Ze-1],ni=Qe[Ze-4];ze=ai[ze],We=ai[We],si=ai[si],ni=ai[ni],ze^=ui[ci];for(let $e=0;$e<4;++$e)Qe[Ze]=ze^=Qe[Ze-16],Ze++,Qe[Ze]=We^=Qe[Ze-16],Ze++,Qe[Ze]=si^=Qe[Ze-16],Ze++,Qe[Ze]=ni^=Qe[Ze-16],Ze++}return Qe}}Se.AES128Cipher=Ae;class Be extends Me{constructor(Ye){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Ye)}_expandKey(Ye){const ai=this._s,ui=new Uint8Array(240);ui.set(Ye);let Qe=1,Ze,ci,ze,We;for(let si=32,ni=1;si<240;++ni){si%32===16?(Ze=ai[Ze],ci=ai[ci],ze=ai[ze],We=ai[We]):si%32===0&&(Ze=ui[si-3],ci=ui[si-2],ze=ui[si-1],We=ui[si-4],Ze=ai[Ze],ci=ai[ci],ze=ai[ze],We=ai[We],Ze^=Qe,(Qe<<=1)>=256&&(Qe=(Qe^27)&255));for(let $e=0;$e<4;++$e)ui[si]=Ze^=ui[si-32],si++,ui[si]=ci^=ui[si-32],si++,ui[si]=ze^=ui[si-32],si++,ui[si]=We^=ui[si-32],si++}return ui}}Se.AES256Cipher=Be;class He{checkOwnerPassword(Ye,gi,ai,ui){const Qe=new Uint8Array(Ye.length+56);Qe.set(Ye,0),Qe.set(gi,Ye.length),Qe.set(ai,Ye.length+gi.length);const Ze=Oe(Qe,0,Qe.length);return(0,t.isArrayEqual)(Ze,ui)}checkUserPassword(Ye,gi,ai){const ui=new Uint8Array(Ye.length+8);ui.set(Ye,0),ui.set(gi,Ye.length);const Qe=Oe(ui,0,ui.length);return(0,t.isArrayEqual)(Qe,ai)}getOwnerKey(Ye,gi,ai,ui){const Qe=new Uint8Array(Ye.length+56);Qe.set(Ye,0),Qe.set(gi,Ye.length),Qe.set(ai,Ye.length+gi.length);const Ze=Oe(Qe,0,Qe.length);return new Be(Ze).decryptBlock(ui,!1,new Uint8Array(16))}getUserKey(Ye,gi,ai){const ui=new Uint8Array(Ye.length+8);ui.set(Ye,0),ui.set(gi,Ye.length);const Qe=Oe(ui,0,ui.length);return new Be(Qe).decryptBlock(ai,!1,new Uint8Array(16))}}Se.PDF17=He;const je=function(){function Ye(ai,ui,Qe){let Ze=Oe(ui,0,ui.length).subarray(0,32),ci=[0],ze=0;for(;ze<64||ci.at(-1)>ze-32;){const We=ai.length+Ze.length+Qe.length,si=new Uint8Array(We);let ni=0;si.set(ai,ni),ni+=ai.length,si.set(Ze,ni),ni+=Ze.length,si.set(Qe,ni);const $e=new Uint8Array(We*64);for(let Ue=0,ti=0;Ue<64;Ue++,ti+=We)$e.set(si,ti);ci=new Ae(Ze.subarray(0,16)).encrypt($e,Ze.subarray(16,32));const Ve=ci.slice(0,16).reduce((Ue,ti)=>Ue+ti,0)%3;Ve===0?Ze=Oe(ci,0,ci.length):Ve===1?Ze=Pe(ci,0,ci.length):Ve===2&&(Ze=Ee(ci,0,ci.length)),ze++}return Ze.subarray(0,32)}class gi{hash(ui,Qe,Ze){return Ye(ui,Qe,Ze)}checkOwnerPassword(ui,Qe,Ze,ci){const ze=new Uint8Array(ui.length+56);ze.set(ui,0),ze.set(Qe,ui.length),ze.set(Ze,ui.length+Qe.length);const We=Ye(ui,ze,Ze);return(0,t.isArrayEqual)(We,ci)}checkUserPassword(ui,Qe,Ze){const ci=new Uint8Array(ui.length+8);ci.set(ui,0),ci.set(Qe,ui.length);const ze=Ye(ui,ci,[]);return(0,t.isArrayEqual)(ze,Ze)}getOwnerKey(ui,Qe,Ze,ci){const ze=new Uint8Array(ui.length+56);ze.set(ui,0),ze.set(Qe,ui.length),ze.set(Ze,ui.length+Qe.length);const We=Ye(ui,ze,Ze);return new Be(We).decryptBlock(ci,!1,new Uint8Array(16))}getUserKey(ui,Qe,Ze){const ci=new Uint8Array(ui.length+8);ci.set(ui,0),ci.set(Qe,ui.length);const ze=Ye(ui,ci,[]);return new Be(ze).decryptBlock(Ze,!1,new Uint8Array(16))}}return gi}();Se.PDF20=je;class Xe{constructor(Ye,gi){this.StringCipherConstructor=Ye,this.StreamCipherConstructor=gi}createStream(Ye,gi){const ai=new this.StreamCipherConstructor;return new Fe.DecryptStream(Ye,gi,function(Qe,Ze){return ai.decryptBlock(Qe,Ze)})}decryptString(Ye){const gi=new this.StringCipherConstructor;let ai=(0,t.stringToBytes)(Ye);return ai=gi.decryptBlock(ai,!0),(0,t.bytesToString)(ai)}encryptString(Ye){const gi=new this.StringCipherConstructor;if(gi instanceof Me){const Qe=16-Ye.length%16;Ye+=String.fromCharCode(Qe).repeat(Qe);const Ze=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(Ze);else for(let We=0;We<16;We++)Ze[We]=Math.floor(256*Math.random());let ci=(0,t.stringToBytes)(Ye);ci=gi.encrypt(ci,Ze);const ze=new Uint8Array(16+ci.length);return ze.set(Ze),ze.set(ci,16),(0,t.bytesToString)(ze)}let ai=(0,t.stringToBytes)(Ye);return ai=gi.encrypt(ai),(0,t.bytesToString)(ai)}}const St=function(){const Ye=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function gi(We,si,ni,$e,Ke,Ve,Ue,ti,hi,yi,wi,Ci){if(si){const fi=Math.min(127,si.length);si=si.subarray(0,fi)}else si=[];let ki;return We===6?ki=new je:ki=new He,ki.checkUserPassword(si,ti,Ue)?ki.getUserKey(si,hi,wi):si.length&&ki.checkOwnerPassword(si,$e,Ve,ni)?ki.getOwnerKey(si,Ke,Ve,yi):null}function ai(We,si,ni,$e,Ke,Ve,Ue,ti){const hi=40+ni.length+We.length,yi=new Uint8Array(hi);let wi=0,Ci,ki;if(si)for(ki=Math.min(32,si.length);wi<ki;++wi)yi[wi]=si[wi];for(Ci=0;wi<32;)yi[wi++]=Ye[Ci++];for(Ci=0,ki=ni.length;Ci<ki;++Ci)yi[wi++]=ni[Ci];for(yi[wi++]=Ke&255,yi[wi++]=Ke>>8&255,yi[wi++]=Ke>>16&255,yi[wi++]=Ke>>>24&255,Ci=0,ki=We.length;Ci<ki;++Ci)yi[wi++]=We[Ci];Ve>=4&&!ti&&(yi[wi++]=255,yi[wi++]=255,yi[wi++]=255,yi[wi++]=255);let fi=e(yi,0,wi);const xi=Ue>>3;if(Ve>=3)for(Ci=0;Ci<50;++Ci)fi=e(fi,0,xi);const li=fi.subarray(0,xi);let pi,ri;if(Ve>=3){for(wi=0;wi<32;++wi)yi[wi]=Ye[wi];for(Ci=0,ki=We.length;Ci<ki;++Ci)yi[wi++]=We[Ci];pi=new Te(li),ri=pi.encryptBlock(e(yi,0,wi)),ki=li.length;const oi=new Uint8Array(ki);for(Ci=1;Ci<=19;++Ci){for(let di=0;di<ki;++di)oi[di]=li[di]^Ci;pi=new Te(oi),ri=pi.encryptBlock(ri)}for(Ci=0,ki=ri.length;Ci<ki;++Ci)if($e[Ci]!==ri[Ci])return null}else for(pi=new Te(li),ri=pi.encryptBlock(Ye),Ci=0,ki=ri.length;Ci<ki;++Ci)if($e[Ci]!==ri[Ci])return null;return li}function ui(We,si,ni,$e){const Ke=new Uint8Array(32);let Ve=0;const Ue=Math.min(32,We.length);for(;Ve<Ue;++Ve)Ke[Ve]=We[Ve];let ti=0;for(;Ve<32;)Ke[Ve++]=Ye[ti++];let hi=e(Ke,0,Ve);const yi=$e>>3;if(ni>=3)for(ti=0;ti<50;++ti)hi=e(hi,0,hi.length);let wi,Ci;if(ni>=3){Ci=si;const ki=new Uint8Array(yi);for(ti=19;ti>=0;ti--){for(let fi=0;fi<yi;++fi)ki[fi]=hi[fi]^ti;wi=new Te(ki),Ci=wi.encryptBlock(Ci)}}else wi=new Te(hi.subarray(0,yi)),Ci=wi.encryptBlock(si);return Ci}const Qe=xe.Name.get("Identity");function Ze(We,si,ni,$e=!1){const Ke=new Uint8Array(ni.length+9),Ve=ni.length;let Ue;for(Ue=0;Ue<Ve;++Ue)Ke[Ue]=ni[Ue];return Ke[Ue++]=We&255,Ke[Ue++]=We>>8&255,Ke[Ue++]=We>>16&255,Ke[Ue++]=si&255,Ke[Ue++]=si>>8&255,$e&&(Ke[Ue++]=115,Ke[Ue++]=65,Ke[Ue++]=108,Ke[Ue++]=84),e(Ke,0,Ue).subarray(0,Math.min(ni.length+5,16))}function ci(We,si,ni,$e,Ke){if(!(si instanceof xe.Name))throw new t.FormatError("Invalid crypt filter name.");const Ve=We.get(si.name);let Ue;if(Ve!=null&&(Ue=Ve.get("CFM")),!Ue||Ue.name==="None")return function(){return new De};if(Ue.name==="V2")return function(){return new Te(Ze(ni,$e,Ke,!1))};if(Ue.name==="AESV2")return function(){return new Ae(Ze(ni,$e,Ke,!0))};if(Ue.name==="AESV3")return function(){return new Be(Ke)};throw new t.FormatError("Unknown crypto method")}class ze{constructor(si,ni,$e){const Ke=si.get("Filter");if(!(0,xe.isName)(Ke,"Standard"))throw new t.FormatError("unknown encryption method");this.filterName=Ke.name,this.dict=si;const Ve=si.get("V");if(!Number.isInteger(Ve)||Ve!==1&&Ve!==2&&Ve!==4&&Ve!==5)throw new t.FormatError("unsupported encryption algorithm");this.algorithm=Ve;let Ue=si.get("Length");if(!Ue)if(Ve<=3)Ue=40;else{const li=si.get("CF"),pi=si.get("StmF");if(li instanceof xe.Dict&&pi instanceof xe.Name){li.suppressEncryption=!0;const ri=li.get(pi.name);Ue=ri&&ri.get("Length")||128,Ue<40&&(Ue<<=3)}}if(!Number.isInteger(Ue)||Ue<40||Ue%8!==0)throw new t.FormatError("invalid key length");const ti=(0,t.stringToBytes)(si.get("O")).subarray(0,32),hi=(0,t.stringToBytes)(si.get("U")).subarray(0,32),yi=si.get("P"),wi=si.get("R"),Ci=(Ve===4||Ve===5)&&si.get("EncryptMetadata")!==!1;this.encryptMetadata=Ci;const ki=(0,t.stringToBytes)(ni);let fi;if($e){if(wi===6)try{$e=(0,t.utf8StringToString)($e)}catch{(0,t.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}fi=(0,t.stringToBytes)($e)}let xi;if(Ve!==5)xi=ai(ki,fi,ti,hi,yi,wi,Ue,Ci);else{const li=(0,t.stringToBytes)(si.get("O")).subarray(32,40),pi=(0,t.stringToBytes)(si.get("O")).subarray(40,48),ri=(0,t.stringToBytes)(si.get("U")).subarray(0,48),oi=(0,t.stringToBytes)(si.get("U")).subarray(32,40),di=(0,t.stringToBytes)(si.get("U")).subarray(40,48),bi=(0,t.stringToBytes)(si.get("OE")),Ai=(0,t.stringToBytes)(si.get("UE"));(0,t.stringToBytes)(si.get("Perms")),xi=gi(wi,fi,ti,li,pi,ri,hi,oi,di,bi,Ai)}if(!xi&&!$e)throw new t.PasswordException("No password given",t.PasswordResponses.NEED_PASSWORD);if(!xi&&$e){const li=ui(fi,ti,wi,Ue);xi=ai(ki,li,ti,hi,yi,wi,Ue,Ci)}if(!xi)throw new t.PasswordException("Incorrect Password",t.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=xi,Ve>=4){const li=si.get("CF");li instanceof xe.Dict&&(li.suppressEncryption=!0),this.cf=li,this.stmf=si.get("StmF")||Qe,this.strf=si.get("StrF")||Qe,this.eff=si.get("EFF")||this.stmf}}createCipherTransform(si,ni){if(this.algorithm===4||this.algorithm===5)return new Xe(ci(this.cf,this.strf,si,ni,this.encryptionKey),ci(this.cf,this.stmf,si,ni,this.encryptionKey));const $e=Ze(si,ni,this.encryptionKey,!1),Ke=function(){return new Te($e)};return new Xe(Ke,Ke)}}return ze}();Se.CipherTransformFactory=St},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DecryptStream=void 0;var t=_e(17);const xe=512;class Fe extends t.DecodeStream{constructor(e,ke,Oe){super(ke),this.str=e,this.dict=e.dict,this.decrypt=Oe,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(xe),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(xe);const ke=this.nextChunk&&this.nextChunk.length>0,Oe=this.decrypt;e=Oe(e,!ke);const Ee=this.bufferLength,Pe=Ee+e.length;this.ensureBuffer(Pe).set(e,Ee),this.bufferLength=Pe}}Se.DecryptStream=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Catalog=void 0;var t=_e(4),xe=_e(2),Fe=_e(3),Te=_e(68),e=_e(5),ke=_e(69),Oe=_e(12),Ee=_e(70),Pe=_e(57),De=_e(71),Me=_e(72);function Ae(He){return He instanceof Fe.Dict&&(He=He.get("D")),Array.isArray(He)?He:null}class Be{constructor(je,Xe){if(this.pdfManager=je,this.xref=Xe,this._catDict=Xe.getCatalogObj(),!(this._catDict instanceof Fe.Dict))throw new xe.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Fe.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Pe.GlobalImageCache,this.pageKidsCountCache=new Fe.RefSetCache,this.pageIndexCache=new Fe.RefSetCache,this.nonBlendModesSet=new Fe.RefSet}get version(){const je=this._catDict.get("Version");if(je instanceof Fe.Name){if(t.PDF_VERSION_REGEXP.test(je.name))return(0,xe.shadow)(this,"version",je.name);(0,xe.warn)(`Invalid PDF catalog version: ${je.name}`)}return(0,xe.shadow)(this,"version",null)}get lang(){const je=this._catDict.get("Lang");return(0,xe.shadow)(this,"lang",typeof je=="string"?(0,xe.stringToPDFString)(je):null)}get needsRendering(){const je=this._catDict.get("NeedsRendering");return(0,xe.shadow)(this,"needsRendering",typeof je=="boolean"?je:!1)}get collection(){let je=null;try{const Xe=this._catDict.get("Collection");Xe instanceof Fe.Dict&&Xe.size>0&&(je=Xe)}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,xe.shadow)(this,"collection",je)}get acroForm(){let je=null;try{const Xe=this._catDict.get("AcroForm");Xe instanceof Fe.Dict&&Xe.size>0&&(je=Xe)}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,xe.shadow)(this,"acroForm",je)}get acroFormRef(){const je=this._catDict.getRaw("AcroForm");return(0,xe.shadow)(this,"acroFormRef",je instanceof Fe.Ref?je:null)}get metadata(){const je=this._catDict.getRaw("Metadata");if(!(je instanceof Fe.Ref))return(0,xe.shadow)(this,"metadata",null);let Xe=null;try{const St=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),qe=this.xref.fetch(je,St);if(qe instanceof e.BaseStream&&qe.dict instanceof Fe.Dict){const Ye=qe.dict.get("Type"),gi=qe.dict.get("Subtype");if((0,Fe.isName)(Ye,"Metadata")&&(0,Fe.isName)(gi,"XML")){const ai=(0,xe.stringToUTF8String)(qe.getString());ai&&(Xe=new De.MetadataParser(ai).serializable)}}}catch(St){if(St instanceof t.MissingDataException)throw St;(0,xe.info)(`Skipping invalid Metadata: "${St}".`)}return(0,xe.shadow)(this,"metadata",Xe)}get markInfo(){let je=null;try{je=this._readMarkInfo()}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)("Unable to read mark info.")}return(0,xe.shadow)(this,"markInfo",je)}_readMarkInfo(){const je=this._catDict.get("MarkInfo");if(!(je instanceof Fe.Dict))return null;const Xe={Marked:!1,UserProperties:!1,Suspects:!1};for(const St in Xe){const qe=je.get(St);typeof qe=="boolean"&&(Xe[St]=qe)}return Xe}get structTreeRoot(){let je=null;try{je=this._readStructTreeRoot()}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)("Unable read to structTreeRoot info.")}return(0,xe.shadow)(this,"structTreeRoot",je)}_readStructTreeRoot(){const je=this._catDict.get("StructTreeRoot");if(!(je instanceof Fe.Dict))return null;const Xe=new Me.StructTreeRoot(je);return Xe.init(),Xe}get toplevelPagesDict(){const je=this._catDict.get("Pages");if(!(je instanceof Fe.Dict))throw new xe.FormatError("Invalid top-level pages dictionary.");return(0,xe.shadow)(this,"toplevelPagesDict",je)}get documentOutline(){let je=null;try{je=this._readDocumentOutline()}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)("Unable to read document outline.")}return(0,xe.shadow)(this,"documentOutline",je)}_readDocumentOutline(){let je=this._catDict.get("Outlines");if(!(je instanceof Fe.Dict)||(je=je.getRaw("First"),!(je instanceof Fe.Ref)))return null;const Xe={items:[]},St=[{obj:je,parent:Xe}],qe=new Fe.RefSet;qe.put(je);const Ye=this.xref,gi=new Uint8ClampedArray(3);for(;St.length>0;){const ai=St.shift(),ui=Ye.fetchIfRef(ai.obj);if(ui===null)continue;if(!ui.has("Title"))throw new xe.FormatError("Invalid outline item encountered.");const Qe={url:null,dest:null,action:null};Be.parseDestDictionary({destDict:ui,resultObj:Qe,docBaseUrl:this.pdfManager.docBaseUrl,docAttachments:this.attachments});const Ze=ui.get("Title"),ci=ui.get("F")||0,ze=ui.getArray("C"),We=ui.get("Count");let si=gi;Array.isArray(ze)&&ze.length===3&&(ze[0]!==0||ze[1]!==0||ze[2]!==0)&&(si=Oe.ColorSpace.singletons.rgb.getRgb(ze,0));const ni={action:Qe.action,attachment:Qe.attachment,dest:Qe.dest,url:Qe.url,unsafeUrl:Qe.unsafeUrl,newWindow:Qe.newWindow,setOCGState:Qe.setOCGState,title:(0,xe.stringToPDFString)(Ze),color:si,count:Number.isInteger(We)?We:void 0,bold:!!(ci&2),italic:!!(ci&1),items:[]};ai.parent.items.push(ni),je=ui.getRaw("First"),je instanceof Fe.Ref&&!qe.has(je)&&(St.push({obj:je,parent:ni}),qe.put(je)),je=ui.getRaw("Next"),je instanceof Fe.Ref&&!qe.has(je)&&(St.push({obj:je,parent:ai.parent}),qe.put(je))}return Xe.items.length>0?Xe.items:null}get permissions(){let je=null;try{je=this._readPermissions()}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)("Unable to read permissions.")}return(0,xe.shadow)(this,"permissions",je)}_readPermissions(){const je=this.xref.trailer.get("Encrypt");if(!(je instanceof Fe.Dict))return null;let Xe=je.get("P");if(typeof Xe!="number")return null;Xe+=4294967296;const St=[];for(const qe in xe.PermissionFlag){const Ye=xe.PermissionFlag[qe];Xe&Ye&&St.push(Ye)}return St}get optionalContentConfig(){let je=null;try{const Xe=this._catDict.get("OCProperties");if(!Xe)return(0,xe.shadow)(this,"optionalContentConfig",null);const St=Xe.get("D");if(!St)return(0,xe.shadow)(this,"optionalContentConfig",null);const qe=Xe.get("OCGs");if(!Array.isArray(qe))return(0,xe.shadow)(this,"optionalContentConfig",null);const Ye=[],gi=[];for(const ai of qe){if(!(ai instanceof Fe.Ref))continue;gi.push(ai);const ui=this.xref.fetchIfRef(ai);Ye.push({id:ai.toString(),name:typeof ui.get("Name")=="string"?(0,xe.stringToPDFString)(ui.get("Name")):null,intent:typeof ui.get("Intent")=="string"?(0,xe.stringToPDFString)(ui.get("Intent")):null})}je=this._readOptionalContentConfig(St,gi),je.groups=Ye}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)(`Unable to read optional content config: ${Xe}`)}return(0,xe.shadow)(this,"optionalContentConfig",je)}_readOptionalContentConfig(je,Xe){function St(Qe){const Ze=[];if(Array.isArray(Qe))for(const ci of Qe)ci instanceof Fe.Ref&&Xe.includes(ci)&&Ze.push(ci.toString());return Ze}function qe(Qe,Ze=0){if(!Array.isArray(Qe))return null;const ci=[];for(const We of Qe){if(We instanceof Fe.Ref&&Xe.includes(We)){ai.put(We),ci.push(We.toString());continue}const si=Ye(We,Ze);si&&ci.push(si)}if(Ze>0)return ci;const ze=[];for(const We of Xe)ai.has(We)||ze.push(We.toString());return ze.length&&ci.push({name:null,order:ze}),ci}function Ye(Qe,Ze){if(++Ze>ui)return(0,xe.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const ci=gi.fetchIfRef(Qe);if(!Array.isArray(ci))return null;const ze=gi.fetchIfRef(ci[0]);if(typeof ze!="string")return null;const We=qe(ci.slice(1),Ze);return!We||!We.length?null:{name:(0,xe.stringToPDFString)(ze),order:We}}const gi=this.xref,ai=new Fe.RefSet,ui=10;return{name:typeof je.get("Name")=="string"?(0,xe.stringToPDFString)(je.get("Name")):null,creator:typeof je.get("Creator")=="string"?(0,xe.stringToPDFString)(je.get("Creator")):null,baseState:je.get("BaseState")instanceof Fe.Name?je.get("BaseState").name:null,on:St(je.get("ON")),off:St(je.get("OFF")),order:qe(je.get("Order")),groups:null}}setActualNumPages(je=null){this._actualNumPages=je}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const je=this.toplevelPagesDict.get("Count");if(!Number.isInteger(je))throw new xe.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,xe.shadow)(this,"_pagesCount",je)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const je=this._readDests(),Xe=Object.create(null);if(je instanceof Te.NameTree)for(const[St,qe]of je.getAll()){const Ye=Ae(qe);Ye&&(Xe[(0,xe.stringToPDFString)(St)]=Ye)}else je instanceof Fe.Dict&&je.forEach(function(St,qe){const Ye=Ae(qe);Ye&&(Xe[St]=Ye)});return(0,xe.shadow)(this,"destinations",Xe)}getDestination(je){const Xe=this._readDests();if(Xe instanceof Te.NameTree){const St=Ae(Xe.get(je));if(St)return St;const qe=this.destinations[je];if(qe)return(0,xe.warn)(`Found "${je}" at an incorrect position in the NameTree.`),qe}else if(Xe instanceof Fe.Dict){const St=Ae(Xe.get(je));if(St)return St}return null}_readDests(){const je=this._catDict.get("Names");if(je&&je.has("Dests"))return new Te.NameTree(je.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let je=null;try{je=this._readPageLabels()}catch(Xe){if(Xe instanceof t.MissingDataException)throw Xe;(0,xe.warn)("Unable to read page labels.")}return(0,xe.shadow)(this,"pageLabels",je)}_readPageLabels(){const je=this._catDict.getRaw("PageLabels");if(!je)return null;const Xe=new Array(this.numPages);let St=null,qe="";const gi=new Te.NumberTree(je,this.xref).getAll();let ai="",ui=1;for(let Qe=0,Ze=this.numPages;Qe<Ze;Qe++){const ci=gi.get(Qe);if(ci!==void 0){if(!(ci instanceof Fe.Dict))throw new xe.FormatError("PageLabel is not a dictionary.");if(ci.has("Type")&&!(0,Fe.isName)(ci.get("Type"),"PageLabel"))throw new xe.FormatError("Invalid type in PageLabel dictionary.");if(ci.has("S")){const ze=ci.get("S");if(!(ze instanceof Fe.Name))throw new xe.FormatError("Invalid style in PageLabel dictionary.");St=ze.name}else St=null;if(ci.has("P")){const ze=ci.get("P");if(typeof ze!="string")throw new xe.FormatError("Invalid prefix in PageLabel dictionary.");qe=(0,xe.stringToPDFString)(ze)}else qe="";if(ci.has("St")){const ze=ci.get("St");if(!(Number.isInteger(ze)&&ze>=1))throw new xe.FormatError("Invalid start in PageLabel dictionary.");ui=ze}else ui=1}switch(St){case"D":ai=ui;break;case"R":case"r":ai=(0,t.toRomanNumerals)(ui,St==="r");break;case"A":case"a":const ze=26,ni=St==="a"?97:65,$e=ui-1;ai=String.fromCharCode(ni+$e%ze).repeat(Math.floor($e/ze)+1);break;default:if(St)throw new xe.FormatError(`Invalid style "${St}" in PageLabel dictionary.`);ai=""}Xe[Qe]=qe+ai,ui++}return Xe}get pageLayout(){const je=this._catDict.get("PageLayout");let Xe="";if(je instanceof Fe.Name)switch(je.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Xe=je.name}return(0,xe.shadow)(this,"pageLayout",Xe)}get pageMode(){const je=this._catDict.get("PageMode");let Xe="UseNone";if(je instanceof Fe.Name)switch(je.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Xe=je.name}return(0,xe.shadow)(this,"pageMode",Xe)}get viewerPreferences(){const je=this._catDict.get("ViewerPreferences");if(!(je instanceof Fe.Dict))return(0,xe.shadow)(this,"viewerPreferences",null);let Xe=null;for(const St of je.getKeys()){const qe=je.get(St);let Ye;switch(St){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof qe=="boolean"&&(Ye=qe);break;case"NonFullScreenPageMode":if(qe instanceof Fe.Name)switch(qe.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":Ye=qe.name;break;default:Ye="UseNone"}break;case"Direction":if(qe instanceof Fe.Name)switch(qe.name){case"L2R":case"R2L":Ye=qe.name;break;default:Ye="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(qe instanceof Fe.Name)switch(qe.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":Ye=qe.name;break;default:Ye="CropBox"}break;case"PrintScaling":if(qe instanceof Fe.Name)switch(qe.name){case"None":case"AppDefault":Ye=qe.name;break;default:Ye="AppDefault"}break;case"Duplex":if(qe instanceof Fe.Name)switch(qe.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":Ye=qe.name;break;default:Ye="None"}break;case"PrintPageRange":Array.isArray(qe)&&qe.length%2===0&&qe.every((ai,ui,Qe)=>Number.isInteger(ai)&&ai>0&&(ui===0||ai>=Qe[ui-1])&&ai<=this.numPages)&&(Ye=qe);break;case"NumCopies":Number.isInteger(qe)&&qe>0&&(Ye=qe);break;default:(0,xe.warn)(`Ignoring non-standard key in ViewerPreferences: ${St}.`);continue}if(Ye===void 0){(0,xe.warn)(`Bad value, for key "${St}", in ViewerPreferences: ${qe}.`);continue}Xe||(Xe=Object.create(null)),Xe[St]=Ye}return(0,xe.shadow)(this,"viewerPreferences",Xe)}get openAction(){const je=this._catDict.get("OpenAction"),Xe=Object.create(null);if(je instanceof Fe.Dict){const St=new Fe.Dict(this.xref);St.set("A",je);const qe={url:null,dest:null,action:null};Be.parseDestDictionary({destDict:St,resultObj:qe}),Array.isArray(qe.dest)?Xe.dest=qe.dest:qe.action&&(Xe.action=qe.action)}else Array.isArray(je)&&(Xe.dest=je);return(0,xe.shadow)(this,"openAction",(0,xe.objectSize)(Xe)>0?Xe:null)}get attachments(){const je=this._catDict.get("Names");let Xe=null;if(je instanceof Fe.Dict&&je.has("EmbeddedFiles")){const St=new Te.NameTree(je.getRaw("EmbeddedFiles"),this.xref);for(const[qe,Ye]of St.getAll()){const gi=new Ee.FileSpec(Ye,this.xref);Xe||(Xe=Object.create(null)),Xe[(0,xe.stringToPDFString)(qe)]=gi.serializable}}return(0,xe.shadow)(this,"attachments",Xe)}get xfaImages(){const je=this._catDict.get("Names");let Xe=null;if(je instanceof Fe.Dict&&je.has("XFAImages")){const St=new Te.NameTree(je.getRaw("XFAImages"),this.xref);for(const[qe,Ye]of St.getAll())Xe||(Xe=new Fe.Dict(this.xref)),Xe.set((0,xe.stringToPDFString)(qe),Ye)}return(0,xe.shadow)(this,"xfaImages",Xe)}_collectJavaScript(){const je=this._catDict.get("Names");let Xe=null;function St(Ye,gi){if(!(gi instanceof Fe.Dict)||!(0,Fe.isName)(gi.get("S"),"JavaScript"))return;let ai=gi.get("JS");if(ai instanceof e.BaseStream)ai=ai.getString();else if(typeof ai!="string")return;Xe===null&&(Xe=new Map),ai=(0,xe.stringToPDFString)(ai).replace(/\u0000/g,""),Xe.set(Ye,ai)}if(je instanceof Fe.Dict&&je.has("JavaScript")){const Ye=new Te.NameTree(je.getRaw("JavaScript"),this.xref);for(const[gi,ai]of Ye.getAll())St((0,xe.stringToPDFString)(gi),ai)}const qe=this._catDict.get("OpenAction");return qe&&St("OpenAction",qe),Xe}get javaScript(){const je=this._collectJavaScript();return(0,xe.shadow)(this,"javaScript",je?[...je.values()]:null)}get jsActions(){const je=this._collectJavaScript();let Xe=(0,t.collectActions)(this.xref,this._catDict,xe.DocumentActionEventType);if(je){Xe||(Xe=Object.create(null));for(const[St,qe]of je)St in Xe?Xe[St].push(qe):Xe[St]=[qe]}return(0,xe.shadow)(this,"jsActions",Xe)}async fontFallback(je,Xe){const St=await Promise.all(this.fontCache);for(const qe of St)if(qe.loadedName===je){qe.fallback(Xe);return}}async cleanup(je=!1){(0,ke.clearGlobalCaches)(),this.globalImageCache.clear(je),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Xe=await Promise.all(this.fontCache);for(const{dict:St}of Xe)delete St.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(je){const Xe=[this.toplevelPagesDict],St=new Fe.RefSet,qe=this._catDict.getRaw("Pages");qe instanceof Fe.Ref&&St.put(qe);const Ye=this.xref,gi=this.pageKidsCountCache,ai=this.pageIndexCache;let ui=0;for(;Xe.length;){const Qe=Xe.pop();if(Qe instanceof Fe.Ref){const We=gi.get(Qe);if(We>=0&&ui+We<=je){ui+=We;continue}if(St.has(Qe))throw new xe.FormatError("Pages tree contains circular reference.");St.put(Qe);const si=await Ye.fetchAsync(Qe);if(si instanceof Fe.Dict){let ni=si.getRaw("Type");if(ni instanceof Fe.Ref&&(ni=await Ye.fetchAsync(ni)),(0,Fe.isName)(ni,"Page")||!si.has("Kids")){if(gi.has(Qe)||gi.put(Qe,1),ai.has(Qe)||ai.put(Qe,ui),ui===je)return[si,Qe];ui++;continue}}Xe.push(si);continue}if(!(Qe instanceof Fe.Dict))throw new xe.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Ze}=Qe;let ci=Qe.getRaw("Count");if(ci instanceof Fe.Ref&&(ci=await Ye.fetchAsync(ci)),Number.isInteger(ci)&&ci>=0&&(Ze&&!gi.has(Ze)&&gi.put(Ze,ci),ui+ci<=je)){ui+=ci;continue}let ze=Qe.getRaw("Kids");if(ze instanceof Fe.Ref&&(ze=await Ye.fetchAsync(ze)),!Array.isArray(ze)){let We=Qe.getRaw("Type");if(We instanceof Fe.Ref&&(We=await Ye.fetchAsync(We)),(0,Fe.isName)(We,"Page")||!Qe.has("Kids")){if(ui===je)return[Qe,null];ui++;continue}throw new xe.FormatError("Page dictionary kids object is not an array.")}for(let We=ze.length-1;We>=0;We--)Xe.push(ze[We])}throw new Error(`Page index ${je} not found.`)}async getAllPageDicts(je=!1){const Xe=[{currentNode:this.toplevelPagesDict,posInKids:0}],St=new Fe.RefSet,qe=this._catDict.getRaw("Pages");qe instanceof Fe.Ref&&St.put(qe);const Ye=new Map,gi=this.xref,ai=this.pageIndexCache;let ui=0;function Qe(ci,ze){ze&&!ai.has(ze)&&ai.put(ze,ui),Ye.set(ui++,[ci,ze])}function Ze(ci){if(ci instanceof t.XRefEntryException&&!je)throw ci;Ye.set(ui++,[ci,null])}for(;Xe.length>0;){const ci=Xe.at(-1),{currentNode:ze,posInKids:We}=ci;let si=ze.getRaw("Kids");if(si instanceof Fe.Ref)try{si=await gi.fetchAsync(si)}catch(Ve){Ze(Ve);break}if(!Array.isArray(si)){Ze(new xe.FormatError("Page dictionary kids object is not an array."));break}if(We>=si.length){Xe.pop();continue}const ni=si[We];let $e;if(ni instanceof Fe.Ref){if(St.has(ni)){Ze(new xe.FormatError("Pages tree contains circular reference."));break}St.put(ni);try{$e=await gi.fetchAsync(ni)}catch(Ve){Ze(Ve);break}}else $e=ni;if(!($e instanceof Fe.Dict)){Ze(new xe.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Ke=$e.getRaw("Type");if(Ke instanceof Fe.Ref)try{Ke=await gi.fetchAsync(Ke)}catch(Ve){Ze(Ve);break}(0,Fe.isName)(Ke,"Page")||!$e.has("Kids")?Qe($e,ni instanceof Fe.Ref?ni:null):Xe.push({currentNode:$e,posInKids:0}),ci.posInKids++}return Ye}getPageIndex(je){const Xe=this.pageIndexCache.get(je);if(Xe!==void 0)return Promise.resolve(Xe);const St=this.xref;function qe(ai){let ui=0,Qe;return St.fetchAsync(ai).then(function(Ze){if((0,Fe.isRefsEqual)(ai,je)&&!(0,Fe.isDict)(Ze,"Page")&&!(Ze instanceof Fe.Dict&&!Ze.has("Type")&&Ze.has("Contents")))throw new xe.FormatError("The reference does not point to a /Page dictionary.");if(!Ze)return null;if(!(Ze instanceof Fe.Dict))throw new xe.FormatError("Node must be a dictionary.");return Qe=Ze.getRaw("Parent"),Ze.getAsync("Parent")}).then(function(Ze){if(!Ze)return null;if(!(Ze instanceof Fe.Dict))throw new xe.FormatError("Parent must be a dictionary.");return Ze.getAsync("Kids")}).then(function(Ze){if(!Ze)return null;const ci=[];let ze=!1;for(const We of Ze){if(!(We instanceof Fe.Ref))throw new xe.FormatError("Kid must be a reference.");if((0,Fe.isRefsEqual)(We,ai)){ze=!0;break}ci.push(St.fetchAsync(We).then(function(si){if(!(si instanceof Fe.Dict))throw new xe.FormatError("Kid node must be a dictionary.");si.has("Count")?ui+=si.get("Count"):ui++}))}if(!ze)throw new xe.FormatError("Kid reference not found in parent's kids.");return Promise.all(ci).then(function(){return[ui,Qe]})})}let Ye=0;const gi=ai=>qe(ai).then(ui=>{if(!ui)return this.pageIndexCache.put(je,Ye),Ye;const[Qe,Ze]=ui;return Ye+=Qe,gi(Ze)});return gi(je)}get baseUrl(){const je=this._catDict.get("URI");if(je instanceof Fe.Dict){const Xe=je.get("Base");if(typeof Xe=="string"){const St=(0,xe.createValidAbsoluteUrl)(Xe,null,{tryConvertEncoding:!0});if(St)return(0,xe.shadow)(this,"baseUrl",St.href)}}return(0,xe.shadow)(this,"baseUrl",null)}static parseDestDictionary(je){const Xe=je.destDict;if(!(Xe instanceof Fe.Dict)){(0,xe.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const St=je.resultObj;if(typeof St!="object"){(0,xe.warn)("parseDestDictionary: `resultObj` must be an object.");return}const qe=je.docBaseUrl||null,Ye=je.docAttachments||null;let gi=Xe.get("A"),ai,ui;if(gi instanceof Fe.Dict||(Xe.has("Dest")?gi=Xe.get("Dest"):(gi=Xe.get("AA"),gi instanceof Fe.Dict&&(gi.has("D")?gi=gi.get("D"):gi.has("U")&&(gi=gi.get("U"))))),gi instanceof Fe.Dict){const Qe=gi.get("S");if(!(Qe instanceof Fe.Name)){(0,xe.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Ze=Qe.name;switch(Ze){case"ResetForm":const ci=gi.get("Flags"),ze=((typeof ci=="number"?ci:0)&1)===0,We=[],si=[];for(const xi of gi.get("Fields")||[])xi instanceof Fe.Ref?si.push(xi.toString()):typeof xi=="string"&&We.push((0,xe.stringToPDFString)(xi));St.resetForm={fields:We,refs:si,include:ze};break;case"URI":ai=gi.get("URI"),ai instanceof Fe.Name&&(ai="/"+ai.name);break;case"GoTo":ui=gi.get("D");break;case"Launch":case"GoToR":const ni=gi.get("F");ni instanceof Fe.Dict?ai=ni.get("F")||null:typeof ni=="string"&&(ai=ni);let $e=gi.get("D");if($e&&($e instanceof Fe.Name&&($e=$e.name),typeof ai=="string")){const xi=ai.split("#")[0];typeof $e=="string"?ai=xi+"#"+$e:Array.isArray($e)&&(ai=xi+"#"+JSON.stringify($e))}const Ke=gi.get("NewWindow");typeof Ke=="boolean"&&(St.newWindow=Ke);break;case"GoToE":const Ve=gi.get("T");let Ue;if(Ye&&Ve instanceof Fe.Dict){const xi=Ve.get("R"),li=Ve.get("N");(0,Fe.isName)(xi,"C")&&typeof li=="string"&&(Ue=Ye[(0,xe.stringToPDFString)(li)])}Ue?St.attachment=Ue:(0,xe.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const ti=gi.get("N");ti instanceof Fe.Name&&(St.action=ti.name);break;case"SetOCGState":const hi=gi.get("State"),yi=gi.get("PreserveRB");if(!Array.isArray(hi)||hi.length===0)break;const wi=[];for(const xi of hi)if(xi instanceof Fe.Name)switch(xi.name){case"ON":case"OFF":case"Toggle":wi.push(xi.name);break}else xi instanceof Fe.Ref&&wi.push(xi.toString());if(wi.length!==hi.length)break;St.setOCGState={state:wi,preserveRB:typeof yi=="boolean"?yi:!0};break;case"JavaScript":const Ci=gi.get("JS");let ki;Ci instanceof e.BaseStream?ki=Ci.getString():typeof Ci=="string"&&(ki=Ci);const fi=ki&&(0,t.recoverJsURL)((0,xe.stringToPDFString)(ki));if(fi){ai=fi.url,St.newWindow=fi.newWindow;break}default:if(Ze==="JavaScript"||Ze==="SubmitForm")break;(0,xe.warn)(`parseDestDictionary - unsupported action: "${Ze}".`);break}}else Xe.has("Dest")&&(ui=Xe.get("Dest"));if(typeof ai=="string"){const Qe=(0,xe.createValidAbsoluteUrl)(ai,qe,{addDefaultProtocol:!0,tryConvertEncoding:!0});Qe&&(St.url=Qe.href),St.unsafeUrl=ai}ui&&(ui instanceof Fe.Name&&(ui=ui.name),typeof ui=="string"?St.dest=(0,xe.stringToPDFString)(ui):Array.isArray(ui)&&(St.dest=ui))}}Se.Catalog=Be},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.NumberTree=Se.NameTree=void 0;var t=_e(3),xe=_e(2);class Fe{constructor(Oe,Ee,Pe){this.constructor===Fe&&(0,xe.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Oe,this.xref=Ee,this._type=Pe}getAll(){const Oe=new Map;if(!this.root)return Oe;const Ee=this.xref,Pe=new t.RefSet;Pe.put(this.root);const De=[this.root];for(;De.length>0;){const Me=Ee.fetchIfRef(De.shift());if(!(Me instanceof t.Dict))continue;if(Me.has("Kids")){const Be=Me.get("Kids");if(!Array.isArray(Be))continue;for(const He of Be){if(Pe.has(He))throw new xe.FormatError(`Duplicate entry in "${this._type}" tree.`);De.push(He),Pe.put(He)}continue}const Ae=Me.get(this._type);if(!!Array.isArray(Ae))for(let Be=0,He=Ae.length;Be<He;Be+=2)Oe.set(Ee.fetchIfRef(Ae[Be]),Ee.fetchIfRef(Ae[Be+1]))}return Oe}get(Oe){if(!this.root)return null;const Ee=this.xref;let Pe=Ee.fetchIfRef(this.root),De=0;const Me=10;for(;Pe.has("Kids");){if(++De>Me)return(0,xe.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const Be=Pe.get("Kids");if(!Array.isArray(Be))return null;let He=0,je=Be.length-1;for(;He<=je;){const Xe=He+je>>1,St=Ee.fetchIfRef(Be[Xe]),qe=St.get("Limits");if(Oe<Ee.fetchIfRef(qe[0]))je=Xe-1;else if(Oe>Ee.fetchIfRef(qe[1]))He=Xe+1;else{Pe=St;break}}if(He>je)return null}const Ae=Pe.get(this._type);if(Array.isArray(Ae)){let Be=0,He=Ae.length-2;for(;Be<=He;){const je=Be+He>>1,Xe=je+(je&1),St=Ee.fetchIfRef(Ae[Xe]);if(Oe<St)He=Xe-2;else if(Oe>St)Be=Xe+2;else return Ee.fetchIfRef(Ae[Xe+1])}}return null}}class Te extends Fe{constructor(Oe,Ee){super(Oe,Ee,"Names")}}Se.NameTree=Te;class e extends Fe{constructor(Oe,Ee){super(Oe,Ee,"Nums")}}Se.NumberTree=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.clearGlobalCaches=Fe;var t=_e(3),xe=_e(38);function Fe(){(0,t.clearPrimitiveCaches)(),(0,xe.clearUnicodeCaches)()}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.FileSpec=void 0;var t=_e(2),xe=_e(5),Fe=_e(3);function Te(ke){return ke.has("UF")?ke.get("UF"):ke.has("F")?ke.get("F"):ke.has("Unix")?ke.get("Unix"):ke.has("Mac")?ke.get("Mac"):ke.has("DOS")?ke.get("DOS"):null}class e{constructor(Oe,Ee){Oe instanceof Fe.Dict&&(this.xref=Ee,this.root=Oe,Oe.has("FS")&&(this.fs=Oe.get("FS")),this.description=Oe.has("Desc")?(0,t.stringToPDFString)(Oe.get("Desc")):"",Oe.has("RF")&&(0,t.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Oe.has("EF")||(this.contentAvailable=!1,(0,t.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Oe=Te(this.root)||"unnamed";this._filename=(0,t.stringToPDFString)(Oe).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=Te(this.root.get("EF")));let Oe=null;if(this.contentRef){const Ee=this.xref.fetchIfRef(this.contentRef);Ee instanceof xe.BaseStream?Oe=Ee.getBytes():(0,t.warn)("Embedded file specification points to non-existing/invalid content")}else(0,t.warn)("Embedded file specification does not have a content");return Oe}get serializable(){return{filename:this.filename,content:this.content}}}Se.FileSpec=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.MetadataParser=void 0;var t=_e(64);class xe{constructor(Te){Te=this._repair(Te);const ke=new t.SimpleXMLParser({lowerCaseName:!0}).parseFromString(Te);this._metadataMap=new Map,this._data=Te,ke&&this._parse(ke)}_repair(Te){return Te.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,ke){const Oe=ke.replace(/\\([0-3])([0-7])([0-7])/g,function(Pe,De,Me,Ae){return String.fromCharCode(De*64+Me*8+Ae*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(Pe,De){switch(De){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${De} isn't defined.`)}),Ee=[];for(let Pe=0,De=Oe.length;Pe<De;Pe+=2){const Me=Oe.charCodeAt(Pe)*256+Oe.charCodeAt(Pe+1);Me>=32&&Me<127&&Me!==60&&Me!==62&&Me!==38?Ee.push(String.fromCharCode(Me)):Ee.push("&#x"+(65536+Me).toString(16).substring(1)+";")}return">"+Ee.join("")})}_getSequence(Te){const e=Te.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:Te.childNodes.filter(ke=>ke.nodeName==="rdf:li")}_parseArray(Te){if(!Te.hasChildNodes())return;const[e]=Te.childNodes,ke=this._getSequence(e)||[];this._metadataMap.set(Te.nodeName,ke.map(Oe=>Oe.textContent.trim()))}_parse(Te){let e=Te.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(!(!e||e.nodeName!=="rdf:rdf"||!e.hasChildNodes())){for(const ke of e.childNodes)if(ke.nodeName==="rdf:description")for(const Oe of ke.childNodes){const Ee=Oe.nodeName;switch(Ee){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Oe);continue}this._metadataMap.set(Ee,Oe.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}Se.MetadataParser=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.StructTreeRoot=Se.StructTreePage=void 0;var t=_e(3),xe=_e(2),Fe=_e(68);const Te=40,e={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class ke{constructor(Me){this.dict=Me,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const Me=this.dict.get("RoleMap");Me instanceof t.Dict&&Me.forEach((Ae,Be)=>{Be instanceof t.Name&&this.roleMap.set(Ae,Be.name)})}}Se.StructTreeRoot=ke;class Oe{constructor(Me,Ae){this.tree=Me,this.dict=Ae,this.kids=[],this.parseKids()}get role(){const Me=this.dict.get("S"),Ae=Me instanceof t.Name?Me.name:"",{root:Be}=this.tree;return Be.roleMap.has(Ae)?Be.roleMap.get(Ae):Ae}parseKids(){let Me=null;const Ae=this.dict.getRaw("Pg");Ae instanceof t.Ref&&(Me=Ae.toString());const Be=this.dict.get("K");if(Array.isArray(Be))for(const He of Be){const je=this.parseKid(Me,He);je&&this.kids.push(je)}else{const He=this.parseKid(Me,Be);He&&this.kids.push(He)}}parseKid(Me,Ae){if(Number.isInteger(Ae))return this.tree.pageDict.objId!==Me?null:new Ee({type:e.PAGE_CONTENT,mcid:Ae,pageObjId:Me});let Be=null;if(Ae instanceof t.Ref?Be=this.dict.xref.fetch(Ae):Ae instanceof t.Dict&&(Be=Ae),!Be)return null;const He=Be.getRaw("Pg");He instanceof t.Ref&&(Me=He.toString());const je=Be.get("Type")instanceof t.Name?Be.get("Type").name:null;return je==="MCR"?this.tree.pageDict.objId!==Me?null:new Ee({type:e.STREAM_CONTENT,refObjId:Be.getRaw("Stm")instanceof t.Ref?Be.getRaw("Stm").toString():null,pageObjId:Me,mcid:Be.get("MCID")}):je==="OBJR"?this.tree.pageDict.objId!==Me?null:new Ee({type:e.OBJECT,refObjId:Be.getRaw("Obj")instanceof t.Ref?Be.getRaw("Obj").toString():null,pageObjId:Me}):new Ee({type:e.ELEMENT,dict:Be})}}class Ee{constructor({type:Me,dict:Ae=null,mcid:Be=null,pageObjId:He=null,refObjId:je=null}){this.type=Me,this.dict=Ae,this.mcid=Be,this.pageObjId=He,this.refObjId=je,this.parentNode=null}}class Pe{constructor(Me,Ae){this.root=Me,this.rootDict=Me?Me.dict:null,this.pageDict=Ae,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const Me=this.rootDict.get("ParentTree");if(!Me)return;const Ae=this.pageDict.get("StructParents");if(!Number.isInteger(Ae))return;const He=new Fe.NumberTree(Me,this.rootDict.xref).get(Ae);if(!Array.isArray(He))return;const je=new Map;for(const Xe of He)Xe instanceof t.Ref&&this.addNode(this.rootDict.xref.fetch(Xe),je)}addNode(Me,Ae,Be=0){if(Be>Te)return(0,xe.warn)("StructTree MAX_DEPTH reached."),null;if(Ae.has(Me))return Ae.get(Me);const He=new Oe(this,Me);Ae.set(Me,He);const je=Me.get("P");if(!je||(0,t.isName)(je.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Me,He)||Ae.delete(Me),He;const Xe=this.addNode(je,Ae,Be+1);if(!Xe)return He;let St=!1;for(const qe of Xe.kids)qe.type===e.ELEMENT&&qe.dict===Me&&(qe.parentNode=He,St=!0);return St||Ae.delete(Me),He}addTopLevelNode(Me,Ae){const Be=this.rootDict.get("K");if(!Be)return!1;if(Be instanceof t.Dict)return Be.objId!==Me.objId?!1:(this.nodes[0]=Ae,!0);if(!Array.isArray(Be))return!0;let He=!1;for(let je=0;je<Be.length;je++){const Xe=Be[je];Xe&&Xe.toString()===Me.objId&&(this.nodes[je]=Ae,He=!0)}return He}get serializable(){function Me(Be,He,je=0){if(je>Te){(0,xe.warn)("StructTree too deep to be fully serialized.");return}const Xe=Object.create(null);Xe.role=Be.role,Xe.children=[],He.children.push(Xe);const St=Be.dict.get("Alt");typeof St=="string"&&(Xe.alt=(0,xe.stringToPDFString)(St));const qe=Be.dict.get("Lang");typeof qe=="string"&&(Xe.lang=(0,xe.stringToPDFString)(qe));for(const Ye of Be.kids){const gi=Ye.type===e.ELEMENT?Ye.parentNode:null;if(gi){Me(gi,Xe,je+1);continue}else Ye.type===e.PAGE_CONTENT||Ye.type===e.STREAM_CONTENT?Xe.children.push({type:"content",id:`page${Ye.pageObjId}_mcid${Ye.mcid}`}):Ye.type===e.OBJECT&&Xe.children.push({type:"object",id:Ye.refObjId})}}const Ae=Object.create(null);Ae.children=[],Ae.role="Root";for(const Be of this.nodes)!Be||Me(Be,Ae);return Ae}}Se.StructTreePage=Pe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ObjectLoader=void 0;var t=_e(3),xe=_e(5),Fe=_e(4),Te=_e(2);function e(Ee){return Ee instanceof t.Ref||Ee instanceof t.Dict||Ee instanceof xe.BaseStream||Array.isArray(Ee)}function ke(Ee,Pe){if(Ee instanceof t.Dict)Ee=Ee.getRawValues();else if(Ee instanceof xe.BaseStream)Ee=Ee.dict.getRawValues();else if(!Array.isArray(Ee))return;for(const De of Ee)e(De)&&Pe.push(De)}class Oe{constructor(Pe,De,Me){this.dict=Pe,this.keys=De,this.xref=Me,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Pe,dict:De}=this;this.refSet=new t.RefSet;const Me=[];for(const Ae of Pe){const Be=De.getRaw(Ae);Be!==void 0&&Me.push(Be)}return this._walk(Me)}async _walk(Pe){const De=[],Me=[];for(;Pe.length;){let Ae=Pe.pop();if(Ae instanceof t.Ref){if(this.refSet.has(Ae))continue;try{this.refSet.put(Ae),Ae=this.xref.fetch(Ae)}catch(Be){if(!(Be instanceof Fe.MissingDataException)){(0,Te.warn)(`ObjectLoader._walk - requesting all data: "${Be}".`),this.refSet=null;const{manager:He}=this.xref.stream;return He.requestAllChunks()}De.push(Ae),Me.push({begin:Be.begin,end:Be.end})}}if(Ae instanceof xe.BaseStream){const Be=Ae.getBaseStreams();if(Be){let He=!1;for(const je of Be)je.isDataLoaded||(He=!0,Me.push({begin:je.start,end:je.end}));He&&De.push(Ae)}}ke(Ae,Pe)}if(Me.length){await this.xref.stream.manager.requestRanges(Me);for(const Ae of De)Ae instanceof t.Ref&&this.refSet.remove(Ae);return this._walk(De)}this.refSet=null}}Se.ObjectLoader=Oe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XFAFactory=void 0;var t=_e(75),xe=_e(79),Fe=_e(85),Te=_e(83),e=_e(76),ke=_e(2),Oe=_e(86),Ee=_e(96);class Pe{constructor(Me){try{this.root=new Oe.XFAParser().parse(Pe._createDocument(Me));const Ae=new xe.Binder(this.root);this.form=Ae.bind(),this.dataHandler=new Fe.DataHandler(this.root,Ae.getData()),this.form[t.$globalData].template=this.form}catch(Ae){(0,ke.warn)(`XFA - an error occurred during parsing and binding: ${Ae}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Me=this.form[t.$toPages]();return new Promise((Ae,Be)=>{const He=()=>{try{const je=Me.next();je.done?Ae(je.value):setTimeout(He,0)}catch(je){Be(je)}};setTimeout(He,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Me=>{const{width:Ae,height:Be}=Me.attributes.style;return[0,0,parseInt(Ae),parseInt(Be)]})}catch(Me){(0,ke.warn)(`XFA - an error occurred during layout: ${Me}`)}}getBoundingBox(Me){return this.dims[Me]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Me){this.form[t.$globalData].images=Me}setFonts(Me){this.form[t.$globalData].fontFinder=new Te.FontFinder(Me);const Ae=[];for(let Be of this.form[t.$globalData].usedTypefaces)Be=(0,e.stripQuotes)(Be),this.form[t.$globalData].fontFinder.find(Be)||Ae.push(Be);return Ae.length>0?Ae:null}appendFonts(Me,Ae){this.form[t.$globalData].fontFinder.add(Me,Ae)}async getPages(){this.pages||await this._createPages();const Me=this.pages;return this.pages=null,Me}serializeData(Me){return this.dataHandler.serialize(Me)}static _createDocument(Me){return Me["/xdp:xdp"]?Object.values(Me).join(""):Me["xdp:xdp"]}static getRichTextAsHtml(Me){if(!Me||typeof Me!="string")return null;try{let Ae=new Oe.XFAParser(Ee.XhtmlNamespace,!0).parse(Me);if(!["body","xhtml"].includes(Ae[t.$nodeName])){const Xe=Ee.XhtmlNamespace.body({});Xe[t.$appendChild](Ae),Ae=Xe}const Be=Ae[t.$toHTML]();if(!Be.success)return null;const{html:He}=Be,{attributes:je}=He;return je&&(je.class&&(je.class=je.class.filter(Xe=>!Xe.startsWith("xfa"))),je.dir="auto"),{html:He,str:Ae[t.$text]()}}catch(Ae){(0,ke.warn)(`XFA - an error occurred during parsing of rich text: ${Ae}`)}return null}}Se.XFAFactory=Pe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XmlObject=Se.XFAObjectArray=Se.XFAObject=Se.XFAAttribute=Se.StringObject=Se.OptionObject=Se.Option10=Se.Option01=Se.IntegerObject=Se.ContentObject=Se.$uid=Se.$toStyle=Se.$toString=Se.$toPages=Se.$toHTML=Se.$text=Se.$tabIndex=Se.$setValue=Se.$setSetAttributes=Se.$setId=Se.$searchNode=Se.$root=Se.$resolvePrototypes=Se.$removeChild=Se.$pushPara=Se.$pushGlyphs=Se.$popPara=Se.$onText=Se.$onChildCheck=Se.$onChild=Se.$nsAttributes=Se.$nodeName=Se.$namespaceId=Se.$isUsable=Se.$isTransparent=Se.$isThereMoreWidth=Se.$isSplittable=Se.$isNsAgnostic=Se.$isDescendent=Se.$isDataValue=Se.$isCDATAXml=Se.$isBindable=Se.$insertAt=Se.$indexOf=Se.$ids=Se.$hasSettableValue=Se.$globalData=Se.$getTemplateRoot=Se.$getSubformParent=Se.$getRealChildrenByNameIt=Se.$getParent=Se.$getNextPage=Se.$getExtra=Se.$getDataValue=Se.$getContainedChildren=Se.$getChildrenByNameIt=Se.$getChildrenByName=Se.$getChildrenByClass=Se.$getChildren=Se.$getAvailableSpace=Se.$getAttributes=Se.$getAttributeIt=Se.$flushHTML=Se.$finalize=Se.$extra=Se.$dump=Se.$data=Se.$content=Se.$consumed=Se.$clone=Se.$cleanup=Se.$cleanPage=Se.$clean=Se.$childrenToHTML=Se.$appendChild=Se.$addHTML=Se.$acceptWhitespace=void 0;var t=_e(76),xe=_e(2),Fe=_e(4),Te=_e(77),e=_e(78);const ke=Symbol();Se.$acceptWhitespace=ke;const Oe=Symbol();Se.$addHTML=Oe;const Ee=Symbol();Se.$appendChild=Ee;const Pe=Symbol();Se.$childrenToHTML=Pe;const De=Symbol();Se.$clean=De;const Me=Symbol();Se.$cleanPage=Me;const Ae=Symbol();Se.$cleanup=Ae;const Be=Symbol();Se.$clone=Be;const He=Symbol();Se.$consumed=He;const je=Symbol("content");Se.$content=je;const Xe=Symbol("data");Se.$data=Xe;const St=Symbol();Se.$dump=St;const qe=Symbol("extra");Se.$extra=qe;const Ye=Symbol();Se.$finalize=Ye;const gi=Symbol();Se.$flushHTML=gi;const ai=Symbol();Se.$getAttributeIt=ai;const ui=Symbol();Se.$getAttributes=ui;const Qe=Symbol();Se.$getAvailableSpace=Qe;const Ze=Symbol();Se.$getChildrenByClass=Ze;const ci=Symbol();Se.$getChildrenByName=ci;const ze=Symbol();Se.$getChildrenByNameIt=ze;const We=Symbol();Se.$getDataValue=We;const si=Symbol();Se.$getExtra=si;const ni=Symbol();Se.$getRealChildrenByNameIt=ni;const $e=Symbol();Se.$getChildren=$e;const Ke=Symbol();Se.$getContainedChildren=Ke;const Ve=Symbol();Se.$getNextPage=Ve;const Ue=Symbol();Se.$getSubformParent=Ue;const ti=Symbol();Se.$getParent=ti;const hi=Symbol();Se.$getTemplateRoot=hi;const yi=Symbol();Se.$globalData=yi;const wi=Symbol();Se.$hasSettableValue=wi;const Ci=Symbol();Se.$ids=Ci;const ki=Symbol();Se.$indexOf=ki;const fi=Symbol();Se.$insertAt=fi;const xi=Symbol();Se.$isCDATAXml=xi;const li=Symbol();Se.$isBindable=li;const pi=Symbol();Se.$isDataValue=pi;const ri=Symbol();Se.$isDescendent=ri;const oi=Symbol();Se.$isNsAgnostic=oi;const di=Symbol();Se.$isSplittable=di;const bi=Symbol();Se.$isThereMoreWidth=bi;const Ai=Symbol();Se.$isTransparent=Ai;const Ei=Symbol();Se.$isUsable=Ei;const mi=Symbol(),_i=Symbol("namespaceId");Se.$namespaceId=_i;const Si=Symbol("nodeName");Se.$nodeName=Si;const Fi=Symbol();Se.$nsAttributes=Fi;const Pi=Symbol();Se.$onChild=Pi;const Di=Symbol();Se.$onChildCheck=Di;const Ii=Symbol();Se.$onText=Ii;const Mi=Symbol();Se.$pushGlyphs=Mi;const $i=Symbol();Se.$popPara=$i;const Xi=Symbol();Se.$pushPara=Xi;const rn=Symbol();Se.$removeChild=rn;const tn=Symbol("root");Se.$root=tn;const on=Symbol();Se.$resolvePrototypes=on;const fn=Symbol();Se.$searchNode=fn;const Yi=Symbol();Se.$setId=Yi;const Ri=Symbol();Se.$setSetAttributes=Ri;const ji=Symbol();Se.$setValue=ji;const Ui=Symbol();Se.$tabIndex=Ui;const en=Symbol();Se.$text=en;const nn=Symbol();Se.$toPages=nn;const Sn=Symbol();Se.$toHTML=Sn;const Qi=Symbol();Se.$toString=Qi;const qi=Symbol();Se.$toStyle=qi;const Zi=Symbol("uid");Se.$uid=Zi;const an=Symbol(),Nn=Symbol(),Dn=Symbol(),hn=Symbol("_children"),Fn=Symbol(),Xn=Symbol(),Rn=Symbol(),Wn=Symbol(),Kn=Symbol(),Mn=Symbol(),er=Symbol(),Hn=Symbol(),hr=Symbol(),or=Symbol("parent"),dr=Symbol(),nr=Symbol(),Lr=Symbol();let An=0;const kn=Te.NamespaceIds.datasets.id;class Ln{constructor(un,bn,Pn=!1){this[_i]=un,this[Si]=bn,this[er]=Pn,this[or]=null,this[hn]=[],this[Zi]=`${bn}${An++}`,this[yi]=null}[Pi](un){if(!this[er]||!this[Di](un))return!1;const bn=un[Si],Pn=this[bn];if(Pn instanceof jn){if(Pn.push(un))return this[Ee](un),!0}else return Pn!==null&&this[rn](Pn),this[bn]=un,this[Ee](un),!0;let Tn="";return this.id?Tn=` (id: ${this.id})`:this.name&&(Tn=` (name: ${this.name} ${this.h.value})`),(0,xe.warn)(`XFA - node "${this[Si]}"${Tn} has already enough "${bn}"!`),!1}[Di](un){return this.hasOwnProperty(un[Si])&&un[_i]===this[_i]}[oi](){return!1}[ke](){return!1}[xi](){return!1}[li](){return!1}[$i](){this.para&&this[hi]()[qe].paraStack.pop()}[Xi](){this[hi]()[qe].paraStack.push(this.para)}[Yi](un){this.id&&this[_i]===Te.NamespaceIds.template.id&&un.set(this.id,this)}[hi](){return this[yi].template}[di](){return!1}[bi](){return!1}[Ee](un){un[or]=this,this[hn].push(un),!un[yi]&&this[yi]&&(un[yi]=this[yi])}[rn](un){const bn=this[hn].indexOf(un);this[hn].splice(bn,1)}[wi](){return this.hasOwnProperty("value")}[ji](un){}[Ii](un){}[Ye](){}[De](un){delete this[er],this[Ae]&&(un.clean(this[Ae]),delete this[Ae])}[ki](un){return this[hn].indexOf(un)}[fi](un,bn){bn[or]=this,this[hn].splice(un,0,bn),!bn[yi]&&this[yi]&&(bn[yi]=this[yi])}[Ai](){return!this.name}[mi](){return""}[en](){return this[hn].length===0?this[je]:this[hn].map(un=>un[en]()).join("")}get[Dn](){const un=Object.getPrototypeOf(this);if(!un._attributes){const bn=un._attributes=new Set;for(const Pn of Object.getOwnPropertyNames(this)){if(this[Pn]===null||this[Pn]instanceof Ln||this[Pn]instanceof jn)break;bn.add(Pn)}}return(0,xe.shadow)(this,Dn,un._attributes)}[ri](un){let bn=this;for(;bn;){if(bn===un)return!0;bn=bn[ti]()}return!1}[ti](){return this[or]}[Ue](){return this[ti]()}[$e](un=null){return un?this[un]:this[hn]}[St](){const un=Object.create(null);this[je]&&(un.$content=this[je]);for(const bn of Object.getOwnPropertyNames(this)){const Pn=this[bn];Pn!==null&&(Pn instanceof Ln?un[bn]=Pn[St]():Pn instanceof jn?Pn.isEmpty()||(un[bn]=Pn.dump()):un[bn]=Pn)}return un}[qi](){return null}[Sn](){return t.HTMLResult.EMPTY}*[Ke](){for(const un of this[$e]())yield un}*[Wn](un,bn){for(const Pn of this[Ke]())if(!un||bn===un.has(Pn[Si])){const Tn=this[Qe](),Jn=Pn[Sn](Tn);Jn.success||(this[qe].failingNode=Pn),yield Jn}}[gi](){return null}[Oe](un,bn){this[qe].children.push(un)}[Qe](){}[Pe]({filter:un=null,include:bn=!0}){if(!this[qe].generator)this[qe].generator=this[Wn](un,bn);else{const Pn=this[Qe](),Tn=this[qe].failingNode[Sn](Pn);if(!Tn.success)return Tn;Tn.html&&this[Oe](Tn.html,Tn.bbox),delete this[qe].failingNode}for(;;){const Pn=this[qe].generator.next();if(Pn.done)break;const Tn=Pn.value;if(!Tn.success)return Tn;Tn.html&&this[Oe](Tn.html,Tn.bbox)}return this[qe].generator=null,t.HTMLResult.EMPTY}[Ri](un){this[nr]=new Set(Object.keys(un))}[Mn](un){const bn=this[Dn],Pn=this[nr];return[...un].filter(Tn=>bn.has(Tn)&&!Pn.has(Tn))}[on](un,bn=new Set){for(const Pn of this[hn])Pn[dr](un,bn)}[dr](un,bn){const Pn=this[Kn](un,bn);Pn?this[an](Pn,un,bn):this[on](un,bn)}[Kn](un,bn){const{use:Pn,usehref:Tn}=this;if(!Pn&&!Tn)return null;let Jn=null,yr=null,Er=null,wr=Pn;if(Tn?(wr=Tn,Tn.startsWith("#som(")&&Tn.endsWith(")")?yr=Tn.slice(5,Tn.length-1):Tn.startsWith(".#som(")&&Tn.endsWith(")")?yr=Tn.slice(6,Tn.length-1):Tn.startsWith("#")?Er=Tn.slice(1):Tn.startsWith(".#")&&(Er=Tn.slice(2))):Pn.startsWith("#")?Er=Pn.slice(1):yr=Pn,this.use=this.usehref="",Er?Jn=un.get(Er):(Jn=(0,e.searchNode)(un.get(tn),this,yr,!0,!1),Jn&&(Jn=Jn[0])),!Jn)return(0,xe.warn)(`XFA - Invalid prototype reference: ${wr}.`),null;if(Jn[Si]!==this[Si])return(0,xe.warn)(`XFA - Incompatible prototype: ${Jn[Si]} !== ${this[Si]}.`),null;if(bn.has(Jn))return(0,xe.warn)("XFA - Cycle detected in prototypes use."),null;bn.add(Jn);const Sr=Jn[Kn](un,bn);return Sr&&Jn[an](Sr,un,bn),Jn[on](un,bn),bn.delete(Jn),Jn}[an](un,bn,Pn){if(Pn.has(un)){(0,xe.warn)("XFA - Cycle detected in prototypes use.");return}!this[je]&&un[je]&&(this[je]=un[je]),new Set(Pn).add(un);for(const Jn of this[Mn](un[nr]))this[Jn]=un[Jn],this[nr]&&this[nr].add(Jn);for(const Jn of Object.getOwnPropertyNames(this)){if(this[Dn].has(Jn))continue;const yr=this[Jn],Er=un[Jn];if(yr instanceof jn){for(const wr of yr[hn])wr[dr](bn,Pn);for(let wr=yr[hn].length,Sr=Er[hn].length;wr<Sr;wr++){const Rr=un[hn][wr][Be]();if(yr.push(Rr))Rr[or]=this,this[hn].push(Rr),Rr[dr](bn,Pn);else break}continue}if(yr!==null){yr[on](bn,Pn),Er&&yr[an](Er,bn,Pn);continue}if(Er!==null){const wr=Er[Be]();wr[or]=this,this[Jn]=wr,this[hn].push(wr),wr[dr](bn,Pn)}}}static[Fn](un){return Array.isArray(un)?un.map(bn=>Ln[Fn](bn)):typeof un=="object"&&un!==null?Object.assign({},un):un}[Be](){const un=Object.create(Object.getPrototypeOf(this));for(const bn of Object.getOwnPropertySymbols(this))try{un[bn]=this[bn]}catch{(0,xe.shadow)(un,bn,this[bn])}un[Zi]=`${un[Si]}${An++}`,un[hn]=[];for(const bn of Object.getOwnPropertyNames(this)){if(this[Dn].has(bn)){un[bn]=Ln[Fn](this[bn]);continue}const Pn=this[bn];Pn instanceof jn?un[bn]=new jn(Pn[Hn]):un[bn]=null}for(const bn of this[hn]){const Pn=bn[Si],Tn=bn[Be]();un[hn].push(Tn),Tn[or]=un,un[Pn]===null?un[Pn]=Tn:un[Pn][hn].push(Tn)}return un}[$e](un=null){return un?this[hn].filter(bn=>bn[Si]===un):this[hn]}[Ze](un){return this[un]}[ci](un,bn,Pn=!0){return Array.from(this[ze](un,bn,Pn))}*[ze](un,bn,Pn=!0){if(un==="parent"){yield this[or];return}for(const Tn of this[hn])Tn[Si]===un&&(yield Tn),Tn.name===un&&(yield Tn),(bn||Tn[Ai]())&&(yield*Tn[ze](un,bn,!1));Pn&&this[Dn].has(un)&&(yield new Gn(this,un,this[un]))}}Se.XFAObject=Ln;class jn{constructor(un=1/0){this[Hn]=un,this[hn]=[]}push(un){return this[hn].length<=this[Hn]?(this[hn].push(un),!0):((0,xe.warn)(`XFA - node "${un[Si]}" accepts no more than ${this[Hn]} children`),!1)}isEmpty(){return this[hn].length===0}dump(){return this[hn].length===1?this[hn][0][St]():this[hn].map(un=>un[St]())}[Be](){const un=new jn(this[Hn]);return un[hn]=this[hn].map(bn=>bn[Be]()),un}get children(){return this[hn]}clear(){this[hn].length=0}}Se.XFAObjectArray=jn;class Gn{constructor(un,bn,Pn){this[or]=un,this[Si]=bn,this[je]=Pn,this[He]=!1,this[Zi]=`attribute${An++}`}[ti](){return this[or]}[pi](){return!0}[We](){return this[je].trim()}[ji](un){un=un.value||"",this[je]=un.toString()}[en](){return this[je]}[ri](un){return this[or]===un||this[or][ri](un)}}Se.XFAAttribute=Gn;class sr extends Ln{constructor(un,bn,Pn={}){if(super(un,bn),this[je]="",this[Xn]=null,bn!=="#text"){const Tn=new Map;this[Nn]=Tn;for(const[Jn,yr]of Object.entries(Pn))Tn.set(Jn,new Gn(this,Jn,yr));if(Pn.hasOwnProperty(Fi)){const Jn=Pn[Fi].xfa.dataNode;Jn!==void 0&&(Jn==="dataGroup"?this[Xn]=!1:Jn==="dataValue"&&(this[Xn]=!0))}}this[He]=!1}[Qi](un){const bn=this[Si];if(bn==="#text"){un.push((0,Fe.encodeToXmlString)(this[je]));return}const Pn=(0,xe.utf8StringToString)(bn),Tn=this[_i]===kn?"xfa:":"";un.push(`<${Tn}${Pn}`);for(const[Jn,yr]of this[Nn].entries()){const Er=(0,xe.utf8StringToString)(Jn);un.push(` ${Er}="${(0,Fe.encodeToXmlString)(yr[je])}"`)}if(this[Xn]!==null&&(this[Xn]?un.push(' xfa:dataNode="dataValue"'):un.push(' xfa:dataNode="dataGroup"')),!this[je]&&this[hn].length===0){un.push("/>");return}if(un.push(">"),this[je])typeof this[je]=="string"?un.push((0,Fe.encodeToXmlString)(this[je])):this[je][Qi](un);else for(const Jn of this[hn])Jn[Qi](un);un.push(`</${Tn}${Pn}>`)}[Pi](un){if(this[je]){const bn=new sr(this[_i],"#text");this[Ee](bn),bn[je]=this[je],this[je]=""}return this[Ee](un),!0}[Ii](un){this[je]+=un}[Ye](){if(this[je]&&this[hn].length>0){const un=new sr(this[_i],"#text");this[Ee](un),un[je]=this[je],delete this[je]}}[Sn](){return this[Si]==="#text"?t.HTMLResult.success({name:"#text",value:this[je]}):t.HTMLResult.EMPTY}[$e](un=null){return un?this[hn].filter(bn=>bn[Si]===un):this[hn]}[ui](){return this[Nn]}[Ze](un){const bn=this[Nn].get(un);return bn!==void 0?bn:this[$e](un)}*[ze](un,bn){const Pn=this[Nn].get(un);Pn&&(yield Pn);for(const Tn of this[hn])Tn[Si]===un&&(yield Tn),bn&&(yield*Tn[ze](un,bn))}*[ai](un,bn){const Pn=this[Nn].get(un);Pn&&(!bn||!Pn[He])&&(yield Pn);for(const Tn of this[hn])yield*Tn[ai](un,bn)}*[ni](un,bn,Pn){for(const Tn of this[hn])Tn[Si]===un&&(!Pn||!Tn[He])&&(yield Tn),bn&&(yield*Tn[ni](un,bn,Pn))}[pi](){return this[Xn]===null?this[hn].length===0||this[hn][0][_i]===Te.NamespaceIds.xhtml.id:this[Xn]}[We](){return this[Xn]===null?this[hn].length===0?this[je].trim():this[hn][0][_i]===Te.NamespaceIds.xhtml.id?this[hn][0][en]().trim():null:this[je].trim()}[ji](un){un=un.value||"",this[je]=un.toString()}[St](un=!1){const bn=Object.create(null);un&&(bn.$ns=this[_i]),this[je]&&(bn.$content=this[je]),bn.$name=this[Si],bn.children=[];for(const Pn of this[hn])bn.children.push(Pn[St](un));bn.attributes=Object.create(null);for(const[Pn,Tn]of this[Nn])bn.attributes[Pn]=Tn[je];return bn}}Se.XmlObject=sr;class ir extends Ln{constructor(un,bn){super(un,bn),this[je]=""}[Ii](un){this[je]+=un}[Ye](){}}Se.ContentObject=ir;class Bn extends ir{constructor(un,bn,Pn){super(un,bn),this[hr]=Pn}[Ye](){this[je]=(0,t.getKeyword)({data:this[je],defaultValue:this[hr][0],validate:un=>this[hr].includes(un)})}[De](un){super[De](un),delete this[hr]}}Se.OptionObject=Bn;class gr extends ir{[Ye](){this[je]=this[je].trim()}}Se.StringObject=gr;class rr extends ir{constructor(un,bn,Pn,Tn){super(un,bn),this[Rn]=Pn,this[Lr]=Tn}[Ye](){this[je]=(0,t.getInteger)({data:this[je],defaultValue:this[Rn],validate:this[Lr]})}[De](un){super[De](un),delete this[Rn],delete this[Lr]}}Se.IntegerObject=rr;class pr extends rr{constructor(un,bn){super(un,bn,0,Pn=>Pn===1)}}Se.Option01=pr;class xr extends rr{constructor(un,bn){super(un,bn,1,Pn=>Pn===0)}}Se.Option10=xr},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.HTMLResult=void 0,Se.getBBox=Be,Se.getColor=Ae,Se.getFloat=ke,Se.getInteger=e,Se.getKeyword=Oe,Se.getMeasurement=Pe,Se.getRatio=De,Se.getRelevant=Me,Se.getStringOption=Ee,Se.stripQuotes=Te;var t=_e(2);const xe={pt:je=>je,cm:je=>je/2.54*72,mm:je=>je/(10*2.54)*72,in:je=>je*72,px:je=>je},Fe=/([+-]?\d+\.?\d*)(.*)/;function Te(je){return je.startsWith("'")||je.startsWith('"')?je.slice(1,je.length-1):je}function e({data:je,defaultValue:Xe,validate:St}){if(!je)return Xe;je=je.trim();const qe=parseInt(je,10);return!isNaN(qe)&&St(qe)?qe:Xe}function ke({data:je,defaultValue:Xe,validate:St}){if(!je)return Xe;je=je.trim();const qe=parseFloat(je);return!isNaN(qe)&&St(qe)?qe:Xe}function Oe({data:je,defaultValue:Xe,validate:St}){return je?(je=je.trim(),St(je)?je:Xe):Xe}function Ee(je,Xe){return Oe({data:je,defaultValue:Xe[0],validate:St=>Xe.includes(St)})}function Pe(je,Xe="0"){if(Xe=Xe||"0",!je)return Pe(Xe);const St=je.trim().match(Fe);if(!St)return Pe(Xe);const[,qe,Ye]=St,gi=parseFloat(qe);if(isNaN(gi))return Pe(Xe);if(gi===0)return 0;const ai=xe[Ye];return ai?ai(gi):gi}function De(je){if(!je)return{num:1,den:1};const Xe=je.trim().split(/\s*:\s*/).map(Ye=>parseFloat(Ye)).filter(Ye=>!isNaN(Ye));if(Xe.length===1&&Xe.push(1),Xe.length===0)return{num:1,den:1};const[St,qe]=Xe;return{num:St,den:qe}}function Me(je){return je?je.trim().split(/\s+/).map(Xe=>({excluded:Xe[0]==="-",viewname:Xe.substring(1)})):[]}function Ae(je,Xe=[0,0,0]){let[St,qe,Ye]=Xe;if(!je)return{r:St,g:qe,b:Ye};const gi=je.trim().split(/\s*,\s*/).map(ai=>Math.min(Math.max(0,parseInt(ai.trim(),10)),255)).map(ai=>isNaN(ai)?0:ai);return gi.length<3?{r:St,g:qe,b:Ye}:([St,qe,Ye]=gi,{r:St,g:qe,b:Ye})}function Be(je){if(!je)return{x:-1,y:-1,width:-1,height:-1};const St=je.trim().split(/\s*,\s*/).map(ui=>Pe(ui,"-1"));if(St.length<4||St[2]<0||St[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[qe,Ye,gi,ai]=St;return{x:qe,y:Ye,width:gi,height:ai}}class He{static get FAILURE(){return(0,t.shadow)(this,"FAILURE",new He(!1,null,null,null))}static get EMPTY(){return(0,t.shadow)(this,"EMPTY",new He(!0,null,null,null))}constructor(Xe,St,qe,Ye){this.success=Xe,this.html=St,this.bbox=qe,this.breakNode=Ye}isBreak(){return!!this.breakNode}static breakNode(Xe){return new He(!1,null,null,Xe)}static success(Xe,St=null){return new He(!0,Xe,St,null)}}Se.HTMLResult=He},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.NamespaceIds=Se.$buildXFAObject=void 0;const _e=Symbol();Se.$buildXFAObject=_e;const t={config:{id:0,check:xe=>xe.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:xe=>xe==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:xe=>xe==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:xe=>xe==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:xe=>xe.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:xe=>xe.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:xe=>xe==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:xe=>xe==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:xe=>xe==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:xe=>xe==="http://ns.adobe.com/xmpmeta/"}};Se.NamespaceIds=t},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.createDataNode=He,Se.searchNode=Ae;var t=_e(75),xe=_e(77),Fe=_e(2);const Te=/^[^.[]+/,e=/^[^\]]+/,ke={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Oe=new Map([["$data",(je,Xe)=>je.datasets?je.datasets.data:je],["$record",(je,Xe)=>(je.datasets?je.datasets.data:je)[t.$getChildren]()[0]],["$template",(je,Xe)=>je.template],["$connectionSet",(je,Xe)=>je.connectionSet],["$form",(je,Xe)=>je.form],["$layout",(je,Xe)=>je.layout],["$host",(je,Xe)=>je.host],["$dataWindow",(je,Xe)=>je.dataWindow],["$event",(je,Xe)=>je.event],["!",(je,Xe)=>je.datasets],["$xfa",(je,Xe)=>je],["xfa",(je,Xe)=>je],["$",(je,Xe)=>Xe]]),Ee=new WeakMap,Pe=xe.NamespaceIds.datasets.id;function De(je){return je=je.trim(),je==="*"?1/0:parseInt(je,10)||0}function Me(je,Xe,St=!0){let qe=je.match(Te);if(!qe)return null;let[Ye]=qe;const gi=[{name:Ye,cacheName:"."+Ye,index:0,js:null,formCalc:null,operator:ke.dot}];let ai=Ye.length;for(;ai<je.length;){const ui=ai;if(je.charAt(ai++)==="["){if(qe=je.slice(ai).match(e),!qe)return(0,Fe.warn)("XFA - Invalid index in SOM expression"),null;gi.at(-1).index=De(qe[0]),ai+=qe[0].length+1;continue}let Ze;switch(je.charAt(ai)){case".":if(!Xe)return null;ai++,Ze=ke.dotDot;break;case"#":ai++,Ze=ke.dotHash;break;case"[":if(St)return(0,Fe.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;Ze=ke.dotBracket;break;case"(":if(St)return(0,Fe.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;Ze=ke.dotParen;break;default:Ze=ke.dot;break}if(qe=je.slice(ai).match(Te),!qe)break;[Ye]=qe,ai+=Ye.length,gi.push({name:Ye,cacheName:je.slice(ui,ai),operator:Ze,index:0,js:null,formCalc:null})}return gi}function Ae(je,Xe,St,qe=!0,Ye=!0){const gi=Me(St,qe);if(!gi)return null;const ai=Oe.get(gi[0].name);let ui=0,Qe;ai?(Qe=!0,je=[ai(je,Xe)],ui=1):(Qe=Xe===null,je=[Xe||je]);for(let Ze=gi.length;ui<Ze;ui++){const{name:ci,cacheName:ze,operator:We,index:si}=gi[ui],ni=[];for(const $e of je){if(!($e instanceof t.XFAObject))continue;let Ke,Ve;if(Ye&&(Ve=Ee.get($e),Ve||(Ve=new Map,Ee.set($e,Ve)),Ke=Ve.get(ze)),!Ke){switch(We){case ke.dot:Ke=$e[t.$getChildrenByName](ci,!1);break;case ke.dotDot:Ke=$e[t.$getChildrenByName](ci,!0);break;case ke.dotHash:Ke=$e[t.$getChildrenByClass](ci),Ke instanceof t.XFAObjectArray?Ke=Ke.children:Ke=[Ke];break}Ye&&Ve.set(ze,Ke)}Ke.length>0&&ni.push(Ke)}if(ni.length===0&&!Qe&&ui===0){if(Xe=Xe[t.$getParent](),!Xe)return null;ui=-1,je=[Xe];continue}isFinite(si)?je=ni.filter($e=>si<$e.length).map($e=>$e[si]):je=ni.flat()}return je.length===0?null:je}function Be(je,Xe){let St=null;for(const{name:qe,index:Ye}of Xe){for(let gi=0,ai=isFinite(Ye)?Ye:0;gi<=ai;gi++){const ui=je[t.$namespaceId]===Pe?-1:je[t.$namespaceId];St=new t.XmlObject(ui,qe),je[t.$appendChild](St)}je=St}return St}function He(je,Xe,St){const qe=Me(St);if(!qe||qe.some(ai=>ai.operator===ke.dotDot))return null;const Ye=Oe.get(qe[0].name);let gi=0;Ye?(je=Ye(je,Xe),gi=1):je=Xe||je;for(let ai=qe.length;gi<ai;gi++){const{name:ui,operator:Qe,index:Ze}=qe[gi];if(!isFinite(Ze))return qe[gi].index=0,Be(je,qe.slice(gi));let ci;switch(Qe){case ke.dot:ci=je[t.$getChildrenByName](ui,!1);break;case ke.dotDot:ci=je[t.$getChildrenByName](ui,!0);break;case ke.dotHash:ci=je[t.$getChildrenByClass](ui),ci instanceof t.XFAObjectArray?ci=ci.children:ci=[ci];break}if(ci.length===0)return Be(je,qe.slice(gi));if(Ze<ci.length){const ze=ci[Ze];if(!(ze instanceof t.XFAObject))return(0,Fe.warn)("XFA - Cannot create a node."),null;je=ze}else return qe[gi].index=Ze-ci.length,Be(je,qe.slice(gi))}return null}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Binder=void 0;var t=_e(75),xe=_e(80),Fe=_e(78),Te=_e(77),e=_e(2);const ke=Te.NamespaceIds.datasets.id;function Oe(Pe){const De=new xe.Text({});return De[t.$content]=Pe,De}class Ee{constructor(De){this.root=De,this.datasets=De.datasets,De.datasets&&De.datasets.data?this.data=De.datasets.data:this.data=new t.XmlObject(Te.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[t.$getChildren]().length===0,this.root.form=this.form=De.template[t.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(De,Me,Ae){if(De[t.$data]=Me,De[t.$hasSettableValue]())if(Me[t.$isDataValue]()){const Be=Me[t.$getDataValue]();De[t.$setValue](Oe(Be))}else if(De instanceof xe.Field&&De.ui&&De.ui.choiceList&&De.ui.choiceList.open==="multiSelect"){const Be=Me[t.$getChildren]().map(He=>He[t.$content].trim()).join(`
`);De[t.$setValue](Oe(Be))}else this._isConsumeData()&&(0,e.warn)("XFA - Nodes haven't the same type.");else!Me[t.$isDataValue]()||this._isMatchTemplate()?this._bindElement(De,Me):(0,e.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(De,Me,Ae,Be){if(!De)return null;let He,je;for(let Xe=0;Xe<3;Xe++){for(He=Ae[t.$getRealChildrenByNameIt](De,!1,!0);je=He.next().value,!!je;)if(Me===je[t.$isDataValue]())return je;if(Ae[t.$namespaceId]===Te.NamespaceIds.datasets.id&&Ae[t.$nodeName]==="data")break;Ae=Ae[t.$getParent]()}return Be?(He=this.data[t.$getRealChildrenByNameIt](De,!0,!1),je=He.next().value,je||(He=this.data[t.$getAttributeIt](De,!0),je=He.next().value,je&&je[t.$isDataValue]())?je:null):null}_setProperties(De,Me){if(!!De.hasOwnProperty("setProperty"))for(const{ref:Ae,target:Be,connection:He}of De.setProperty.children){if(He||!Ae)continue;const je=(0,Fe.searchNode)(this.root,Me,Ae,!1,!1);if(!je){(0,e.warn)(`XFA - Invalid reference: ${Ae}.`);continue}const[Xe]=je;if(!Xe[t.$isDescendent](this.data)){(0,e.warn)("XFA - Invalid node: must be a data node.");continue}const St=(0,Fe.searchNode)(this.root,De,Be,!1,!1);if(!St){(0,e.warn)(`XFA - Invalid target: ${Be}.`);continue}const[qe]=St;if(!qe[t.$isDescendent](De)){(0,e.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const Ye=qe[t.$getParent]();if(qe instanceof xe.SetProperty||Ye instanceof xe.SetProperty){(0,e.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(qe instanceof xe.BindItems||Ye instanceof xe.BindItems){(0,e.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const gi=Xe[t.$text](),ai=qe[t.$nodeName];if(qe instanceof t.XFAAttribute){const ui=Object.create(null);ui[ai]=gi;const Qe=Reflect.construct(Object.getPrototypeOf(Ye).constructor,[ui]);Ye[ai]=Qe[ai];continue}if(!qe.hasOwnProperty(t.$content)){(0,e.warn)("XFA - Invalid node to use in setProperty");continue}qe[t.$data]=Xe,qe[t.$content]=gi,qe[t.$finalize]()}}_bindItems(De,Me){if(!De.hasOwnProperty("items")||!De.hasOwnProperty("bindItems")||De.bindItems.isEmpty())return;for(const He of De.items.children)De[t.$removeChild](He);De.items.clear();const Ae=new xe.Items({}),Be=new xe.Items({});De[t.$appendChild](Ae),De.items.push(Ae),De[t.$appendChild](Be),De.items.push(Be);for(const{ref:He,labelRef:je,valueRef:Xe,connection:St}of De.bindItems.children){if(St||!He)continue;const qe=(0,Fe.searchNode)(this.root,Me,He,!1,!1);if(!qe){(0,e.warn)(`XFA - Invalid reference: ${He}.`);continue}for(const Ye of qe){if(!Ye[t.$isDescendent](this.datasets)){(0,e.warn)(`XFA - Invalid ref (${He}): must be a datasets child.`);continue}const gi=(0,Fe.searchNode)(this.root,Ye,je,!0,!1);if(!gi){(0,e.warn)(`XFA - Invalid label: ${je}.`);continue}const[ai]=gi;if(!ai[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid label: must be a datasets child.");continue}const ui=(0,Fe.searchNode)(this.root,Ye,Xe,!0,!1);if(!ui){(0,e.warn)(`XFA - Invalid value: ${Xe}.`);continue}const[Qe]=ui;if(!Qe[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid value: must be a datasets child.");continue}const Ze=Oe(ai[t.$text]()),ci=Oe(Qe[t.$text]());Ae[t.$appendChild](Ze),Ae.text.push(Ze),Be[t.$appendChild](ci),Be.text.push(ci)}}}_bindOccurrences(De,Me,Ae){let Be;if(Me.length>1&&(Be=De[t.$clone](),Be[t.$removeChild](Be.occur),Be.occur=null),this._bindValue(De,Me[0],Ae),this._setProperties(De,Me[0]),this._bindItems(De,Me[0]),Me.length===1)return;const He=De[t.$getParent](),je=De[t.$nodeName],Xe=He[t.$indexOf](De);for(let St=1,qe=Me.length;St<qe;St++){const Ye=Me[St],gi=Be[t.$clone]();He[je].push(gi),He[t.$insertAt](Xe+St,gi),this._bindValue(gi,Ye,Ae),this._setProperties(gi,Ye),this._bindItems(gi,Ye)}}_createOccurrences(De){if(!this.emptyMerge)return;const{occur:Me}=De;if(!Me||Me.initial<=1)return;const Ae=De[t.$getParent](),Be=De[t.$nodeName];if(!(Ae[Be]instanceof t.XFAObjectArray))return;let He;De.name?He=Ae[Be].children.filter(St=>St.name===De.name).length:He=Ae[Be].children.length;const je=Ae[t.$indexOf](De)+1,Xe=Me.initial-He;if(Xe){const St=De[t.$clone]();St[t.$removeChild](St.occur),St.occur=null,Ae[Be].push(St),Ae[t.$insertAt](je,St);for(let qe=1;qe<Xe;qe++){const Ye=St[t.$clone]();Ae[Be].push(Ye),Ae[t.$insertAt](je+qe,Ye)}}}_getOccurInfo(De){const{name:Me,occur:Ae}=De;if(!Ae||!Me)return[1,1];const Be=Ae.max===-1?1/0:Ae.max;return[Ae.min,Be]}_setAndBind(De,Me){this._setProperties(De,Me),this._bindItems(De,Me),this._bindElement(De,Me)}_bindElement(De,Me){const Ae=[];this._createOccurrences(De);for(const Be of De[t.$getChildren]()){if(Be[t.$data])continue;if(this._mergeMode===void 0&&Be[t.$nodeName]==="subform"){this._mergeMode=Be.mergeMode==="consumeData";const gi=Me[t.$getChildren]();if(gi.length>0)this._bindOccurrences(Be,[gi[0]],null);else if(this.emptyMerge){const ai=Me[t.$namespaceId]===ke?-1:Me[t.$namespaceId],ui=Be[t.$data]=new t.XmlObject(ai,Be.name||"root");Me[t.$appendChild](ui),this._bindElement(Be,ui)}continue}if(!Be[t.$isBindable]())continue;let He=!1,je=null,Xe=null,St=null;if(Be.bind){switch(Be.bind.match){case"none":this._setAndBind(Be,Me);continue;case"global":He=!0;break;case"dataRef":if(!Be.bind.ref){(0,e.warn)(`XFA - ref is empty in node ${Be[t.$nodeName]}.`),this._setAndBind(Be,Me);continue}Xe=Be.bind.ref;break}Be.bind.picture&&(je=Be.bind.picture[t.$content])}const[qe,Ye]=this._getOccurInfo(Be);if(Xe)if(St=(0,Fe.searchNode)(this.root,Me,Xe,!0,!1),St===null){if(St=(0,Fe.createDataNode)(this.data,Me,Xe),!St)continue;this._isConsumeData()&&(St[t.$consumed]=!0),this._setAndBind(Be,St);continue}else this._isConsumeData()&&(St=St.filter(gi=>!gi[t.$consumed])),St.length>Ye?St=St.slice(0,Ye):St.length===0&&(St=null),St&&this._isConsumeData()&&St.forEach(gi=>{gi[t.$consumed]=!0});else{if(!Be.name){this._setAndBind(Be,Me);continue}if(this._isConsumeData()){const gi=[];for(;gi.length<Ye;){const ai=this._findDataByNameToConsume(Be.name,Be[t.$hasSettableValue](),Me,He);if(!ai)break;ai[t.$consumed]=!0,gi.push(ai)}St=gi.length>0?gi:null}else{if(St=Me[t.$getRealChildrenByNameIt](Be.name,!1,this.emptyMerge).next().value,!St){if(qe===0){Ae.push(Be);continue}const gi=Me[t.$namespaceId]===ke?-1:Me[t.$namespaceId];St=Be[t.$data]=new t.XmlObject(gi,Be.name),this.emptyMerge&&(St[t.$consumed]=!0),Me[t.$appendChild](St),this._setAndBind(Be,St);continue}this.emptyMerge&&(St[t.$consumed]=!0),St=[St]}}St?this._bindOccurrences(Be,St,je):qe>0?this._setAndBind(Be,Me):Ae.push(Be)}Ae.forEach(Be=>Be[t.$getParent]()[t.$removeChild](Be))}}Se.Binder=Ee},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Value=Se.Text=Se.TemplateNamespace=Se.Template=Se.SetProperty=Se.Items=Se.Field=Se.BindItems=void 0;var t=_e(75),xe=_e(77),Fe=_e(81),Te=_e(82),e=_e(76),ke=_e(2),Oe=_e(83),Ee=_e(4),Pe=_e(78);const De=xe.NamespaceIds.template.id,Me="http://www.w3.org/2000/svg",Ae=2,Be=3,He=5e3,je=/^H(\d+)$/,Xe=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),St=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function qe(vn){if(!vn||!vn.border)return{w:0,h:0};const ei=vn.border[t.$getExtra]();return ei?{w:ei.widths[0]+ei.widths[2]+ei.insets[0]+ei.insets[2],h:ei.widths[1]+ei.widths[3]+ei.insets[1]+ei.insets[3]}:{w:0,h:0}}function Ye(vn){return vn.margin&&(vn.margin.topInset||vn.margin.rightInset||vn.margin.bottomInset||vn.margin.leftInset)}function gi(vn,ei){if(!vn.value){const Oi=new Vs({});vn[t.$appendChild](Oi),vn.value=Oi}vn.value[t.$setValue](ei)}function*ai(vn){for(const ei of vn[t.$getChildren]()){if(ei instanceof oa){yield*ei[t.$getContainedChildren]();continue}yield ei}}function ui(vn){return vn.validate&&vn.validate.nullTest==="error"}function Qe(vn){for(;vn;){if(!vn.traversal){vn[t.$tabIndex]=vn[t.$getParent]()[t.$tabIndex];return}if(vn[t.$tabIndex])return;let ei=null;for(const _n of vn.traversal[t.$getChildren]())if(_n.operation==="next"){ei=_n;break}if(!ei||!ei.ref){vn[t.$tabIndex]=vn[t.$getParent]()[t.$tabIndex];return}const Oi=vn[t.$getTemplateRoot]();vn[t.$tabIndex]=++Oi[t.$tabIndex];const dn=Oi[t.$searchNode](ei.ref,vn);if(!dn)return;vn=dn[0]}}function Ze(vn,ei){const Oi=vn.assist;if(Oi){const dn=Oi[t.$toHTML]();dn&&(ei.title=dn);const $n=Oi.role.match(je);if($n){const lr="heading",ar=$n[1];ei.role=lr,ei["aria-level"]=ar}}if(vn.layout==="table")ei.role="table";else if(vn.layout==="row")ei.role="row";else{const dn=vn[t.$getParent]();dn.layout==="row"&&(dn.assist&&dn.assist.role==="TH"?ei.role="columnheader":ei.role="cell")}}function ci(vn){if(!vn.assist)return null;const ei=vn.assist;return ei.speak&&ei.speak[t.$content]!==""?ei.speak[t.$content]:ei.toolTip?ei.toolTip[t.$content]:null}function ze(vn){return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:vn}]})}function We(vn){const ei=vn[t.$getTemplateRoot]();ei[t.$extra].firstUnsplittable===null&&(ei[t.$extra].firstUnsplittable=vn,ei[t.$extra].noLayoutFailure=!0)}function si(vn){const ei=vn[t.$getTemplateRoot]();ei[t.$extra].firstUnsplittable===vn&&(ei[t.$extra].noLayoutFailure=!1)}function ni(vn){if(vn[t.$extra]||(vn[t.$extra]=Object.create(null),vn.targetType==="auto"))return!1;const ei=vn[t.$getTemplateRoot]();let Oi=null;if(vn.target){if(Oi=ei[t.$searchNode](vn.target,vn[t.$getParent]()),!Oi)return!1;Oi=Oi[0]}const{currentPageArea:dn,currentContentArea:_n}=ei[t.$extra];if(vn.targetType==="pageArea")return Oi instanceof Tn||(Oi=null),vn.startNew?(vn[t.$extra].target=Oi||dn,!0):Oi&&Oi!==dn?(vn[t.$extra].target=Oi,!0):!1;Oi instanceof Pi||(Oi=null);const $n=Oi&&Oi[t.$getParent]();let lr,ar=$n;if(vn.startNew)if(Oi){const fr=$n.contentArea.children,Ar=fr.indexOf(_n),Ir=fr.indexOf(Oi);Ar!==-1&&Ar<Ir&&(ar=null),lr=Ir-1}else lr=dn.contentArea.children.indexOf(_n);else if(Oi&&Oi!==_n)lr=$n.contentArea.children.indexOf(Oi)-1,ar=$n===dn?null:$n;else return!1;return vn[t.$extra].target=ar,vn[t.$extra].index=lr,!0}function $e(vn,ei,Oi){const dn=vn[t.$getTemplateRoot](),_n=dn[t.$extra].noLayoutFailure,$n=ei[t.$getSubformParent];ei[t.$getSubformParent]=()=>vn,dn[t.$extra].noLayoutFailure=!0;const lr=ei[t.$toHTML](Oi);vn[t.$addHTML](lr.html,lr.bbox),dn[t.$extra].noLayoutFailure=_n,ei[t.$getSubformParent]=$n}class Ke extends t.StringObject{constructor(ei){super(De,"appearanceFilter"),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class Ve extends t.XFAObject{constructor(ei){super(De,"arc",!0),this.circular=(0,e.getInteger)({data:ei.circular,defaultValue:0,validate:Oi=>Oi===1}),this.hand=(0,e.getStringOption)(ei.hand,["even","left","right"]),this.id=ei.id||"",this.startAngle=(0,e.getFloat)({data:ei.startAngle,defaultValue:0,validate:Oi=>!0}),this.sweepAngle=(0,e.getFloat)({data:ei.sweepAngle,defaultValue:360,validate:Oi=>!0}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.edge=null,this.fill=null}[t.$toHTML](){const ei=this.edge||new Ri({}),Oi=ei[t.$toStyle](),dn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(dn,this.fill[t.$toStyle]()):dn.fill="transparent",dn.strokeWidth=(0,Te.measureToString)(ei.presence==="visible"?ei.thickness:0),dn.stroke=Oi.color;let _n;const $n={xmlns:Me,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_n={name:"ellipse",attributes:{xmlns:Me,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:dn}};else{const fr=this.startAngle*Math.PI/180,Ar=this.sweepAngle*Math.PI/180,Ir=this.sweepAngle>180?1:0,[$r,Br,Xr,jr]=[50*(1+Math.cos(fr)),50*(1-Math.sin(fr)),50*(1+Math.cos(fr+Ar)),50*(1-Math.sin(fr+Ar))];_n={name:"path",attributes:{xmlns:Me,d:`M ${$r} ${Br} A 50 50 0 ${Ir} 0 ${Xr} ${jr}`,vectorEffect:"non-scaling-stroke",style:dn}},Object.assign($n,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const lr={name:"svg",children:[_n],attributes:$n},ar=this[t.$getParent]()[t.$getParent]();return Ye(ar)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[lr]}):(lr.attributes.style.position="absolute",e.HTMLResult.success(lr))}}class Ue extends t.XFAObject{constructor(ei){super(De,"area",!0),this.colSpan=(0,e.getInteger)({data:ei.colSpan,defaultValue:1,validate:Oi=>Oi>=1||Oi===-1}),this.id=ei.id||"",this.name=ei.name||"",this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*ai(this)}[t.$isTransparent](){return!0}[t.$isBindable](){return!0}[t.$addHTML](ei,Oi){const[dn,_n,$n,lr]=Oi;this[t.$extra].width=Math.max(this[t.$extra].width,dn+$n),this[t.$extra].height=Math.max(this[t.$extra].height,_n+lr),this[t.$extra].children.push(ei)}[t.$getAvailableSpace](){return this[t.$extra].availableSpace}[t.$toHTML](ei){const Oi=(0,Te.toStyle)(this,"position"),dn={style:Oi,id:this[t.$uid],class:["xfaArea"]};(0,Te.isPrintOnly)(this)&&dn.class.push("xfaPrintOnly"),this.name&&(dn.xfaName=this.name);const _n=[];this[t.$extra]={children:_n,width:0,height:0,availableSpace:ei};const $n=this[t.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!$n.success)return $n.isBreak()?$n:(delete this[t.$extra],e.HTMLResult.FAILURE);Oi.width=(0,Te.measureToString)(this[t.$extra].width),Oi.height=(0,Te.measureToString)(this[t.$extra].height);const lr={name:"div",attributes:dn,children:_n},ar=[this.x,this.y,this[t.$extra].width,this[t.$extra].height];return delete this[t.$extra],e.HTMLResult.success(lr,ar)}}class ti extends t.XFAObject{constructor(ei){super(De,"assist",!0),this.id=ei.id||"",this.role=ei.role||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.speak=null,this.toolTip=null}[t.$toHTML](){return this.toolTip&&this.toolTip[t.$content]?this.toolTip[t.$content]:null}}class hi extends t.XFAObject{constructor(ei){super(De,"barcode",!0),this.charEncoding=(0,e.getKeyword)({data:ei.charEncoding?ei.charEncoding.toLowerCase():"",defaultValue:"",validate:Oi=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Oi)||Oi.match(/iso-8859-\d{2}/)}),this.checksum=(0,e.getStringOption)(ei.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,e.getInteger)({data:ei.dataColumnCount,defaultValue:-1,validate:Oi=>Oi>=0}),this.dataLength=(0,e.getInteger)({data:ei.dataLength,defaultValue:-1,validate:Oi=>Oi>=0}),this.dataPrep=(0,e.getStringOption)(ei.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,e.getInteger)({data:ei.dataRowCount,defaultValue:-1,validate:Oi=>Oi>=0}),this.endChar=ei.endChar||"",this.errorCorrectionLevel=(0,e.getInteger)({data:ei.errorCorrectionLevel,defaultValue:-1,validate:Oi=>Oi>=0&&Oi<=8}),this.id=ei.id||"",this.moduleHeight=(0,e.getMeasurement)(ei.moduleHeight,"5mm"),this.moduleWidth=(0,e.getMeasurement)(ei.moduleWidth,"0.25mm"),this.printCheckDigit=(0,e.getInteger)({data:ei.printCheckDigit,defaultValue:0,validate:Oi=>Oi===1}),this.rowColumnRatio=(0,e.getRatio)(ei.rowColumnRatio),this.startChar=ei.startChar||"",this.textLocation=(0,e.getStringOption)(ei.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,e.getInteger)({data:ei.truncate,defaultValue:0,validate:Oi=>Oi===1}),this.type=(0,e.getStringOption)(ei.type?ei.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,e.getStringOption)(ei.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.wideNarrowRatio=(0,e.getRatio)(ei.wideNarrowRatio),this.encrypt=null,this.extras=null}}class yi extends t.XFAObject{constructor(ei){super(De,"bind",!0),this.match=(0,e.getStringOption)(ei.match,["once","dataRef","global","none"]),this.ref=ei.ref||"",this.picture=null}}class wi extends t.XFAObject{constructor(ei){super(De,"bindItems"),this.connection=ei.connection||"",this.labelRef=ei.labelRef||"",this.ref=ei.ref||"",this.valueRef=ei.valueRef||""}}Se.BindItems=wi;class Ci extends t.XFAObject{constructor(ei){super(De,"bookend"),this.id=ei.id||"",this.leader=ei.leader||"",this.trailer=ei.trailer||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class ki extends t.Option01{constructor(ei){super(De,"boolean"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$toHTML](ei){return ze(this[t.$content]===1?"1":"0")}}class fi extends t.XFAObject{constructor(ei){super(De,"border",!0),this.break=(0,e.getStringOption)(ei.break,["close","open"]),this.hand=(0,e.getStringOption)(ei.hand,["even","left","right"]),this.id=ei.id||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[t.$getExtra](){if(!this[t.$extra]){const ei=this.edge.children.slice();if(ei.length<4){const _n=ei.at(-1)||new Ri({});for(let $n=ei.length;$n<4;$n++)ei.push(_n)}const Oi=ei.map(_n=>_n.thickness),dn=[0,0,0,0];this.margin&&(dn[0]=this.margin.topInset,dn[1]=this.margin.rightInset,dn[2]=this.margin.bottomInset,dn[3]=this.margin.leftInset),this[t.$extra]={widths:Oi,insets:dn,edges:ei}}return this[t.$extra]}[t.$toStyle](){const{edges:ei}=this[t.$getExtra](),Oi=ei.map(_n=>{const $n=_n[t.$toStyle]();return $n.color=$n.color||"#000000",$n}),dn=Object.create(null);if(this.margin&&Object.assign(dn,this.margin[t.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(dn,this.fill[t.$toStyle]()),this.corner.children.some(_n=>_n.radius!==0)){const _n=this.corner.children.map($n=>$n[t.$toStyle]());if(_n.length===2||_n.length===3){const $n=_n.at(-1);for(let lr=_n.length;lr<4;lr++)_n.push($n)}dn.borderRadius=_n.map($n=>$n.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":dn.borderStyle="";break;case"inactive":dn.borderStyle="none";break;default:dn.borderStyle=Oi.map(_n=>_n.style).join(" ");break}return dn.borderWidth=Oi.map(_n=>_n.width).join(" "),dn.borderColor=Oi.map(_n=>_n.color).join(" "),dn}}class xi extends t.XFAObject{constructor(ei){super(De,"break",!0),this.after=(0,e.getStringOption)(ei.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=ei.afterTarget||"",this.before=(0,e.getStringOption)(ei.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=ei.beforeTarget||"",this.bookendLeader=ei.bookendLeader||"",this.bookendTrailer=ei.bookendTrailer||"",this.id=ei.id||"",this.overflowLeader=ei.overflowLeader||"",this.overflowTarget=ei.overflowTarget||"",this.overflowTrailer=ei.overflowTrailer||"",this.startNew=(0,e.getInteger)({data:ei.startNew,defaultValue:0,validate:Oi=>Oi===1}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}}class li extends t.XFAObject{constructor(ei){super(De,"breakAfter",!0),this.id=ei.id||"",this.leader=ei.leader||"",this.startNew=(0,e.getInteger)({data:ei.startNew,defaultValue:0,validate:Oi=>Oi===1}),this.target=ei.target||"",this.targetType=(0,e.getStringOption)(ei.targetType,["auto","contentArea","pageArea"]),this.trailer=ei.trailer||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.script=null}}class pi extends t.XFAObject{constructor(ei){super(De,"breakBefore",!0),this.id=ei.id||"",this.leader=ei.leader||"",this.startNew=(0,e.getInteger)({data:ei.startNew,defaultValue:0,validate:Oi=>Oi===1}),this.target=ei.target||"",this.targetType=(0,e.getStringOption)(ei.targetType,["auto","contentArea","pageArea"]),this.trailer=ei.trailer||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.script=null}[t.$toHTML](ei){return this[t.$extra]={},e.HTMLResult.FAILURE}}class ri extends t.XFAObject{constructor(ei){super(De,"button",!0),this.highlight=(0,e.getStringOption)(ei.highlight,["inverted","none","outline","push"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}[t.$toHTML](ei){const dn=this[t.$getParent]()[t.$getParent](),_n={name:"button",attributes:{id:this[t.$uid],class:["xfaButton"],style:{}},children:[]};for(const $n of dn.event.children){if($n.activity!=="click"||!$n.script)continue;const lr=(0,Ee.recoverJsURL)($n.script[t.$content]);if(!lr)continue;const ar=(0,Te.fixURL)(lr.url);!ar||_n.children.push({name:"a",attributes:{id:"link"+this[t.$uid],href:ar,newWindow:lr.newWindow,class:["xfaLink"],style:{}},children:[]})}return e.HTMLResult.success(_n)}}class oi extends t.XFAObject{constructor(ei){super(De,"calculate",!0),this.id=ei.id||"",this.override=(0,e.getStringOption)(ei.override,["disabled","error","ignore","warning"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.message=null,this.script=null}}class di extends t.XFAObject{constructor(ei){super(De,"caption",!0),this.id=ei.id||"",this.placement=(0,e.getStringOption)(ei.placement,["left","bottom","inline","right","top"]),this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,e.getMeasurement)(ei.reserve)),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[t.$setValue](ei){gi(this,ei)}[t.$getExtra](ei){if(!this[t.$extra]){let{width:Oi,height:dn}=ei;switch(this.placement){case"left":case"right":case"inline":Oi=this.reserve<=0?Oi:this.reserve;break;case"top":case"bottom":dn=this.reserve<=0?dn:this.reserve;break}this[t.$extra]=(0,Te.layoutNode)(this,{width:Oi,height:dn})}return this[t.$extra]}[t.$toHTML](ei){if(!this.value)return e.HTMLResult.EMPTY;this[t.$pushPara]();const Oi=this.value[t.$toHTML](ei).html;if(!Oi)return this[t.$popPara](),e.HTMLResult.EMPTY;const dn=this.reserve;if(this.reserve<=0){const{w:lr,h:ar}=this[t.$getExtra](ei);switch(this.placement){case"left":case"right":case"inline":this.reserve=lr;break;case"top":case"bottom":this.reserve=ar;break}}const _n=[];typeof Oi=="string"?_n.push({name:"#text",value:Oi}):_n.push(Oi);const $n=(0,Te.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&($n.width=(0,Te.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&($n.height=(0,Te.measureToString)(this.reserve));break}return(0,Te.setPara)(this,null,Oi),this[t.$popPara](),this.reserve=dn,e.HTMLResult.success({name:"div",attributes:{style:$n,class:["xfaCaption"]},children:_n})}}class bi extends t.StringObject{constructor(ei){super(De,"certificate"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class Ai extends t.XFAObject{constructor(ei){super(De,"certificates",!0),this.credentialServerPolicy=(0,e.getStringOption)(ei.credentialServerPolicy,["optional","required"]),this.id=ei.id||"",this.url=ei.url||"",this.urlPolicy=ei.urlPolicy||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class Ei extends t.XFAObject{constructor(ei){super(De,"checkButton",!0),this.id=ei.id||"",this.mark=(0,e.getStringOption)(ei.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,e.getStringOption)(ei.shape,["square","round"]),this.size=(0,e.getMeasurement)(ei.size,"10pt"),this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](ei){const Oi=(0,Te.toStyle)("margin"),dn=(0,Te.measureToString)(this.size);Oi.width=Oi.height=dn;let _n,$n,lr;const ar=this[t.$getParent]()[t.$getParent](),fr=ar.items.children.length&&ar.items.children[0][t.$toHTML]().html||[],Ar={on:(fr[0]!==void 0?fr[0]:"on").toString(),off:(fr[1]!==void 0?fr[1]:"off").toString()},$r=(ar.value&&ar.value[t.$text]()||"off")===Ar.on||void 0,Br=ar[t.$getSubformParent](),Xr=ar[t.$uid];let jr;Br instanceof Dn?(lr=Br[t.$uid],_n="radio",$n="xfaRadio",jr=Br[t.$data]&&Br[t.$data][t.$uid]||Br[t.$uid]):(_n="checkbox",$n="xfaCheckbox",jr=ar[t.$data]&&ar[t.$data][t.$uid]||ar[t.$uid]);const _r={name:"input",attributes:{class:[$n],style:Oi,fieldId:Xr,dataId:jr,type:_n,checked:$r,xfaOn:Ar.on,xfaOff:Ar.off,"aria-label":ci(ar),"aria-required":!1}};return lr&&(_r.attributes.name=lr),ui(ar)&&(_r.attributes["aria-required"]=!0,_r.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_r]})}}class mi extends t.XFAObject{constructor(ei){super(De,"choiceList",!0),this.commitOn=(0,e.getStringOption)(ei.commitOn,["select","exit"]),this.id=ei.id||"",this.open=(0,e.getStringOption)(ei.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,e.getInteger)({data:ei.textEntry,defaultValue:0,validate:Oi=>Oi===1}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](ei){const Oi=(0,Te.toStyle)(this,"border","margin"),_n=this[t.$getParent]()[t.$getParent](),lr={fontSize:`calc(${_n.font&&_n.font.size||10}px * var(--scale-factor))`},ar=[];if(_n.items.children.length>0){const Ar=_n.items;let Ir=0,$r=0;Ar.children.length===2&&(Ir=Ar.children[0].save,$r=1-Ir);const Br=Ar.children[Ir][t.$toHTML]().html,Xr=Ar.children[$r][t.$toHTML]().html;let jr=!1;const _r=_n.value&&_n.value[t.$text]()||"";for(let Qr=0,Cr=Br.length;Qr<Cr;Qr++){const Or={name:"option",attributes:{value:Xr[Qr]||Br[Qr],style:lr},value:Br[Qr]};Xr[Qr]===_r&&(Or.attributes.selected=jr=!0),ar.push(Or)}jr||ar.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const fr={class:["xfaSelect"],fieldId:_n[t.$uid],dataId:_n[t.$data]&&_n[t.$data][t.$uid]||_n[t.$uid],style:Oi,"aria-label":ci(_n),"aria-required":!1};return ui(_n)&&(fr["aria-required"]=!0,fr.required=!0),this.open==="multiSelect"&&(fr.multiple=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:ar,attributes:fr}]})}}class _i extends t.XFAObject{constructor(ei){super(De,"color",!0),this.cSpace=(0,e.getStringOption)(ei.cSpace,["SRGB"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.value=ei.value?(0,e.getColor)(ei.value):"",this.extras=null}[t.$hasSettableValue](){return!1}[t.$toStyle](){return this.value?ke.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Si extends t.XFAObject{constructor(ei){super(De,"comb"),this.id=ei.id||"",this.numberOfCells=(0,e.getInteger)({data:ei.numberOfCells,defaultValue:0,validate:Oi=>Oi>=0}),this.use=ei.use||"",this.usehref=ei.usehref||""}}class Fi extends t.XFAObject{constructor(ei){super(De,"connect",!0),this.connection=ei.connection||"",this.id=ei.id||"",this.ref=ei.ref||"",this.usage=(0,e.getStringOption)(ei.usage,["exportAndImport","exportOnly","importOnly"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.picture=null}}class Pi extends t.XFAObject{constructor(ei){super(De,"contentArea",!0),this.h=(0,e.getMeasurement)(ei.h),this.id=ei.id||"",this.name=ei.name||"",this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.w=(0,e.getMeasurement)(ei.w),this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.desc=null,this.extras=null}[t.$toHTML](ei){const Oi=(0,Te.measureToString)(this.x),dn=(0,Te.measureToString)(this.y),_n={left:Oi,top:dn,width:(0,Te.measureToString)(this.w),height:(0,Te.measureToString)(this.h)},$n=["xfaContentarea"];return(0,Te.isPrintOnly)(this)&&$n.push("xfaPrintOnly"),e.HTMLResult.success({name:"div",children:[],attributes:{style:_n,class:$n,id:this[t.$uid]}})}}class Di extends t.XFAObject{constructor(ei){super(De,"corner",!0),this.id=ei.id||"",this.inverted=(0,e.getInteger)({data:ei.inverted,defaultValue:0,validate:Oi=>Oi===1}),this.join=(0,e.getStringOption)(ei.join,["square","round"]),this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,e.getMeasurement)(ei.radius),this.stroke=(0,e.getStringOption)(ei.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(ei.thickness,"0.5pt"),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const ei=(0,Te.toStyle)(this,"visibility");return ei.radius=(0,Te.measureToString)(this.join==="square"?0:this.radius),ei}}class Ii extends t.ContentObject{constructor(ei){super(De,"date"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=this[t.$content].trim();this[t.$content]=ei?new Date(ei):null}[t.$toHTML](ei){return ze(this[t.$content]?this[t.$content].toString():"")}}class Mi extends t.ContentObject{constructor(ei){super(De,"dateTime"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=this[t.$content].trim();this[t.$content]=ei?new Date(ei):null}[t.$toHTML](ei){return ze(this[t.$content]?this[t.$content].toString():"")}}class $i extends t.XFAObject{constructor(ei){super(De,"dateTimeEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(ei.hScrollPolicy,["auto","off","on"]),this.id=ei.id||"",this.picker=(0,e.getStringOption)(ei.picker,["host","none"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](ei){const Oi=(0,Te.toStyle)(this,"border","font","margin"),dn=this[t.$getParent]()[t.$getParent](),_n={name:"input",attributes:{type:"text",fieldId:dn[t.$uid],dataId:dn[t.$data]&&dn[t.$data][t.$uid]||dn[t.$uid],class:["xfaTextfield"],style:Oi,"aria-label":ci(dn),"aria-required":!1}};return ui(dn)&&(_n.attributes["aria-required"]=!0,_n.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_n]})}}class Xi extends t.ContentObject{constructor(ei){super(De,"decimal"),this.fracDigits=(0,e.getInteger)({data:ei.fracDigits,defaultValue:2,validate:Oi=>!0}),this.id=ei.id||"",this.leadDigits=(0,e.getInteger)({data:ei.leadDigits,defaultValue:-1,validate:Oi=>!0}),this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(ei)?null:ei}[t.$toHTML](ei){return ze(this[t.$content]!==null?this[t.$content].toString():"")}}class rn extends t.XFAObject{constructor(ei){super(De,"defaultUi",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}}class tn extends t.XFAObject{constructor(ei){super(De,"desc",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class on extends t.OptionObject{constructor(ei){super(De,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class fn extends t.XFAObject{constructor(ei){super(De,"digestMethods",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.digestMethod=new t.XFAObjectArray}}class Yi extends t.XFAObject{constructor(ei){super(De,"draw",!0),this.anchorType=(0,e.getStringOption)(ei.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:ei.colSpan,defaultValue:1,validate:Oi=>Oi>=1||Oi===-1}),this.h=ei.h?(0,e.getMeasurement)(ei.h):"",this.hAlign=(0,e.getStringOption)(ei.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ei.id||"",this.locale=ei.locale||"",this.maxH=(0,e.getMeasurement)(ei.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(ei.maxW,"0pt"),this.minH=(0,e.getMeasurement)(ei.minH,"0pt"),this.minW=(0,e.getMeasurement)(ei.minW,"0pt"),this.name=ei.name||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.rotate=(0,e.getInteger)({data:ei.rotate,defaultValue:0,validate:Oi=>Oi%90===0}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.w=ei.w?(0,e.getMeasurement)(ei.w):"",this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[t.$setValue](ei){gi(this,ei)}[t.$toHTML](ei){if(Qe(this),this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;(0,Te.fixDimensions)(this),this[t.$pushPara]();const Oi=this.w,dn=this.h,{w:_n,h:$n,isBroken:lr}=(0,Te.layoutNode)(this,ei);if(_n&&this.w===""){if(lr&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;this.w=_n}if($n&&this.h===""&&(this.h=$n),We(this),!(0,Fe.checkDimensions)(this,ei))return this.w=Oi,this.h=dn,this[t.$popPara](),e.HTMLResult.FAILURE;si(this);const ar=(0,Te.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,Te.setMinMaxDimensions)(this,ar),ar.margin&&(ar.padding=ar.margin,delete ar.margin);const fr=["xfaDraw"];this.font&&fr.push("xfaFont"),(0,Te.isPrintOnly)(this)&&fr.push("xfaPrintOnly");const Ar={style:ar,id:this[t.$uid],class:fr};this.name&&(Ar.xfaName=this.name);const Ir={name:"div",attributes:Ar,children:[]};Ze(this,Ar);const $r=(0,Te.computeBbox)(this,Ir,ei),Br=this.value?this.value[t.$toHTML](ei).html:null;return Br===null?(this.w=Oi,this.h=dn,this[t.$popPara](),e.HTMLResult.success((0,Te.createWrapper)(this,Ir),$r)):(Ir.children.push(Br),(0,Te.setPara)(this,ar,Br),this.w=Oi,this.h=dn,this[t.$popPara](),e.HTMLResult.success((0,Te.createWrapper)(this,Ir),$r))}}class Ri extends t.XFAObject{constructor(ei){super(De,"edge",!0),this.cap=(0,e.getStringOption)(ei.cap,["square","butt","round"]),this.id=ei.id||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,e.getStringOption)(ei.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(ei.thickness,"0.5pt"),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const ei=(0,Te.toStyle)(this,"visibility");if(Object.assign(ei,{linecap:this.cap,width:(0,Te.measureToString)(this.thickness),color:this.color?this.color[t.$toStyle]():"#000000",style:""}),this.presence!=="visible")ei.style="none";else switch(this.stroke){case"solid":ei.style="solid";break;case"dashDot":ei.style="dashed";break;case"dashDotDot":ei.style="dashed";break;case"dashed":ei.style="dashed";break;case"dotted":ei.style="dotted";break;case"embossed":ei.style="ridge";break;case"etched":ei.style="groove";break;case"lowered":ei.style="inset";break;case"raised":ei.style="outset";break}return ei}}class ji extends t.OptionObject{constructor(ei){super(De,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class Ui extends t.XFAObject{constructor(ei){super(De,"encodings",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.encoding=new t.XFAObjectArray}}class en extends t.XFAObject{constructor(ei){super(De,"encrypt",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.certificate=null}}class nn extends t.XFAObject{constructor(ei){super(De,"encryptData",!0),this.id=ei.id||"",this.operation=(0,e.getStringOption)(ei.operation,["encrypt","decrypt"]),this.target=ei.target||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.filter=null,this.manifest=null}}class Sn extends t.XFAObject{constructor(ei){super(De,"encryption",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.certificate=new t.XFAObjectArray}}class Qi extends t.OptionObject{constructor(ei){super(De,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class qi extends t.XFAObject{constructor(ei){super(De,"encryptionMethods",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class Zi extends t.XFAObject{constructor(ei){super(De,"event",!0),this.activity=(0,e.getStringOption)(ei.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=ei.id||"",this.listen=(0,e.getStringOption)(ei.listen,["refOnly","refAndDescendents"]),this.name=ei.name||"",this.ref=ei.ref||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class an extends t.ContentObject{constructor(ei){super(De,"exData"),this.contentType=ei.contentType||"",this.href=ei.href||"",this.id=ei.id||"",this.maxLength=(0,e.getInteger)({data:ei.maxLength,defaultValue:-1,validate:Oi=>Oi>=-1}),this.name=ei.name||"",this.rid=ei.rid||"",this.transferEncoding=(0,e.getStringOption)(ei.transferEncoding,["none","base64","package"]),this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$isCDATAXml](){return this.contentType==="text/html"}[t.$onChild](ei){return this.contentType==="text/html"&&ei[t.$namespaceId]===xe.NamespaceIds.xhtml.id?(this[t.$content]=ei,!0):this.contentType==="text/xml"?(this[t.$content]=ei,!0):!1}[t.$toHTML](ei){return this.contentType!=="text/html"||!this[t.$content]?e.HTMLResult.EMPTY:this[t.$content][t.$toHTML](ei)}}class Nn extends t.XFAObject{constructor(ei){super(De,"exObject",!0),this.archive=ei.archive||"",this.classId=ei.classId||"",this.codeBase=ei.codeBase||"",this.codeType=ei.codeType||"",this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Dn extends t.XFAObject{constructor(ei){super(De,"exclGroup",!0),this.access=(0,e.getStringOption)(ei.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=ei.accessKey||"",this.anchorType=(0,e.getStringOption)(ei.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:ei.colSpan,defaultValue:1,validate:Oi=>Oi>=1||Oi===-1}),this.h=ei.h?(0,e.getMeasurement)(ei.h):"",this.hAlign=(0,e.getStringOption)(ei.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ei.id||"",this.layout=(0,e.getStringOption)(ei.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,e.getMeasurement)(ei.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(ei.maxW,"0pt"),this.minH=(0,e.getMeasurement)(ei.minH,"0pt"),this.minW=(0,e.getMeasurement)(ei.minW,"0pt"),this.name=ei.name||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.w=ei.w?(0,e.getMeasurement)(ei.w):"",this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$hasSettableValue](){return!0}[t.$setValue](ei){for(const Oi of this.field.children){if(!Oi.value){const dn=new Vs({});Oi[t.$appendChild](dn),Oi.value=dn}Oi.value[t.$setValue](ei)}}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}[t.$isSplittable](){const ei=this[t.$getSubformParent]();return ei[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):ei.layout&&ei.layout.endsWith("-tb")&&ei[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$flushHTML](){return(0,Fe.flushHTML)(this)}[t.$addHTML](ei,Oi){(0,Fe.addHTML)(this,ei,Oi)}[t.$getAvailableSpace](){return(0,Fe.getAvailableSpace)(this)}[t.$toHTML](ei){if(Qe(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;(0,Te.fixDimensions)(this);const Oi=[],dn={id:this[t.$uid],class:[]};(0,Te.setAccess)(this,dn.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:Oi,attributes:dn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,ei.width),height:Math.min(this.h||1/0,ei.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _n=this[t.$isSplittable]();if(_n||We(this),!(0,Fe.checkDimensions)(this,ei))return e.HTMLResult.FAILURE;const $n=new Set(["field"]);if(this.layout.includes("row")){const Cr=this[t.$getSubformParent]().columnWidths;Array.isArray(Cr)&&Cr.length>0&&(this[t.$extra].columnWidths=Cr,this[t.$extra].currentColumn=0)}const lr=(0,Te.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ar=["xfaExclgroup"],fr=(0,Te.layoutClass)(this);fr&&ar.push(fr),(0,Te.isPrintOnly)(this)&&ar.push("xfaPrintOnly"),dn.style=lr,dn.class=ar,this.name&&(dn.xfaName=this.name),this[t.$pushPara]();const Ar=this.layout==="lr-tb"||this.layout==="rl-tb",Ir=Ar?Ae:1;for(;this[t.$extra].attempt<Ir;this[t.$extra].attempt++){Ar&&this[t.$extra].attempt===Ae-1&&(this[t.$extra].numberInLine=0);const Cr=this[t.$childrenToHTML]({filter:$n,include:!0});if(Cr.success)break;if(Cr.isBreak())return this[t.$popPara](),Cr;if(Ar&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!this[t.$getTemplateRoot]()[t.$extra].noLayoutFailure){this[t.$extra].attempt=Ir;break}}if(this[t.$popPara](),_n||si(this),this[t.$extra].attempt===Ir)return _n||delete this[t.$extra],e.HTMLResult.FAILURE;let $r=0,Br=0;this.margin&&($r=this.margin.leftInset+this.margin.rightInset,Br=this.margin.topInset+this.margin.bottomInset);const Xr=Math.max(this[t.$extra].width+$r,this.w||0),jr=Math.max(this[t.$extra].height+Br,this.h||0),_r=[this.x,this.y,Xr,jr];this.w===""&&(lr.width=(0,Te.measureToString)(Xr)),this.h===""&&(lr.height=(0,Te.measureToString)(jr));const Qr={name:"div",attributes:dn,children:Oi};return Ze(this,dn),delete this[t.$extra],e.HTMLResult.success((0,Te.createWrapper)(this,Qr),_r)}}class hn extends t.XFAObject{constructor(ei){super(De,"execute"),this.connection=ei.connection||"",this.executeType=(0,e.getStringOption)(ei.executeType,["import","remerge"]),this.id=ei.id||"",this.runAt=(0,e.getStringOption)(ei.runAt,["client","both","server"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class Fn extends t.XFAObject{constructor(ei){super(De,"extras",!0),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Xn extends t.XFAObject{constructor(ei){super(De,"field",!0),this.access=(0,e.getStringOption)(ei.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=ei.accessKey||"",this.anchorType=(0,e.getStringOption)(ei.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:ei.colSpan,defaultValue:1,validate:Oi=>Oi>=1||Oi===-1}),this.h=ei.h?(0,e.getMeasurement)(ei.h):"",this.hAlign=(0,e.getStringOption)(ei.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ei.id||"",this.locale=ei.locale||"",this.maxH=(0,e.getMeasurement)(ei.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(ei.maxW,"0pt"),this.minH=(0,e.getMeasurement)(ei.minH,"0pt"),this.minW=(0,e.getMeasurement)(ei.minW,"0pt"),this.name=ei.name||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.rotate=(0,e.getInteger)({data:ei.rotate,defaultValue:0,validate:Oi=>Oi%90===0}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.w=ei.w?(0,e.getMeasurement)(ei.w):"",this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$setValue](ei){gi(this,ei)}[t.$toHTML](ei){if(Qe(this),!this.ui){this.ui=new xs({}),this.ui[t.$globalData]=this[t.$globalData],this[t.$appendChild](this.ui);let Cr;switch(this.items.children.length){case 0:Cr=new rs({}),this.ui.textEdit=Cr;break;case 1:Cr=new Ei({}),this.ui.checkButton=Cr;break;case 2:Cr=new mi({}),this.ui.choiceList=Cr;break}this.ui[t.$appendChild](Cr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;this.caption&&delete this.caption[t.$extra],this[t.$pushPara]();const Oi=this.caption?this.caption[t.$toHTML](ei).html:null,dn=this.w,_n=this.h;let $n=0,lr=0;this.margin&&($n=this.margin.leftInset+this.margin.rightInset,lr=this.margin.topInset+this.margin.bottomInset);let ar=null;if(this.w===""||this.h===""){let Cr=null,Or=null,ss=0,kr=0;if(this.ui.checkButton)ss=kr=this.ui.checkButton.size;else{const{w:Ns,h:ds}=(0,Te.layoutNode)(this,ei);Ns!==null?(ss=Ns,kr=ds):kr=(0,Oe.getMetrics)(this.font,!0).lineNoGap}if(ar=qe(this.ui[t.$getExtra]()),ss+=ar.w,kr+=ar.h,this.caption){const{w:Ns,h:ds,isBroken:as}=this.caption[t.$getExtra](ei);if(as&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;switch(Cr=Ns,Or=ds,this.caption.placement){case"left":case"right":case"inline":Cr+=ss;break;case"top":case"bottom":Or+=kr;break}}else Cr=ss,Or=kr;Cr&&this.w===""&&(Cr+=$n,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Cr?Cr:this.minW)),Or&&this.h===""&&(Or+=lr,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Or?Or:this.minH))}if(this[t.$popPara](),(0,Te.fixDimensions)(this),We(this),!(0,Fe.checkDimensions)(this,ei))return this.w=dn,this.h=_n,this[t.$popPara](),e.HTMLResult.FAILURE;si(this);const fr=(0,Te.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,Te.setMinMaxDimensions)(this,fr);const Ar=["xfaField"];this.font&&Ar.push("xfaFont"),(0,Te.isPrintOnly)(this)&&Ar.push("xfaPrintOnly");const Ir={style:fr,id:this[t.$uid],class:Ar};fr.margin&&(fr.padding=fr.margin,delete fr.margin),(0,Te.setAccess)(this,Ar),this.name&&(Ir.xfaName=this.name);const $r=[],Br={name:"div",attributes:Ir,children:$r};Ze(this,Ir);const Xr=this.border?this.border[t.$toStyle]():null,jr=(0,Te.computeBbox)(this,Br,ei),_r=this.ui[t.$toHTML]().html;if(!_r)return Object.assign(fr,Xr),e.HTMLResult.success((0,Te.createWrapper)(this,Br),jr);this[t.$tabIndex]&&(_r.children&&_r.children[0]?_r.children[0].attributes.tabindex=this[t.$tabIndex]:_r.attributes.tabindex=this[t.$tabIndex]),_r.attributes.style||(_r.attributes.style=Object.create(null));let Qr=null;if(this.ui.button?(_r.children.length===1&&([Qr]=_r.children.splice(0,1)),Object.assign(_r.attributes.style,Xr)):Object.assign(fr,Xr),$r.push(_r),this.value){if(this.ui.imageEdit)_r.children.push(this.value[t.$toHTML]().html);else if(!this.ui.button){let Cr="";if(this.value.exData)Cr=this.value.exData[t.$text]();else if(this.value.text)Cr=this.value.text[t.$getExtra]();else{const Or=this.value[t.$toHTML]().html;Or!==null&&(Cr=Or.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(_r.children[0].attributes.maxLength=this.value.text.maxChars),Cr&&(this.ui.numericEdit&&(Cr=parseFloat(Cr),Cr=isNaN(Cr)?"":Cr.toString()),_r.children[0].name==="textarea"?_r.children[0].attributes.textContent=Cr:_r.children[0].attributes.value=Cr)}}if(!this.ui.imageEdit&&_r.children&&_r.children[0]&&this.h){ar=ar||qe(this.ui[t.$getExtra]());let Cr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Cr=this.caption.reserve,Cr<=0&&(Cr=this.caption[t.$getExtra](ei).h);const Or=this.h-Cr-lr-ar.h;_r.children[0].attributes.style.height=(0,Te.measureToString)(Or)}else _r.children[0].attributes.style.height="100%"}if(Qr&&_r.children.push(Qr),!Oi)return _r.attributes.class&&_r.attributes.class.push("xfaLeft"),this.w=dn,this.h=_n,e.HTMLResult.success((0,Te.createWrapper)(this,Br),jr);if(this.ui.button)return fr.padding&&delete fr.padding,Oi.name==="div"&&(Oi.name="span"),_r.children.push(Oi),e.HTMLResult.success(Br,jr);switch(this.ui.checkButton&&(Oi.attributes.class[0]="xfaCaptionForCheckButton"),_r.attributes.class||(_r.attributes.class=[]),_r.children.splice(0,0,Oi),this.caption.placement){case"left":_r.attributes.class.push("xfaLeft");break;case"right":_r.attributes.class.push("xfaRight");break;case"top":_r.attributes.class.push("xfaTop");break;case"bottom":_r.attributes.class.push("xfaBottom");break;case"inline":_r.attributes.class.push("xfaLeft");break}return this.w=dn,this.h=_n,e.HTMLResult.success((0,Te.createWrapper)(this,Br),jr)}}Se.Field=Xn;class Rn extends t.XFAObject{constructor(ei){super(De,"fill",!0),this.id=ei.id||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[t.$toStyle](){const ei=this[t.$getParent](),dn=ei[t.$getParent]()[t.$getParent](),_n=Object.create(null);let $n="color",lr=$n;ei instanceof fi&&($n="background-color",lr="background",dn instanceof xs&&(_n.backgroundColor="white")),(ei instanceof Hs||ei instanceof Ve)&&($n=lr="fill",_n.fill="white");for(const ar of Object.getOwnPropertyNames(this)){if(ar==="extras"||ar==="color")continue;const fr=this[ar];if(!(fr instanceof t.XFAObject))continue;const Ar=fr[t.$toStyle](this.color);return Ar&&(_n[Ar.startsWith("#")?$n:lr]=Ar),_n}if(this.color&&this.color.value){const ar=this.color[t.$toStyle]();_n[ar.startsWith("#")?$n:lr]=ar}return _n}}class Wn extends t.XFAObject{constructor(ei){super(De,"filter",!0),this.addRevocationInfo=(0,e.getStringOption)(ei.addRevocationInfo,["","required","optional","none"]),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.version=(0,e.getInteger)({data:this.version,defaultValue:5,validate:Oi=>Oi>=1&&Oi<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Kn extends t.ContentObject{constructor(ei){super(De,"float"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(ei)?null:ei}[t.$toHTML](ei){return ze(this[t.$content]!==null?this[t.$content].toString():"")}}class Mn extends t.XFAObject{constructor(ei){super(De,"font",!0),this.baselineShift=(0,e.getMeasurement)(ei.baselineShift),this.fontHorizontalScale=(0,e.getFloat)({data:ei.fontHorizontalScale,defaultValue:100,validate:Oi=>Oi>=0}),this.fontVerticalScale=(0,e.getFloat)({data:ei.fontVerticalScale,defaultValue:100,validate:Oi=>Oi>=0}),this.id=ei.id||"",this.kerningMode=(0,e.getStringOption)(ei.kerningMode,["none","pair"]),this.letterSpacing=(0,e.getMeasurement)(ei.letterSpacing,"0"),this.lineThrough=(0,e.getInteger)({data:ei.lineThrough,defaultValue:0,validate:Oi=>Oi===1||Oi===2}),this.lineThroughPeriod=(0,e.getStringOption)(ei.lineThroughPeriod,["all","word"]),this.overline=(0,e.getInteger)({data:ei.overline,defaultValue:0,validate:Oi=>Oi===1||Oi===2}),this.overlinePeriod=(0,e.getStringOption)(ei.overlinePeriod,["all","word"]),this.posture=(0,e.getStringOption)(ei.posture,["normal","italic"]),this.size=(0,e.getMeasurement)(ei.size,"10pt"),this.typeface=ei.typeface||"Courier",this.underline=(0,e.getInteger)({data:ei.underline,defaultValue:0,validate:Oi=>Oi===1||Oi===2}),this.underlinePeriod=(0,e.getStringOption)(ei.underlinePeriod,["all","word"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.weight=(0,e.getStringOption)(ei.weight,["normal","bold"]),this.extras=null,this.fill=null}[t.$clean](ei){super[t.$clean](ei),this[t.$globalData].usedTypefaces.add(this.typeface)}[t.$toStyle](){const ei=(0,Te.toStyle)(this,"fill"),Oi=ei.color;return Oi&&(Oi==="#000000"?delete ei.color:Oi.startsWith("#")||(ei.background=Oi,ei.backgroundClip="text",ei.color="transparent")),this.baselineShift&&(ei.verticalAlign=(0,Te.measureToString)(this.baselineShift)),ei.fontKerning=this.kerningMode==="none"?"none":"normal",ei.letterSpacing=(0,Te.measureToString)(this.letterSpacing),this.lineThrough!==0&&(ei.textDecoration="line-through",this.lineThrough===2&&(ei.textDecorationStyle="double")),this.overline!==0&&(ei.textDecoration="overline",this.overline===2&&(ei.textDecorationStyle="double")),ei.fontStyle=this.posture,ei.fontSize=(0,Te.measureToString)(.99*this.size),(0,Te.setFontFamily)(this,this,this[t.$globalData].fontFinder,ei),this.underline!==0&&(ei.textDecoration="underline",this.underline===2&&(ei.textDecorationStyle="double")),ei.fontWeight=this.weight,ei}}class er extends t.XFAObject{constructor(ei){super(De,"format",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.picture=null}}class Hn extends t.StringObject{constructor(ei){super(De,"handler"),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class hr extends t.XFAObject{constructor(ei){super(De,"hyphenation"),this.excludeAllCaps=(0,e.getInteger)({data:ei.excludeAllCaps,defaultValue:0,validate:Oi=>Oi===1}),this.excludeInitialCap=(0,e.getInteger)({data:ei.excludeInitialCap,defaultValue:0,validate:Oi=>Oi===1}),this.hyphenate=(0,e.getInteger)({data:ei.hyphenate,defaultValue:0,validate:Oi=>Oi===1}),this.id=ei.id||"",this.pushCharacterCount=(0,e.getInteger)({data:ei.pushCharacterCount,defaultValue:3,validate:Oi=>Oi>=0}),this.remainCharacterCount=(0,e.getInteger)({data:ei.remainCharacterCount,defaultValue:3,validate:Oi=>Oi>=0}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.wordCharacterCount=(0,e.getInteger)({data:ei.wordCharacterCount,defaultValue:7,validate:Oi=>Oi>=0})}}class or extends t.StringObject{constructor(ei){super(De,"image"),this.aspect=(0,e.getStringOption)(ei.aspect,["fit","actual","height","none","width"]),this.contentType=ei.contentType||"",this.href=ei.href||"",this.id=ei.id||"",this.name=ei.name||"",this.transferEncoding=(0,e.getStringOption)(ei.transferEncoding,["base64","none","package"]),this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$toHTML](){if(this.contentType&&!Xe.has(this.contentType.toLowerCase()))return e.HTMLResult.EMPTY;let ei=this[t.$globalData].images&&this[t.$globalData].images.get(this.href);if(!ei&&(this.href||!this[t.$content])||(!ei&&this.transferEncoding==="base64"&&(ei=(0,ke.stringToBytes)(atob(this[t.$content]))),!ei))return e.HTMLResult.EMPTY;if(!this.contentType){for(const[$n,lr]of St)if(ei.length>$n.length&&$n.every((ar,fr)=>ar===ei[fr])){this.contentType=lr;break}if(!this.contentType)return e.HTMLResult.EMPTY}const Oi=new Blob([ei],{type:this.contentType});let dn;switch(this.aspect){case"fit":case"actual":break;case"height":dn={height:"100%",objectFit:"fill"};break;case"none":dn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":dn={width:"100%",objectFit:"fill"};break}const _n=this[t.$getParent]();return e.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:dn,src:URL.createObjectURL(Oi),alt:_n?ci(_n[t.$getParent]()):null}})}}class dr extends t.XFAObject{constructor(ei){super(De,"imageEdit",!0),this.data=(0,e.getStringOption)(ei.data,["link","embed"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](ei){return this.data==="embed"?e.HTMLResult.success({name:"div",children:[],attributes:{}}):e.HTMLResult.EMPTY}}class nr extends t.ContentObject{constructor(ei){super(De,"integer"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=parseInt(this[t.$content].trim(),10);this[t.$content]=isNaN(ei)?null:ei}[t.$toHTML](ei){return ze(this[t.$content]!==null?this[t.$content].toString():"")}}class Lr extends t.XFAObject{constructor(ei){super(De,"issuers",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.certificate=new t.XFAObjectArray}}class An extends t.XFAObject{constructor(ei){super(De,"items",!0),this.id=ei.id||"",this.name=ei.name||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.ref=ei.ref||"",this.save=(0,e.getInteger)({data:ei.save,defaultValue:0,validate:Oi=>Oi===1}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$toHTML](){const ei=[];for(const Oi of this[t.$getChildren]())ei.push(Oi[t.$text]());return e.HTMLResult.success(ei)}}Se.Items=An;class kn extends t.XFAObject{constructor(ei){super(De,"keep",!0),this.id=ei.id||"";const Oi=["none","contentArea","pageArea"];this.intact=(0,e.getStringOption)(ei.intact,Oi),this.next=(0,e.getStringOption)(ei.next,Oi),this.previous=(0,e.getStringOption)(ei.previous,Oi),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}}class Ln extends t.XFAObject{constructor(ei){super(De,"keyUsage");const Oi=["","yes","no"];this.crlSign=(0,e.getStringOption)(ei.crlSign,Oi),this.dataEncipherment=(0,e.getStringOption)(ei.dataEncipherment,Oi),this.decipherOnly=(0,e.getStringOption)(ei.decipherOnly,Oi),this.digitalSignature=(0,e.getStringOption)(ei.digitalSignature,Oi),this.encipherOnly=(0,e.getStringOption)(ei.encipherOnly,Oi),this.id=ei.id||"",this.keyAgreement=(0,e.getStringOption)(ei.keyAgreement,Oi),this.keyCertSign=(0,e.getStringOption)(ei.keyCertSign,Oi),this.keyEncipherment=(0,e.getStringOption)(ei.keyEncipherment,Oi),this.nonRepudiation=(0,e.getStringOption)(ei.nonRepudiation,Oi),this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class jn extends t.XFAObject{constructor(ei){super(De,"line",!0),this.hand=(0,e.getStringOption)(ei.hand,["even","left","right"]),this.id=ei.id||"",this.slope=(0,e.getStringOption)(ei.slope,["\\","/"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.edge=null}[t.$toHTML](){const ei=this[t.$getParent]()[t.$getParent](),Oi=this.edge||new Ri({}),dn=Oi[t.$toStyle](),_n=Object.create(null),$n=Oi.presence==="visible"?Oi.thickness:0;_n.strokeWidth=(0,Te.measureToString)($n),_n.stroke=dn.color;let lr,ar,fr,Ar,Ir="100%",$r="100%";ei.w<=$n?([lr,ar,fr,Ar]=["50%",0,"50%","100%"],Ir=_n.strokeWidth):ei.h<=$n?([lr,ar,fr,Ar]=[0,"50%","100%","50%"],$r=_n.strokeWidth):this.slope==="\\"?[lr,ar,fr,Ar]=[0,0,"100%","100%"]:[lr,ar,fr,Ar]=[0,"100%","100%",0];const Xr={name:"svg",children:[{name:"line",attributes:{xmlns:Me,x1:lr,y1:ar,x2:fr,y2:Ar,style:_n}}],attributes:{xmlns:Me,width:Ir,height:$r,style:{overflow:"visible"}}};return Ye(ei)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Xr]}):(Xr.attributes.style.position="absolute",e.HTMLResult.success(Xr))}}class Gn extends t.XFAObject{constructor(ei){super(De,"linear",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["toRight","toBottom","toLeft","toTop"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](ei){ei=ei?ei[t.$toStyle]():"#FFFFFF";const Oi=this.type.replace(/([RBLT])/," $1").toLowerCase(),dn=this.color?this.color[t.$toStyle]():"#000000";return`linear-gradient(${Oi}, ${ei}, ${dn})`}}class sr extends t.ContentObject{constructor(ei){super(De,"lockDocument"),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){this[t.$content]=(0,e.getStringOption)(this[t.$content],["auto","0","1"])}}class ir extends t.XFAObject{constructor(ei){super(De,"manifest",!0),this.action=(0,e.getStringOption)(ei.action,["include","all","exclude"]),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class Bn extends t.XFAObject{constructor(ei){super(De,"margin",!0),this.bottomInset=(0,e.getMeasurement)(ei.bottomInset,"0"),this.id=ei.id||"",this.leftInset=(0,e.getMeasurement)(ei.leftInset,"0"),this.rightInset=(0,e.getMeasurement)(ei.rightInset,"0"),this.topInset=(0,e.getMeasurement)(ei.topInset,"0"),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}[t.$toStyle](){return{margin:(0,Te.measureToString)(this.topInset)+" "+(0,Te.measureToString)(this.rightInset)+" "+(0,Te.measureToString)(this.bottomInset)+" "+(0,Te.measureToString)(this.leftInset)}}}class gr extends t.XFAObject{constructor(ei){super(De,"mdp"),this.id=ei.id||"",this.permissions=(0,e.getInteger)({data:ei.permissions,defaultValue:2,validate:Oi=>Oi===1||Oi===3}),this.signatureType=(0,e.getStringOption)(ei.signatureType,["filler","author"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class rr extends t.XFAObject{constructor(ei){super(De,"medium"),this.id=ei.id||"",this.imagingBBox=(0,e.getBBox)(ei.imagingBBox),this.long=(0,e.getMeasurement)(ei.long),this.orientation=(0,e.getStringOption)(ei.orientation,["portrait","landscape"]),this.short=(0,e.getMeasurement)(ei.short),this.stock=ei.stock||"",this.trayIn=(0,e.getStringOption)(ei.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,e.getStringOption)(ei.trayOut,["auto","delegate"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class pr extends t.XFAObject{constructor(ei){super(De,"message",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.text=new t.XFAObjectArray}}class xr extends t.XFAObject{constructor(ei){super(De,"numericEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(ei.hScrollPolicy,["auto","off","on"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](ei){const Oi=(0,Te.toStyle)(this,"border","font","margin"),dn=this[t.$getParent]()[t.$getParent](),_n={name:"input",attributes:{type:"text",fieldId:dn[t.$uid],dataId:dn[t.$data]&&dn[t.$data][t.$uid]||dn[t.$uid],class:["xfaTextfield"],style:Oi,"aria-label":ci(dn),"aria-required":!1}};return ui(dn)&&(_n.attributes["aria-required"]=!0,_n.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_n]})}}class mr extends t.XFAObject{constructor(ei){super(De,"occur",!0),this.id=ei.id||"",this.initial=ei.initial!==""?(0,e.getInteger)({data:ei.initial,defaultValue:"",validate:Oi=>!0}):"",this.max=ei.max!==""?(0,e.getInteger)({data:ei.max,defaultValue:1,validate:Oi=>!0}):"",this.min=ei.min!==""?(0,e.getInteger)({data:ei.min,defaultValue:1,validate:Oi=>!0}):"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}[t.$clean](){const ei=this[t.$getParent](),Oi=this.min;this.min===""&&(this.min=ei instanceof Tn||ei instanceof Jn?0:1),this.max===""&&(Oi===""?this.max=ei instanceof Tn||ei instanceof Jn?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=ei instanceof Is?1:this.min)}}class un extends t.StringObject{constructor(ei){super(De,"oid"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class bn extends t.XFAObject{constructor(ei){super(De,"oids",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.oid=new t.XFAObjectArray}}class Pn extends t.XFAObject{constructor(ei){super(De,"overflow"),this.id=ei.id||"",this.leader=ei.leader||"",this.target=ei.target||"",this.trailer=ei.trailer||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$getExtra](){if(!this[t.$extra]){const ei=this[t.$getParent](),Oi=this[t.$getTemplateRoot](),dn=Oi[t.$searchNode](this.target,ei),_n=Oi[t.$searchNode](this.leader,ei),$n=Oi[t.$searchNode](this.trailer,ei);this[t.$extra]={target:dn&&dn[0]||null,leader:_n&&_n[0]||null,trailer:$n&&$n[0]||null,addLeader:!1,addTrailer:!1}}return this[t.$extra]}}class Tn extends t.XFAObject{constructor(ei){super(De,"pageArea",!0),this.blankOrNotBlank=(0,e.getStringOption)(ei.blankOrNotBlank,["any","blank","notBlank"]),this.id=ei.id||"",this.initialNumber=(0,e.getInteger)({data:ei.initialNumber,defaultValue:1,validate:Oi=>!0}),this.name=ei.name||"",this.numbered=(0,e.getInteger)({data:ei.numbered,defaultValue:1,validate:Oi=>!0}),this.oddOrEven=(0,e.getStringOption)(ei.oddOrEven,["any","even","odd"]),this.pagePosition=(0,e.getStringOption)(ei.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[t.$isUsable](){return this[t.$extra]?!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max:(this[t.$extra]={numberOfUse:0},!0)}[t.$cleanPage](){delete this[t.$extra]}[t.$getNextPage](){this[t.$extra]||(this[t.$extra]={numberOfUse:0});const ei=this[t.$getParent]();return ei.relation==="orderedOccurrence"&&this[t.$isUsable]()?(this[t.$extra].numberOfUse+=1,this):ei[t.$getNextPage]()}[t.$getAvailableSpace](){return this[t.$extra].space||{width:0,height:0}}[t.$toHTML](){this[t.$extra]||(this[t.$extra]={numberOfUse:1});const ei=[];this[t.$extra].children=ei;const Oi=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Oi.width=(0,Te.measureToString)(this.medium.short),Oi.height=(0,Te.measureToString)(this.medium.long),this[t.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const dn=Oi.width;Oi.width=Oi.height,Oi.height=dn,this[t.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,ke.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[t.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[t.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),e.HTMLResult.success({name:"div",children:ei,attributes:{class:["xfaPage"],id:this[t.$uid],style:Oi,xfaName:this.name}})}}class Jn extends t.XFAObject{constructor(ei){super(De,"pageSet",!0),this.duplexImposition=(0,e.getStringOption)(ei.duplexImposition,["longEdge","shortEdge"]),this.id=ei.id||"",this.name=ei.name||"",this.relation=(0,e.getStringOption)(ei.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[t.$cleanPage](){for(const ei of this.pageArea.children)ei[t.$cleanPage]();for(const ei of this.pageSet.children)ei[t.$cleanPage]()}[t.$isUsable](){return!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max}[t.$getNextPage](){if(this[t.$extra]||(this[t.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[t.$extra].pageIndex+1<this.pageArea.children.length)return this[t.$extra].pageIndex+=1,this.pageArea.children[this[t.$extra].pageIndex][t.$getNextPage]();if(this[t.$extra].pageSetIndex+1<this.pageSet.children.length)return this[t.$extra].pageSetIndex+=1,this.pageSet.children[this[t.$extra].pageSetIndex][t.$getNextPage]();if(this[t.$isUsable]())return this[t.$extra].numberOfUse+=1,this[t.$extra].pageIndex=-1,this[t.$extra].pageSetIndex=-1,this[t.$getNextPage]();const $n=this[t.$getParent]();return $n instanceof Jn?$n[t.$getNextPage]():(this[t.$cleanPage](),this[t.$getNextPage]())}const ei=this[t.$getTemplateRoot]()[t.$extra].pageNumber,Oi=ei%2===0?"even":"odd",dn=ei===0?"first":"rest";let _n=this.pageArea.children.find($n=>$n.oddOrEven===Oi&&$n.pagePosition===dn);return _n||(_n=this.pageArea.children.find($n=>$n.oddOrEven==="any"&&$n.pagePosition===dn),_n)||(_n=this.pageArea.children.find($n=>$n.oddOrEven==="any"&&$n.pagePosition==="any"),_n)?_n:this.pageArea.children[0]}}class yr extends t.XFAObject{constructor(ei){super(De,"para",!0),this.hAlign=(0,e.getStringOption)(ei.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ei.id||"",this.lineHeight=ei.lineHeight?(0,e.getMeasurement)(ei.lineHeight,"0pt"):"",this.marginLeft=ei.marginLeft?(0,e.getMeasurement)(ei.marginLeft,"0pt"):"",this.marginRight=ei.marginRight?(0,e.getMeasurement)(ei.marginRight,"0pt"):"",this.orphans=(0,e.getInteger)({data:ei.orphans,defaultValue:0,validate:Oi=>Oi>=0}),this.preserve=ei.preserve||"",this.radixOffset=ei.radixOffset?(0,e.getMeasurement)(ei.radixOffset,"0pt"):"",this.spaceAbove=ei.spaceAbove?(0,e.getMeasurement)(ei.spaceAbove,"0pt"):"",this.spaceBelow=ei.spaceBelow?(0,e.getMeasurement)(ei.spaceBelow,"0pt"):"",this.tabDefault=ei.tabDefault?(0,e.getMeasurement)(this.tabDefault):"",this.tabStops=(ei.tabStops||"").trim().split(/\s+/).map((Oi,dn)=>dn%2===1?(0,e.getMeasurement)(Oi):Oi),this.textIndent=ei.textIndent?(0,e.getMeasurement)(ei.textIndent,"0pt"):"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.vAlign=(0,e.getStringOption)(ei.vAlign,["top","bottom","middle"]),this.widows=(0,e.getInteger)({data:ei.widows,defaultValue:0,validate:Oi=>Oi>=0}),this.hyphenation=null}[t.$toStyle](){const ei=(0,Te.toStyle)(this,"hAlign");return this.marginLeft!==""&&(ei.paddingLeft=(0,Te.measureToString)(this.marginLeft)),this.marginRight!==""&&(ei.paddingight=(0,Te.measureToString)(this.marginRight)),this.spaceAbove!==""&&(ei.paddingTop=(0,Te.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(ei.paddingBottom=(0,Te.measureToString)(this.spaceBelow)),this.textIndent!==""&&(ei.textIndent=(0,Te.measureToString)(this.textIndent),(0,Te.fixTextIndent)(ei)),this.lineHeight>0&&(ei.lineHeight=(0,Te.measureToString)(this.lineHeight)),this.tabDefault!==""&&(ei.tabSize=(0,Te.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(ei,this.hyphenatation[t.$toStyle]()),ei}}class Er extends t.XFAObject{constructor(ei){super(De,"passwordEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(ei.hScrollPolicy,["auto","off","on"]),this.id=ei.id||"",this.passwordChar=ei.passwordChar||"*",this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.extras=null,this.margin=null}}class wr extends t.XFAObject{constructor(ei){super(De,"pattern",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](ei){ei=ei?ei[t.$toStyle]():"#FFFFFF";const Oi=this.color?this.color[t.$toStyle]():"#000000",dn=5,_n="repeating-linear-gradient",$n=`${ei},${ei} ${dn}px,${Oi} ${dn}px,${Oi} ${2*dn}px`;switch(this.type){case"crossHatch":return`${_n}(to top,${$n}) ${_n}(to right,${$n})`;case"crossDiagonal":return`${_n}(45deg,${$n}) ${_n}(-45deg,${$n})`;case"diagonalLeft":return`${_n}(45deg,${$n})`;case"diagonalRight":return`${_n}(-45deg,${$n})`;case"horizontal":return`${_n}(to top,${$n})`;case"vertical":return`${_n}(to right,${$n})`}return""}}class Sr extends t.StringObject{constructor(ei){super(De,"picture"),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class Rr extends t.XFAObject{constructor(ei){super(De,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class qr extends t.XFAObject{constructor(ei){super(De,"radial",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["toEdge","toCenter"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](ei){ei=ei?ei[t.$toStyle]():"#FFFFFF";const Oi=this.color?this.color[t.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${ei},${Oi}`:`${Oi},${ei}`})`}}class vs extends t.StringObject{constructor(ei){super(De,"reason"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class ws extends t.XFAObject{constructor(ei){super(De,"reasons",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.reason=new t.XFAObjectArray}}class Hs extends t.XFAObject{constructor(ei){super(De,"rectangle",!0),this.hand=(0,e.getStringOption)(ei.hand,["even","left","right"]),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[t.$toHTML](){const ei=this.edge.children.length?this.edge.children[0]:new Ri({}),Oi=ei[t.$toStyle](),dn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(dn,this.fill[t.$toStyle]()):dn.fill="transparent",dn.strokeWidth=(0,Te.measureToString)(ei.presence==="visible"?ei.thickness:0),dn.stroke=Oi.color;const $n=(this.corner.children.length?this.corner.children[0]:new Di({}))[t.$toStyle](),ar={name:"svg",children:[{name:"rect",attributes:{xmlns:Me,width:"100%",height:"100%",x:0,y:0,rx:$n.radius,ry:$n.radius,style:dn}}],attributes:{xmlns:Me,style:{overflow:"visible"},width:"100%",height:"100%"}},fr=this[t.$getParent]()[t.$getParent]();return Ye(fr)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ar]}):(ar.attributes.style.position="absolute",e.HTMLResult.success(ar))}}class fs extends t.StringObject{constructor(ei){super(De,"ref"),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class ra extends t.StringObject{constructor(ei){super(De,"script"),this.binding=ei.binding||"",this.contentType=ei.contentType||"",this.id=ei.id||"",this.name=ei.name||"",this.runAt=(0,e.getStringOption)(ei.runAt,["client","both","server"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class sa extends t.XFAObject{constructor(ei){super(De,"setProperty"),this.connection=ei.connection||"",this.ref=ei.ref||"",this.target=ei.target||""}}Se.SetProperty=sa;class Ma extends t.XFAObject{constructor(ei){super(De,"signData",!0),this.id=ei.id||"",this.operation=(0,e.getStringOption)(ei.operation,["sign","clear","verify"]),this.ref=ei.ref||"",this.target=ei.target||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.filter=null,this.manifest=null}}class ba extends t.XFAObject{constructor(ei){super(De,"signature",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["PDF1.3","PDF1.6"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Ra extends t.XFAObject{constructor(ei){super(De,"signing",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.certificate=new t.XFAObjectArray}}class xa extends t.XFAObject{constructor(ei){super(De,"solid",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null}[t.$toStyle](ei){return ei?ei[t.$toStyle]():"#FFFFFF"}}class Ba extends t.StringObject{constructor(ei){super(De,"speak"),this.disable=(0,e.getInteger)({data:ei.disable,defaultValue:0,validate:Oi=>Oi===1}),this.id=ei.id||"",this.priority=(0,e.getStringOption)(ei.priority,["custom","caption","name","toolTip"]),this.rid=ei.rid||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class aa extends t.XFAObject{constructor(ei){super(De,"stipple",!0),this.id=ei.id||"",this.rate=(0,e.getInteger)({data:ei.rate,defaultValue:50,validate:Oi=>Oi>=0&&Oi<=100}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.color=null,this.extras=null}[t.$toStyle](ei){const Oi=this.rate/100;return ke.Util.makeHexColor(Math.round(ei.value.r*(1-Oi)+this.value.r*Oi),Math.round(ei.value.g*(1-Oi)+this.value.g*Oi),Math.round(ei.value.b*(1-Oi)+this.value.b*Oi))}}class ya extends t.XFAObject{constructor(ei){super(De,"subform",!0),this.access=(0,e.getStringOption)(ei.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,e.getInteger)({data:ei.allowMacro,defaultValue:0,validate:Oi=>Oi===1}),this.anchorType=(0,e.getStringOption)(ei.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:ei.colSpan,defaultValue:1,validate:Oi=>Oi>=1||Oi===-1}),this.columnWidths=(ei.columnWidths||"").trim().split(/\s+/).map(Oi=>Oi==="-1"?-1:(0,e.getMeasurement)(Oi)),this.h=ei.h?(0,e.getMeasurement)(ei.h):"",this.hAlign=(0,e.getStringOption)(ei.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ei.id||"",this.layout=(0,e.getStringOption)(ei.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=ei.locale||"",this.maxH=(0,e.getMeasurement)(ei.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(ei.maxW,"0pt"),this.mergeMode=(0,e.getStringOption)(ei.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,e.getMeasurement)(ei.minH,"0pt"),this.minW=(0,e.getMeasurement)(ei.minW,"0pt"),this.name=ei.name||"",this.presence=(0,e.getStringOption)(ei.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.restoreState=(0,e.getStringOption)(ei.restoreState,["manual","auto"]),this.scope=(0,e.getStringOption)(ei.scope,["name","none"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.w=ei.w?(0,e.getMeasurement)(ei.w):"",this.x=(0,e.getMeasurement)(ei.x,"0pt"),this.y=(0,e.getMeasurement)(ei.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$getSubformParent](){const ei=this[t.$getParent]();return ei instanceof oa?ei[t.$getSubformParent]():ei}[t.$isBindable](){return!0}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}*[t.$getContainedChildren](){yield*ai(this)}[t.$flushHTML](){return(0,Fe.flushHTML)(this)}[t.$addHTML](ei,Oi){(0,Fe.addHTML)(this,ei,Oi)}[t.$getAvailableSpace](){return(0,Fe.getAvailableSpace)(this)}[t.$isSplittable](){const ei=this[t.$getSubformParent]();return ei[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[t.$extra]._isSplittable=!1,!1):ei.layout&&ei.layout.endsWith("-tb")&&ei[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$toHTML](ei){if(Qe(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const kr=new li({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});kr[t.$globalData]=this[t.$globalData],this[t.$appendChild](kr),this.breakAfter.push(kr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const kr=new pi({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});kr[t.$globalData]=this[t.$globalData],this[t.$appendChild](kr),this.breakBefore.push(kr)}if(this.break.overflowTarget!==""){const kr=new Pn({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});kr[t.$globalData]=this[t.$globalData],this[t.$appendChild](kr),this.overflow.push(kr)}this[t.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,ke.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const kr=this.breakBefore.children[0];if(ni(kr))return e.HTMLResult.breakNode(kr)}if(this[t.$extra]&&this[t.$extra].afterBreakAfter)return e.HTMLResult.EMPTY;(0,Te.fixDimensions)(this);const Oi=[],dn={id:this[t.$uid],class:[]};(0,Te.setAccess)(this,dn.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:Oi,line:null,attributes:dn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,ei.width),height:Math.min(this.h||1/0,ei.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _n=this[t.$getTemplateRoot](),$n=_n[t.$extra].noLayoutFailure,lr=this[t.$isSplittable]();if(lr||We(this),!(0,Fe.checkDimensions)(this,ei))return e.HTMLResult.FAILURE;const ar=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const kr=this[t.$getSubformParent]().columnWidths;Array.isArray(kr)&&kr.length>0&&(this[t.$extra].columnWidths=kr,this[t.$extra].currentColumn=0)}const fr=(0,Te.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Ar=["xfaSubform"],Ir=(0,Te.layoutClass)(this);if(Ir&&Ar.push(Ir),dn.style=fr,dn.class=Ar,this.name&&(dn.xfaName=this.name),this.overflow){const kr=this.overflow[t.$getExtra]();kr.addLeader&&(kr.addLeader=!1,$e(this,kr.leader,ei))}this[t.$pushPara]();const $r=this.layout==="lr-tb"||this.layout==="rl-tb",Br=$r?Ae:1;for(;this[t.$extra].attempt<Br;this[t.$extra].attempt++){$r&&this[t.$extra].attempt===Ae-1&&(this[t.$extra].numberInLine=0);const kr=this[t.$childrenToHTML]({filter:ar,include:!0});if(kr.success)break;if(kr.isBreak())return this[t.$popPara](),kr;if($r&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!_n[t.$extra].noLayoutFailure){this[t.$extra].attempt=Br;break}}if(this[t.$popPara](),lr||si(this),_n[t.$extra].noLayoutFailure=$n,this[t.$extra].attempt===Br)return this.overflow&&(this[t.$getTemplateRoot]()[t.$extra].overflowNode=this.overflow),lr||delete this[t.$extra],e.HTMLResult.FAILURE;if(this.overflow){const kr=this.overflow[t.$getExtra]();kr.addTrailer&&(kr.addTrailer=!1,$e(this,kr.trailer,ei))}let Xr=0,jr=0;this.margin&&(Xr=this.margin.leftInset+this.margin.rightInset,jr=this.margin.topInset+this.margin.bottomInset);const _r=Math.max(this[t.$extra].width+Xr,this.w||0),Qr=Math.max(this[t.$extra].height+jr,this.h||0),Cr=[this.x,this.y,_r,Qr];if(this.w===""&&(fr.width=(0,Te.measureToString)(_r)),this.h===""&&(fr.height=(0,Te.measureToString)(Qr)),(fr.width==="0px"||fr.height==="0px")&&Oi.length===0)return e.HTMLResult.EMPTY;const Or={name:"div",attributes:dn,children:Oi};Ze(this,dn);const ss=e.HTMLResult.success((0,Te.createWrapper)(this,Or),Cr);if(this.breakAfter.children.length>=1){const kr=this.breakAfter.children[0];if(ni(kr))return this[t.$extra].afterBreakAfter=ss,e.HTMLResult.breakNode(kr)}return delete this[t.$extra],ss}}class oa extends t.XFAObject{constructor(ei){super(De,"subformSet",!0),this.id=ei.id||"",this.name=ei.name||"",this.relation=(0,e.getStringOption)(ei.relation,["ordered","choice","unordered"]),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*ai(this)}[t.$getSubformParent](){let ei=this[t.$getParent]();for(;!(ei instanceof ya);)ei=ei[t.$getParent]();return ei}[t.$isBindable](){return!0}}class ja extends t.ContentObject{constructor(ei){super(De,"subjectDN"),this.delimiter=ei.delimiter||",",this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){this[t.$content]=new Map(this[t.$content].split(this.delimiter).map(ei=>(ei=ei.split("=",2),ei[0]=ei[0].trim(),ei)))}}class Ts extends t.XFAObject{constructor(ei){super(De,"subjectDNs",!0),this.id=ei.id||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.subjectDN=new t.XFAObjectArray}}class Qs extends t.XFAObject{constructor(ei){super(De,"submit",!0),this.embedPDF=(0,e.getInteger)({data:ei.embedPDF,defaultValue:0,validate:Oi=>Oi===1}),this.format=(0,e.getStringOption)(ei.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=ei.id||"",this.target=ei.target||"",this.textEncoding=(0,e.getKeyword)({data:ei.textEncoding?ei.textEncoding.toLowerCase():"",defaultValue:"",validate:Oi=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Oi)||Oi.match(/iso-8859-\d{2}/)}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.xdpContent=ei.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class Is extends t.XFAObject{constructor(ei){super(De,"template",!0),this.baseProfile=(0,e.getStringOption)(ei.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[t.$finalize](){this.subform.children.length===0&&(0,ke.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,ke.warn)("XFA - Several subforms in template node: please file a bug."),this[t.$tabIndex]=He}[t.$isSplittable](){return!0}[t.$searchNode](ei,Oi){return ei.startsWith("#")?[this[t.$ids].get(ei.slice(1))]:(0,Pe.searchNode)(this,Oi,ei,!0,!0)}*[t.$toPages](){if(!this.subform.children.length)return e.HTMLResult.success({name:"div",children:[]});this[t.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const ei=this.subform.children[0];ei.pageSet[t.$cleanPage]();const Oi=ei.pageSet.pageArea.children,dn={name:"div",children:[]};let _n=null,$n=null,lr=null;if(ei.breakBefore.children.length>=1?($n=ei.breakBefore.children[0],lr=$n.target):ei.subform.children.length>=1&&ei.subform.children[0].breakBefore.children.length>=1?($n=ei.subform.children[0].breakBefore.children[0],lr=$n.target):ei.break&&ei.break.beforeTarget?($n=ei.break,lr=$n.beforeTarget):ei.subform.children.length>=1&&ei.subform.children[0].break&&ei.subform.children[0].break.beforeTarget&&($n=ei.subform.children[0].break,lr=$n.beforeTarget),$n){const jr=this[t.$searchNode](lr,$n[t.$getParent]());jr instanceof Tn&&(_n=jr,$n[t.$extra]={})}_n||(_n=Oi[0]),_n[t.$extra]={numberOfUse:1};const ar=_n[t.$getParent]();ar[t.$extra]={numberOfUse:1,pageIndex:ar.pageArea.children.indexOf(_n),pageSetIndex:0};let fr,Ar=null,Ir=null,$r=!0,Br=0,Xr=0;for(;;){if($r)Br=0;else if(dn.children.pop(),++Br===Be)return(0,ke.warn)("XFA - Something goes wrong: please file a bug."),dn;fr=null,this[t.$extra].currentPageArea=_n;const jr=_n[t.$toHTML]().html;dn.children.push(jr),Ar&&(this[t.$extra].noLayoutFailure=!0,jr.children.push(Ar[t.$toHTML](_n[t.$extra].space).html),Ar=null),Ir&&(this[t.$extra].noLayoutFailure=!0,jr.children.push(Ir[t.$toHTML](_n[t.$extra].space).html),Ir=null);const _r=_n.contentArea.children,Qr=jr.children.filter(Or=>Or.attributes.class.includes("xfaContentarea"));$r=!1,this[t.$extra].firstUnsplittable=null,this[t.$extra].noLayoutFailure=!1;const Cr=Or=>{const ss=ei[t.$flushHTML]();ss&&($r=$r||ss.children&&ss.children.length!==0,Qr[Or].children.push(ss))};for(let Or=Xr,ss=_r.length;Or<ss;Or++){const kr=this[t.$extra].currentContentArea=_r[Or],Ns={width:kr.w,height:kr.h};Xr=0,Ar&&(Qr[Or].children.push(Ar[t.$toHTML](Ns).html),Ar=null),Ir&&(Qr[Or].children.push(Ir[t.$toHTML](Ns).html),Ir=null);const ds=ei[t.$toHTML](Ns);if(ds.success)return ds.html?($r=$r||ds.html.children&&ds.html.children.length!==0,Qr[Or].children.push(ds.html)):!$r&&dn.children.length>1&&dn.children.pop(),dn;if(ds.isBreak()){const as=ds.breakNode;if(Cr(Or),as.targetType==="auto")continue;as.leader&&(Ar=this[t.$searchNode](as.leader,as[t.$getParent]()),Ar=Ar?Ar[0]:null),as.trailer&&(Ir=this[t.$searchNode](as.trailer,as[t.$getParent]()),Ir=Ir?Ir[0]:null),as.targetType==="pageArea"?(fr=as[t.$extra].target,Or=1/0):as[t.$extra].target?(fr=as[t.$extra].target,Xr=as[t.$extra].index+1,Or=1/0):Or=as[t.$extra].index;continue}if(this[t.$extra].overflowNode){const as=this[t.$extra].overflowNode;this[t.$extra].overflowNode=null;const Xs=as[t.$getExtra](),Ds=Xs.target;Xs.addLeader=Xs.leader!==null,Xs.addTrailer=Xs.trailer!==null,Cr(Or);const Ga=Or;if(Or=1/0,Ds instanceof Tn)fr=Ds;else if(Ds instanceof Pi){const zs=_r.indexOf(Ds);zs!==-1?zs>Ga?Or=zs-1:Xr=zs:(fr=Ds[t.$getParent](),Xr=fr.contentArea.children.indexOf(Ds))}continue}Cr(Or)}this[t.$extra].pageNumber+=1,fr&&(fr[t.$isUsable]()?fr[t.$extra].numberOfUse+=1:fr=null),_n=fr||_n[t.$getNextPage](),yield null}}}Se.Template=Is;class ca extends t.ContentObject{constructor(ei){super(De,"text"),this.id=ei.id||"",this.maxChars=(0,e.getInteger)({data:ei.maxChars,defaultValue:0,validate:Oi=>Oi>=0}),this.name=ei.name||"",this.rid=ei.rid||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$acceptWhitespace](){return!0}[t.$onChild](ei){return ei[t.$namespaceId]===xe.NamespaceIds.xhtml.id?(this[t.$content]=ei,!0):((0,ke.warn)(`XFA - Invalid content in Text: ${ei[t.$nodeName]}.`),!1)}[t.$onText](ei){this[t.$content]instanceof t.XFAObject||super[t.$onText](ei)}[t.$finalize](){typeof this[t.$content]=="string"&&(this[t.$content]=this[t.$content].replace(/\r\n/g,`
`))}[t.$getExtra](){return typeof this[t.$content]=="string"?this[t.$content].split(/[\u2029\u2028\n]/).reduce((ei,Oi)=>(Oi&&ei.push(Oi),ei),[]).join(`
`):this[t.$content][t.$text]()}[t.$toHTML](ei){if(typeof this[t.$content]=="string"){const Oi=ze(this[t.$content]).html;return this[t.$content].includes("\u2029")?(Oi.name="div",Oi.children=[],this[t.$content].split("\u2029").map(dn=>dn.split(/[\u2028\n]/).reduce((_n,$n)=>(_n.push({name:"span",value:$n},{name:"br"}),_n),[])).forEach(dn=>{Oi.children.push({name:"p",children:dn})})):/[\u2028\n]/.test(this[t.$content])&&(Oi.name="div",Oi.children=[],this[t.$content].split(/[\u2028\n]/).forEach(dn=>{Oi.children.push({name:"span",value:dn},{name:"br"})})),e.HTMLResult.success(Oi)}return this[t.$content][t.$toHTML](ei)}}Se.Text=ca;class rs extends t.XFAObject{constructor(ei){super(De,"textEdit",!0),this.allowRichText=(0,e.getInteger)({data:ei.allowRichText,defaultValue:0,validate:Oi=>Oi===1}),this.hScrollPolicy=(0,e.getStringOption)(ei.hScrollPolicy,["auto","off","on"]),this.id=ei.id||"",this.multiLine=(0,e.getInteger)({data:ei.multiLine,defaultValue:"",validate:Oi=>Oi===0||Oi===1}),this.use=ei.use||"",this.usehref=ei.usehref||"",this.vScrollPolicy=(0,e.getStringOption)(ei.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](ei){const Oi=(0,Te.toStyle)(this,"border","font","margin");let dn;const _n=this[t.$getParent]()[t.$getParent]();return this.multiLine===""&&(this.multiLine=_n instanceof Yi?1:0),this.multiLine===1?dn={name:"textarea",attributes:{dataId:_n[t.$data]&&_n[t.$data][t.$uid]||_n[t.$uid],fieldId:_n[t.$uid],class:["xfaTextfield"],style:Oi,"aria-label":ci(_n),"aria-required":!1}}:dn={name:"input",attributes:{type:"text",dataId:_n[t.$data]&&_n[t.$data][t.$uid]||_n[t.$uid],fieldId:_n[t.$uid],class:["xfaTextfield"],style:Oi,"aria-label":ci(_n),"aria-required":!1}},ui(_n)&&(dn.attributes["aria-required"]=!0,dn.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[dn]})}}class Ua extends t.StringObject{constructor(ei){super(De,"time"),this.id=ei.id||"",this.name=ei.name||"",this.use=ei.use||"",this.usehref=ei.usehref||""}[t.$finalize](){const ei=this[t.$content].trim();this[t.$content]=ei?new Date(ei):null}[t.$toHTML](ei){return ze(this[t.$content]?this[t.$content].toString():"")}}class va extends t.XFAObject{constructor(ei){super(De,"timeStamp"),this.id=ei.id||"",this.server=ei.server||"",this.type=(0,e.getStringOption)(ei.type,["optional","required"]),this.use=ei.use||"",this.usehref=ei.usehref||""}}class Pr extends t.StringObject{constructor(ei){super(De,"toolTip"),this.id=ei.id||"",this.rid=ei.rid||"",this.use=ei.use||"",this.usehref=ei.usehref||""}}class $a extends t.XFAObject{constructor(ei){super(De,"traversal",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class Ha extends t.XFAObject{constructor(ei){super(De,"traverse",!0),this.id=ei.id||"",this.operation=(0,e.getStringOption)(ei.operation,["next","back","down","first","left","right","up"]),this.ref=ei.ref||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[t.$isTransparent](){return!1}}class xs extends t.XFAObject{constructor(ei){super(De,"ui",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[t.$getExtra](){if(this[t.$extra]===void 0){for(const ei of Object.getOwnPropertyNames(this)){if(ei==="extras"||ei==="picture")continue;const Oi=this[ei];if(Oi instanceof t.XFAObject)return this[t.$extra]=Oi,Oi}this[t.$extra]=null}return this[t.$extra]}[t.$toHTML](ei){const Oi=this[t.$getExtra]();return Oi?Oi[t.$toHTML](ei):e.HTMLResult.EMPTY}}class wa extends t.XFAObject{constructor(ei){super(De,"validate",!0),this.formatTest=(0,e.getStringOption)(ei.formatTest,["warning","disabled","error"]),this.id=ei.id||"",this.nullTest=(0,e.getStringOption)(ei.nullTest,["disabled","error","warning"]),this.scriptTest=(0,e.getStringOption)(ei.scriptTest,["error","disabled","warning"]),this.use=ei.use||"",this.usehref=ei.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Vs extends t.XFAObject{constructor(ei){super(De,"value",!0),this.id=ei.id||"",this.override=(0,e.getInteger)({data:ei.override,defaultValue:0,validate:Oi=>Oi===1}),this.relevant=(0,e.getRelevant)(ei.relevant),this.use=ei.use||"",this.usehref=ei.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[t.$setValue](ei){const Oi=this[t.$getParent]();if(Oi instanceof Xn&&Oi.ui&&Oi.ui.imageEdit){this.image||(this.image=new or({}),this[t.$appendChild](this.image)),this.image[t.$content]=ei[t.$content];return}const dn=ei[t.$nodeName];if(this[dn]!==null){this[dn][t.$content]=ei[t.$content];return}for(const _n of Object.getOwnPropertyNames(this)){const $n=this[_n];$n instanceof t.XFAObject&&(this[_n]=null,this[t.$removeChild]($n))}this[ei[t.$nodeName]]=ei,this[t.$appendChild](ei)}[t.$text](){if(this.exData)return typeof this.exData[t.$content]=="string"?this.exData[t.$content].trim():this.exData[t.$content][t.$text]().trim();for(const ei of Object.getOwnPropertyNames(this)){if(ei==="image")continue;const Oi=this[ei];if(Oi instanceof t.XFAObject)return(Oi[t.$content]||"").toString().trim()}return null}[t.$toHTML](ei){for(const Oi of Object.getOwnPropertyNames(this)){const dn=this[Oi];if(dn instanceof t.XFAObject)return dn[t.$toHTML](ei)}return e.HTMLResult.EMPTY}}Se.Value=Vs;class ea extends t.XFAObject{constructor(ei){super(De,"variables",!0),this.id=ei.id||"",this.use=ei.use||"",this.usehref=ei.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$isTransparent](){return!0}}class Ls{static[xe.$buildXFAObject](ei,Oi){if(Ls.hasOwnProperty(ei)){const dn=Ls[ei](Oi);return dn[t.$setSetAttributes](Oi),dn}}static appearanceFilter(ei){return new Ke(ei)}static arc(ei){return new Ve(ei)}static area(ei){return new Ue(ei)}static assist(ei){return new ti(ei)}static barcode(ei){return new hi(ei)}static bind(ei){return new yi(ei)}static bindItems(ei){return new wi(ei)}static bookend(ei){return new Ci(ei)}static boolean(ei){return new ki(ei)}static border(ei){return new fi(ei)}static break(ei){return new xi(ei)}static breakAfter(ei){return new li(ei)}static breakBefore(ei){return new pi(ei)}static button(ei){return new ri(ei)}static calculate(ei){return new oi(ei)}static caption(ei){return new di(ei)}static certificate(ei){return new bi(ei)}static certificates(ei){return new Ai(ei)}static checkButton(ei){return new Ei(ei)}static choiceList(ei){return new mi(ei)}static color(ei){return new _i(ei)}static comb(ei){return new Si(ei)}static connect(ei){return new Fi(ei)}static contentArea(ei){return new Pi(ei)}static corner(ei){return new Di(ei)}static date(ei){return new Ii(ei)}static dateTime(ei){return new Mi(ei)}static dateTimeEdit(ei){return new $i(ei)}static decimal(ei){return new Xi(ei)}static defaultUi(ei){return new rn(ei)}static desc(ei){return new tn(ei)}static digestMethod(ei){return new on(ei)}static digestMethods(ei){return new fn(ei)}static draw(ei){return new Yi(ei)}static edge(ei){return new Ri(ei)}static encoding(ei){return new ji(ei)}static encodings(ei){return new Ui(ei)}static encrypt(ei){return new en(ei)}static encryptData(ei){return new nn(ei)}static encryption(ei){return new Sn(ei)}static encryptionMethod(ei){return new Qi(ei)}static encryptionMethods(ei){return new qi(ei)}static event(ei){return new Zi(ei)}static exData(ei){return new an(ei)}static exObject(ei){return new Nn(ei)}static exclGroup(ei){return new Dn(ei)}static execute(ei){return new hn(ei)}static extras(ei){return new Fn(ei)}static field(ei){return new Xn(ei)}static fill(ei){return new Rn(ei)}static filter(ei){return new Wn(ei)}static float(ei){return new Kn(ei)}static font(ei){return new Mn(ei)}static format(ei){return new er(ei)}static handler(ei){return new Hn(ei)}static hyphenation(ei){return new hr(ei)}static image(ei){return new or(ei)}static imageEdit(ei){return new dr(ei)}static integer(ei){return new nr(ei)}static issuers(ei){return new Lr(ei)}static items(ei){return new An(ei)}static keep(ei){return new kn(ei)}static keyUsage(ei){return new Ln(ei)}static line(ei){return new jn(ei)}static linear(ei){return new Gn(ei)}static lockDocument(ei){return new sr(ei)}static manifest(ei){return new ir(ei)}static margin(ei){return new Bn(ei)}static mdp(ei){return new gr(ei)}static medium(ei){return new rr(ei)}static message(ei){return new pr(ei)}static numericEdit(ei){return new xr(ei)}static occur(ei){return new mr(ei)}static oid(ei){return new un(ei)}static oids(ei){return new bn(ei)}static overflow(ei){return new Pn(ei)}static pageArea(ei){return new Tn(ei)}static pageSet(ei){return new Jn(ei)}static para(ei){return new yr(ei)}static passwordEdit(ei){return new Er(ei)}static pattern(ei){return new wr(ei)}static picture(ei){return new Sr(ei)}static proto(ei){return new Rr(ei)}static radial(ei){return new qr(ei)}static reason(ei){return new vs(ei)}static reasons(ei){return new ws(ei)}static rectangle(ei){return new Hs(ei)}static ref(ei){return new fs(ei)}static script(ei){return new ra(ei)}static setProperty(ei){return new sa(ei)}static signData(ei){return new Ma(ei)}static signature(ei){return new ba(ei)}static signing(ei){return new Ra(ei)}static solid(ei){return new xa(ei)}static speak(ei){return new Ba(ei)}static stipple(ei){return new aa(ei)}static subform(ei){return new ya(ei)}static subformSet(ei){return new oa(ei)}static subjectDN(ei){return new ja(ei)}static subjectDNs(ei){return new Ts(ei)}static submit(ei){return new Qs(ei)}static template(ei){return new Is(ei)}static text(ei){return new ca(ei)}static textEdit(ei){return new rs(ei)}static time(ei){return new Ua(ei)}static timeStamp(ei){return new va(ei)}static toolTip(ei){return new Pr(ei)}static traversal(ei){return new $a(ei)}static traverse(ei){return new Ha(ei)}static ui(ei){return new xs(ei)}static validate(ei){return new wa(ei)}static value(ei){return new Vs(ei)}static variables(ei){return new ea(ei)}}Se.TemplateNamespace=Ls},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.addHTML=e,Se.checkDimensions=Ee,Se.flushHTML=Te,Se.getAvailableSpace=ke;var t=_e(75),xe=_e(82);function Fe(Pe,De){return{name:"div",attributes:{class:[Pe.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:De}}function Te(Pe){if(!Pe[t.$extra])return null;const Me={name:"div",attributes:Pe[t.$extra].attributes,children:Pe[t.$extra].children};if(Pe[t.$extra].failingNode){const Ae=Pe[t.$extra].failingNode[t.$flushHTML]();Ae&&(Pe.layout.endsWith("-tb")?Me.children.push(Fe(Pe,[Ae])):Me.children.push(Ae))}return Me.children.length===0?null:Me}function e(Pe,De,Me){const Ae=Pe[t.$extra],Be=Ae.availableSpace,[He,je,Xe,St]=Me;switch(Pe.layout){case"position":{Ae.width=Math.max(Ae.width,He+Xe),Ae.height=Math.max(Ae.height,je+St),Ae.children.push(De);break}case"lr-tb":case"rl-tb":(!Ae.line||Ae.attempt===1)&&(Ae.line=Fe(Pe,[]),Ae.children.push(Ae.line),Ae.numberInLine=0),Ae.numberInLine+=1,Ae.line.children.push(De),Ae.attempt===0?(Ae.currentWidth+=Xe,Ae.height=Math.max(Ae.height,Ae.prevHeight+St)):(Ae.currentWidth=Xe,Ae.prevHeight=Ae.height,Ae.height+=St,Ae.attempt=0),Ae.width=Math.max(Ae.width,Ae.currentWidth);break;case"rl-row":case"row":{Ae.children.push(De),Ae.width+=Xe,Ae.height=Math.max(Ae.height,St);const qe=(0,xe.measureToString)(Ae.height);for(const Ye of Ae.children)Ye.attributes.style.height=qe;break}case"table":{Ae.width=Math.min(Be.width,Math.max(Ae.width,Xe)),Ae.height+=St,Ae.children.push(De);break}case"tb":{Ae.width=Math.min(Be.width,Math.max(Ae.width,Xe)),Ae.height+=St,Ae.children.push(De);break}}}function ke(Pe){const De=Pe[t.$extra].availableSpace,Me=Pe.margin?Pe.margin.topInset+Pe.margin.bottomInset:0,Ae=Pe.margin?Pe.margin.leftInset+Pe.margin.rightInset:0;switch(Pe.layout){case"lr-tb":case"rl-tb":return Pe[t.$extra].attempt===0?{width:De.width-Ae-Pe[t.$extra].currentWidth,height:De.height-Me-Pe[t.$extra].prevHeight}:{width:De.width-Ae,height:De.height-Me-Pe[t.$extra].height};case"rl-row":case"row":return{width:Pe[t.$extra].columnWidths.slice(Pe[t.$extra].currentColumn).reduce((He,je)=>He+je),height:De.height-Ae};case"table":case"tb":return{width:De.width-Ae,height:De.height-Me-Pe[t.$extra].height};case"position":default:return De}}function Oe(Pe){let De=Pe.w===""?NaN:Pe.w,Me=Pe.h===""?NaN:Pe.h,[Ae,Be]=[0,0];switch(Pe.anchorType||""){case"bottomCenter":[Ae,Be]=[De/2,Me];break;case"bottomLeft":[Ae,Be]=[0,Me];break;case"bottomRight":[Ae,Be]=[De,Me];break;case"middleCenter":[Ae,Be]=[De/2,Me/2];break;case"middleLeft":[Ae,Be]=[0,Me/2];break;case"middleRight":[Ae,Be]=[De,Me/2];break;case"topCenter":[Ae,Be]=[De/2,0];break;case"topRight":[Ae,Be]=[De,0];break}let He,je;switch(Pe.rotate||0){case 0:[He,je]=[-Ae,-Be];break;case 90:[He,je]=[-Be,Ae],[De,Me]=[Me,-De];break;case 180:[He,je]=[Ae,Be],[De,Me]=[-De,-Me];break;case 270:[He,je]=[Be,-Ae],[De,Me]=[-Me,De];break}return[Pe.x+He+Math.min(0,De),Pe.y+je+Math.min(0,Me),Math.abs(De),Math.abs(Me)]}function Ee(Pe,De){if(Pe[t.$getTemplateRoot]()[t.$extra].firstUnsplittable===null||Pe.w===0||Pe.h===0)return!0;const Me=2,Ae=Pe[t.$getSubformParent](),Be=Ae[t.$extra]&&Ae[t.$extra].attempt||0,[,He,je,Xe]=Oe(Pe);switch(Ae.layout){case"lr-tb":case"rl-tb":return Be===0?Pe[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?Pe.w!==""?Math.round(je-De.width)<=Me:De.width>Me:Pe.h!==""&&Math.round(Xe-De.height)>Me?!1:Pe.w!==""?Math.round(je-De.width)<=Me?!0:Ae[t.$extra].numberInLine===0?De.height>Me:!1:De.width>Me:Pe[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:Pe.h!==""&&Math.round(Xe-De.height)>Me?!1:Pe.w===""||Math.round(je-De.width)<=Me?De.height>Me:Ae[t.$isThereMoreWidth]()?!1:De.height>Me;case"table":case"tb":return Pe[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:Pe.h!==""&&!Pe[t.$isSplittable]()?Math.round(Xe-De.height)<=Me:Pe.w===""||Math.round(je-De.width)<=Me?De.height>Me:Ae[t.$isThereMoreWidth]()?!1:De.height>Me;case"position":if(Pe[t.$getTemplateRoot]()[t.$extra].noLayoutFailure||Pe.h===""||Math.round(Xe+He-De.height)<=Me)return!0;const St=Pe[t.$getTemplateRoot]()[t.$extra].currentContentArea;return Xe+He>St.h;case"rl-row":case"row":return Pe[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:Pe.h!==""?Math.round(Xe-De.height)<=Me:!0;default:return!0}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.computeBbox=Me,Se.createWrapper=je,Se.fixDimensions=Ae,Se.fixTextIndent=Xe,Se.fixURL=ui,Se.isPrintOnly=qe,Se.layoutClass=Be,Se.layoutNode=De,Se.measureToString=ke,Se.setAccess=St,Se.setFontFamily=ai,Se.setMinMaxDimensions=Ee,Se.setPara=gi,Se.toStyle=He;var t=_e(75),xe=_e(2),Fe=_e(76),Te=_e(83),e=_e(84);function ke(Qe){return typeof Qe=="string"?"0px":Number.isInteger(Qe)?`${Qe}px`:`${Qe.toFixed(2)}px`}const Oe={anchorType(Qe,Ze){const ci=Qe[t.$getSubformParent]();if(!(!ci||ci.layout&&ci.layout!=="position"))switch("transform"in Ze||(Ze.transform=""),Qe.anchorType){case"bottomCenter":Ze.transform+="translate(-50%, -100%)";break;case"bottomLeft":Ze.transform+="translate(0,-100%)";break;case"bottomRight":Ze.transform+="translate(-100%,-100%)";break;case"middleCenter":Ze.transform+="translate(-50%,-50%)";break;case"middleLeft":Ze.transform+="translate(0,-50%)";break;case"middleRight":Ze.transform+="translate(-100%,-50%)";break;case"topCenter":Ze.transform+="translate(-50%,0)";break;case"topRight":Ze.transform+="translate(-100%,0)";break}},dimensions(Qe,Ze){const ci=Qe[t.$getSubformParent]();let ze=Qe.w;const We=Qe.h;if(ci.layout&&ci.layout.includes("row")){const si=ci[t.$extra],ni=Qe.colSpan;let $e;ni===-1?($e=si.columnWidths.slice(si.currentColumn).reduce((Ke,Ve)=>Ke+Ve,0),si.currentColumn=0):($e=si.columnWidths.slice(si.currentColumn,si.currentColumn+ni).reduce((Ke,Ve)=>Ke+Ve,0),si.currentColumn=(si.currentColumn+Qe.colSpan)%si.columnWidths.length),isNaN($e)||(ze=Qe.w=$e)}ze!==""?Ze.width=ke(ze):Ze.width="auto",We!==""?Ze.height=ke(We):Ze.height="auto"},position(Qe,Ze){const ci=Qe[t.$getSubformParent]();ci&&ci.layout&&ci.layout!=="position"||(Ze.position="absolute",Ze.left=ke(Qe.x),Ze.top=ke(Qe.y))},rotate(Qe,Ze){Qe.rotate&&("transform"in Ze||(Ze.transform=""),Ze.transform+=`rotate(-${Qe.rotate}deg)`,Ze.transformOrigin="top left")},presence(Qe,Ze){switch(Qe.presence){case"invisible":Ze.visibility="hidden";break;case"hidden":case"inactive":Ze.display="none";break}},hAlign(Qe,Ze){if(Qe[t.$nodeName]==="para")switch(Qe.hAlign){case"justifyAll":Ze.textAlign="justify-all";break;case"radix":Ze.textAlign="left";break;default:Ze.textAlign=Qe.hAlign}else switch(Qe.hAlign){case"left":Ze.alignSelf="start";break;case"center":Ze.alignSelf="center";break;case"right":Ze.alignSelf="end";break}},margin(Qe,Ze){Qe.margin&&(Ze.margin=Qe.margin[t.$toStyle]().margin)}};function Ee(Qe,Ze){Qe[t.$getSubformParent]().layout==="position"&&(Qe.minW>0&&(Ze.minWidth=ke(Qe.minW)),Qe.maxW>0&&(Ze.maxWidth=ke(Qe.maxW)),Qe.minH>0&&(Ze.minHeight=ke(Qe.minH)),Qe.maxH>0&&(Ze.maxHeight=ke(Qe.maxH)))}function Pe(Qe,Ze,ci,ze,We,si){const ni=new e.TextMeasure(Ze,ci,ze,We);return typeof Qe=="string"?ni.addString(Qe):Qe[t.$pushGlyphs](ni),ni.compute(si)}function De(Qe,Ze){let ci=null,ze=null,We=!1;if((!Qe.w||!Qe.h)&&Qe.value){let si=0,ni=0;Qe.margin&&(si=Qe.margin.leftInset+Qe.margin.rightInset,ni=Qe.margin.topInset+Qe.margin.bottomInset);let $e=null,Ke=null;Qe.para&&(Ke=Object.create(null),$e=Qe.para.lineHeight===""?null:Qe.para.lineHeight,Ke.top=Qe.para.spaceAbove===""?0:Qe.para.spaceAbove,Ke.bottom=Qe.para.spaceBelow===""?0:Qe.para.spaceBelow,Ke.left=Qe.para.marginLeft===""?0:Qe.para.marginLeft,Ke.right=Qe.para.marginRight===""?0:Qe.para.marginRight);let Ve=Qe.font;if(!Ve){const hi=Qe[t.$getTemplateRoot]();let yi=Qe[t.$getParent]();for(;yi&&yi!==hi;){if(yi.font){Ve=yi.font;break}yi=yi[t.$getParent]()}}const Ue=(Qe.w||Ze.width)-si,ti=Qe[t.$globalData].fontFinder;if(Qe.value.exData&&Qe.value.exData[t.$content]&&Qe.value.exData.contentType==="text/html"){const hi=Pe(Qe.value.exData[t.$content],Ve,Ke,$e,ti,Ue);ze=hi.width,ci=hi.height,We=hi.isBroken}else{const hi=Qe.value[t.$text]();if(hi){const yi=Pe(hi,Ve,Ke,$e,ti,Ue);ze=yi.width,ci=yi.height,We=yi.isBroken}}ze!==null&&!Qe.w&&(ze+=si),ci!==null&&!Qe.h&&(ci+=ni)}return{w:ze,h:ci,isBroken:We}}function Me(Qe,Ze,ci){let ze;if(Qe.w!==""&&Qe.h!=="")ze=[Qe.x,Qe.y,Qe.w,Qe.h];else{if(!ci)return null;let We=Qe.w;if(We===""){if(Qe.maxW===0){const ni=Qe[t.$getSubformParent]();ni.layout==="position"&&ni.w!==""?We=0:We=Qe.minW}else We=Math.min(Qe.maxW,ci.width);Ze.attributes.style.width=ke(We)}let si=Qe.h;if(si===""){if(Qe.maxH===0){const ni=Qe[t.$getSubformParent]();ni.layout==="position"&&ni.h!==""?si=0:si=Qe.minH}else si=Math.min(Qe.maxH,ci.height);Ze.attributes.style.height=ke(si)}ze=[Qe.x,Qe.y,We,si]}return ze}function Ae(Qe){const Ze=Qe[t.$getSubformParent]();if(Ze.layout&&Ze.layout.includes("row")){const ci=Ze[t.$extra],ze=Qe.colSpan;let We;ze===-1?We=ci.columnWidths.slice(ci.currentColumn).reduce((si,ni)=>si+ni,0):We=ci.columnWidths.slice(ci.currentColumn,ci.currentColumn+ze).reduce((si,ni)=>si+ni,0),isNaN(We)||(Qe.w=We)}Ze.layout&&Ze.layout!=="position"&&(Qe.x=Qe.y=0),Qe.layout==="table"&&Qe.w===""&&Array.isArray(Qe.columnWidths)&&(Qe.w=Qe.columnWidths.reduce((ci,ze)=>ci+ze,0))}function Be(Qe){switch(Qe.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function He(Qe,...Ze){const ci=Object.create(null);for(const ze of Ze){const We=Qe[ze];if(We!==null){if(Oe.hasOwnProperty(ze)){Oe[ze](Qe,ci);continue}if(We instanceof t.XFAObject){const si=We[t.$toStyle]();si?Object.assign(ci,si):(0,xe.warn)(`(DEBUG) - XFA - style for ${ze} not implemented yet`)}}}return ci}function je(Qe,Ze){const{attributes:ci}=Ze,{style:ze}=ci,We={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(ci.class.push("xfaWrapped"),Qe.border){const{widths:si,insets:ni}=Qe.border[t.$extra];let $e,Ke,Ve=ni[0],Ue=ni[3];const ti=ni[0]+ni[2],hi=ni[1]+ni[3];switch(Qe.border.hand){case"even":Ve-=si[0]/2,Ue-=si[3]/2,$e=`calc(100% + ${(si[1]+si[3])/2-hi}px)`,Ke=`calc(100% + ${(si[0]+si[2])/2-ti}px)`;break;case"left":Ve-=si[0],Ue-=si[3],$e=`calc(100% + ${si[1]+si[3]-hi}px)`,Ke=`calc(100% + ${si[0]+si[2]-ti}px)`;break;case"right":$e=hi?`calc(100% - ${hi}px)`:"100%",Ke=ti?`calc(100% - ${ti}px)`:"100%";break}const yi=["xfaBorder"];qe(Qe.border)&&yi.push("xfaPrintOnly");const wi={name:"div",attributes:{class:yi,style:{top:`${Ve}px`,left:`${Ue}px`,width:$e,height:Ke}},children:[]};for(const Ci of["border","borderWidth","borderColor","borderRadius","borderStyle"])ze[Ci]!==void 0&&(wi.attributes.style[Ci]=ze[Ci],delete ze[Ci]);We.children.push(wi,Ze)}else We.children.push(Ze);for(const si of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])ze[si]!==void 0&&(We.attributes.style[si]=ze[si],delete ze[si]);return ze.position==="absolute"?We.attributes.style.position="absolute":We.attributes.style.position="relative",delete ze.position,ze.alignSelf&&(We.attributes.style.alignSelf=ze.alignSelf,delete ze.alignSelf),We}function Xe(Qe){const Ze=(0,Fe.getMeasurement)(Qe.textIndent,"0px");if(Ze>=0)return;const ze="padding"+((Qe.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),We=(0,Fe.getMeasurement)(Qe[ze],"0px");Qe[ze]=`${We-Ze}px`}function St(Qe,Ze){switch(Qe.access){case"nonInteractive":Ze.push("xfaNonInteractive");break;case"readOnly":Ze.push("xfaReadOnly");break;case"protected":Ze.push("xfaDisabled");break}}function qe(Qe){return Qe.relevant.length>0&&!Qe.relevant[0].excluded&&Qe.relevant[0].viewname==="print"}function Ye(Qe){const Ze=Qe[t.$getTemplateRoot]()[t.$extra].paraStack;return Ze.length?Ze.at(-1):null}function gi(Qe,Ze,ci){if(ci.attributes.class&&ci.attributes.class.includes("xfaRich")){Ze&&(Qe.h===""&&(Ze.height="auto"),Qe.w===""&&(Ze.width="auto"));const ze=Ye(Qe);if(ze){const We=ci.attributes.style;switch(We.display="flex",We.flexDirection="column",ze.vAlign){case"top":We.justifyContent="start";break;case"bottom":We.justifyContent="end";break;case"middle":We.justifyContent="center";break}const si=ze[t.$toStyle]();for(const[ni,$e]of Object.entries(si))ni in We||(We[ni]=$e)}}}function ai(Qe,Ze,ci,ze){if(!ci){delete ze.fontFamily;return}const We=(0,Fe.stripQuotes)(Qe.typeface);ze.fontFamily=`"${We}"`;const si=ci.find(We);if(si){const{fontFamily:ni}=si.regular.cssFontInfo;ni!==We&&(ze.fontFamily=`"${ni}"`);const $e=Ye(Ze);if($e&&$e.lineHeight!==""||ze.lineHeight)return;const Ke=(0,Te.selectFont)(Qe,si);Ke&&(ze.lineHeight=Math.max(1.2,Ke.lineHeight))}}function ui(Qe){const Ze=(0,xe.createValidAbsoluteUrl)(Qe,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return Ze?Ze.href:null}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.FontFinder=void 0,Se.getMetrics=ke,Se.selectFont=e;var t=_e(75),xe=_e(76),Fe=_e(2);class Te{constructor(Ee){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(Ee)}add(Ee,Pe=null){for(const Me of Ee)this.addPdfFont(Me);for(const Me of this.fonts.values())Me.regular||(Me.regular=Me.italic||Me.bold||Me.bolditalic);if(!Pe||Pe.size===0)return;const De=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Me of Pe)this.fonts.set(Me,De)}addPdfFont(Ee){const Pe=Ee.cssFontInfo,De=Pe.fontFamily;let Me=this.fonts.get(De);Me||(Me=Object.create(null),this.fonts.set(De,Me),this.defaultFont||(this.defaultFont=Me));let Ae="";const Be=parseFloat(Pe.fontWeight);parseFloat(Pe.italicAngle)!==0?Ae=Be>=700?"bolditalic":"italic":Be>=700&&(Ae="bold"),Ae||((Ee.name.includes("Bold")||Ee.psName&&Ee.psName.includes("Bold"))&&(Ae="bold"),(Ee.name.includes("Italic")||Ee.name.endsWith("It")||Ee.psName&&(Ee.psName.includes("Italic")||Ee.psName.endsWith("It")))&&(Ae+="italic")),Ae||(Ae="regular"),Me[Ae]=Ee}getDefault(){return this.defaultFont}find(Ee,Pe=!0){let De=this.fonts.get(Ee)||this.cache.get(Ee);if(De)return De;const Me=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let Ae=Ee.replace(Me,"");if(De=this.fonts.get(Ae),De)return this.cache.set(Ee,De),De;Ae=Ae.toLowerCase();const Be=[];for(const[He,je]of this.fonts.entries())He.replace(Me,"").toLowerCase().startsWith(Ae)&&Be.push(je);if(Be.length===0)for(const[,He]of this.fonts.entries())He.regular.name&&He.regular.name.replace(Me,"").toLowerCase().startsWith(Ae)&&Be.push(He);if(Be.length===0){Ae=Ae.replace(/psmt|mt/gi,"");for(const[He,je]of this.fonts.entries())He.replace(Me,"").toLowerCase().startsWith(Ae)&&Be.push(je)}if(Be.length===0)for(const He of this.fonts.values())He.regular.name&&He.regular.name.replace(Me,"").toLowerCase().startsWith(Ae)&&Be.push(He);return Be.length>=1?(Be.length!==1&&Pe&&(0,Fe.warn)(`XFA - Too many choices to guess the correct font: ${Ee}`),this.cache.set(Ee,Be[0]),Be[0]):(Pe&&!this.warned.has(Ee)&&(this.warned.add(Ee),(0,Fe.warn)(`XFA - Cannot find the font: ${Ee}`)),null)}}Se.FontFinder=Te;function e(Oe,Ee){return Oe.posture==="italic"?Oe.weight==="bold"?Ee.bolditalic:Ee.italic:Oe.weight==="bold"?Ee.bold:Ee.regular}function ke(Oe,Ee=!1){let Pe=null;if(Oe){const Be=(0,xe.stripQuotes)(Oe.typeface),He=Oe[t.$globalData].fontFinder.find(Be);Pe=e(Oe,He)}if(!Pe)return{lineHeight:12,lineGap:2,lineNoGap:10};const De=Oe.size||10,Me=Pe.lineHeight?Math.max(Ee?0:1.2,Pe.lineHeight):1.2,Ae=Pe.lineGap===void 0?.2:Pe.lineGap;return{lineHeight:Me*De,lineGap:Ae*De,lineNoGap:Math.max(1,Me-Ae)*De}}},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.TextMeasure=void 0;var t=_e(83);const xe=1.02;class Fe{constructor(Oe,Ee,Pe,De){if(this.lineHeight=Pe,this.paraMargin=Ee||{top:0,bottom:0,left:0,right:0},!Oe){[this.pdfFont,this.xfaFont]=this.defaultFont(De);return}this.xfaFont={typeface:Oe.typeface,posture:Oe.posture,weight:Oe.weight,size:Oe.size,letterSpacing:Oe.letterSpacing};const Me=De.find(Oe.typeface);if(!Me){[this.pdfFont,this.xfaFont]=this.defaultFont(De);return}this.pdfFont=(0,t.selectFont)(Oe,Me),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(De))}defaultFont(Oe){const Ee=Oe.find("Helvetica",!1)||Oe.find("Myriad Pro",!1)||Oe.find("Arial",!1)||Oe.getDefault();if(Ee&&Ee.regular){const De=Ee.regular,Ae={typeface:De.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[De,Ae]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class Te{constructor(Oe,Ee,Pe,De){this.fontFinder=De,this.stack=[new Fe(Oe,Ee,Pe,De)]}pushData(Oe,Ee,Pe){const De=this.stack.at(-1);for(const Ae of["typeface","posture","weight","size","letterSpacing"])Oe[Ae]||(Oe[Ae]=De.xfaFont[Ae]);for(const Ae of["top","bottom","left","right"])isNaN(Ee[Ae])&&(Ee[Ae]=De.paraMargin[Ae]);const Me=new Fe(Oe,Ee,Pe||De.lineHeight,this.fontFinder);Me.pdfFont||(Me.pdfFont=De.pdfFont),this.stack.push(Me)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class e{constructor(Oe,Ee,Pe,De){this.glyphs=[],this.fontSelector=new Te(Oe,Ee,Pe,De),this.extraHeight=0}pushData(Oe,Ee,Pe){this.fontSelector.pushData(Oe,Ee,Pe)}popFont(Oe){return this.fontSelector.popFont()}addPara(){const Oe=this.fontSelector.topFont();this.extraHeight+=Oe.paraMargin.top+Oe.paraMargin.bottom}addString(Oe){if(!Oe)return;const Ee=this.fontSelector.topFont(),Pe=Ee.xfaFont.size;if(Ee.pdfFont){const De=Ee.xfaFont.letterSpacing,Me=Ee.pdfFont,Ae=Me.lineHeight||1.2,Be=Ee.lineHeight||Math.max(1.2,Ae)*Pe,He=Me.lineGap===void 0?.2:Me.lineGap,je=Ae-He,Xe=Math.max(1,je)*Pe,St=Pe/1e3,qe=Me.defaultWidth||Me.charsToGlyphs(" ")[0].width;for(const Ye of Oe.split(/[\u2029\n]/)){const gi=Me.encodeString(Ye).join(""),ai=Me.charsToGlyphs(gi);for(const ui of ai){const Qe=ui.width||qe;this.glyphs.push([Qe*St+De,Be,Xe,ui.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const De of Oe.split(/[\u2029\n]/)){for(const Me of De.split(""))this.glyphs.push([Pe,1.2*Pe,Pe,Me,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Oe){let Ee=-1,Pe=0,De=0,Me=0,Ae=0,Be=0,He=!1,je=!0;for(let Xe=0,St=this.glyphs.length;Xe<St;Xe++){const[qe,Ye,gi,ai,ui]=this.glyphs[Xe],Qe=ai===" ",Ze=je?gi:Ye;if(ui){De=Math.max(De,Ae),Ae=0,Me+=Be,Be=Ze,Ee=-1,Pe=0,je=!1;continue}if(Qe){Ae+qe>Oe?(De=Math.max(De,Ae),Ae=0,Me+=Be,Be=Ze,Ee=-1,Pe=0,He=!0,je=!1):(Be=Math.max(Ze,Be),Pe=Ae,Ae+=qe,Ee=Xe);continue}if(Ae+qe>Oe){Me+=Be,Be=Ze,Ee!==-1?(Xe=Ee,De=Math.max(De,Pe),Ae=0,Ee=-1,Pe=0):(De=Math.max(De,Ae),Ae=qe),He=!0,je=!1;continue}Ae+=qe,Be=Math.max(Ze,Be)}return De=Math.max(De,Ae),Me+=Be+this.extraHeight,{width:xe*De,height:Me,isBroken:He}}}Se.TextMeasure=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DataHandler=void 0;var t=_e(75);class xe{constructor(Te,e){this.data=e,this.dataset=Te.datasets||null}serialize(Te){const e=[[-1,this.data[t.$getChildren]()]];for(;e.length>0;){const Oe=e.at(-1),[Ee,Pe]=Oe;if(Ee+1===Pe.length){e.pop();continue}const De=Pe[++Oe[0]],Me=Te.get(De[t.$uid]);if(Me)De[t.$setValue](Me);else{const Be=De[t.$getAttributes]();for(const He of Be.values()){const je=Te.get(He[t.$uid]);if(je){He[t.$setValue](je);break}}}const Ae=De[t.$getChildren]();Ae.length>0&&e.push([-1,Ae])}const ke=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Oe of this.dataset[t.$getChildren]())Oe[t.$nodeName]!=="data"&&Oe[t.$toString](ke);return this.data[t.$toString](ke),ke.push("</xfa:datasets>"),ke.join("")}}Se.DataHandler=xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XFAParser=void 0;var t=_e(75),xe=_e(64),Fe=_e(87),Te=_e(2);class e extends xe.XMLParserBase{constructor(Oe=null,Ee=!1){super(),this._builder=new Fe.Builder(Oe),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=xe.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=Ee}parse(Oe){if(this.parseXml(Oe),this._errorCode===xe.XMLParserErrorCode.NoError)return this._current[t.$finalize](),this._current.element}onText(Oe){if(Oe=Oe.replace(this._nbsps,Ee=>Ee.slice(1)+" "),this._richText||this._current[t.$acceptWhitespace]()){this._current[t.$onText](Oe,this._richText);return}this._whiteRegex.test(Oe)||this._current[t.$onText](Oe.trim())}onCdata(Oe){this._current[t.$onText](Oe)}_mkAttributes(Oe,Ee){let Pe=null,De=null;const Me=Object.create({});for(const{name:Ae,value:Be}of Oe)if(Ae==="xmlns")Pe?(0,Te.warn)(`XFA - multiple namespace definition in <${Ee}>`):Pe=Be;else if(Ae.startsWith("xmlns:")){const He=Ae.substring(6);De||(De=[]),De.push({prefix:He,value:Be})}else{const He=Ae.indexOf(":");if(He===-1)Me[Ae]=Be;else{let je=Me[t.$nsAttributes];je||(je=Me[t.$nsAttributes]=Object.create(null));const[Xe,St]=[Ae.slice(0,He),Ae.slice(He+1)];let qe=je[Xe];qe||(qe=je[Xe]=Object.create(null)),qe[St]=Be}}return[Pe,De,Me]}_getNameAndPrefix(Oe,Ee){const Pe=Oe.indexOf(":");return Pe===-1?[Oe,null]:[Oe.substring(Pe+1),Ee?"":Oe.substring(0,Pe)]}onBeginElement(Oe,Ee,Pe){const[De,Me,Ae]=this._mkAttributes(Ee,Oe),[Be,He]=this._getNameAndPrefix(Oe,this._builder.isNsAgnostic()),je=this._builder.build({nsPrefix:He,name:Be,attributes:Ae,namespace:De,prefixes:Me});if(je[t.$globalData]=this._globalData,Pe){je[t.$finalize](),this._current[t.$onChild](je)&&je[t.$setId](this._ids),je[t.$clean](this._builder);return}this._stack.push(this._current),this._current=je}onEndElement(Oe){const Ee=this._current;if(Ee[t.$isCDATAXml]()&&typeof Ee[t.$content]=="string"){const Pe=new e;Pe._globalData=this._globalData;const De=Pe.parse(Ee[t.$content]);Ee[t.$content]=null,Ee[t.$onChild](De)}Ee[t.$finalize](),this._current=this._stack.pop(),this._current[t.$onChild](Ee)&&Ee[t.$setId](this._ids),Ee[t.$clean](this._builder)}onError(Oe){this._errorCode=Oe}}Se.XFAParser=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.Builder=void 0;var t=_e(77),xe=_e(75),Fe=_e(88),Te=_e(80),e=_e(97),ke=_e(2);class Oe extends xe.XFAObject{constructor(Me){super(-1,"root",Object.create(null)),this.element=null,this[xe.$ids]=Me}[xe.$onChild](Me){return this.element=Me,!0}[xe.$finalize](){super[xe.$finalize](),this.element.template instanceof Te.Template&&(this[xe.$ids].set(xe.$root,this.element),this.element.template[xe.$resolvePrototypes](this[xe.$ids]),this.element.template[xe.$ids]=this[xe.$ids])}}class Ee extends xe.XFAObject{constructor(){super(-1,"",Object.create(null))}[xe.$onChild](Me){return!1}}class Pe{constructor(Me=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(t.NamespaceIds).map(({id:Ae})=>Ae)),this._currentNamespace=Me||new e.UnknownNamespace(++this._nextNsId)}buildRoot(Me){return new Oe(Me)}build({nsPrefix:Me,name:Ae,attributes:Be,namespace:He,prefixes:je}){const Xe=He!==null;if(Xe&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(He)),je&&this._addNamespacePrefix(je),Be.hasOwnProperty(xe.$nsAttributes)){const Ye=Fe.NamespaceSetUp.datasets,gi=Be[xe.$nsAttributes];let ai=null;for(const[ui,Qe]of Object.entries(gi))if(this._getNamespaceToUse(ui)===Ye){ai={xfa:Qe};break}ai?Be[xe.$nsAttributes]=ai:delete Be[xe.$nsAttributes]}const St=this._getNamespaceToUse(Me),qe=St&&St[t.$buildXFAObject](Ae,Be)||new Ee;return qe[xe.$isNsAgnostic]()&&this._nsAgnosticLevel++,(Xe||je||qe[xe.$isNsAgnostic]())&&(qe[xe.$cleanup]={hasNamespace:Xe,prefixes:je,nsAgnostic:qe[xe.$isNsAgnostic]()}),qe}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(Me){let Ae=this._namespaces.get(Me);if(Ae)return Ae;for(const[Be,{check:He}]of Object.entries(t.NamespaceIds))if(He(Me)){if(Ae=Fe.NamespaceSetUp[Be],Ae)return this._namespaces.set(Me,Ae),Ae;break}return Ae=new e.UnknownNamespace(++this._nextNsId),this._namespaces.set(Me,Ae),Ae}_addNamespacePrefix(Me){for(const{prefix:Ae,value:Be}of Me){const He=this._searchNamespace(Be);let je=this._namespacePrefixes.get(Ae);je||(je=[],this._namespacePrefixes.set(Ae,je)),je.push(He)}}_getNamespaceToUse(Me){if(!Me)return this._currentNamespace;const Ae=this._namespacePrefixes.get(Me);return Ae&&Ae.length>0?Ae.at(-1):((0,ke.warn)(`Unknown namespace prefix: ${Me}.`),null)}clean(Me){const{hasNamespace:Ae,prefixes:Be,nsAgnostic:He}=Me;Ae&&(this._currentNamespace=this._namespaceStack.pop()),Be&&Be.forEach(({prefix:je})=>{this._namespacePrefixes.get(je).pop()}),He&&this._nsAgnosticLevel--}}Se.Builder=Pe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.NamespaceSetUp=void 0;var t=_e(89),xe=_e(90),Fe=_e(91),Te=_e(92),e=_e(93),ke=_e(94),Oe=_e(80),Ee=_e(95),Pe=_e(96);const De={config:t.ConfigNamespace,connection:xe.ConnectionSetNamespace,datasets:Fe.DatasetsNamespace,localeSet:Te.LocaleSetNamespace,signature:e.SignatureNamespace,stylesheet:ke.StylesheetNamespace,template:Oe.TemplateNamespace,xdp:Ee.XdpNamespace,xhtml:Pe.XhtmlNamespace};Se.NamespaceSetUp=De},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ConfigNamespace=void 0;var t=_e(77),xe=_e(75),Fe=_e(76),Te=_e(2);const e=t.NamespaceIds.config.id;class ke extends xe.XFAObject{constructor(Oi){super(e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new xe.XFAObjectArray}}class Oe extends xe.XFAObject{constructor(Oi){super(e,"acrobat7",!0),this.dynamicRender=null}}class Ee extends xe.OptionObject{constructor(Oi){super(e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class Pe extends xe.OptionObject{constructor(Oi){super(e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class De extends xe.Option01{constructor(Oi){super(e,"addSilentPrint")}}class Me extends xe.Option01{constructor(Oi){super(e,"addViewerPreferences")}}class Ae extends xe.Option10{constructor(Oi){super(e,"adjustData")}}class Be extends xe.IntegerObject{constructor(Oi){super(e,"adobeExtensionLevel",0,dn=>dn>=1&&dn<=8)}}class He extends xe.XFAObject{constructor(Oi){super(e,"agent",!0),this.name=Oi.name?Oi.name.trim():"",this.common=new xe.XFAObjectArray}}class je extends xe.ContentObject{constructor(Oi){super(e,"alwaysEmbed")}}class Xe extends xe.StringObject{constructor(Oi){super(e,"amd")}}class St extends xe.XFAObject{constructor(Oi){super(e,"area"),this.level=(0,Fe.getInteger)({data:Oi.level,defaultValue:0,validate:dn=>dn>=1&&dn<=3}),this.name=(0,Fe.getStringOption)(Oi.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class qe extends xe.OptionObject{constructor(Oi){super(e,"attributes",["preserve","delegate","ignore"])}}class Ye extends xe.OptionObject{constructor(Oi){super(e,"autoSave",["disabled","enabled"])}}class gi extends xe.StringObject{constructor(Oi){super(e,"base")}}class ai extends xe.XFAObject{constructor(Oi){super(e,"batchOutput"),this.format=(0,Fe.getStringOption)(Oi.format,["none","concat","zip","zipCompress"])}}class ui extends xe.ContentObject{constructor(Oi){super(e,"behaviorOverride")}[xe.$finalize](){this[xe.$content]=new Map(this[xe.$content].trim().split(/\s+/).filter(Oi=>Oi.includes(":")).map(Oi=>Oi.split(":",2)))}}class Qe extends xe.XFAObject{constructor(Oi){super(e,"cache",!0),this.templateCache=null}}class Ze extends xe.Option01{constructor(Oi){super(e,"change")}}class ci extends xe.XFAObject{constructor(Oi){super(e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new xe.XFAObjectArray}}class ze extends xe.XFAObject{constructor(Oi){super(e,"compress"),this.scope=(0,Fe.getStringOption)(Oi.scope,["imageOnly","document"])}}class We extends xe.Option01{constructor(Oi){super(e,"compressLogicalStructure")}}class si extends xe.Option10{constructor(Oi){super(e,"compressObjectStream")}}class ni extends xe.XFAObject{constructor(Oi){super(e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class $e extends xe.XFAObject{constructor(Oi){super(e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new xe.XFAObjectArray}}class Ke extends xe.OptionObject{constructor(Oi){super(e,"conformance",["A","B"])}}class Ve extends xe.Option01{constructor(Oi){super(e,"contentCopy")}}class Ue extends xe.IntegerObject{constructor(Oi){super(e,"copies",1,dn=>dn>=1)}}class ti extends xe.StringObject{constructor(Oi){super(e,"creator")}}class hi extends xe.IntegerObject{constructor(Oi){super(e,"currentPage",0,dn=>dn>=0)}}class yi extends xe.XFAObject{constructor(Oi){super(e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new xe.XFAObjectArray,this.transform=new xe.XFAObjectArray}}class wi extends xe.XFAObject{constructor(Oi){super(e,"debug",!0),this.uri=null}}class Ci extends xe.ContentObject{constructor(Oi){super(e,"defaultTypeface"),this.writingScript=(0,Fe.getStringOption)(Oi.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ki extends xe.OptionObject{constructor(Oi){super(e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class fi extends xe.Option01{constructor(Oi){super(e,"documentAssembly")}}class xi extends xe.XFAObject{constructor(Oi){super(e,"driver",!0),this.name=Oi.name?Oi.name.trim():"",this.fontInfo=null,this.xdc=null}}class li extends xe.OptionObject{constructor(Oi){super(e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class pi extends xe.OptionObject{constructor(Oi){super(e,"dynamicRender",["forbidden","required"])}}class ri extends xe.Option01{constructor(Oi){super(e,"embed")}}class oi extends xe.Option01{constructor(Oi){super(e,"encrypt")}}class di extends xe.XFAObject{constructor(Oi){super(e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class bi extends xe.OptionObject{constructor(Oi){super(e,"encryptionLevel",["40bit","128bit"])}}class Ai extends xe.StringObject{constructor(Oi){super(e,"enforce")}}class Ei extends xe.XFAObject{constructor(Oi){super(e,"equate"),this.force=(0,Fe.getInteger)({data:Oi.force,defaultValue:1,validate:dn=>dn===0}),this.from=Oi.from||"",this.to=Oi.to||""}}class mi extends xe.XFAObject{constructor(Oi){super(e,"equateRange"),this.from=Oi.from||"",this.to=Oi.to||"",this._unicodeRange=Oi.unicodeRange||""}get unicodeRange(){const Oi=[],dn=/U\+([0-9a-fA-F]+)/,_n=this._unicodeRange;for(let $n of _n.split(",").map(lr=>lr.trim()).filter(lr=>!!lr))$n=$n.split("-",2).map(lr=>{const ar=lr.match(dn);return ar?parseInt(ar[1],16):0}),$n.length===1&&$n.push($n[0]),Oi.push($n);return(0,Te.shadow)(this,"unicodeRange",Oi)}}class _i extends xe.ContentObject{constructor(Oi){super(e,"exclude")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim().split(/\s+/).filter(Oi=>Oi&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Oi))}}class Si extends xe.StringObject{constructor(Oi){super(e,"excludeNS")}}class Fi extends xe.OptionObject{constructor(Oi){super(e,"flipLabel",["usePrinterSetting","on","off"])}}class Pi extends xe.XFAObject{constructor(Oi){super(e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new xe.XFAObjectArray,this.defaultTypeface=new xe.XFAObjectArray,this.neverEmbed=new xe.XFAObjectArray}}class Di extends xe.Option01{constructor(Oi){super(e,"formFieldFilling")}}class Ii extends xe.StringObject{constructor(Oi){super(e,"groupParent")}}class Mi extends xe.OptionObject{constructor(Oi){super(e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class $i extends xe.StringObject{constructor(Oi){super(e,"includeXDPContent")}}class Xi extends xe.OptionObject{constructor(Oi){super(e,"incrementalLoad",["none","forwardOnly"])}}class rn extends xe.Option01{constructor(Oi){super(e,"incrementalMerge")}}class tn extends xe.Option01{constructor(Oi){super(e,"interactive")}}class on extends xe.OptionObject{constructor(Oi){super(e,"jog",["usePrinterSetting","none","pageSet"])}}class fn extends xe.XFAObject{constructor(Oi){super(e,"labelPrinter",!0),this.name=(0,Fe.getStringOption)(Oi.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Yi extends xe.OptionObject{constructor(Oi){super(e,"layout",["paginate","panel"])}}class Ri extends xe.IntegerObject{constructor(Oi){super(e,"level",0,dn=>dn>0)}}class ji extends xe.Option01{constructor(Oi){super(e,"linearized")}}class Ui extends xe.StringObject{constructor(Oi){super(e,"locale")}}class en extends xe.StringObject{constructor(Oi){super(e,"localeSet")}}class nn extends xe.XFAObject{constructor(Oi){super(e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Sn extends xe.XFAObject{constructor(Oi){super(e,"map",!0),this.equate=new xe.XFAObjectArray,this.equateRange=new xe.XFAObjectArray}}class Qi extends xe.XFAObject{constructor(Oi){super(e,"mediumInfo",!0),this.map=null}}class qi extends xe.XFAObject{constructor(Oi){super(e,"message",!0),this.msgId=null,this.severity=null}}class Zi extends xe.XFAObject{constructor(Oi){super(e,"messaging",!0),this.message=new xe.XFAObjectArray}}class an extends xe.OptionObject{constructor(Oi){super(e,"mode",["append","overwrite"])}}class Nn extends xe.Option01{constructor(Oi){super(e,"modifyAnnots")}}class Dn extends xe.IntegerObject{constructor(Oi){super(e,"msgId",1,dn=>dn>=1)}}class hn extends xe.StringObject{constructor(Oi){super(e,"nameAttr")}}class Fn extends xe.ContentObject{constructor(Oi){super(e,"neverEmbed")}}class Xn extends xe.IntegerObject{constructor(Oi){super(e,"numberOfCopies",null,dn=>dn>=2&&dn<=5)}}class Rn extends xe.XFAObject{constructor(Oi){super(e,"openAction",!0),this.destination=null}}class Wn extends xe.XFAObject{constructor(Oi){super(e,"output",!0),this.to=null,this.type=null,this.uri=null}}class Kn extends xe.StringObject{constructor(Oi){super(e,"outputBin")}}class Mn extends xe.XFAObject{constructor(Oi){super(e,"outputXSL",!0),this.uri=null}}class er extends xe.OptionObject{constructor(Oi){super(e,"overprint",["none","both","draw","field"])}}class Hn extends xe.StringObject{constructor(Oi){super(e,"packets")}[xe.$finalize](){this[xe.$content]!=="*"&&(this[xe.$content]=this[xe.$content].trim().split(/\s+/).filter(Oi=>["config","datasets","template","xfdf","xslt"].includes(Oi)))}}class hr extends xe.XFAObject{constructor(Oi){super(e,"pageOffset"),this.x=(0,Fe.getInteger)({data:Oi.x,defaultValue:"useXDCSetting",validate:dn=>!0}),this.y=(0,Fe.getInteger)({data:Oi.y,defaultValue:"useXDCSetting",validate:dn=>!0})}}class or extends xe.StringObject{constructor(Oi){super(e,"pageRange")}[xe.$finalize](){const Oi=this[xe.$content].trim().split(/\s+/).map(_n=>parseInt(_n,10)),dn=[];for(let _n=0,$n=Oi.length;_n<$n;_n+=2)dn.push(Oi.slice(_n,_n+2));this[xe.$content]=dn}}class dr extends xe.OptionObject{constructor(Oi){super(e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class nr extends xe.OptionObject{constructor(Oi){super(e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Lr extends xe.IntegerObject{constructor(Oi){super(e,"part",1,dn=>!1)}}class An extends xe.XFAObject{constructor(Oi){super(e,"pcl",!0),this.name=Oi.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class kn extends xe.XFAObject{constructor(Oi){super(e,"pdf",!0),this.name=Oi.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Ln extends xe.XFAObject{constructor(Oi){super(e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class jn extends xe.XFAObject{constructor(Oi){super(e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Gn extends xe.Option01{constructor(Oi){super(e,"pickTrayByPDFSize")}}class sr extends xe.StringObject{constructor(Oi){super(e,"picture")}}class ir extends xe.Option01{constructor(Oi){super(e,"plaintextMetadata")}}class Bn extends xe.OptionObject{constructor(Oi){super(e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class gr extends xe.XFAObject{constructor(Oi){super(e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new xe.XFAObjectArray,this.labelPrinter=new xe.XFAObjectArray,this.pcl=new xe.XFAObjectArray,this.pdf=new xe.XFAObjectArray,this.ps=new xe.XFAObjectArray,this.submitUrl=new xe.XFAObjectArray,this.webClient=new xe.XFAObjectArray,this.zpl=new xe.XFAObjectArray}}class rr extends xe.Option01{constructor(Oi){super(e,"print")}}class pr extends xe.Option01{constructor(Oi){super(e,"printHighQuality")}}class xr extends xe.OptionObject{constructor(Oi){super(e,"printScaling",["appdefault","noScaling"])}}class mr extends xe.StringObject{constructor(Oi){super(e,"printerName")}}class un extends xe.StringObject{constructor(Oi){super(e,"producer")}}class bn extends xe.XFAObject{constructor(Oi){super(e,"ps",!0),this.name=Oi.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Pn extends xe.ContentObject{constructor(Oi){super(e,"range")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim().split(/\s*,\s*/,2).map(Oi=>Oi.split("-").map(dn=>parseInt(dn.trim(),10))).filter(Oi=>Oi.every(dn=>!isNaN(dn))).map(Oi=>(Oi.length===1&&Oi.push(Oi[0]),Oi))}}class Tn extends xe.ContentObject{constructor(Oi){super(e,"record")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim();const Oi=parseInt(this[xe.$content],10);!isNaN(Oi)&&Oi>=0&&(this[xe.$content]=Oi)}}class Jn extends xe.ContentObject{constructor(Oi){super(e,"relevant")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim().split(/\s+/)}}class yr extends xe.ContentObject{constructor(Oi){super(e,"rename")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim(),(this[xe.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[xe.$content]))&&(0,Te.warn)("XFA - Rename: invalid XFA name")}}class Er extends xe.OptionObject{constructor(Oi){super(e,"renderPolicy",["server","client"])}}class wr extends xe.OptionObject{constructor(Oi){super(e,"runScripts",["both","client","none","server"])}}class Sr extends xe.XFAObject{constructor(Oi){super(e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Rr extends xe.OptionObject{constructor(Oi){super(e,"scriptModel",["XFA","none"])}}class qr extends xe.OptionObject{constructor(Oi){super(e,"severity",["ignore","error","information","trace","warning"])}}class vs extends xe.XFAObject{constructor(Oi){super(e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ws extends xe.XFAObject{constructor(Oi){super(e,"staple"),this.mode=(0,Fe.getStringOption)(Oi.mode,["usePrinterSetting","on","off"])}}class Hs extends xe.StringObject{constructor(Oi){super(e,"startNode")}}class fs extends xe.IntegerObject{constructor(Oi){super(e,"startPage",0,dn=>!0)}}class ra extends xe.OptionObject{constructor(Oi){super(e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class sa extends xe.StringObject{constructor(Oi){super(e,"submitUrl")}}class Ma extends xe.IntegerObject{constructor(Oi){super(e,"subsetBelow",100,dn=>dn>=0&&dn<=100)}}class ba extends xe.Option01{constructor(Oi){super(e,"suppressBanner")}}class Ra extends xe.Option01{constructor(Oi){super(e,"tagged")}}class xa extends xe.XFAObject{constructor(Oi){super(e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Ba extends xe.OptionObject{constructor(Oi){super(e,"threshold",["trace","error","information","warning"])}}class aa extends xe.OptionObject{constructor(Oi){super(e,"to",["null","memory","stderr","stdout","system","uri"])}}class ya extends xe.XFAObject{constructor(Oi){super(e,"templateCache"),this.maxEntries=(0,Fe.getInteger)({data:Oi.maxEntries,defaultValue:5,validate:dn=>dn>=0})}}class oa extends xe.XFAObject{constructor(Oi){super(e,"trace",!0),this.area=new xe.XFAObjectArray}}class ja extends xe.XFAObject{constructor(Oi){super(e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Ts extends xe.OptionObject{constructor(Oi){super(e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Qs extends xe.StringObject{constructor(Oi){super(e,"uri")}}class Is extends xe.OptionObject{constructor(Oi){super(e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ca extends xe.ContentObject{constructor(Oi){super(e,"validateApprovalSignatures")}[xe.$finalize](){this[xe.$content]=this[xe.$content].trim().split(/\s+/).filter(Oi=>["docReady","postSign"].includes(Oi))}}class rs extends xe.OptionObject{constructor(Oi){super(e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Ua extends xe.OptionObject{constructor(Oi){super(e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class va extends xe.XFAObject{constructor(Oi){super(e,"VersionControl"),this.outputBelow=(0,Fe.getStringOption)(Oi.outputBelow,["warn","error","update"]),this.sourceAbove=(0,Fe.getStringOption)(Oi.sourceAbove,["warn","error"]),this.sourceBelow=(0,Fe.getStringOption)(Oi.sourceBelow,["update","maintain"])}}class Pr extends xe.XFAObject{constructor(Oi){super(e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class $a extends xe.XFAObject{constructor(Oi){super(e,"webClient",!0),this.name=Oi.name?Oi.name.trim():"",this.fontInfo=null,this.xdc=null}}class Ha extends xe.OptionObject{constructor(Oi){super(e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class xs extends xe.ContentObject{constructor(Oi){super(e,"window")}[xe.$finalize](){const Oi=this[xe.$content].trim().split(/\s*,\s*/,2).map(dn=>parseInt(dn,10));if(Oi.some(dn=>isNaN(dn))){this[xe.$content]=[0,0];return}Oi.length===1&&Oi.push(Oi[0]),this[xe.$content]=Oi}}class wa extends xe.XFAObject{constructor(Oi){super(e,"xdc",!0),this.uri=new xe.XFAObjectArray,this.xsl=new xe.XFAObjectArray}}class Vs extends xe.XFAObject{constructor(Oi){super(e,"xdp",!0),this.packets=null}}class ea extends xe.XFAObject{constructor(Oi){super(e,"xsl",!0),this.debug=null,this.uri=null}}class Ls extends xe.XFAObject{constructor(Oi){super(e,"zpl",!0),this.name=Oi.name?Oi.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class vn{static[t.$buildXFAObject](Oi,dn){if(vn.hasOwnProperty(Oi))return vn[Oi](dn)}static acrobat(Oi){return new ke(Oi)}static acrobat7(Oi){return new Oe(Oi)}static ADBE_JSConsole(Oi){return new Ee(Oi)}static ADBE_JSDebugger(Oi){return new Pe(Oi)}static addSilentPrint(Oi){return new De(Oi)}static addViewerPreferences(Oi){return new Me(Oi)}static adjustData(Oi){return new Ae(Oi)}static adobeExtensionLevel(Oi){return new Be(Oi)}static agent(Oi){return new He(Oi)}static alwaysEmbed(Oi){return new je(Oi)}static amd(Oi){return new Xe(Oi)}static area(Oi){return new St(Oi)}static attributes(Oi){return new qe(Oi)}static autoSave(Oi){return new Ye(Oi)}static base(Oi){return new gi(Oi)}static batchOutput(Oi){return new ai(Oi)}static behaviorOverride(Oi){return new ui(Oi)}static cache(Oi){return new Qe(Oi)}static change(Oi){return new Ze(Oi)}static common(Oi){return new ci(Oi)}static compress(Oi){return new ze(Oi)}static compressLogicalStructure(Oi){return new We(Oi)}static compressObjectStream(Oi){return new si(Oi)}static compression(Oi){return new ni(Oi)}static config(Oi){return new $e(Oi)}static conformance(Oi){return new Ke(Oi)}static contentCopy(Oi){return new Ve(Oi)}static copies(Oi){return new Ue(Oi)}static creator(Oi){return new ti(Oi)}static currentPage(Oi){return new hi(Oi)}static data(Oi){return new yi(Oi)}static debug(Oi){return new wi(Oi)}static defaultTypeface(Oi){return new Ci(Oi)}static destination(Oi){return new ki(Oi)}static documentAssembly(Oi){return new fi(Oi)}static driver(Oi){return new xi(Oi)}static duplexOption(Oi){return new li(Oi)}static dynamicRender(Oi){return new pi(Oi)}static embed(Oi){return new ri(Oi)}static encrypt(Oi){return new oi(Oi)}static encryption(Oi){return new di(Oi)}static encryptionLevel(Oi){return new bi(Oi)}static enforce(Oi){return new Ai(Oi)}static equate(Oi){return new Ei(Oi)}static equateRange(Oi){return new mi(Oi)}static exclude(Oi){return new _i(Oi)}static excludeNS(Oi){return new Si(Oi)}static flipLabel(Oi){return new Fi(Oi)}static fontInfo(Oi){return new Pi(Oi)}static formFieldFilling(Oi){return new Di(Oi)}static groupParent(Oi){return new Ii(Oi)}static ifEmpty(Oi){return new Mi(Oi)}static includeXDPContent(Oi){return new $i(Oi)}static incrementalLoad(Oi){return new Xi(Oi)}static incrementalMerge(Oi){return new rn(Oi)}static interactive(Oi){return new tn(Oi)}static jog(Oi){return new on(Oi)}static labelPrinter(Oi){return new fn(Oi)}static layout(Oi){return new Yi(Oi)}static level(Oi){return new Ri(Oi)}static linearized(Oi){return new ji(Oi)}static locale(Oi){return new Ui(Oi)}static localeSet(Oi){return new en(Oi)}static log(Oi){return new nn(Oi)}static map(Oi){return new Sn(Oi)}static mediumInfo(Oi){return new Qi(Oi)}static message(Oi){return new qi(Oi)}static messaging(Oi){return new Zi(Oi)}static mode(Oi){return new an(Oi)}static modifyAnnots(Oi){return new Nn(Oi)}static msgId(Oi){return new Dn(Oi)}static nameAttr(Oi){return new hn(Oi)}static neverEmbed(Oi){return new Fn(Oi)}static numberOfCopies(Oi){return new Xn(Oi)}static openAction(Oi){return new Rn(Oi)}static output(Oi){return new Wn(Oi)}static outputBin(Oi){return new Kn(Oi)}static outputXSL(Oi){return new Mn(Oi)}static overprint(Oi){return new er(Oi)}static packets(Oi){return new Hn(Oi)}static pageOffset(Oi){return new hr(Oi)}static pageRange(Oi){return new or(Oi)}static pagination(Oi){return new dr(Oi)}static paginationOverride(Oi){return new nr(Oi)}static part(Oi){return new Lr(Oi)}static pcl(Oi){return new An(Oi)}static pdf(Oi){return new kn(Oi)}static pdfa(Oi){return new Ln(Oi)}static permissions(Oi){return new jn(Oi)}static pickTrayByPDFSize(Oi){return new Gn(Oi)}static picture(Oi){return new sr(Oi)}static plaintextMetadata(Oi){return new ir(Oi)}static presence(Oi){return new Bn(Oi)}static present(Oi){return new gr(Oi)}static print(Oi){return new rr(Oi)}static printHighQuality(Oi){return new pr(Oi)}static printScaling(Oi){return new xr(Oi)}static printerName(Oi){return new mr(Oi)}static producer(Oi){return new un(Oi)}static ps(Oi){return new bn(Oi)}static range(Oi){return new Pn(Oi)}static record(Oi){return new Tn(Oi)}static relevant(Oi){return new Jn(Oi)}static rename(Oi){return new yr(Oi)}static renderPolicy(Oi){return new Er(Oi)}static runScripts(Oi){return new wr(Oi)}static script(Oi){return new Sr(Oi)}static scriptModel(Oi){return new Rr(Oi)}static severity(Oi){return new qr(Oi)}static silentPrint(Oi){return new vs(Oi)}static staple(Oi){return new ws(Oi)}static startNode(Oi){return new Hs(Oi)}static startPage(Oi){return new fs(Oi)}static submitFormat(Oi){return new ra(Oi)}static submitUrl(Oi){return new sa(Oi)}static subsetBelow(Oi){return new Ma(Oi)}static suppressBanner(Oi){return new ba(Oi)}static tagged(Oi){return new Ra(Oi)}static template(Oi){return new xa(Oi)}static templateCache(Oi){return new ya(Oi)}static threshold(Oi){return new Ba(Oi)}static to(Oi){return new aa(Oi)}static trace(Oi){return new oa(Oi)}static transform(Oi){return new ja(Oi)}static type(Oi){return new Ts(Oi)}static uri(Oi){return new Qs(Oi)}static validate(Oi){return new Is(Oi)}static validateApprovalSignatures(Oi){return new ca(Oi)}static validationMessaging(Oi){return new rs(Oi)}static version(Oi){return new Ua(Oi)}static versionControl(Oi){return new va(Oi)}static viewerPreferences(Oi){return new Pr(Oi)}static webClient(Oi){return new $a(Oi)}static whitespace(Oi){return new Ha(Oi)}static window(Oi){return new xs(Oi)}static xdc(Oi){return new wa(Oi)}static xdp(Oi){return new Vs(Oi)}static xsl(Oi){return new ea(Oi)}static zpl(Oi){return new Ls(Oi)}}Se.ConfigNamespace=vn},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.ConnectionSetNamespace=void 0;var t=_e(77),xe=_e(75);const Fe=t.NamespaceIds.connectionSet.id;class Te extends xe.XFAObject{constructor(qe){super(Fe,"connectionSet",!0),this.wsdlConnection=new xe.XFAObjectArray,this.xmlConnection=new xe.XFAObjectArray,this.xsdConnection=new xe.XFAObjectArray}}class e extends xe.XFAObject{constructor(qe){super(Fe,"effectiveInputPolicy"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class ke extends xe.XFAObject{constructor(qe){super(Fe,"effectiveOutputPolicy"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Oe extends xe.StringObject{constructor(qe){super(Fe,"operation"),this.id=qe.id||"",this.input=qe.input||"",this.name=qe.name||"",this.output=qe.output||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Ee extends xe.StringObject{constructor(qe){super(Fe,"rootElement"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Pe extends xe.StringObject{constructor(qe){super(Fe,"soapAction"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class De extends xe.StringObject{constructor(qe){super(Fe,"soapAddress"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Me extends xe.StringObject{constructor(qe){super(Fe,"uri"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Ae extends xe.StringObject{constructor(qe){super(Fe,"wsdlAddress"),this.id=qe.id||"",this.name=qe.name||"",this.use=qe.use||"",this.usehref=qe.usehref||""}}class Be extends xe.XFAObject{constructor(qe){super(Fe,"wsdlConnection",!0),this.dataDescription=qe.dataDescription||"",this.name=qe.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class He extends xe.XFAObject{constructor(qe){super(Fe,"xmlConnection",!0),this.dataDescription=qe.dataDescription||"",this.name=qe.name||"",this.uri=null}}class je extends xe.XFAObject{constructor(qe){super(Fe,"xsdConnection",!0),this.dataDescription=qe.dataDescription||"",this.name=qe.name||"",this.rootElement=null,this.uri=null}}class Xe{static[t.$buildXFAObject](qe,Ye){if(Xe.hasOwnProperty(qe))return Xe[qe](Ye)}static connectionSet(qe){return new Te(qe)}static effectiveInputPolicy(qe){return new e(qe)}static effectiveOutputPolicy(qe){return new ke(qe)}static operation(qe){return new Oe(qe)}static rootElement(qe){return new Ee(qe)}static soapAction(qe){return new Pe(qe)}static soapAddress(qe){return new De(qe)}static uri(qe){return new Me(qe)}static wsdlAddress(qe){return new Ae(qe)}static wsdlConnection(qe){return new Be(qe)}static xmlConnection(qe){return new He(qe)}static xsdConnection(qe){return new je(qe)}}Se.ConnectionSetNamespace=Xe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DatasetsNamespace=void 0;var t=_e(75),xe=_e(77);const Fe=xe.NamespaceIds.datasets.id;class Te extends t.XmlObject{constructor(Ee){super(Fe,"data",Ee)}[t.$isNsAgnostic](){return!0}}class e extends t.XFAObject{constructor(Ee){super(Fe,"datasets",!0),this.data=null,this.Signature=null}[t.$onChild](Ee){const Pe=Ee[t.$nodeName];(Pe==="data"&&Ee[t.$namespaceId]===Fe||Pe==="Signature"&&Ee[t.$namespaceId]===xe.NamespaceIds.signature.id)&&(this[Pe]=Ee),this[t.$appendChild](Ee)}}class ke{static[xe.$buildXFAObject](Ee,Pe){if(ke.hasOwnProperty(Ee))return ke[Ee](Pe)}static datasets(Ee){return new e(Ee)}static data(Ee){return new Te(Ee)}}Se.DatasetsNamespace=ke},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.LocaleSetNamespace=void 0;var t=_e(77),xe=_e(75),Fe=_e(76);const Te=t.NamespaceIds.localeSet.id;class e extends xe.XFAObject{constructor(Ke){super(Te,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new xe.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new xe.XFAObjectArray(2)}}class ke extends xe.StringObject{constructor(Ke){super(Te,"currencySymbol"),this.name=(0,Fe.getStringOption)(Ke.name,["symbol","isoname","decimal"])}}class Oe extends xe.XFAObject{constructor(Ke){super(Te,"currencySymbols",!0),this.currencySymbol=new xe.XFAObjectArray(3)}}class Ee extends xe.StringObject{constructor(Ke){super(Te,"datePattern"),this.name=(0,Fe.getStringOption)(Ke.name,["full","long","med","short"])}}class Pe extends xe.XFAObject{constructor(Ke){super(Te,"datePatterns",!0),this.datePattern=new xe.XFAObjectArray(4)}}class De extends xe.ContentObject{constructor(Ke){super(Te,"dateTimeSymbols")}}class Me extends xe.StringObject{constructor(Ke){super(Te,"day")}}class Ae extends xe.XFAObject{constructor(Ke){super(Te,"dayNames",!0),this.abbr=(0,Fe.getInteger)({data:Ke.abbr,defaultValue:0,validate:Ve=>Ve===1}),this.day=new xe.XFAObjectArray(7)}}class Be extends xe.StringObject{constructor(Ke){super(Te,"era")}}class He extends xe.XFAObject{constructor(Ke){super(Te,"eraNames",!0),this.era=new xe.XFAObjectArray(2)}}class je extends xe.XFAObject{constructor(Ke){super(Te,"locale",!0),this.desc=Ke.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Xe extends xe.XFAObject{constructor(Ke){super(Te,"localeSet",!0),this.locale=new xe.XFAObjectArray}}class St extends xe.StringObject{constructor(Ke){super(Te,"meridiem")}}class qe extends xe.XFAObject{constructor(Ke){super(Te,"meridiemNames",!0),this.meridiem=new xe.XFAObjectArray(2)}}class Ye extends xe.StringObject{constructor(Ke){super(Te,"month")}}class gi extends xe.XFAObject{constructor(Ke){super(Te,"monthNames",!0),this.abbr=(0,Fe.getInteger)({data:Ke.abbr,defaultValue:0,validate:Ve=>Ve===1}),this.month=new xe.XFAObjectArray(12)}}class ai extends xe.StringObject{constructor(Ke){super(Te,"numberPattern"),this.name=(0,Fe.getStringOption)(Ke.name,["full","long","med","short"])}}class ui extends xe.XFAObject{constructor(Ke){super(Te,"numberPatterns",!0),this.numberPattern=new xe.XFAObjectArray(4)}}class Qe extends xe.StringObject{constructor(Ke){super(Te,"numberSymbol"),this.name=(0,Fe.getStringOption)(Ke.name,["decimal","grouping","percent","minus","zero"])}}class Ze extends xe.XFAObject{constructor(Ke){super(Te,"numberSymbols",!0),this.numberSymbol=new xe.XFAObjectArray(5)}}class ci extends xe.StringObject{constructor(Ke){super(Te,"timePattern"),this.name=(0,Fe.getStringOption)(Ke.name,["full","long","med","short"])}}class ze extends xe.XFAObject{constructor(Ke){super(Te,"timePatterns",!0),this.timePattern=new xe.XFAObjectArray(4)}}class We extends xe.XFAObject{constructor(Ke){super(Te,"typeFace",!0),this.name=Ke.name|""}}class si extends xe.XFAObject{constructor(Ke){super(Te,"typeFaces",!0),this.typeFace=new xe.XFAObjectArray}}class ni{static[t.$buildXFAObject](Ke,Ve){if(ni.hasOwnProperty(Ke))return ni[Ke](Ve)}static calendarSymbols(Ke){return new e(Ke)}static currencySymbol(Ke){return new ke(Ke)}static currencySymbols(Ke){return new Oe(Ke)}static datePattern(Ke){return new Ee(Ke)}static datePatterns(Ke){return new Pe(Ke)}static dateTimeSymbols(Ke){return new De(Ke)}static day(Ke){return new Me(Ke)}static dayNames(Ke){return new Ae(Ke)}static era(Ke){return new Be(Ke)}static eraNames(Ke){return new He(Ke)}static locale(Ke){return new je(Ke)}static localeSet(Ke){return new Xe(Ke)}static meridiem(Ke){return new St(Ke)}static meridiemNames(Ke){return new qe(Ke)}static month(Ke){return new Ye(Ke)}static monthNames(Ke){return new gi(Ke)}static numberPattern(Ke){return new ai(Ke)}static numberPatterns(Ke){return new ui(Ke)}static numberSymbol(Ke){return new Qe(Ke)}static numberSymbols(Ke){return new Ze(Ke)}static timePattern(Ke){return new ci(Ke)}static timePatterns(Ke){return new ze(Ke)}static typeFace(Ke){return new We(Ke)}static typeFaces(Ke){return new si(Ke)}}Se.LocaleSetNamespace=ni},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.SignatureNamespace=void 0;var t=_e(77),xe=_e(75);const Fe=t.NamespaceIds.signature.id;class Te extends xe.XFAObject{constructor(Oe){super(Fe,"signature",!0)}}class e{static[t.$buildXFAObject](Oe,Ee){if(e.hasOwnProperty(Oe))return e[Oe](Ee)}static signature(Oe){return new Te(Oe)}}Se.SignatureNamespace=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.StylesheetNamespace=void 0;var t=_e(77),xe=_e(75);const Fe=t.NamespaceIds.stylesheet.id;class Te extends xe.XFAObject{constructor(Oe){super(Fe,"stylesheet",!0)}}class e{static[t.$buildXFAObject](Oe,Ee){if(e.hasOwnProperty(Oe))return e[Oe](Ee)}static stylesheet(Oe){return new Te(Oe)}}Se.StylesheetNamespace=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XdpNamespace=void 0;var t=_e(77),xe=_e(75);const Fe=t.NamespaceIds.xdp.id;class Te extends xe.XFAObject{constructor(Oe){super(Fe,"xdp",!0),this.uuid=Oe.uuid||"",this.timeStamp=Oe.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new xe.XFAObjectArray,this.template=null}[xe.$onChildCheck](Oe){const Ee=t.NamespaceIds[Oe[xe.$nodeName]];return Ee&&Oe[xe.$namespaceId]===Ee.id}}class e{static[t.$buildXFAObject](Oe,Ee){if(e.hasOwnProperty(Oe))return e[Oe](Ee)}static xdp(Oe){return new Te(Oe)}}Se.XdpNamespace=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XhtmlNamespace=void 0;var t=_e(75),xe=_e(77),Fe=_e(82),Te=_e(76);const e=xe.NamespaceIds.xhtml.id,ke=Symbol(),Oe=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Ee=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",$e=>$e==="none"?"none":"normal"],["xfa-font-horizontal-scale",$e=>`scaleX(${Math.max(0,Math.min(parseInt($e)/100)).toFixed(2)})`],["xfa-font-vertical-scale",$e=>`scaleY(${Math.max(0,Math.min(parseInt($e)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",($e,Ke)=>($e=Ke.fontSize=(0,Te.getMeasurement)($e),(0,Fe.measureToString)(.99*$e))],["letter-spacing",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["line-height",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["margin",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["margin-bottom",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["margin-left",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["margin-right",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["margin-top",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["text-indent",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))],["font-family",$e=>$e],["vertical-align",$e=>(0,Fe.measureToString)((0,Te.getMeasurement)($e))]]),Pe=/\s+/g,De=/[\r\n]+/g,Me=/\r\n?/g;function Ae($e,Ke,Ve){const Ue=Object.create(null);if(!$e)return Ue;const ti=Object.create(null);for(const[hi,yi]of $e.split(";").map(wi=>wi.split(":",2))){const wi=Ee.get(hi);if(wi==="")continue;let Ci=yi;wi&&(typeof wi=="string"?Ci=wi:Ci=wi(yi,ti)),hi.endsWith("scale")?Ue.transform?Ue.transform=`${Ue[hi]} ${Ci}`:Ue.transform=Ci:Ue[hi.replaceAll(/-([a-zA-Z])/g,(ki,fi)=>fi.toUpperCase())]=Ci}if(Ue.fontFamily&&(0,Fe.setFontFamily)({typeface:Ue.fontFamily,weight:Ue.fontWeight||"normal",posture:Ue.fontStyle||"normal",size:ti.fontSize||0},Ke,Ke[t.$globalData].fontFinder,Ue),Ve&&Ue.verticalAlign&&Ue.verticalAlign!=="0px"&&Ue.fontSize){const wi=(0,Te.getMeasurement)(Ue.fontSize);Ue.fontSize=(0,Fe.measureToString)(wi*.583),Ue.verticalAlign=(0,Fe.measureToString)(Math.sign((0,Te.getMeasurement)(Ue.verticalAlign))*wi*.333)}return Ve&&Ue.fontSize&&(Ue.fontSize=`calc(${Ue.fontSize} * var(--scale-factor))`),(0,Fe.fixTextIndent)(Ue),Ue}function Be($e){return $e.style?$e.style.trim().split(/\s*;\s*/).filter(Ke=>!!Ke).map(Ke=>Ke.split(/\s*:\s*/,2)).filter(([Ke,Ve])=>(Ke==="font-family"&&$e[t.$globalData].usedTypefaces.add(Ve),Oe.has(Ke))).map(Ke=>Ke.join(":")).join(";"):""}const He=new Set(["body","html"]);class je extends t.XmlObject{constructor(Ke,Ve){super(e,Ve),this[ke]=!1,this.style=Ke.style||""}[t.$clean](Ke){super[t.$clean](Ke),this.style=Be(this)}[t.$acceptWhitespace](){return!He.has(this[t.$nodeName])}[t.$onText](Ke,Ve=!1){Ve?this[ke]=!0:(Ke=Ke.replace(De,""),this.style.includes("xfa-spacerun:yes")||(Ke=Ke.replace(Pe," "))),Ke&&(this[t.$content]+=Ke)}[t.$pushGlyphs](Ke,Ve=!0){const Ue=Object.create(null),ti={top:NaN,bottom:NaN,left:NaN,right:NaN};let hi=null;for(const[yi,wi]of this.style.split(";").map(Ci=>Ci.split(":",2)))switch(yi){case"font-family":Ue.typeface=(0,Te.stripQuotes)(wi);break;case"font-size":Ue.size=(0,Te.getMeasurement)(wi);break;case"font-weight":Ue.weight=wi;break;case"font-style":Ue.posture=wi;break;case"letter-spacing":Ue.letterSpacing=(0,Te.getMeasurement)(wi);break;case"margin":const Ci=wi.split(/ \t/).map(ki=>(0,Te.getMeasurement)(ki));switch(Ci.length){case 1:ti.top=ti.bottom=ti.left=ti.right=Ci[0];break;case 2:ti.top=ti.bottom=Ci[0],ti.left=ti.right=Ci[1];break;case 3:ti.top=Ci[0],ti.bottom=Ci[2],ti.left=ti.right=Ci[1];break;case 4:ti.top=Ci[0],ti.left=Ci[1],ti.bottom=Ci[2],ti.right=Ci[3];break}break;case"margin-top":ti.top=(0,Te.getMeasurement)(wi);break;case"margin-bottom":ti.bottom=(0,Te.getMeasurement)(wi);break;case"margin-left":ti.left=(0,Te.getMeasurement)(wi);break;case"margin-right":ti.right=(0,Te.getMeasurement)(wi);break;case"line-height":hi=(0,Te.getMeasurement)(wi);break}if(Ke.pushData(Ue,ti,hi),this[t.$content])Ke.addString(this[t.$content]);else for(const yi of this[t.$getChildren]()){if(yi[t.$nodeName]==="#text"){Ke.addString(yi[t.$content]);continue}yi[t.$pushGlyphs](Ke)}Ve&&Ke.popFont()}[t.$toHTML](Ke){const Ve=[];if(this[t.$extra]={children:Ve},this[t.$childrenToHTML]({}),Ve.length===0&&!this[t.$content])return Te.HTMLResult.EMPTY;let Ue;return this[ke]?Ue=this[t.$content]?this[t.$content].replace(Me,`
`):void 0:Ue=this[t.$content]||void 0,Te.HTMLResult.success({name:this[t.$nodeName],attributes:{href:this.href,style:Ae(this.style,this,this[ke])},children:Ve,value:Ue})}}class Xe extends je{constructor(Ke){super(Ke,"a"),this.href=(0,Fe.fixURL)(Ke.href)||""}}class St extends je{constructor(Ke){super(Ke,"b")}[t.$pushGlyphs](Ke){Ke.pushFont({weight:"bold"}),super[t.$pushGlyphs](Ke),Ke.popFont()}}class qe extends je{constructor(Ke){super(Ke,"body")}[t.$toHTML](Ke){const Ve=super[t.$toHTML](Ke),{html:Ue}=Ve;return Ue?(Ue.name="div",Ue.attributes.class=["xfaRich"],Ve):Te.HTMLResult.EMPTY}}class Ye extends je{constructor(Ke){super(Ke,"br")}[t.$text](){return`
`}[t.$pushGlyphs](Ke){Ke.addString(`
`)}[t.$toHTML](Ke){return Te.HTMLResult.success({name:"br"})}}class gi extends je{constructor(Ke){super(Ke,"html")}[t.$toHTML](Ke){const Ve=[];if(this[t.$extra]={children:Ve},this[t.$childrenToHTML]({}),Ve.length===0)return Te.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[t.$content]||""});if(Ve.length===1){const Ue=Ve[0];if(Ue.attributes&&Ue.attributes.class.includes("xfaRich"))return Te.HTMLResult.success(Ue)}return Te.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:Ve})}}class ai extends je{constructor(Ke){super(Ke,"i")}[t.$pushGlyphs](Ke){Ke.pushFont({posture:"italic"}),super[t.$pushGlyphs](Ke),Ke.popFont()}}class ui extends je{constructor(Ke){super(Ke,"li")}}class Qe extends je{constructor(Ke){super(Ke,"ol")}}class Ze extends je{constructor(Ke){super(Ke,"p")}[t.$pushGlyphs](Ke){super[t.$pushGlyphs](Ke,!1),Ke.addString(`
`),Ke.addPara(),Ke.popFont()}[t.$text](){return this[t.$getParent]()[t.$getChildren]().at(-1)===this?super[t.$text]():super[t.$text]()+`
`}}class ci extends je{constructor(Ke){super(Ke,"span")}}class ze extends je{constructor(Ke){super(Ke,"sub")}}class We extends je{constructor(Ke){super(Ke,"sup")}}class si extends je{constructor(Ke){super(Ke,"ul")}}class ni{static[xe.$buildXFAObject](Ke,Ve){if(ni.hasOwnProperty(Ke))return ni[Ke](Ve)}static a(Ke){return new Xe(Ke)}static b(Ke){return new St(Ke)}static body(Ke){return new qe(Ke)}static br(Ke){return new Ye(Ke)}static html(Ke){return new gi(Ke)}static i(Ke){return new ai(Ke)}static li(Ke){return new ui(Ke)}static ol(Ke){return new Qe(Ke)}static p(Ke){return new Ze(Ke)}static span(Ke){return new ci(Ke)}static sub(Ke){return new ze(Ke)}static sup(Ke){return new We(Ke)}static ul(Ke){return new si(Ke)}}Se.XhtmlNamespace=ni},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.UnknownNamespace=void 0;var t=_e(77),xe=_e(75);class Fe{constructor(e){this.namespaceId=e}[t.$buildXFAObject](e,ke){return new xe.XmlObject(this.namespaceId,e,ke)}}Se.UnknownNamespace=Fe},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.DatasetReader=void 0;var t=_e(2),xe=_e(4),Fe=_e(64);function Te(Oe){try{return(0,t.stringToUTF8String)(Oe)}catch(Ee){return(0,t.warn)(`UTF-8 decoding failed: "${Ee}".`),Oe}}class e extends Fe.SimpleXMLParser{constructor(Ee){super(Ee),this.node=null}onEndElement(Ee){const Pe=super.onEndElement(Ee);if(Pe&&Ee==="xfa:datasets")throw this.node=Pe,new Error("Aborting DatasetXMLParser.")}}class ke{constructor(Ee){if(Ee.datasets)this.node=new Fe.SimpleXMLParser({hasAttributes:!0}).parseFromString(Ee.datasets).documentElement;else{const Pe=new e({hasAttributes:!0});try{Pe.parseFromString(Ee["xdp:xdp"])}catch{}this.node=Pe.node}}getValue(Ee){if(!this.node||!Ee)return"";const Pe=this.node.searchNode((0,xe.parseXFAPath)(Ee),0);if(!Pe)return"";const De=Pe.firstChild;return De&&De.nodeName==="value"?Pe.children.map(Me=>Te(Me.textContent)):Te(Pe.textContent)}}Se.DatasetReader=ke},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.XRef=void 0;var t=_e(2),xe=_e(3),Fe=_e(4),Te=_e(15),e=_e(5),ke=_e(65);class Oe{constructor(Pe,De){this.stream=Pe,this.pdfManager=De,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new xe.RefSet,this.stats=new Fe.DocStats(De.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),xe.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(Pe){this.startXRefQueue=[Pe]}parse(Pe=!1){let De;Pe?((0,t.warn)("Indexing all PDF objects"),De=this.indexObjects()):De=this.readXRef(),De.assignXref(this),this.trailer=De;let Me;try{Me=De.get("Encrypt")}catch(Be){if(Be instanceof Fe.MissingDataException)throw Be;(0,t.warn)(`XRef.parse - Invalid "Encrypt" reference: "${Be}".`)}if(Me instanceof xe.Dict){const Be=De.get("ID"),He=Be&&Be.length?Be[0]:"";Me.suppressEncryption=!0,this.encrypt=new ke.CipherTransformFactory(Me,He,this.pdfManager.password)}let Ae;try{Ae=De.get("Root")}catch(Be){if(Be instanceof Fe.MissingDataException)throw Be;(0,t.warn)(`XRef.parse - Invalid "Root" reference: "${Be}".`)}if(Ae instanceof xe.Dict)try{if(Ae.get("Pages")instanceof xe.Dict){this.root=Ae;return}}catch(Be){if(Be instanceof Fe.MissingDataException)throw Be;(0,t.warn)(`XRef.parse - Invalid "Pages" reference: "${Be}".`)}throw Pe?new t.InvalidPDFException("Invalid Root reference."):new Fe.XRefParseException}processXRefTable(Pe){"tableState"in this||(this.tableState={entryNum:0,streamPos:Pe.lexer.stream.pos,parserBuf1:Pe.buf1,parserBuf2:Pe.buf2});const De=this.readXRefTable(Pe);if(!(0,xe.isCmd)(De,"trailer"))throw new t.FormatError("Invalid XRef table: could not find trailer dictionary");let Me=Pe.getObj();if(!(Me instanceof xe.Dict)&&Me.dict&&(Me=Me.dict),!(Me instanceof xe.Dict))throw new t.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,Me}readXRefTable(Pe){const De=Pe.lexer.stream,Me=this.tableState;De.pos=Me.streamPos,Pe.buf1=Me.parserBuf1,Pe.buf2=Me.parserBuf2;let Ae;for(;;){if(!("firstEntryNum"in Me)||!("entryCount"in Me)){if((0,xe.isCmd)(Ae=Pe.getObj(),"trailer"))break;Me.firstEntryNum=Ae,Me.entryCount=Pe.getObj()}let Be=Me.firstEntryNum;const He=Me.entryCount;if(!Number.isInteger(Be)||!Number.isInteger(He))throw new t.FormatError("Invalid XRef table: wrong types in subsection header");for(let je=Me.entryNum;je<He;je++){Me.streamPos=De.pos,Me.entryNum=je,Me.parserBuf1=Pe.buf1,Me.parserBuf2=Pe.buf2;const Xe={};Xe.offset=Pe.getObj(),Xe.gen=Pe.getObj();const St=Pe.getObj();if(St instanceof xe.Cmd)switch(St.cmd){case"f":Xe.free=!0;break;case"n":Xe.uncompressed=!0;break}if(!Number.isInteger(Xe.offset)||!Number.isInteger(Xe.gen)||!(Xe.free||Xe.uncompressed))throw new t.FormatError(`Invalid entry in XRef subsection: ${Be}, ${He}`);je===0&&Xe.free&&Be===1&&(Be=0),this.entries[je+Be]||(this.entries[je+Be]=Xe)}Me.entryNum=0,Me.streamPos=De.pos,Me.parserBuf1=Pe.buf1,Me.parserBuf2=Pe.buf2,delete Me.firstEntryNum,delete Me.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new t.FormatError("Invalid XRef table: unexpected first object");return Ae}processXRefStream(Pe){if(!("streamState"in this)){const De=Pe.dict,Me=De.get("W");let Ae=De.get("Index");Ae||(Ae=[0,De.get("Size")]),this.streamState={entryRanges:Ae,byteWidths:Me,entryNum:0,streamPos:Pe.pos}}return this.readXRefStream(Pe),delete this.streamState,Pe.dict}readXRefStream(Pe){const De=this.streamState;Pe.pos=De.streamPos;const[Me,Ae,Be]=De.byteWidths,He=De.entryRanges;for(;He.length>0;){const[je,Xe]=He;if(!Number.isInteger(je)||!Number.isInteger(Xe))throw new t.FormatError(`Invalid XRef range fields: ${je}, ${Xe}`);if(!Number.isInteger(Me)||!Number.isInteger(Ae)||!Number.isInteger(Be))throw new t.FormatError(`Invalid XRef entry fields length: ${je}, ${Xe}`);for(let St=De.entryNum;St<Xe;++St){De.entryNum=St,De.streamPos=Pe.pos;let qe=0,Ye=0,gi=0;for(let ui=0;ui<Me;++ui){const Qe=Pe.getByte();if(Qe===-1)throw new t.FormatError("Invalid XRef byteWidths 'type'.");qe=qe<<8|Qe}Me===0&&(qe=1);for(let ui=0;ui<Ae;++ui){const Qe=Pe.getByte();if(Qe===-1)throw new t.FormatError("Invalid XRef byteWidths 'offset'.");Ye=Ye<<8|Qe}for(let ui=0;ui<Be;++ui){const Qe=Pe.getByte();if(Qe===-1)throw new t.FormatError("Invalid XRef byteWidths 'generation'.");gi=gi<<8|Qe}const ai={};switch(ai.offset=Ye,ai.gen=gi,qe){case 0:ai.free=!0;break;case 1:ai.uncompressed=!0;break;case 2:break;default:throw new t.FormatError(`Invalid XRef entry type: ${qe}`)}this.entries[je+St]||(this.entries[je+St]=ai)}De.entryNum=0,De.streamPos=Pe.pos,He.splice(0,2)}}indexObjects(){function je(Ue,ti){let hi="",yi=Ue[ti];for(;yi!==10&&yi!==13&&yi!==60&&!(++ti>=Ue.length);)hi+=String.fromCharCode(yi),yi=Ue[ti];return hi}function Xe(Ue,ti,hi){const yi=hi.length,wi=Ue.length;let Ci=0;for(;ti<wi;){let ki=0;for(;ki<yi&&Ue[ti+ki]===hi[ki];)++ki;if(ki>=yi)break;ti++,Ci++}return Ci}const St=/^(\d+)\s+(\d+)\s+obj\b/,qe=/\bendobj[\b\s]$/,Ye=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,gi=25,ai=new Uint8Array([116,114,97,105,108,101,114]),ui=new Uint8Array([115,116,97,114,116,120,114,101,102]),Qe=new Uint8Array([111,98,106]),Ze=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const ci=this.stream;ci.pos=0;const ze=ci.getBytes(),We=ze.length;let si=ci.start;const ni=[],$e=[];for(;si<We;){let Ue=ze[si];if(Ue===9||Ue===10||Ue===13||Ue===32){++si;continue}if(Ue===37){do{if(++si,si>=We)break;Ue=ze[si]}while(Ue!==10&&Ue!==13);continue}const ti=je(ze,si);let hi;if(ti.startsWith("xref")&&(ti.length===4||/\s/.test(ti[4])))si+=Xe(ze,si,ai),ni.push(si),si+=Xe(ze,si,ui);else if(hi=St.exec(ti)){const yi=hi[1]|0,wi=hi[2]|0;let Ci,ki=si+ti.length,fi=!1;if(!this.entries[yi])fi=!0;else if(this.entries[yi].gen===wi)try{new Te.Parser({lexer:new Te.Lexer(ci.makeSubStream(ki))}).getObj(),fi=!0}catch(pi){pi instanceof Fe.ParserEOFException?(0,t.warn)(`indexObjects -- checking object (${ti}): "${pi}".`):fi=!0}for(fi&&(this.entries[yi]={offset:si-ci.start,gen:wi,uncompressed:!0});ki<ze.length;){const pi=ki+Xe(ze,ki,Qe)+4;Ci=pi-si;const ri=Math.max(pi-gi,ki),oi=(0,t.bytesToString)(ze.subarray(ri,pi));if(qe.test(oi))break;{const di=Ye.exec(oi);if(di&&di[1]){(0,t.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),Ci-=di[1].length;break}}ki=pi}const xi=ze.subarray(si,si+Ci),li=Xe(xi,0,Ze);li<Ci&&xi[li+5]<64&&($e.push(si-ci.start),this.xrefstms[si-ci.start]=1),si+=Ci}else ti.startsWith("trailer")&&(ti.length===7||/\s/.test(ti[7]))?(ni.push(si),si+=Xe(ze,si,ui)):si+=ti.length+1}for(const Ue of $e)this.startXRefQueue.push(Ue),this.readXRef(!0);let Ke,Ve;for(const Ue of[...ni,"generationFallback",...ni]){if(Ue==="generationFallback"){if(!Ve)break;this._generationFallback=!0;continue}ci.pos=Ue;const ti=new Te.Parser({lexer:new Te.Lexer(ci),xref:this,allowStreams:!0,recoveryMode:!0}),hi=ti.getObj();if(!(0,xe.isCmd)(hi,"trailer"))continue;const yi=ti.getObj();if(!(yi instanceof xe.Dict))continue;let wi=!1;try{const Ci=yi.get("Root");if(!(Ci instanceof xe.Dict))continue;const ki=Ci.get("Pages");if(!(ki instanceof xe.Dict))continue;const fi=ki.get("Count");Number.isInteger(fi)&&(wi=!0)}catch(Ci){Ve=Ci;continue}if(wi&&yi.has("ID"))return yi;Ke=yi}if(Ke)return Ke;if(this.topDict)return this.topDict;throw new t.InvalidPDFException("Invalid PDF structure.")}readXRef(Pe=!1){const De=this.stream,Me=new Set;try{for(;this.startXRefQueue.length;){const Ae=this.startXRefQueue[0];if(Me.has(Ae)){(0,t.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}Me.add(Ae),De.pos=Ae+De.start;const Be=new Te.Parser({lexer:new Te.Lexer(De),xref:this,allowStreams:!0});let He=Be.getObj(),je;if((0,xe.isCmd)(He,"xref")){if(je=this.processXRefTable(Be),this.topDict||(this.topDict=je),He=je.get("XRefStm"),Number.isInteger(He)){const Xe=He;Xe in this.xrefstms||(this.xrefstms[Xe]=1,this.startXRefQueue.push(Xe))}}else if(Number.isInteger(He)){if(!Number.isInteger(Be.getObj())||!(0,xe.isCmd)(Be.getObj(),"obj")||!((He=Be.getObj())instanceof e.BaseStream))throw new t.FormatError("Invalid XRef stream");if(je=this.processXRefStream(He),this.topDict||(this.topDict=je),!je)throw new t.FormatError("Failed to read XRef stream")}else throw new t.FormatError("Invalid XRef stream header");He=je.get("Prev"),Number.isInteger(He)?this.startXRefQueue.push(He):He instanceof xe.Ref&&this.startXRefQueue.push(He.num),this.startXRefQueue.shift()}return this.topDict}catch(Ae){if(Ae instanceof Fe.MissingDataException)throw Ae;(0,t.info)("(while reading XRef): "+Ae),this.startXRefQueue.shift()}if(!Pe)throw new Fe.XRefParseException}getEntry(Pe){const De=this.entries[Pe];return De&&!De.free&&De.offset?De:null}fetchIfRef(Pe,De=!1){return Pe instanceof xe.Ref?this.fetch(Pe,De):Pe}fetch(Pe,De=!1){if(!(Pe instanceof xe.Ref))throw new Error("ref object is not a reference");const Me=Pe.num,Ae=this._cacheMap.get(Me);if(Ae!==void 0)return Ae instanceof xe.Dict&&!Ae.objId&&(Ae.objId=Pe.toString()),Ae;let Be=this.getEntry(Me);if(Be===null)return this._cacheMap.set(Me,Be),Be;if(this._pendingRefs.has(Pe))return this._pendingRefs.remove(Pe),(0,t.warn)(`Ignoring circular reference: ${Pe}.`),xe.CIRCULAR_REF;this._pendingRefs.put(Pe);try{Be.uncompressed?Be=this.fetchUncompressed(Pe,Be,De):Be=this.fetchCompressed(Pe,Be,De),this._pendingRefs.remove(Pe)}catch(He){throw this._pendingRefs.remove(Pe),He}return Be instanceof xe.Dict?Be.objId=Pe.toString():Be instanceof e.BaseStream&&(Be.dict.objId=Pe.toString()),Be}fetchUncompressed(Pe,De,Me=!1){const Ae=Pe.gen;let Be=Pe.num;if(De.gen!==Ae){const Ye=`Inconsistent generation in XRef: ${Pe}`;if(this._generationFallback&&De.gen<Ae)return(0,t.warn)(Ye),this.fetchUncompressed(xe.Ref.get(Be,De.gen),De,Me);throw new Fe.XRefEntryException(Ye)}const He=this.stream.makeSubStream(De.offset+this.stream.start),je=new Te.Parser({lexer:new Te.Lexer(He),xref:this,allowStreams:!0}),Xe=je.getObj(),St=je.getObj(),qe=je.getObj();if(Xe!==Be||St!==Ae||!(qe instanceof xe.Cmd))throw new Fe.XRefEntryException(`Bad (uncompressed) XRef entry: ${Pe}`);if(qe.cmd!=="obj"){if(qe.cmd.startsWith("obj")&&(Be=parseInt(qe.cmd.substring(3),10),!Number.isNaN(Be)))return Be;throw new Fe.XRefEntryException(`Bad (uncompressed) XRef entry: ${Pe}`)}return this.encrypt&&!Me?De=je.getObj(this.encrypt.createCipherTransform(Be,Ae)):De=je.getObj(),De instanceof e.BaseStream||this._cacheMap.set(Be,De),De}fetchCompressed(Pe,De,Me=!1){const Ae=De.offset,Be=this.fetch(xe.Ref.get(Ae,0));if(!(Be instanceof e.BaseStream))throw new t.FormatError("bad ObjStm stream");const He=Be.dict.get("First"),je=Be.dict.get("N");if(!Number.isInteger(He)||!Number.isInteger(je))throw new t.FormatError("invalid first and n parameters for ObjStm stream");let Xe=new Te.Parser({lexer:new Te.Lexer(Be),xref:this,allowStreams:!0});const St=new Array(je),qe=new Array(je);for(let ai=0;ai<je;++ai){const ui=Xe.getObj();if(!Number.isInteger(ui))throw new t.FormatError(`invalid object number in the ObjStm stream: ${ui}`);const Qe=Xe.getObj();if(!Number.isInteger(Qe))throw new t.FormatError(`invalid object offset in the ObjStm stream: ${Qe}`);St[ai]=ui,qe[ai]=Qe}const Ye=(Be.start||0)+He,gi=new Array(je);for(let ai=0;ai<je;++ai){const ui=ai<je-1?qe[ai+1]-qe[ai]:void 0;if(ui<0)throw new t.FormatError("Invalid offset in the ObjStm stream.");Xe=new Te.Parser({lexer:new Te.Lexer(Be.makeSubStream(Ye+qe[ai],ui,Be.dict)),xref:this,allowStreams:!0});const Qe=Xe.getObj();if(gi[ai]=Qe,Qe instanceof e.BaseStream)continue;const Ze=St[ai],ci=this.entries[Ze];ci&&ci.offset===Ae&&ci.gen===ai&&this._cacheMap.set(Ze,Qe)}if(De=gi[De.gen],De===void 0)throw new Fe.XRefEntryException(`Bad (compressed) XRef entry: ${Pe}`);return De}async fetchIfRefAsync(Pe,De){return Pe instanceof xe.Ref?this.fetchAsync(Pe,De):Pe}async fetchAsync(Pe,De){try{return this.fetch(Pe,De)}catch(Me){if(!(Me instanceof Fe.MissingDataException))throw Me;return await this.pdfManager.requestRange(Me.begin,Me.end),this.fetchAsync(Pe,De)}}getCatalogObj(){return this.root}}Se.XRef=Oe},(ii,Se)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.isNodeJS=void 0;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Se.isNodeJS=_e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.MessageHandler=void 0;var t=_e(2);const xe={UNKNOWN:0,DATA:1,ERROR:2},Fe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Te(ke){switch(ke instanceof Error||typeof ke=="object"&&ke!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ke.name){case"AbortException":return new t.AbortException(ke.message);case"MissingPDFException":return new t.MissingPDFException(ke.message);case"PasswordException":return new t.PasswordException(ke.message,ke.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(ke.message,ke.status);case"UnknownErrorException":return new t.UnknownErrorException(ke.message,ke.details);default:return new t.UnknownErrorException(ke.message,ke.toString())}}class e{constructor(Oe,Ee,Pe){this.sourceName=Oe,this.targetName=Ee,this.comObj=Pe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=De=>{const Me=De.data;if(Me.targetName!==this.sourceName)return;if(Me.stream){this._processStreamMessage(Me);return}if(Me.callback){const Be=Me.callbackId,He=this.callbackCapabilities[Be];if(!He)throw new Error(`Cannot resolve callback ${Be}`);if(delete this.callbackCapabilities[Be],Me.callback===xe.DATA)He.resolve(Me.data);else if(Me.callback===xe.ERROR)He.reject(Te(Me.reason));else throw new Error("Unexpected callback case");return}const Ae=this.actionHandler[Me.action];if(!Ae)throw new Error(`Unknown action from worker: ${Me.action}`);if(Me.callbackId){const Be=this.sourceName,He=Me.sourceName;new Promise(function(je){je(Ae(Me.data))}).then(function(je){Pe.postMessage({sourceName:Be,targetName:He,callback:xe.DATA,callbackId:Me.callbackId,data:je})},function(je){Pe.postMessage({sourceName:Be,targetName:He,callback:xe.ERROR,callbackId:Me.callbackId,reason:Te(je)})});return}if(Me.streamId){this._createStreamSink(Me);return}Ae(Me.data)},Pe.addEventListener("message",this._onComObjOnMessage)}on(Oe,Ee){const Pe=this.actionHandler;if(Pe[Oe])throw new Error(`There is already an actionName called "${Oe}"`);Pe[Oe]=Ee}send(Oe,Ee,Pe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Oe,data:Ee},Pe)}sendWithPromise(Oe,Ee,Pe){const De=this.callbackId++,Me=(0,t.createPromiseCapability)();this.callbackCapabilities[De]=Me;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Oe,callbackId:De,data:Ee},Pe)}catch(Ae){Me.reject(Ae)}return Me.promise}sendWithStream(Oe,Ee,Pe,De){const Me=this.streamId++,Ae=this.sourceName,Be=this.targetName,He=this.comObj;return new ReadableStream({start:je=>{const Xe=(0,t.createPromiseCapability)();return this.streamControllers[Me]={controller:je,startCall:Xe,pullCall:null,cancelCall:null,isClosed:!1},He.postMessage({sourceName:Ae,targetName:Be,action:Oe,streamId:Me,data:Ee,desiredSize:je.desiredSize},De),Xe.promise},pull:je=>{const Xe=(0,t.createPromiseCapability)();return this.streamControllers[Me].pullCall=Xe,He.postMessage({sourceName:Ae,targetName:Be,stream:Fe.PULL,streamId:Me,desiredSize:je.desiredSize}),Xe.promise},cancel:je=>{(0,t.assert)(je instanceof Error,"cancel must have a valid reason");const Xe=(0,t.createPromiseCapability)();return this.streamControllers[Me].cancelCall=Xe,this.streamControllers[Me].isClosed=!0,He.postMessage({sourceName:Ae,targetName:Be,stream:Fe.CANCEL,streamId:Me,reason:Te(je)}),Xe.promise}},Pe)}_createStreamSink(Oe){const Ee=Oe.streamId,Pe=this.sourceName,De=Oe.sourceName,Me=this.comObj,Ae=this,Be=this.actionHandler[Oe.action],He={enqueue(je,Xe=1,St){if(this.isCancelled)return;const qe=this.desiredSize;this.desiredSize-=Xe,qe>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.ENQUEUE,streamId:Ee,chunk:je},St)},close(){this.isCancelled||(this.isCancelled=!0,Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.CLOSE,streamId:Ee}),delete Ae.streamSinks[Ee])},error(je){(0,t.assert)(je instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.ERROR,streamId:Ee,reason:Te(je)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Oe.desiredSize,ready:null};He.sinkCapability.resolve(),He.ready=He.sinkCapability.promise,this.streamSinks[Ee]=He,new Promise(function(je){je(Be(Oe.data,He))}).then(function(){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.START_COMPLETE,streamId:Ee,success:!0})},function(je){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.START_COMPLETE,streamId:Ee,reason:Te(je)})})}_processStreamMessage(Oe){const Ee=Oe.streamId,Pe=this.sourceName,De=Oe.sourceName,Me=this.comObj,Ae=this.streamControllers[Ee],Be=this.streamSinks[Ee];switch(Oe.stream){case Fe.START_COMPLETE:Oe.success?Ae.startCall.resolve():Ae.startCall.reject(Te(Oe.reason));break;case Fe.PULL_COMPLETE:Oe.success?Ae.pullCall.resolve():Ae.pullCall.reject(Te(Oe.reason));break;case Fe.PULL:if(!Be){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.PULL_COMPLETE,streamId:Ee,success:!0});break}Be.desiredSize<=0&&Oe.desiredSize>0&&Be.sinkCapability.resolve(),Be.desiredSize=Oe.desiredSize,new Promise(function(He){He(Be.onPull&&Be.onPull())}).then(function(){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.PULL_COMPLETE,streamId:Ee,success:!0})},function(He){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.PULL_COMPLETE,streamId:Ee,reason:Te(He)})});break;case Fe.ENQUEUE:if((0,t.assert)(Ae,"enqueue should have stream controller"),Ae.isClosed)break;Ae.controller.enqueue(Oe.chunk);break;case Fe.CLOSE:if((0,t.assert)(Ae,"close should have stream controller"),Ae.isClosed)break;Ae.isClosed=!0,Ae.controller.close(),this._deleteStreamController(Ae,Ee);break;case Fe.ERROR:(0,t.assert)(Ae,"error should have stream controller"),Ae.controller.error(Te(Oe.reason)),this._deleteStreamController(Ae,Ee);break;case Fe.CANCEL_COMPLETE:Oe.success?Ae.cancelCall.resolve():Ae.cancelCall.reject(Te(Oe.reason)),this._deleteStreamController(Ae,Ee);break;case Fe.CANCEL:if(!Be)break;new Promise(function(He){He(Be.onCancel&&Be.onCancel(Te(Oe.reason)))}).then(function(){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.CANCEL_COMPLETE,streamId:Ee,success:!0})},function(He){Me.postMessage({sourceName:Pe,targetName:De,stream:Fe.CANCEL_COMPLETE,streamId:Ee,reason:Te(He)})}),Be.sinkCapability.reject(Te(Oe.reason)),Be.isCancelled=!0,delete this.streamSinks[Ee];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(Oe,Ee){await Promise.allSettled([Oe.startCall&&Oe.startCall.promise,Oe.pullCall&&Oe.pullCall.promise,Oe.cancelCall&&Oe.cancelCall.promise]),delete this.streamControllers[Ee]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Se.MessageHandler=e},(ii,Se,_e)=>{Object.defineProperty(Se,"__esModule",{value:!0}),Se.PDFWorkerStream=void 0;var t=_e(2);class xe{constructor(ke){this._msgHandler=ke,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Fe(this._msgHandler),this._fullRequestReader}getRangeReader(ke,Oe){const Ee=new Te(ke,Oe,this._msgHandler);return this._rangeRequestReaders.push(Ee),Ee}cancelAllRequests(ke){this._fullRequestReader&&this._fullRequestReader.cancel(ke);for(const Oe of this._rangeRequestReaders.slice(0))Oe.cancel(ke)}}Se.PDFWorkerStream=xe;class Fe{constructor(ke){this._msgHandler=ke,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Oe=this._msgHandler.sendWithStream("GetReader");this._reader=Oe.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(Ee=>{this._isStreamingSupported=Ee.isStreamingSupported,this._isRangeSupported=Ee.isRangeSupported,this._contentLength=Ee.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:ke,done:Oe}=await this._reader.read();return Oe?{value:void 0,done:!0}:{value:ke.buffer,done:!1}}cancel(ke){this._reader.cancel(ke)}}class Te{constructor(ke,Oe,Ee){this._msgHandler=Ee,this.onProgress=null;const Pe=this._msgHandler.sendWithStream("GetRangeReader",{begin:ke,end:Oe});this._reader=Pe.getReader()}get isStreamingSupported(){return!1}async read(){const{value:ke,done:Oe}=await this._reader.read();return Oe?{value:void 0,done:!0}:{value:ke.buffer,done:!1}}cancel(ke){this._reader.cancel(ke)}}}],Re={};function Ge(ii){var Se=Re[ii];if(Se!==void 0)return Se.exports;var _e=Re[ii]={exports:{}};return Ie[ii](_e,_e.exports,Ge),_e.exports}Ge.d=(ii,Se)=>{for(var _e in Se)Ge.o(Se,_e)&&!Ge.o(ii,_e)&&Object.defineProperty(ii,_e,{enumerable:!0,get:Se[_e]})},Ge.o=(ii,Se)=>Object.prototype.hasOwnProperty.call(ii,Se),Ge.r=ii=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ii,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ii,"__esModule",{value:!0})};var Je={};return(()=>{var ii=Je;Object.defineProperty(ii,"__esModule",{value:!0}),Object.defineProperty(ii,"WorkerMessageHandler",{enumerable:!0,get:function(){return Se.WorkerMessageHandler}});var Se=Ge(1)})(),Je})())})(pdf_worker);(typeof window<"u"?window:{}).pdfjsWorker=pdf_worker.exports;const pdfjsWorker=_mergeNamespaces({__proto__:null,default:pdf_worker_entry},[pdf_worker_entry]),pdf_viewer="";var fabric={};(function(Ce){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var r=r||{version:"5.2.4"};if(Ce.fabric=r,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?r.document=document:r.document=document.implementation.createHTMLDocument(""),r.window=window;else{var Ie=require$$2,Re=new Ie.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;r.document=Re.document,r.jsdomImplForWrapper=require$$2.implForWrapper,r.nodeCanvas=require$$2.Canvas,r.window=Re,DOMParser=r.window.DOMParser}r.isTouchSupported="ontouchstart"in r.window||"ontouchstart"in r.document||r.window&&r.window.navigator&&r.window.navigator.maxTouchPoints>0,r.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",r.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],r.DPI=96,r.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",r.commaWsp="(?:\\s+,?\\s*|,\\s*)",r.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,r.reNonWord=/[ \n\.,;!\?\-]/,r.fontPaths={},r.iMatrix=[1,0,0,1,0,0],r.svgNS="http://www.w3.org/2000/svg",r.perfLimitSizeTotal=2097152,r.maxCacheSideLimit=4096,r.minCacheSideLimit=256,r.charWidthsCache={},r.textureSize=2048,r.disableStyleCopyPaste=!1,r.enableGLFiltering=!0,r.devicePixelRatio=r.window.devicePixelRatio||r.window.webkitDevicePixelRatio||r.window.mozDevicePixelRatio||1,r.browserShadowBlurConstant=1,r.arcToSegmentsCache={},r.boundsOfCurveCache={},r.cachesBoundsOfCurve=!0,r.forceGLPutImageData=!1,r.initFilterBackend=function(){if(r.enableGLFiltering&&r.isWebglSupported&&r.isWebglSupported(r.textureSize))return console.log("max texture size: "+r.maxTextureSize),new r.WebglFilterBackend({tileSize:r.textureSize});if(r.Canvas2dFilterBackend)return new r.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=r),function(){function Se(e,ke){if(!!this.__eventListeners[e]){var Oe=this.__eventListeners[e];ke?Oe[Oe.indexOf(ke)]=!1:r.util.array.fill(Oe,!1)}}function _e(e,ke){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var Oe in e)this.on(Oe,e[Oe]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(ke);return this}function t(e,ke){var Oe=function(){ke.apply(this,arguments),this.off(e,Oe)}.bind(this);this.on(e,Oe)}function xe(e,ke){if(arguments.length===1)for(var Oe in e)t.call(this,Oe,e[Oe]);else t.call(this,e,ke);return this}function Fe(e,ke){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)Se.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var Oe in e)Se.call(this,Oe,e[Oe]);else Se.call(this,e,ke);return this}function Te(e,ke){if(!this.__eventListeners)return this;var Oe=this.__eventListeners[e];if(!Oe)return this;for(var Ee=0,Pe=Oe.length;Ee<Pe;Ee++)Oe[Ee]&&Oe[Ee].call(this,ke||{});return this.__eventListeners[e]=Oe.filter(function(De){return De!==!1}),this}r.Observable={fire:Te,on:_e,once:xe,off:Fe}}(),r.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var Se=0,_e=arguments.length;Se<_e;Se++)this._onObjectAdded(arguments[Se]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(Se,_e,t){var xe=this._objects;return t?xe[_e]=Se:xe.splice(_e,0,Se),this._onObjectAdded&&this._onObjectAdded(Se),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var Se=this._objects,_e,t=!1,xe=0,Fe=arguments.length;xe<Fe;xe++)_e=Se.indexOf(arguments[xe]),_e!==-1&&(t=!0,Se.splice(_e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[xe]));return this.renderOnAddRemove&&t&&this.requestRenderAll(),this},forEachObject:function(Se,_e){for(var t=this.getObjects(),xe=0,Fe=t.length;xe<Fe;xe++)Se.call(_e,t[xe],xe,t);return this},getObjects:function(Se){return typeof Se>"u"?this._objects.concat():this._objects.filter(function(_e){return _e.type===Se})},item:function(Se){return this._objects[Se]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(Se,_e){return this._objects.indexOf(Se)>-1?!0:_e?this._objects.some(function(t){return typeof t.contains=="function"&&t.contains(Se,!0)}):!1},complexity:function(){return this._objects.reduce(function(Se,_e){return Se+=_e.complexity?_e.complexity():0,Se},0)}},r.CommonMethods={_setOptions:function(Se){for(var _e in Se)this.set(_e,Se[_e])},_initGradient:function(Se,_e){Se&&Se.colorStops&&!(Se instanceof r.Gradient)&&this.set(_e,new r.Gradient(Se))},_initPattern:function(Se,_e,t){Se&&Se.source&&!(Se instanceof r.Pattern)?this.set(_e,new r.Pattern(Se,t)):t&&t()},_setObject:function(Se){for(var _e in Se)this._set(_e,Se[_e])},set:function(Se,_e){return typeof Se=="object"?this._setObject(Se):this._set(Se,_e),this},_set:function(Se,_e){this[Se]=_e},toggle:function(Se){var _e=this.get(Se);return typeof _e=="boolean"&&this.set(Se,!_e),this},get:function(Se){return this[Se]}},function(Se){var _e=Math.sqrt,t=Math.atan2,xe=Math.pow,Fe=Math.PI/180,Te=Math.PI/2;r.util={cos:function(e){if(e===0)return 1;e<0&&(e=-e);var ke=e/Te;switch(ke){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(e===0)return 0;var ke=e/Te,Oe=1;switch(e<0&&(Oe=-1),ke){case 1:return Oe;case 2:return 0;case 3:return-Oe}return Math.sin(e)},removeFromArray:function(e,ke){var Oe=e.indexOf(ke);return Oe!==-1&&e.splice(Oe,1),e},getRandomInt:function(e,ke){return Math.floor(Math.random()*(ke-e+1))+e},degreesToRadians:function(e){return e*Fe},radiansToDegrees:function(e){return e/Fe},rotatePoint:function(e,ke,Oe){var Ee=new r.Point(e.x-ke.x,e.y-ke.y),Pe=r.util.rotateVector(Ee,Oe);return new r.Point(Pe.x,Pe.y).addEquals(ke)},rotateVector:function(e,ke){var Oe=r.util.sin(ke),Ee=r.util.cos(ke),Pe=e.x*Ee-e.y*Oe,De=e.x*Oe+e.y*Ee;return{x:Pe,y:De}},createVector:function(e,ke){return new r.Point(ke.x-e.x,ke.y-e.y)},calcAngleBetweenVectors:function(e,ke){return Math.acos((e.x*ke.x+e.y*ke.y)/(Math.hypot(e.x,e.y)*Math.hypot(ke.x,ke.y)))},getHatVector:function(e){return new r.Point(e.x,e.y).multiply(1/Math.hypot(e.x,e.y))},getBisector:function(e,ke,Oe){var Ee=r.util.createVector(e,ke),Pe=r.util.createVector(e,Oe),De=r.util.calcAngleBetweenVectors(Ee,Pe),Me=r.util.calcAngleBetweenVectors(r.util.rotateVector(Ee,De),Pe),Ae=De*(Me===0?1:-1)/2;return{vector:r.util.getHatVector(r.util.rotateVector(Ee,Ae)),angle:De}},projectStrokeOnPoints:function(e,ke,Oe){var Ee=[],Pe=ke.strokeWidth/2,De=ke.strokeUniform?new r.Point(1/ke.scaleX,1/ke.scaleY):new r.Point(1,1),Me=function(Ae){var Be=Pe/Math.hypot(Ae.x,Ae.y);return new r.Point(Ae.x*Be*De.x,Ae.y*Be*De.y)};return e.length<=1||e.forEach(function(Ae,Be){var He=new r.Point(Ae.x,Ae.y),je,Xe;Be===0?(Xe=e[Be+1],je=Oe?Me(r.util.createVector(Xe,He)).addEquals(He):e[e.length-1]):Be===e.length-1?(je=e[Be-1],Xe=Oe?Me(r.util.createVector(je,He)).addEquals(He):e[0]):(je=e[Be-1],Xe=e[Be+1]);var St=r.util.getBisector(He,je,Xe),qe=St.vector,Ye=St.angle,gi,ai;if(ke.strokeLineJoin==="miter"&&(gi=-Pe/Math.sin(Ye/2),ai=new r.Point(qe.x*gi*De.x,qe.y*gi*De.y),Math.hypot(ai.x,ai.y)/Pe<=ke.strokeMiterLimit)){Ee.push(He.add(ai)),Ee.push(He.subtract(ai));return}gi=-Pe*Math.SQRT2,ai=new r.Point(qe.x*gi*De.x,qe.y*gi*De.y),Ee.push(He.add(ai)),Ee.push(He.subtract(ai))}),Ee},transformPoint:function(e,ke,Oe){return Oe?new r.Point(ke[0]*e.x+ke[2]*e.y,ke[1]*e.x+ke[3]*e.y):new r.Point(ke[0]*e.x+ke[2]*e.y+ke[4],ke[1]*e.x+ke[3]*e.y+ke[5])},makeBoundingBoxFromPoints:function(e,ke){if(ke)for(var Oe=0;Oe<e.length;Oe++)e[Oe]=r.util.transformPoint(e[Oe],ke);var Ee=[e[0].x,e[1].x,e[2].x,e[3].x],Pe=r.util.array.min(Ee),De=r.util.array.max(Ee),Me=De-Pe,Ae=[e[0].y,e[1].y,e[2].y,e[3].y],Be=r.util.array.min(Ae),He=r.util.array.max(Ae),je=He-Be;return{left:Pe,top:Be,width:Me,height:je}},invertTransform:function(e){var ke=1/(e[0]*e[3]-e[1]*e[2]),Oe=[ke*e[3],-ke*e[1],-ke*e[2],ke*e[0]],Ee=r.util.transformPoint({x:e[4],y:e[5]},Oe,!0);return Oe[4]=-Ee.x,Oe[5]=-Ee.y,Oe},toFixed:function(e,ke){return parseFloat(Number(e).toFixed(ke))},parseUnit:function(e,ke){var Oe=/\D{0,2}$/.exec(e),Ee=parseFloat(e);switch(ke||(ke=r.Text.DEFAULT_SVG_FONT_SIZE),Oe[0]){case"mm":return Ee*r.DPI/25.4;case"cm":return Ee*r.DPI/2.54;case"in":return Ee*r.DPI;case"pt":return Ee*r.DPI/72;case"pc":return Ee*r.DPI/72*12;case"em":return Ee*ke;default:return Ee}},falseFunction:function(){return!1},getKlass:function(e,ke){return e=r.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),r.util.resolveNamespace(ke)[e]},getSvgAttributes:function(e){var ke=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":ke=ke.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":ke=ke.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":ke=ke.concat(["offset","stop-color","stop-opacity"]);break}return ke},resolveNamespace:function(e){if(!e)return r;var ke=e.split("."),Oe=ke.length,Ee,Pe=Se||r.window;for(Ee=0;Ee<Oe;++Ee)Pe=Pe[ke[Ee]];return Pe},loadImage:function(e,ke,Oe,Ee){if(!e){ke&&ke.call(Oe,e);return}var Pe=r.util.createImage(),De=function(){ke&&ke.call(Oe,Pe,!1),Pe=Pe.onload=Pe.onerror=null};Pe.onload=De,Pe.onerror=function(){r.log("Error loading "+Pe.src),ke&&ke.call(Oe,null,!0),Pe=Pe.onload=Pe.onerror=null},e.indexOf("data")!==0&&Ee!==void 0&&Ee!==null&&(Pe.crossOrigin=Ee),e.substring(0,14)==="data:image/svg"&&(Pe.onload=null,r.util.loadImageInDom(Pe,De)),Pe.src=e},loadImageInDom:function(e,ke){var Oe=r.document.createElement("div");Oe.style.width=Oe.style.height="1px",Oe.style.left=Oe.style.top="-100%",Oe.style.position="absolute",Oe.appendChild(e),r.document.querySelector("body").appendChild(Oe),e.onload=function(){ke(),Oe.parentNode.removeChild(Oe),Oe=null}},enlivenObjects:function(e,ke,Oe,Ee){e=e||[];var Pe=[],De=0,Me=e.length;function Ae(){++De===Me&&ke&&ke(Pe.filter(function(Be){return Be}))}if(!Me){ke&&ke(Pe);return}e.forEach(function(Be,He){if(!Be||!Be.type){Ae();return}var je=r.util.getKlass(Be.type,Oe);je.fromObject(Be,function(Xe,St){St||(Pe[He]=Xe),Ee&&Ee(Be,Xe,St),Ae()})})},enlivenObjectEnlivables:function(e,ke,Oe){var Ee=r.Object.ENLIVEN_PROPS.filter(function(Pe){return!!e[Pe]});r.util.enlivenObjects(Ee.map(function(Pe){return e[Pe]}),function(Pe){var De={};Ee.forEach(function(Me,Ae){De[Me]=Pe[Ae],ke&&(ke[Me]=Pe[Ae])}),Oe&&Oe(De)})},enlivenPatterns:function(e,ke){e=e||[];function Oe(){++Pe===De&&ke&&ke(Ee)}var Ee=[],Pe=0,De=e.length;if(!De){ke&&ke(Ee);return}e.forEach(function(Me,Ae){Me&&Me.source?new r.Pattern(Me,function(Be){Ee[Ae]=Be,Oe()}):(Ee[Ae]=Me,Oe())})},groupSVGElements:function(e,ke,Oe){var Ee;return e&&e.length===1?(typeof Oe<"u"&&(e[0].sourcePath=Oe),e[0]):(ke&&(ke.width&&ke.height?ke.centerPoint={x:ke.width/2,y:ke.height/2}:(delete ke.width,delete ke.height)),Ee=new r.Group(e,ke),typeof Oe<"u"&&(Ee.sourcePath=Oe),Ee)},populateWithProperties:function(e,ke,Oe){if(Oe&&Array.isArray(Oe))for(var Ee=0,Pe=Oe.length;Ee<Pe;Ee++)Oe[Ee]in e&&(ke[Oe[Ee]]=e[Oe[Ee]])},createCanvasElement:function(){return r.document.createElement("canvas")},copyCanvasElement:function(e){var ke=r.util.createCanvasElement();return ke.width=e.width,ke.height=e.height,ke.getContext("2d").drawImage(e,0,0),ke},toDataURL:function(e,ke,Oe){return e.toDataURL("image/"+ke,Oe)},createImage:function(){return r.document.createElement("img")},multiplyTransformMatrices:function(e,ke,Oe){return[e[0]*ke[0]+e[2]*ke[1],e[1]*ke[0]+e[3]*ke[1],e[0]*ke[2]+e[2]*ke[3],e[1]*ke[2]+e[3]*ke[3],Oe?0:e[0]*ke[4]+e[2]*ke[5]+e[4],Oe?0:e[1]*ke[4]+e[3]*ke[5]+e[5]]},qrDecompose:function(e){var ke=t(e[1],e[0]),Oe=xe(e[0],2)+xe(e[1],2),Ee=_e(Oe),Pe=(e[0]*e[3]-e[2]*e[1])/Ee,De=t(e[0]*e[2]+e[1]*e[3],Oe);return{angle:ke/Fe,scaleX:Ee,scaleY:Pe,skewX:De/Fe,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return r.iMatrix.concat();var ke=r.util.degreesToRadians(e.angle),Oe=r.util.cos(ke),Ee=r.util.sin(ke);return[Oe,Ee,-Ee,Oe,0,0]},calcDimensionsMatrix:function(e){var ke=typeof e.scaleX>"u"?1:e.scaleX,Oe=typeof e.scaleY>"u"?1:e.scaleY,Ee=[e.flipX?-ke:ke,0,0,e.flipY?-Oe:Oe,0,0],Pe=r.util.multiplyTransformMatrices,De=r.util.degreesToRadians;return e.skewX&&(Ee=Pe(Ee,[1,0,Math.tan(De(e.skewX)),1],!0)),e.skewY&&(Ee=Pe(Ee,[1,Math.tan(De(e.skewY)),0,1],!0)),Ee},composeMatrix:function(e){var ke=[1,0,0,1,e.translateX||0,e.translateY||0],Oe=r.util.multiplyTransformMatrices;return e.angle&&(ke=Oe(ke,r.util.calcRotateMatrix(e))),(e.scaleX!==1||e.scaleY!==1||e.skewX||e.skewY||e.flipX||e.flipY)&&(ke=Oe(ke,r.util.calcDimensionsMatrix(e))),ke},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,ke,Oe,Ee){Ee>0&&(ke>Ee?ke-=Ee:ke=0,Oe>Ee?Oe-=Ee:Oe=0);var Pe=!0,De,Me,Ae=e.getImageData(ke,Oe,Ee*2||1,Ee*2||1),Be=Ae.data.length;for(De=3;De<Be&&(Me=Ae.data[De],Pe=Me<=0,Pe!==!1);De+=4);return Ae=null,Pe},parsePreserveAspectRatioAttribute:function(e){var ke="meet",Oe="Mid",Ee="Mid",Pe=e.split(" "),De;return Pe&&Pe.length&&(ke=Pe.pop(),ke!=="meet"&&ke!=="slice"?(De=ke,ke="meet"):Pe.length&&(De=Pe.pop())),Oe=De!=="none"?De.slice(1,4):"none",Ee=De!=="none"?De.slice(5,8):"none",{meetOrSlice:ke,alignX:Oe,alignY:Ee}},clearFabricFontCache:function(e){e=(e||"").toLowerCase(),e?r.charWidthsCache[e]&&delete r.charWidthsCache[e]:r.charWidthsCache={}},limitDimsByArea:function(e,ke){var Oe=Math.sqrt(ke*e),Ee=Math.floor(ke/Oe);return{x:Math.floor(Oe),y:Ee}},capValue:function(e,ke,Oe){return Math.max(e,Math.min(ke,Oe))},findScaleToFit:function(e,ke){return Math.min(ke.width/e.width,ke.height/e.height)},findScaleToCover:function(e,ke){return Math.max(ke.width/e.width,ke.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map(function(ke){return r.util.toFixed(ke,r.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(e,ke){var Oe=r.util.invertTransform(ke),Ee=r.util.multiplyTransformMatrices(Oe,e.calcOwnMatrix());r.util.applyTransformToObject(e,Ee)},addTransformToObject:function(e,ke){r.util.applyTransformToObject(e,r.util.multiplyTransformMatrices(ke,e.calcOwnMatrix()))},applyTransformToObject:function(e,ke){var Oe=r.util.qrDecompose(ke),Ee=new r.Point(Oe.translateX,Oe.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",Oe.scaleX),e.set("scaleY",Oe.scaleY),e.skewX=Oe.skewX,e.skewY=Oe.skewY,e.angle=Oe.angle,e.setPositionByOrigin(Ee,"center","center")},sizeAfterTransform:function(e,ke,Oe){var Ee=e/2,Pe=ke/2,De=[{x:-Ee,y:-Pe},{x:Ee,y:-Pe},{x:-Ee,y:Pe},{x:Ee,y:Pe}],Me=r.util.calcDimensionsMatrix(Oe),Ae=r.util.makeBoundingBoxFromPoints(De,Me);return{x:Ae.width,y:Ae.height}},mergeClipPaths:function(e,ke){var Oe=e,Ee=ke;Oe.inverted&&!Ee.inverted&&(Oe=ke,Ee=e),r.util.applyTransformToObject(Ee,r.util.multiplyTransformMatrices(r.util.invertTransform(Oe.calcTransformMatrix()),Ee.calcTransformMatrix()));var Pe=Oe.inverted&&Ee.inverted;return Pe&&(Oe.inverted=Ee.inverted=!1),new r.Group([Oe],{clipPath:Ee,inverted:Pe})},hasStyleChanged:function(e,ke,Oe){return Oe=Oe||!1,e.fill!==ke.fill||e.stroke!==ke.stroke||e.strokeWidth!==ke.strokeWidth||e.fontSize!==ke.fontSize||e.fontFamily!==ke.fontFamily||e.fontWeight!==ke.fontWeight||e.fontStyle!==ke.fontStyle||e.deltaY!==ke.deltaY||Oe&&(e.overline!==ke.overline||e.underline!==ke.underline||e.linethrough!==ke.linethrough)},stylesToArray:function(Oe,ke){for(var Oe=r.util.object.clone(Oe,!0),Ee=ke.split(`
`),Pe=-1,De={},Me=[],Ae=0;Ae<Ee.length;Ae++){if(!Oe[Ae]){Pe+=Ee[Ae].length;continue}for(var Be=0;Be<Ee[Ae].length;Be++){Pe++;var He=Oe[Ae][Be];if(He){var je=r.util.hasStyleChanged(De,He,!0);je?Me.push({start:Pe,end:Pe+1,style:He}):Me[Me.length-1].end++}De=He||{}}}return Me},stylesFromArray:function(e,ke){if(!Array.isArray(e))return e;for(var Oe=ke.split(`
`),Ee=-1,Pe=0,De={},Me=0;Me<Oe.length;Me++)for(var Ae=0;Ae<Oe[Me].length;Ae++)Ee++,e[Pe]&&e[Pe].start<=Ee&&Ee<e[Pe].end&&(De[Me]=De[Me]||{},De[Me][Ae]=Object.assign({},e[Pe].style),Ee===e[Pe].end-1&&Pe++);return De}}}(Ce),function(){var Se=Array.prototype.join,_e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},t={m:"l",M:"L"};function xe(We,si,ni,$e,Ke,Ve,Ue,ti,hi,yi,wi){var Ci=r.util.cos(We),ki=r.util.sin(We),fi=r.util.cos(si),xi=r.util.sin(si),li=ni*Ke*fi-$e*Ve*xi+Ue,pi=$e*Ke*fi+ni*Ve*xi+ti,ri=yi+hi*(-ni*Ke*ki-$e*Ve*Ci),oi=wi+hi*(-$e*Ke*ki+ni*Ve*Ci),di=li+hi*(ni*Ke*xi+$e*Ve*fi),bi=pi+hi*($e*Ke*xi-ni*Ve*fi);return["C",ri,oi,di,bi,li,pi]}function Fe(We,si,ni,$e,Ke,Ve,Ue){var ti=Math.PI,hi=Ue*ti/180,yi=r.util.sin(hi),wi=r.util.cos(hi),Ci=0,ki=0;ni=Math.abs(ni),$e=Math.abs($e);var fi=-wi*We*.5-yi*si*.5,xi=-wi*si*.5+yi*We*.5,li=ni*ni,pi=$e*$e,ri=xi*xi,oi=fi*fi,di=li*pi-li*ri-pi*oi,bi=0;if(di<0){var Ai=Math.sqrt(1-di/(li*pi));ni*=Ai,$e*=Ai}else bi=(Ke===Ve?-1:1)*Math.sqrt(di/(li*ri+pi*oi));var Ei=bi*ni*xi/$e,mi=-bi*$e*fi/ni,_i=wi*Ei-yi*mi+We*.5,Si=yi*Ei+wi*mi+si*.5,Fi=Te(1,0,(fi-Ei)/ni,(xi-mi)/$e),Pi=Te((fi-Ei)/ni,(xi-mi)/$e,(-fi-Ei)/ni,(-xi-mi)/$e);Ve===0&&Pi>0?Pi-=2*ti:Ve===1&&Pi<0&&(Pi+=2*ti);for(var Di=Math.ceil(Math.abs(Pi/ti*2)),Ii=[],Mi=Pi/Di,$i=8/3*Math.sin(Mi/4)*Math.sin(Mi/4)/Math.sin(Mi/2),Xi=Fi+Mi,rn=0;rn<Di;rn++)Ii[rn]=xe(Fi,Xi,wi,yi,ni,$e,_i,Si,$i,Ci,ki),Ci=Ii[rn][5],ki=Ii[rn][6],Fi=Xi,Xi+=Mi;return Ii}function Te(We,si,ni,$e){var Ke=Math.atan2(si,We),Ve=Math.atan2($e,ni);return Ve>=Ke?Ve-Ke:2*Math.PI-(Ke-Ve)}function e(We,si,ni,$e,Ke,Ve,Ue,ti){var hi;if(r.cachesBoundsOfCurve&&(hi=Se.call(arguments),r.boundsOfCurveCache[hi]))return r.boundsOfCurveCache[hi];var yi=Math.sqrt,wi=Math.min,Ci=Math.max,ki=Math.abs,fi=[],xi=[[],[]],li,pi,ri,oi,di,bi,Ai,Ei;pi=6*We-12*ni+6*Ke,li=-3*We+9*ni-9*Ke+3*Ue,ri=3*ni-3*We;for(var mi=0;mi<2;++mi){if(mi>0&&(pi=6*si-12*$e+6*Ve,li=-3*si+9*$e-9*Ve+3*ti,ri=3*$e-3*si),ki(li)<1e-12){if(ki(pi)<1e-12)continue;oi=-ri/pi,0<oi&&oi<1&&fi.push(oi);continue}Ai=pi*pi-4*ri*li,!(Ai<0)&&(Ei=yi(Ai),di=(-pi+Ei)/(2*li),0<di&&di<1&&fi.push(di),bi=(-pi-Ei)/(2*li),0<bi&&bi<1&&fi.push(bi))}for(var _i,Si,Fi=fi.length,Pi=Fi,Di;Fi--;)oi=fi[Fi],Di=1-oi,_i=Di*Di*Di*We+3*Di*Di*oi*ni+3*Di*oi*oi*Ke+oi*oi*oi*Ue,xi[0][Fi]=_i,Si=Di*Di*Di*si+3*Di*Di*oi*$e+3*Di*oi*oi*Ve+oi*oi*oi*ti,xi[1][Fi]=Si;xi[0][Pi]=We,xi[1][Pi]=si,xi[0][Pi+1]=Ue,xi[1][Pi+1]=ti;var Ii=[{x:wi.apply(null,xi[0]),y:wi.apply(null,xi[1])},{x:Ci.apply(null,xi[0]),y:Ci.apply(null,xi[1])}];return r.cachesBoundsOfCurve&&(r.boundsOfCurveCache[hi]=Ii),Ii}function ke(We,si,ni){for(var $e=ni[1],Ke=ni[2],Ve=ni[3],Ue=ni[4],ti=ni[5],hi=ni[6],yi=ni[7],wi=Fe(hi-We,yi-si,$e,Ke,Ue,ti,Ve),Ci=0,ki=wi.length;Ci<ki;Ci++)wi[Ci][1]+=We,wi[Ci][2]+=si,wi[Ci][3]+=We,wi[Ci][4]+=si,wi[Ci][5]+=We,wi[Ci][6]+=si;return wi}function Oe(We){var si=0,ni=0,$e=We.length,Ke=0,Ve=0,Ue,ti,hi,yi=[],wi,Ci,ki;for(ti=0;ti<$e;++ti){switch(hi=!1,Ue=We[ti].slice(0),Ue[0]){case"l":Ue[0]="L",Ue[1]+=si,Ue[2]+=ni;case"L":si=Ue[1],ni=Ue[2];break;case"h":Ue[1]+=si;case"H":Ue[0]="L",Ue[2]=ni,si=Ue[1];break;case"v":Ue[1]+=ni;case"V":Ue[0]="L",ni=Ue[1],Ue[1]=si,Ue[2]=ni;break;case"m":Ue[0]="M",Ue[1]+=si,Ue[2]+=ni;case"M":si=Ue[1],ni=Ue[2],Ke=Ue[1],Ve=Ue[2];break;case"c":Ue[0]="C",Ue[1]+=si,Ue[2]+=ni,Ue[3]+=si,Ue[4]+=ni,Ue[5]+=si,Ue[6]+=ni;case"C":Ci=Ue[3],ki=Ue[4],si=Ue[5],ni=Ue[6];break;case"s":Ue[0]="S",Ue[1]+=si,Ue[2]+=ni,Ue[3]+=si,Ue[4]+=ni;case"S":wi==="C"?(Ci=2*si-Ci,ki=2*ni-ki):(Ci=si,ki=ni),si=Ue[3],ni=Ue[4],Ue[0]="C",Ue[5]=Ue[3],Ue[6]=Ue[4],Ue[3]=Ue[1],Ue[4]=Ue[2],Ue[1]=Ci,Ue[2]=ki,Ci=Ue[3],ki=Ue[4];break;case"q":Ue[0]="Q",Ue[1]+=si,Ue[2]+=ni,Ue[3]+=si,Ue[4]+=ni;case"Q":Ci=Ue[1],ki=Ue[2],si=Ue[3],ni=Ue[4];break;case"t":Ue[0]="T",Ue[1]+=si,Ue[2]+=ni;case"T":wi==="Q"?(Ci=2*si-Ci,ki=2*ni-ki):(Ci=si,ki=ni),Ue[0]="Q",si=Ue[1],ni=Ue[2],Ue[1]=Ci,Ue[2]=ki,Ue[3]=si,Ue[4]=ni;break;case"a":Ue[0]="A",Ue[6]+=si,Ue[7]+=ni;case"A":hi=!0,yi=yi.concat(ke(si,ni,Ue)),si=Ue[6],ni=Ue[7];break;case"z":case"Z":si=Ke,ni=Ve;break}hi||yi.push(Ue),wi=Ue[0]}return yi}function Ee(We,si,ni,$e){return Math.sqrt((ni-We)*(ni-We)+($e-si)*($e-si))}function Pe(We){return We*We*We}function De(We){return 3*We*We*(1-We)}function Me(We){return 3*We*(1-We)*(1-We)}function Ae(We){return(1-We)*(1-We)*(1-We)}function Be(We,si,ni,$e,Ke,Ve,Ue,ti){return function(hi){var yi=Pe(hi),wi=De(hi),Ci=Me(hi),ki=Ae(hi);return{x:Ue*yi+Ke*wi+ni*Ci+We*ki,y:ti*yi+Ve*wi+$e*Ci+si*ki}}}function He(We,si,ni,$e,Ke,Ve,Ue,ti){return function(hi){var yi=1-hi,wi=3*yi*yi*(ni-We)+6*yi*hi*(Ke-ni)+3*hi*hi*(Ue-Ke),Ci=3*yi*yi*($e-si)+6*yi*hi*(Ve-$e)+3*hi*hi*(ti-Ve);return Math.atan2(Ci,wi)}}function je(We){return We*We}function Xe(We){return 2*We*(1-We)}function St(We){return(1-We)*(1-We)}function qe(We,si,ni,$e,Ke,Ve){return function(Ue){var ti=je(Ue),hi=Xe(Ue),yi=St(Ue);return{x:Ke*ti+ni*hi+We*yi,y:Ve*ti+$e*hi+si*yi}}}function Ye(We,si,ni,$e,Ke,Ve){return function(Ue){var ti=1-Ue,hi=2*ti*(ni-We)+2*Ue*(Ke-ni),yi=2*ti*($e-si)+2*Ue*(Ve-$e);return Math.atan2(yi,hi)}}function gi(We,si,ni){var $e={x:si,y:ni},Ke,Ve=0,Ue;for(Ue=1;Ue<=100;Ue+=1)Ke=We(Ue/100),Ve+=Ee($e.x,$e.y,Ke.x,Ke.y),$e=Ke;return Ve}function ai(We,si){for(var ni=0,$e=0,Ke=We.iterator,Ve={x:We.x,y:We.y},Ue,ti,hi=.01,yi=We.angleFinder,wi;$e<si&&hi>1e-4;)Ue=Ke(ni),wi=ni,ti=Ee(Ve.x,Ve.y,Ue.x,Ue.y),ti+$e>si?(ni-=hi,hi/=2):(Ve=Ue,ni+=hi,$e+=ti);return Ue.angle=yi(wi),Ue}function ui(We){for(var si=0,ni=We.length,$e,Ke=0,Ve=0,Ue=0,ti=0,hi=[],yi,wi,Ci,ki=0;ki<ni;ki++){switch($e=We[ki],wi={x:Ke,y:Ve,command:$e[0]},$e[0]){case"M":wi.length=0,Ue=Ke=$e[1],ti=Ve=$e[2];break;case"L":wi.length=Ee(Ke,Ve,$e[1],$e[2]),Ke=$e[1],Ve=$e[2];break;case"C":yi=Be(Ke,Ve,$e[1],$e[2],$e[3],$e[4],$e[5],$e[6]),Ci=He(Ke,Ve,$e[1],$e[2],$e[3],$e[4],$e[5],$e[6]),wi.iterator=yi,wi.angleFinder=Ci,wi.length=gi(yi,Ke,Ve),Ke=$e[5],Ve=$e[6];break;case"Q":yi=qe(Ke,Ve,$e[1],$e[2],$e[3],$e[4]),Ci=Ye(Ke,Ve,$e[1],$e[2],$e[3],$e[4]),wi.iterator=yi,wi.angleFinder=Ci,wi.length=gi(yi,Ke,Ve),Ke=$e[3],Ve=$e[4];break;case"Z":case"z":wi.destX=Ue,wi.destY=ti,wi.length=Ee(Ke,Ve,Ue,ti),Ke=Ue,Ve=ti;break}si+=wi.length,hi.push(wi)}return hi.push({length:si,x:Ke,y:Ve}),hi}function Qe(We,si,ni){ni||(ni=ui(We));for(var $e=0;si-ni[$e].length>0&&$e<ni.length-2;)si-=ni[$e].length,$e++;var Ke=ni[$e],Ve=si/Ke.length,Ue=Ke.command,ti=We[$e],hi;switch(Ue){case"M":return{x:Ke.x,y:Ke.y,angle:0};case"Z":case"z":return hi=new r.Point(Ke.x,Ke.y).lerp(new r.Point(Ke.destX,Ke.destY),Ve),hi.angle=Math.atan2(Ke.destY-Ke.y,Ke.destX-Ke.x),hi;case"L":return hi=new r.Point(Ke.x,Ke.y).lerp(new r.Point(ti[1],ti[2]),Ve),hi.angle=Math.atan2(ti[2]-Ke.y,ti[1]-Ke.x),hi;case"C":return ai(Ke,si);case"Q":return ai(Ke,si)}}function Ze(We){var si=[],ni=[],$e,Ke,Ve=r.rePathCommand,Ue="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",ti="("+Ue+")"+r.commaWsp,hi="([01])"+r.commaWsp+"?",yi=ti+"?"+ti+"?"+ti+hi+hi+ti+"?("+Ue+")",wi=new RegExp(yi,"g"),Ci,ki,fi;if(!We||!We.match)return si;fi=We.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var xi=0,li,pi=fi.length;xi<pi;xi++){$e=fi[xi],ki=$e.slice(1).trim(),ni.length=0;var ri=$e.charAt(0);if(li=[ri],ri.toLowerCase()==="a")for(var oi;oi=wi.exec(ki);)for(var di=1;di<oi.length;di++)ni.push(oi[di]);else for(;Ci=Ve.exec(ki);)ni.push(Ci[0]);for(var di=0,bi=ni.length;di<bi;di++)Ke=parseFloat(ni[di]),isNaN(Ke)||li.push(Ke);var Ai=_e[ri.toLowerCase()],Ei=t[ri]||ri;if(li.length-1>Ai)for(var mi=1,_i=li.length;mi<_i;mi+=Ai)si.push([ri].concat(li.slice(mi,mi+Ai))),ri=Ei;else si.push(li)}return si}function ci(We,si){var ni=[],$e,Ke=new r.Point(We[0].x,We[0].y),Ve=new r.Point(We[1].x,We[1].y),Ue=We.length,ti=1,hi=0,yi=Ue>2;for(si=si||0,yi&&(ti=We[2].x<Ve.x?-1:We[2].x===Ve.x?0:1,hi=We[2].y<Ve.y?-1:We[2].y===Ve.y?0:1),ni.push(["M",Ke.x-ti*si,Ke.y-hi*si]),$e=1;$e<Ue;$e++){if(!Ke.eq(Ve)){var wi=Ke.midPointFrom(Ve);ni.push(["Q",Ke.x,Ke.y,wi.x,wi.y])}Ke=We[$e],$e+1<We.length&&(Ve=We[$e+1])}return yi&&(ti=Ke.x>We[$e-2].x?1:Ke.x===We[$e-2].x?0:-1,hi=Ke.y>We[$e-2].y?1:Ke.y===We[$e-2].y?0:-1),ni.push(["L",Ke.x+ti*si,Ke.y+hi*si]),ni}function ze(We,si,ni){return ni&&(si=r.util.multiplyTransformMatrices(si,[1,0,0,1,-ni.x,-ni.y])),We.map(function($e){for(var Ke=$e.slice(0),Ve={},Ue=1;Ue<$e.length-1;Ue+=2)Ve.x=$e[Ue],Ve.y=$e[Ue+1],Ve=r.util.transformPoint(Ve,si),Ke[Ue]=Ve.x,Ke[Ue+1]=Ve.y;return Ke})}r.util.joinPath=function(We){return We.map(function(si){return si.join(" ")}).join(" ")},r.util.parsePath=Ze,r.util.makePathSimpler=Oe,r.util.getSmoothPathFromPoints=ci,r.util.getPathSegmentsInfo=ui,r.util.getBoundsOfCurve=e,r.util.getPointOnPath=Qe,r.util.transformPath=ze}(),function(){var Se=Array.prototype.slice;function _e(e,ke){for(var Oe=Se.call(arguments,2),Ee=[],Pe=0,De=e.length;Pe<De;Pe++)Ee[Pe]=Oe.length?e[Pe][ke].apply(e[Pe],Oe):e[Pe][ke].call(e[Pe]);return Ee}function t(e,ke){return Te(e,ke,function(Oe,Ee){return Oe>=Ee})}function xe(e,ke){return Te(e,ke,function(Oe,Ee){return Oe<Ee})}function Fe(e,ke){for(var Oe=e.length;Oe--;)e[Oe]=ke;return e}function Te(e,ke,Oe){if(!(!e||e.length===0)){var Ee=e.length-1,Pe=ke?e[Ee][ke]:e[Ee];if(ke)for(;Ee--;)Oe(e[Ee][ke],Pe)&&(Pe=e[Ee][ke]);else for(;Ee--;)Oe(e[Ee],Pe)&&(Pe=e[Ee]);return Pe}}r.util.array={fill:Fe,invoke:_e,min:xe,max:t}}(),function(){function Se(t,xe,Fe){if(Fe)if(!r.isLikelyNode&&xe instanceof Element)t=xe;else if(xe instanceof Array){t=[];for(var Te=0,e=xe.length;Te<e;Te++)t[Te]=Se({},xe[Te],Fe)}else if(xe&&typeof xe=="object")for(var ke in xe)ke==="canvas"||ke==="group"?t[ke]=null:xe.hasOwnProperty(ke)&&(t[ke]=Se({},xe[ke],Fe));else t=xe;else for(var ke in xe)t[ke]=xe[ke];return t}function _e(t,xe){return Se({},t,xe)}r.util.object={extend:Se,clone:_e},r.util.object.extend(r.util,r.Observable)}(),function(){function Se(Te){return Te.replace(/-+(.)?/g,function(e,ke){return ke?ke.toUpperCase():""})}function _e(Te,e){return Te.charAt(0).toUpperCase()+(e?Te.slice(1):Te.slice(1).toLowerCase())}function t(Te){return Te.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xe(Te){var e=0,ke,Oe=[];for(e=0,ke;e<Te.length;e++)(ke=Fe(Te,e))!==!1&&Oe.push(ke);return Oe}function Fe(Te,e){var ke=Te.charCodeAt(e);if(isNaN(ke))return"";if(ke<55296||ke>57343)return Te.charAt(e);if(55296<=ke&&ke<=56319){if(Te.length<=e+1)throw"High surrogate without following low surrogate";var Oe=Te.charCodeAt(e+1);if(56320>Oe||Oe>57343)throw"High surrogate without following low surrogate";return Te.charAt(e)+Te.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var Ee=Te.charCodeAt(e-1);if(55296>Ee||Ee>56319)throw"Low surrogate without preceding high surrogate";return!1}r.util.string={camelize:Se,capitalize:_e,escapeXml:t,graphemeSplit:xe}}(),function(){var Se=Array.prototype.slice,_e=function(){},t=function(){for(var ke in{toString:1})if(ke==="toString")return!1;return!0}(),xe=function(ke,Oe,Ee){for(var Pe in Oe)Pe in ke.prototype&&typeof ke.prototype[Pe]=="function"&&(Oe[Pe]+"").indexOf("callSuper")>-1?ke.prototype[Pe]=function(De){return function(){var Me=this.constructor.superclass;this.constructor.superclass=Ee;var Ae=Oe[De].apply(this,arguments);if(this.constructor.superclass=Me,De!=="initialize")return Ae}}(Pe):ke.prototype[Pe]=Oe[Pe],t&&(Oe.toString!==Object.prototype.toString&&(ke.prototype.toString=Oe.toString),Oe.valueOf!==Object.prototype.valueOf&&(ke.prototype.valueOf=Oe.valueOf))};function Fe(){}function Te(ke){for(var Oe=null,Ee=this;Ee.constructor.superclass;){var Pe=Ee.constructor.superclass.prototype[ke];if(Ee[ke]!==Pe){Oe=Pe;break}Ee=Ee.constructor.superclass.prototype}return Oe?arguments.length>1?Oe.apply(this,Se.call(arguments,1)):Oe.call(this):console.log("tried to callSuper "+ke+", method not found in prototype chain",this)}function e(){var ke=null,Oe=Se.call(arguments,0);typeof Oe[0]=="function"&&(ke=Oe.shift());function Ee(){this.initialize.apply(this,arguments)}Ee.superclass=ke,Ee.subclasses=[],ke&&(Fe.prototype=ke.prototype,Ee.prototype=new Fe,ke.subclasses.push(Ee));for(var Pe=0,De=Oe.length;Pe<De;Pe++)xe(Ee,Oe[Pe],ke);return Ee.prototype.initialize||(Ee.prototype.initialize=_e),Ee.prototype.constructor=Ee,Ee.prototype.callSuper=Te,Ee}r.util.createClass=e}(),function(){var Se=!!r.document.createElement("div").attachEvent,_e=["touchstart","touchmove","touchend"];r.util.addListener=function(xe,Fe,Te,e){xe&&xe.addEventListener(Fe,Te,Se?!1:e)},r.util.removeListener=function(xe,Fe,Te,e){xe&&xe.removeEventListener(Fe,Te,Se?!1:e)};function t(xe){var Fe=xe.changedTouches;return Fe&&Fe[0]?Fe[0]:xe}r.util.getPointer=function(xe){var Fe=xe.target,Te=r.util.getScrollLeftTop(Fe),e=t(xe);return{x:e.clientX+Te.left,y:e.clientY+Te.top}},r.util.isTouchEvent=function(xe){return _e.indexOf(xe.type)>-1||xe.pointerType==="touch"}}(),function(){function Se(e,ke){var Oe=e.style;if(!Oe)return e;if(typeof ke=="string")return e.style.cssText+=";"+ke,ke.indexOf("opacity")>-1?Te(e,ke.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var Ee in ke)if(Ee==="opacity")Te(e,ke[Ee]);else{var Pe=Ee==="float"||Ee==="cssFloat"?typeof Oe.styleFloat>"u"?"cssFloat":"styleFloat":Ee;Oe.setProperty(Pe,ke[Ee])}return e}var _e=r.document.createElement("div"),t=typeof _e.style.opacity=="string",xe=typeof _e.style.filter=="string",Fe=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,Te=function(e){return e};t?Te=function(e,ke){return e.style.opacity=ke,e}:xe&&(Te=function(e,ke){var Oe=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(Oe.zoom=1),Fe.test(Oe.filter)?(ke=ke>=.9999?"":"alpha(opacity="+ke*100+")",Oe.filter=Oe.filter.replace(Fe,ke)):Oe.filter+=" alpha(opacity="+ke*100+")",e}),r.util.setStyle=Se}(),function(){var Se=Array.prototype.slice;function _e(Ae){return typeof Ae=="string"?r.document.getElementById(Ae):Ae}var t,xe=function(Ae){return Se.call(Ae,0)};try{t=xe(r.document.childNodes)instanceof Array}catch{}t||(xe=function(Ae){for(var Be=new Array(Ae.length),He=Ae.length;He--;)Be[He]=Ae[He];return Be});function Fe(Ae,Be){var He=r.document.createElement(Ae);for(var je in Be)je==="class"?He.className=Be[je]:je==="for"?He.htmlFor=Be[je]:He.setAttribute(je,Be[je]);return He}function Te(Ae,Be){Ae&&(" "+Ae.className+" ").indexOf(" "+Be+" ")===-1&&(Ae.className+=(Ae.className?" ":"")+Be)}function e(Ae,Be,He){return typeof Be=="string"&&(Be=Fe(Be,He)),Ae.parentNode&&Ae.parentNode.replaceChild(Be,Ae),Be.appendChild(Ae),Be}function ke(Ae){for(var Be=0,He=0,je=r.document.documentElement,Xe=r.document.body||{scrollLeft:0,scrollTop:0};Ae&&(Ae.parentNode||Ae.host)&&(Ae=Ae.parentNode||Ae.host,Ae===r.document?(Be=Xe.scrollLeft||je.scrollLeft||0,He=Xe.scrollTop||je.scrollTop||0):(Be+=Ae.scrollLeft||0,He+=Ae.scrollTop||0),!(Ae.nodeType===1&&Ae.style.position==="fixed")););return{left:Be,top:He}}function Oe(Ae){var Be,He=Ae&&Ae.ownerDocument,je={left:0,top:0},Xe={left:0,top:0},St,qe={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!He)return Xe;for(var Ye in qe)Xe[qe[Ye]]+=parseInt(Ee(Ae,Ye),10)||0;return Be=He.documentElement,typeof Ae.getBoundingClientRect<"u"&&(je=Ae.getBoundingClientRect()),St=ke(Ae),{left:je.left+St.left-(Be.clientLeft||0)+Xe.left,top:je.top+St.top-(Be.clientTop||0)+Xe.top}}var Ee;r.document.defaultView&&r.document.defaultView.getComputedStyle?Ee=function(Ae,Be){var He=r.document.defaultView.getComputedStyle(Ae,null);return He?He[Be]:void 0}:Ee=function(Ae,Be){var He=Ae.style[Be];return!He&&Ae.currentStyle&&(He=Ae.currentStyle[Be]),He},function(){var Ae=r.document.documentElement.style,Be="userSelect"in Ae?"userSelect":"MozUserSelect"in Ae?"MozUserSelect":"WebkitUserSelect"in Ae?"WebkitUserSelect":"KhtmlUserSelect"in Ae?"KhtmlUserSelect":"";function He(Xe){return typeof Xe.onselectstart<"u"&&(Xe.onselectstart=r.util.falseFunction),Be?Xe.style[Be]="none":typeof Xe.unselectable=="string"&&(Xe.unselectable="on"),Xe}function je(Xe){return typeof Xe.onselectstart<"u"&&(Xe.onselectstart=null),Be?Xe.style[Be]="":typeof Xe.unselectable=="string"&&(Xe.unselectable=""),Xe}r.util.makeElementUnselectable=He,r.util.makeElementSelectable=je}();function Pe(Ae){var Be=r.jsdomImplForWrapper(Ae);return Be._canvas||Be._image}function De(Ae){if(!!r.isLikelyNode){var Be=r.jsdomImplForWrapper(Ae);Be&&(Be._image=null,Be._canvas=null,Be._currentSrc=null,Be._attributes=null,Be._classList=null)}}function Me(Ae,Be){Ae.imageSmoothingEnabled=Ae.imageSmoothingEnabled||Ae.webkitImageSmoothingEnabled||Ae.mozImageSmoothingEnabled||Ae.msImageSmoothingEnabled||Ae.oImageSmoothingEnabled,Ae.imageSmoothingEnabled=Be}r.util.setImageSmoothing=Me,r.util.getById=_e,r.util.toArray=xe,r.util.addClass=Te,r.util.makeElement=Fe,r.util.wrapElement=e,r.util.getScrollLeftTop=ke,r.util.getElementOffset=Oe,r.util.getNodeCanvas=Pe,r.util.cleanUpJsdomNode=De}(),function(){function Se(xe,Fe){return xe+(/\?/.test(xe)?"&":"?")+Fe}function _e(){}function t(xe,Fe){Fe||(Fe={});var Te=Fe.method?Fe.method.toUpperCase():"GET",e=Fe.onComplete||function(){},ke=new r.window.XMLHttpRequest,Oe=Fe.body||Fe.parameters;return ke.onreadystatechange=function(){ke.readyState===4&&(e(ke),ke.onreadystatechange=_e)},Te==="GET"&&(Oe=null,typeof Fe.parameters=="string"&&(xe=Se(xe,Fe.parameters))),ke.open(Te,xe,!0),(Te==="POST"||Te==="PUT")&&ke.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ke.send(Oe),ke}r.util.request=t}(),r.log=console.log,r.warn=console.warn,function(){var Se=r.util.object.extend,_e=r.util.object.clone,t=[];r.util.object.extend(t,{cancelAll:function(){var Pe=this.splice(0);return Pe.forEach(function(De){De.cancel()}),Pe},cancelByCanvas:function(Pe){if(!Pe)return[];var De=this.filter(function(Me){return typeof Me.target=="object"&&Me.target.canvas===Pe});return De.forEach(function(Me){Me.cancel()}),De},cancelByTarget:function(Pe){var De=this.findAnimationsByTarget(Pe);return De.forEach(function(Me){Me.cancel()}),De},findAnimationIndex:function(Pe){return this.indexOf(this.findAnimation(Pe))},findAnimation:function(Pe){return this.find(function(De){return De.cancel===Pe})},findAnimationsByTarget:function(Pe){return Pe?this.filter(function(De){return De.target===Pe}):[]}});function xe(){return!1}function Fe(Pe,De,Me,Ae){return-Me*Math.cos(Pe/Ae*(Math.PI/2))+Me+De}function Te(Pe){Pe||(Pe={});var De=!1,Me,Ae=function(){var Be=r.runningAnimations.indexOf(Me);return Be>-1&&r.runningAnimations.splice(Be,1)[0]};return Me=Se(_e(Pe),{cancel:function(){return De=!0,Ae()},currentValue:"startValue"in Pe?Pe.startValue:0,completionRate:0,durationRate:0}),r.runningAnimations.push(Me),Oe(function(Be){var He=Be||+new Date,je=Pe.duration||500,Xe=He+je,St,qe=Pe.onChange||xe,Ye=Pe.abort||xe,gi=Pe.onComplete||xe,ai=Pe.easing||Fe,ui="startValue"in Pe?Pe.startValue.length>0:!1,Qe="startValue"in Pe?Pe.startValue:0,Ze="endValue"in Pe?Pe.endValue:100,ci=Pe.byValue||(ui?Qe.map(function(ze,We){return Ze[We]-Qe[We]}):Ze-Qe);Pe.onStart&&Pe.onStart(),function ze(We){St=We||+new Date;var si=St>Xe?je:St-He,ni=si/je,$e=ui?Qe.map(function(Ve,Ue){return ai(si,Qe[Ue],ci[Ue],je)}):ai(si,Qe,ci,je),Ke=Math.abs(ui?($e[0]-Qe[0])/ci[0]:($e-Qe)/ci);if(Me.currentValue=ui?$e.slice():$e,Me.completionRate=Ke,Me.durationRate=ni,!De){if(Ye($e,Ke,ni)){Ae();return}if(St>Xe){Me.currentValue=ui?Ze.slice():Ze,Me.completionRate=1,Me.durationRate=1,qe(ui?Ze.slice():Ze,1,1),gi(Ze,1,1),Ae();return}else qe($e,Ke,ni),Oe(ze)}}(He)}),Me.cancel}var e=r.window.requestAnimationFrame||r.window.webkitRequestAnimationFrame||r.window.mozRequestAnimationFrame||r.window.oRequestAnimationFrame||r.window.msRequestAnimationFrame||function(Pe){return r.window.setTimeout(Pe,1e3/60)},ke=r.window.cancelAnimationFrame||r.window.clearTimeout;function Oe(){return e.apply(r.window,arguments)}function Ee(){return ke.apply(r.window,arguments)}r.util.animate=Te,r.util.requestAnimFrame=Oe,r.util.cancelAnimFrame=Ee,r.runningAnimations=t}(),function(){function Se(t,xe,Fe){var Te="rgba("+parseInt(t[0]+Fe*(xe[0]-t[0]),10)+","+parseInt(t[1]+Fe*(xe[1]-t[1]),10)+","+parseInt(t[2]+Fe*(xe[2]-t[2]),10);return Te+=","+(t&&xe?parseFloat(t[3]+Fe*(xe[3]-t[3])):1),Te+=")",Te}function _e(t,xe,Fe,Te){var e=new r.Color(t).getSource(),ke=new r.Color(xe).getSource(),Oe=Te.onComplete,Ee=Te.onChange;return Te=Te||{},r.util.animate(r.util.object.extend(Te,{duration:Fe||500,startValue:e,endValue:ke,byValue:ke,easing:function(Pe,De,Me,Ae){var Be=Te.colorEasing?Te.colorEasing(Pe,Ae):1-Math.cos(Pe/Ae*(Math.PI/2));return Se(De,Me,Be)},onComplete:function(Pe,De,Me){if(Oe)return Oe(Se(ke,ke,0),De,Me)},onChange:function(Pe,De,Me){if(Ee){if(Array.isArray(Pe))return Ee(Se(Pe,Pe,0),De,Me);Ee(Pe,De,Me)}}}))}r.util.animateColor=_e}(),function(){function Se(We,si,ni,$e){return We<Math.abs(si)?(We=si,$e=ni/4):si===0&&We===0?$e=ni/(2*Math.PI)*Math.asin(1):$e=ni/(2*Math.PI)*Math.asin(si/We),{a:We,c:si,p:ni,s:$e}}function _e(We,si,ni){return We.a*Math.pow(2,10*(si-=1))*Math.sin((si*ni-We.s)*(2*Math.PI)/We.p)}function t(We,si,ni,$e){return ni*((We=We/$e-1)*We*We+1)+si}function xe(We,si,ni,$e){return We/=$e/2,We<1?ni/2*We*We*We+si:ni/2*((We-=2)*We*We+2)+si}function Fe(We,si,ni,$e){return ni*(We/=$e)*We*We*We+si}function Te(We,si,ni,$e){return-ni*((We=We/$e-1)*We*We*We-1)+si}function e(We,si,ni,$e){return We/=$e/2,We<1?ni/2*We*We*We*We+si:-ni/2*((We-=2)*We*We*We-2)+si}function ke(We,si,ni,$e){return ni*(We/=$e)*We*We*We*We+si}function Oe(We,si,ni,$e){return ni*((We=We/$e-1)*We*We*We*We+1)+si}function Ee(We,si,ni,$e){return We/=$e/2,We<1?ni/2*We*We*We*We*We+si:ni/2*((We-=2)*We*We*We*We+2)+si}function Pe(We,si,ni,$e){return-ni*Math.cos(We/$e*(Math.PI/2))+ni+si}function De(We,si,ni,$e){return ni*Math.sin(We/$e*(Math.PI/2))+si}function Me(We,si,ni,$e){return-ni/2*(Math.cos(Math.PI*We/$e)-1)+si}function Ae(We,si,ni,$e){return We===0?si:ni*Math.pow(2,10*(We/$e-1))+si}function Be(We,si,ni,$e){return We===$e?si+ni:ni*(-Math.pow(2,-10*We/$e)+1)+si}function He(We,si,ni,$e){return We===0?si:We===$e?si+ni:(We/=$e/2,We<1?ni/2*Math.pow(2,10*(We-1))+si:ni/2*(-Math.pow(2,-10*--We)+2)+si)}function je(We,si,ni,$e){return-ni*(Math.sqrt(1-(We/=$e)*We)-1)+si}function Xe(We,si,ni,$e){return ni*Math.sqrt(1-(We=We/$e-1)*We)+si}function St(We,si,ni,$e){return We/=$e/2,We<1?-ni/2*(Math.sqrt(1-We*We)-1)+si:ni/2*(Math.sqrt(1-(We-=2)*We)+1)+si}function qe(We,si,ni,$e){var Ke=1.70158,Ve=0,Ue=ni;if(We===0)return si;if(We/=$e,We===1)return si+ni;Ve||(Ve=$e*.3);var ti=Se(Ue,ni,Ve,Ke);return-_e(ti,We,$e)+si}function Ye(We,si,ni,$e){var Ke=1.70158,Ve=0,Ue=ni;if(We===0)return si;if(We/=$e,We===1)return si+ni;Ve||(Ve=$e*.3);var ti=Se(Ue,ni,Ve,Ke);return ti.a*Math.pow(2,-10*We)*Math.sin((We*$e-ti.s)*(2*Math.PI)/ti.p)+ti.c+si}function gi(We,si,ni,$e){var Ke=1.70158,Ve=0,Ue=ni;if(We===0)return si;if(We/=$e/2,We===2)return si+ni;Ve||(Ve=$e*(.3*1.5));var ti=Se(Ue,ni,Ve,Ke);return We<1?-.5*_e(ti,We,$e)+si:ti.a*Math.pow(2,-10*(We-=1))*Math.sin((We*$e-ti.s)*(2*Math.PI)/ti.p)*.5+ti.c+si}function ai(We,si,ni,$e,Ke){return Ke===void 0&&(Ke=1.70158),ni*(We/=$e)*We*((Ke+1)*We-Ke)+si}function ui(We,si,ni,$e,Ke){return Ke===void 0&&(Ke=1.70158),ni*((We=We/$e-1)*We*((Ke+1)*We+Ke)+1)+si}function Qe(We,si,ni,$e,Ke){return Ke===void 0&&(Ke=1.70158),We/=$e/2,We<1?ni/2*(We*We*(((Ke*=1.525)+1)*We-Ke))+si:ni/2*((We-=2)*We*(((Ke*=1.525)+1)*We+Ke)+2)+si}function Ze(We,si,ni,$e){return ni-ci($e-We,0,ni,$e)+si}function ci(We,si,ni,$e){return(We/=$e)<1/2.75?ni*(7.5625*We*We)+si:We<2/2.75?ni*(7.5625*(We-=1.5/2.75)*We+.75)+si:We<2.5/2.75?ni*(7.5625*(We-=2.25/2.75)*We+.9375)+si:ni*(7.5625*(We-=2.625/2.75)*We+.984375)+si}function ze(We,si,ni,$e){return We<$e/2?Ze(We*2,0,ni,$e)*.5+si:ci(We*2-$e,0,ni,$e)*.5+ni*.5+si}r.util.ease={easeInQuad:function(We,si,ni,$e){return ni*(We/=$e)*We+si},easeOutQuad:function(We,si,ni,$e){return-ni*(We/=$e)*(We-2)+si},easeInOutQuad:function(We,si,ni,$e){return We/=$e/2,We<1?ni/2*We*We+si:-ni/2*(--We*(We-2)-1)+si},easeInCubic:function(We,si,ni,$e){return ni*(We/=$e)*We*We+si},easeOutCubic:t,easeInOutCubic:xe,easeInQuart:Fe,easeOutQuart:Te,easeInOutQuart:e,easeInQuint:ke,easeOutQuint:Oe,easeInOutQuint:Ee,easeInSine:Pe,easeOutSine:De,easeInOutSine:Me,easeInExpo:Ae,easeOutExpo:Be,easeInOutExpo:He,easeInCirc:je,easeOutCirc:Xe,easeInOutCirc:St,easeInElastic:qe,easeOutElastic:Ye,easeInOutElastic:gi,easeInBack:ai,easeOutBack:ui,easeInOutBack:Qe,easeInBounce:Ze,easeOutBounce:ci,easeInOutBounce:ze}}(),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.util.object.clone,Fe=_e.util.toFixed,Te=_e.util.parseUnit,e=_e.util.multiplyTransformMatrices,ke=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],Oe=["symbol","image","marker","pattern","view","svg"],Ee=["pattern","defs","symbol","metadata","clipPath","mask","desc"],Pe=["symbol","g","a","svg","clipPath","defs"],De={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Me={stroke:"strokeOpacity",fill:"fillOpacity"},Ae="font-size",Be="clip-path";_e.svgValidTagNamesRegEx=Xe(ke),_e.svgViewBoxElementsRegEx=Xe(Oe),_e.svgInvalidAncestorsRegEx=Xe(Ee),_e.svgValidParentsRegEx=Xe(Pe),_e.cssRules={},_e.gradientDefs={},_e.clipPaths={};function He(Ve){return Ve in De?De[Ve]:Ve}function je(Ve,Ue,ti,hi){var yi=Array.isArray(Ue),wi;if((Ve==="fill"||Ve==="stroke")&&Ue==="none")Ue="";else{if(Ve==="strokeUniform")return Ue==="non-scaling-stroke";if(Ve==="strokeDashArray")Ue==="none"?Ue=null:Ue=Ue.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Ve==="transformMatrix")ti&&ti.transformMatrix?Ue=e(ti.transformMatrix,_e.parseTransformAttribute(Ue)):Ue=_e.parseTransformAttribute(Ue);else if(Ve==="visible")Ue=Ue!=="none"&&Ue!=="hidden",ti&&ti.visible===!1&&(Ue=!1);else if(Ve==="opacity")Ue=parseFloat(Ue),ti&&typeof ti.opacity<"u"&&(Ue*=ti.opacity);else if(Ve==="textAnchor")Ue=Ue==="start"?"left":Ue==="end"?"right":"center";else if(Ve==="charSpacing")wi=Te(Ue,hi)/hi*1e3;else if(Ve==="paintFirst"){var Ci=Ue.indexOf("fill"),ki=Ue.indexOf("stroke"),Ue="fill";(Ci>-1&&ki>-1&&ki<Ci||Ci===-1&&ki>-1)&&(Ue="stroke")}else{if(Ve==="href"||Ve==="xlink:href"||Ve==="font")return Ue;if(Ve==="imageSmoothing")return Ue==="optimizeQuality";wi=yi?Ue.map(Te):Te(Ue,hi)}}return!yi&&isNaN(wi)?Ue:wi}function Xe(Ve){return new RegExp("^("+Ve.join("|")+")\\b","i")}function St(Ve){for(var Ue in Me)if(!(typeof Ve[Me[Ue]]>"u"||Ve[Ue]==="")){if(typeof Ve[Ue]>"u"){if(!_e.Object.prototype[Ue])continue;Ve[Ue]=_e.Object.prototype[Ue]}if(Ve[Ue].indexOf("url(")!==0){var ti=new _e.Color(Ve[Ue]);Ve[Ue]=ti.setAlpha(Fe(ti.getAlpha()*Ve[Me[Ue]],2)).toRgba()}}return Ve}function qe(Ve,Ue){var ti,hi=[],yi,wi,Ci;for(wi=0,Ci=Ue.length;wi<Ci;wi++)ti=Ue[wi],yi=Ve.getElementsByTagName(ti),hi=hi.concat(Array.prototype.slice.call(yi));return hi}_e.parseTransformAttribute=function(){function Ve(mi,_i){var Si=_e.util.cos(_i[0]),Fi=_e.util.sin(_i[0]),Pi=0,Di=0;_i.length===3&&(Pi=_i[1],Di=_i[2]),mi[0]=Si,mi[1]=Fi,mi[2]=-Fi,mi[3]=Si,mi[4]=Pi-(Si*Pi-Fi*Di),mi[5]=Di-(Fi*Pi+Si*Di)}function Ue(mi,_i){var Si=_i[0],Fi=_i.length===2?_i[1]:_i[0];mi[0]=Si,mi[3]=Fi}function ti(mi,_i,Si){mi[Si]=Math.tan(_e.util.degreesToRadians(_i[0]))}function hi(mi,_i){mi[4]=_i[0],_i.length===2&&(mi[5]=_i[1])}var yi=_e.iMatrix,wi=_e.reNum,Ci=_e.commaWsp,ki="(?:(skewX)\\s*\\(\\s*("+wi+")\\s*\\))",fi="(?:(skewY)\\s*\\(\\s*("+wi+")\\s*\\))",xi="(?:(rotate)\\s*\\(\\s*("+wi+")(?:"+Ci+"("+wi+")"+Ci+"("+wi+"))?\\s*\\))",li="(?:(scale)\\s*\\(\\s*("+wi+")(?:"+Ci+"("+wi+"))?\\s*\\))",pi="(?:(translate)\\s*\\(\\s*("+wi+")(?:"+Ci+"("+wi+"))?\\s*\\))",ri="(?:(matrix)\\s*\\(\\s*("+wi+")"+Ci+"("+wi+")"+Ci+"("+wi+")"+Ci+"("+wi+")"+Ci+"("+wi+")"+Ci+"("+wi+")\\s*\\))",oi="(?:"+ri+"|"+pi+"|"+li+"|"+xi+"|"+ki+"|"+fi+")",di="(?:"+oi+"(?:"+Ci+"*"+oi+")*)",bi="^\\s*(?:"+di+"?)\\s*$",Ai=new RegExp(bi),Ei=new RegExp(oi,"g");return function(mi){var _i=yi.concat(),Si=[];if(!mi||mi&&!Ai.test(mi))return _i;mi.replace(Ei,function(Pi){var Di=new RegExp(oi).exec(Pi).filter(function($i){return!!$i}),Ii=Di[1],Mi=Di.slice(2).map(parseFloat);switch(Ii){case"translate":hi(_i,Mi);break;case"rotate":Mi[0]=_e.util.degreesToRadians(Mi[0]),Ve(_i,Mi);break;case"scale":Ue(_i,Mi);break;case"skewX":ti(_i,Mi,2);break;case"skewY":ti(_i,Mi,1);break;case"matrix":_i=Mi;break}Si.push(_i.concat()),_i=yi.concat()});for(var Fi=Si[0];Si.length>1;)Si.shift(),Fi=_e.util.multiplyTransformMatrices(Fi,Si[0]);return Fi}}();function Ye(Ve,Ue){var ti,hi;Ve.replace(/;\s*$/,"").split(";").forEach(function(yi){var wi=yi.split(":");ti=wi[0].trim().toLowerCase(),hi=wi[1].trim(),Ue[ti]=hi})}function gi(Ve,Ue){var ti,hi;for(var yi in Ve)typeof Ve[yi]>"u"||(ti=yi.toLowerCase(),hi=Ve[yi],Ue[ti]=hi)}function ai(Ve,Ue){var ti={};for(var hi in _e.cssRules[Ue])if(ui(Ve,hi.split(" ")))for(var yi in _e.cssRules[Ue][hi])ti[yi]=_e.cssRules[Ue][hi][yi];return ti}function ui(Ve,Ue){var ti,hi=!0;return ti=Ze(Ve,Ue.pop()),ti&&Ue.length&&(hi=Qe(Ve,Ue)),ti&&hi&&Ue.length===0}function Qe(Ve,Ue){for(var ti,hi=!0;Ve.parentNode&&Ve.parentNode.nodeType===1&&Ue.length;)hi&&(ti=Ue.pop()),Ve=Ve.parentNode,hi=Ze(Ve,ti);return Ue.length===0}function Ze(Ve,Ue){var ti=Ve.nodeName,hi=Ve.getAttribute("class"),yi=Ve.getAttribute("id"),wi,Ci;if(wi=new RegExp("^"+ti,"i"),Ue=Ue.replace(wi,""),yi&&Ue.length&&(wi=new RegExp("#"+yi+"(?![a-zA-Z\\-]+)","i"),Ue=Ue.replace(wi,"")),hi&&Ue.length)for(hi=hi.split(" "),Ci=hi.length;Ci--;)wi=new RegExp("\\."+hi[Ci]+"(?![a-zA-Z\\-]+)","i"),Ue=Ue.replace(wi,"");return Ue.length===0}function ci(Ve,Ue){var ti;if(Ve.getElementById&&(ti=Ve.getElementById(Ue)),ti)return ti;var hi,yi,wi,Ci=Ve.getElementsByTagName("*");for(yi=0,wi=Ci.length;yi<wi;yi++)if(hi=Ci[yi],Ue===hi.getAttribute("id"))return hi}function ze(Ve){for(var Ue=qe(Ve,["use","svg:use"]),ti=0;Ue.length&&ti<Ue.length;){var hi=Ue[ti],yi=hi.getAttribute("xlink:href")||hi.getAttribute("href");if(yi===null)return;var wi=yi.slice(1),Ci=hi.getAttribute("x")||0,ki=hi.getAttribute("y")||0,fi=ci(Ve,wi).cloneNode(!0),xi=(fi.getAttribute("transform")||"")+" translate("+Ci+", "+ki+")",li,pi=Ue.length,ri,oi,di,bi,Ai=_e.svgNS;if(si(fi),/^svg$/i.test(fi.nodeName)){var Ei=fi.ownerDocument.createElementNS(Ai,"g");for(oi=0,di=fi.attributes,bi=di.length;oi<bi;oi++)ri=di.item(oi),Ei.setAttributeNS(Ai,ri.nodeName,ri.nodeValue);for(;fi.firstChild;)Ei.appendChild(fi.firstChild);fi=Ei}for(oi=0,di=hi.attributes,bi=di.length;oi<bi;oi++)ri=di.item(oi),!(ri.nodeName==="x"||ri.nodeName==="y"||ri.nodeName==="xlink:href"||ri.nodeName==="href")&&(ri.nodeName==="transform"?xi=ri.nodeValue+" "+xi:fi.setAttribute(ri.nodeName,ri.nodeValue));fi.setAttribute("transform",xi),fi.setAttribute("instantiated_by_use","1"),fi.removeAttribute("id"),li=hi.parentNode,li.replaceChild(fi,hi),Ue.length===pi&&ti++}}var We=new RegExp("^\\s*("+_e.reNum+"+)\\s*,?\\s*("+_e.reNum+"+)\\s*,?\\s*("+_e.reNum+"+)\\s*,?\\s*("+_e.reNum+"+)\\s*$");function si(Ve){if(!_e.svgViewBoxElementsRegEx.test(Ve.nodeName))return{};var Ue=Ve.getAttribute("viewBox"),ti=1,hi=1,yi=0,wi=0,Ci,ki,fi,xi,li=Ve.getAttribute("width"),pi=Ve.getAttribute("height"),ri=Ve.getAttribute("x")||0,oi=Ve.getAttribute("y")||0,di=Ve.getAttribute("preserveAspectRatio")||"",bi=!Ue||!(Ue=Ue.match(We)),Ai=!li||!pi||li==="100%"||pi==="100%",Ei=bi&&Ai,mi={},_i="",Si=0,Fi=0;if(mi.width=0,mi.height=0,mi.toBeParsed=Ei,bi&&(ri||oi)&&Ve.parentNode&&Ve.parentNode.nodeName!=="#document"&&(_i=" translate("+Te(ri)+" "+Te(oi)+") ",fi=(Ve.getAttribute("transform")||"")+_i,Ve.setAttribute("transform",fi),Ve.removeAttribute("x"),Ve.removeAttribute("y")),Ei)return mi;if(bi)return mi.width=Te(li),mi.height=Te(pi),mi;if(yi=-parseFloat(Ue[1]),wi=-parseFloat(Ue[2]),Ci=parseFloat(Ue[3]),ki=parseFloat(Ue[4]),mi.minX=yi,mi.minY=wi,mi.viewBoxWidth=Ci,mi.viewBoxHeight=ki,Ai?(mi.width=Ci,mi.height=ki):(mi.width=Te(li),mi.height=Te(pi),ti=mi.width/Ci,hi=mi.height/ki),di=_e.util.parsePreserveAspectRatioAttribute(di),di.alignX!=="none"&&(di.meetOrSlice==="meet"&&(hi=ti=ti>hi?hi:ti),di.meetOrSlice==="slice"&&(hi=ti=ti>hi?ti:hi),Si=mi.width-Ci*ti,Fi=mi.height-ki*ti,di.alignX==="Mid"&&(Si/=2),di.alignY==="Mid"&&(Fi/=2),di.alignX==="Min"&&(Si=0),di.alignY==="Min"&&(Fi=0)),ti===1&&hi===1&&yi===0&&wi===0&&ri===0&&oi===0)return mi;if((ri||oi)&&Ve.parentNode.nodeName!=="#document"&&(_i=" translate("+Te(ri)+" "+Te(oi)+") "),fi=_i+" matrix("+ti+" 0 0 "+hi+" "+(yi*ti+Si)+" "+(wi*hi+Fi)+") ",Ve.nodeName==="svg"){for(xi=Ve.ownerDocument.createElementNS(_e.svgNS,"g");Ve.firstChild;)xi.appendChild(Ve.firstChild);Ve.appendChild(xi)}else xi=Ve,xi.removeAttribute("x"),xi.removeAttribute("y"),fi=xi.getAttribute("transform")+fi;return xi.setAttribute("transform",fi),mi}function ni(Ve,Ue){for(;Ve&&(Ve=Ve.parentNode);)if(Ve.nodeName&&Ue.test(Ve.nodeName.replace("svg:",""))&&!Ve.getAttribute("instantiated_by_use"))return!0;return!1}_e.parseSVGDocument=function(Ve,Ue,ti,hi){if(!!Ve){ze(Ve);var yi=_e.Object.__uid++,wi,Ci,ki=si(Ve),fi=_e.util.toArray(Ve.getElementsByTagName("*"));if(ki.crossOrigin=hi&&hi.crossOrigin,ki.svgUid=yi,fi.length===0&&_e.isLikelyNode){fi=Ve.selectNodes('//*[name(.)!="svg"]');var xi=[];for(wi=0,Ci=fi.length;wi<Ci;wi++)xi[wi]=fi[wi];fi=xi}var li=fi.filter(function(ri){return si(ri),_e.svgValidTagNamesRegEx.test(ri.nodeName.replace("svg:",""))&&!ni(ri,_e.svgInvalidAncestorsRegEx)});if(!li||li&&!li.length){Ue&&Ue([],{});return}var pi={};fi.filter(function(ri){return ri.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ri){var oi=ri.getAttribute("id");pi[oi]=_e.util.toArray(ri.getElementsByTagName("*")).filter(function(di){return _e.svgValidTagNamesRegEx.test(di.nodeName.replace("svg:",""))})}),_e.gradientDefs[yi]=_e.getGradientDefs(Ve),_e.cssRules[yi]=_e.getCSSRules(Ve),_e.clipPaths[yi]=pi,_e.parseElements(li,function(ri,oi){Ue&&(Ue(ri,ki,oi,fi),delete _e.gradientDefs[yi],delete _e.cssRules[yi],delete _e.clipPaths[yi])},xe(ki),ti,hi)}};function $e(Ve,Ue){var ti=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],hi="xlink:href",yi=Ue.getAttribute(hi).slice(1),wi=ci(Ve,yi);if(wi&&wi.getAttribute(hi)&&$e(Ve,wi),ti.forEach(function(ki){wi&&!Ue.hasAttribute(ki)&&wi.hasAttribute(ki)&&Ue.setAttribute(ki,wi.getAttribute(ki))}),!Ue.children.length)for(var Ci=wi.cloneNode(!0);Ci.firstChild;)Ue.appendChild(Ci.firstChild);Ue.removeAttribute(hi)}var Ke=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+_e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+_e.reNum+"))?\\s+(.*)");t(_e,{parseFontDeclaration:function(Ve,Ue){var ti=Ve.match(Ke);if(!!ti){var hi=ti[1],yi=ti[3],wi=ti[4],Ci=ti[5],ki=ti[6];hi&&(Ue.fontStyle=hi),yi&&(Ue.fontWeight=isNaN(parseFloat(yi))?yi:parseFloat(yi)),wi&&(Ue.fontSize=Te(wi)),ki&&(Ue.fontFamily=ki),Ci&&(Ue.lineHeight=Ci==="normal"?1:Ci)}},getGradientDefs:function(Ve){var Ue=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],ti=qe(Ve,Ue),hi,yi=0,wi={};for(yi=ti.length;yi--;)hi=ti[yi],hi.getAttribute("xlink:href")&&$e(Ve,hi),wi[hi.getAttribute("id")]=hi;return wi},parseAttributes:function(Ve,Ue,ti){if(!!Ve){var hi,yi={},wi,Ci;typeof ti>"u"&&(ti=Ve.getAttribute("svgUid")),Ve.parentNode&&_e.svgValidParentsRegEx.test(Ve.parentNode.nodeName)&&(yi=_e.parseAttributes(Ve.parentNode,Ue,ti));var ki=Ue.reduce(function(di,bi){return hi=Ve.getAttribute(bi),hi&&(di[bi]=hi),di},{}),fi=t(ai(Ve,ti),_e.parseStyleAttribute(Ve));ki=t(ki,fi),fi[Be]&&Ve.setAttribute(Be,fi[Be]),wi=Ci=yi.fontSize||_e.Text.DEFAULT_SVG_FONT_SIZE,ki[Ae]&&(ki[Ae]=wi=Te(ki[Ae],Ci));var xi,li,pi={};for(var ri in ki)xi=He(ri),li=je(xi,ki[ri],yi,wi),pi[xi]=li;pi&&pi.font&&_e.parseFontDeclaration(pi.font,pi);var oi=t(yi,pi);return _e.svgValidParentsRegEx.test(Ve.nodeName)?oi:St(oi)}},parseElements:function(Ve,Ue,ti,hi,yi){new _e.ElementsParser(Ve,Ue,ti,hi,yi).parse()},parseStyleAttribute:function(Ve){var Ue={},ti=Ve.getAttribute("style");return ti&&(typeof ti=="string"?Ye(ti,Ue):gi(ti,Ue)),Ue},parsePointsAttribute:function(Ve){if(!Ve)return null;Ve=Ve.replace(/,/g," ").trim(),Ve=Ve.split(/\s+/);var Ue=[],ti,hi;for(ti=0,hi=Ve.length;ti<hi;ti+=2)Ue.push({x:parseFloat(Ve[ti]),y:parseFloat(Ve[ti+1])});return Ue},getCSSRules:function(Ve){var Ue=Ve.getElementsByTagName("style"),ti,hi,yi={},wi;for(ti=0,hi=Ue.length;ti<hi;ti++){var Ci=Ue[ti].textContent;Ci=Ci.replace(/\/\*[\s\S]*?\*\//g,""),Ci.trim()!==""&&(wi=Ci.split("}"),wi=wi.filter(function(ki){return ki.trim()}),wi.forEach(function(ki){var fi=ki.split("{"),xi={},li=fi[1].trim(),pi=li.split(";").filter(function(bi){return bi.trim()});for(ti=0,hi=pi.length;ti<hi;ti++){var ri=pi[ti].split(":"),oi=ri[0].trim(),di=ri[1].trim();xi[oi]=di}ki=fi[0].trim(),ki.split(",").forEach(function(bi){bi=bi.replace(/^svg/i,"").trim(),bi!==""&&(yi[bi]?_e.util.object.extend(yi[bi],xi):yi[bi]=_e.util.object.clone(xi))})}))}return yi},loadSVGFromURL:function(Ve,Ue,ti,hi){Ve=Ve.replace(/^\n\s*/,"").trim(),new _e.util.request(Ve,{method:"get",onComplete:yi});function yi(wi){var Ci=wi.responseXML;if(!Ci||!Ci.documentElement)return Ue&&Ue(null),!1;_e.parseSVGDocument(Ci.documentElement,function(ki,fi,xi,li){Ue&&Ue(ki,fi,xi,li)},ti,hi)}},loadSVGFromString:function(Ve,Ue,ti,hi){var yi=new _e.window.DOMParser,wi=yi.parseFromString(Ve.trim(),"text/xml");_e.parseSVGDocument(wi.documentElement,function(Ci,ki,fi,xi){Ue(Ci,ki,fi,xi)},ti,hi)}})}(Ce),r.ElementsParser=function(Se,_e,t,xe,Fe,Te){this.elements=Se,this.callback=_e,this.options=t,this.reviver=xe,this.svgUid=t&&t.svgUid||0,this.parsingOptions=Fe,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=Te},function(Se){Se.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},Se.createObjects=function(){var _e=this;this.elements.forEach(function(t,xe){t.setAttribute("svgUid",_e.svgUid),_e.createObject(t,xe)})},Se.findTag=function(_e){return r[r.util.string.capitalize(_e.tagName.replace("svg:",""))]},Se.createObject=function(_e,t){var xe=this.findTag(_e);if(xe&&xe.fromElement)try{xe.fromElement(_e,this.createCallback(t,_e),this.options)}catch(Fe){r.log(Fe)}else this.checkIfDone()},Se.createCallback=function(_e,t){var xe=this;return function(Fe){var Te;xe.resolveGradient(Fe,t,"fill"),xe.resolveGradient(Fe,t,"stroke"),Fe instanceof r.Image&&Fe._originalElement&&(Te=Fe.parsePreserveAspectRatioAttribute(t)),Fe._removeTransformMatrix(Te),xe.resolveClipPath(Fe,t),xe.reviver&&xe.reviver(t,Fe),xe.instances[_e]=Fe,xe.checkIfDone()}},Se.extractPropertyDefinition=function(_e,t,xe){var Fe=_e[t],Te=this.regexUrl;if(!!Te.test(Fe)){Te.lastIndex=0;var e=Te.exec(Fe)[1];return Te.lastIndex=0,r[xe][this.svgUid][e]}},Se.resolveGradient=function(_e,t,xe){var Fe=this.extractPropertyDefinition(_e,xe,"gradientDefs");if(Fe){var Te=t.getAttribute(xe+"-opacity"),e=r.Gradient.fromElement(Fe,_e,Te,this.options);_e.set(xe,e)}},Se.createClipPathCallback=function(_e,t){return function(xe){xe._removeTransformMatrix(),xe.fillRule=xe.clipRule,t.push(xe)}},Se.resolveClipPath=function(_e,t){var xe=this.extractPropertyDefinition(_e,"clipPath","clipPaths"),Fe,Te,e,ke,Oe,Ee;if(xe){ke=[],e=r.util.invertTransform(_e.calcTransformMatrix());for(var Pe=xe[0].parentNode,De=t;De.parentNode&&De.getAttribute("clip-path")!==_e.clipPath;)De=De.parentNode;De.parentNode.appendChild(Pe);for(var Me=0;Me<xe.length;Me++)Fe=xe[Me],Te=this.findTag(Fe),Te.fromElement(Fe,this.createClipPathCallback(_e,ke),this.options);ke.length===1?xe=ke[0]:xe=new r.Group(ke),Oe=r.util.multiplyTransformMatrices(e,xe.calcTransformMatrix()),xe.clipPath&&this.resolveClipPath(xe,De);var Ee=r.util.qrDecompose(Oe);xe.flipX=!1,xe.flipY=!1,xe.set("scaleX",Ee.scaleX),xe.set("scaleY",Ee.scaleY),xe.angle=Ee.angle,xe.skewX=Ee.skewX,xe.skewY=0,xe.setPositionByOrigin({x:Ee.translateX,y:Ee.translateY},"center","center"),_e.clipPath=xe}else delete _e.clipPath},Se.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(_e){return _e!=null}),this.callback(this.instances,this.elements))}}(r.ElementsParser.prototype),function(Se){var _e=Se.fabric||(Se.fabric={});if(_e.Point){_e.warn("fabric.Point is already defined");return}_e.Point=t;function t(xe,Fe){this.x=xe,this.y=Fe}t.prototype={type:"point",constructor:t,add:function(xe){return new t(this.x+xe.x,this.y+xe.y)},addEquals:function(xe){return this.x+=xe.x,this.y+=xe.y,this},scalarAdd:function(xe){return new t(this.x+xe,this.y+xe)},scalarAddEquals:function(xe){return this.x+=xe,this.y+=xe,this},subtract:function(xe){return new t(this.x-xe.x,this.y-xe.y)},subtractEquals:function(xe){return this.x-=xe.x,this.y-=xe.y,this},scalarSubtract:function(xe){return new t(this.x-xe,this.y-xe)},scalarSubtractEquals:function(xe){return this.x-=xe,this.y-=xe,this},multiply:function(xe){return new t(this.x*xe,this.y*xe)},multiplyEquals:function(xe){return this.x*=xe,this.y*=xe,this},divide:function(xe){return new t(this.x/xe,this.y/xe)},divideEquals:function(xe){return this.x/=xe,this.y/=xe,this},eq:function(xe){return this.x===xe.x&&this.y===xe.y},lt:function(xe){return this.x<xe.x&&this.y<xe.y},lte:function(xe){return this.x<=xe.x&&this.y<=xe.y},gt:function(xe){return this.x>xe.x&&this.y>xe.y},gte:function(xe){return this.x>=xe.x&&this.y>=xe.y},lerp:function(xe,Fe){return typeof Fe>"u"&&(Fe=.5),Fe=Math.max(Math.min(1,Fe),0),new t(this.x+(xe.x-this.x)*Fe,this.y+(xe.y-this.y)*Fe)},distanceFrom:function(xe){var Fe=this.x-xe.x,Te=this.y-xe.y;return Math.sqrt(Fe*Fe+Te*Te)},midPointFrom:function(xe){return this.lerp(xe)},min:function(xe){return new t(Math.min(this.x,xe.x),Math.min(this.y,xe.y))},max:function(xe){return new t(Math.max(this.x,xe.x),Math.max(this.y,xe.y))},toString:function(){return this.x+","+this.y},setXY:function(xe,Fe){return this.x=xe,this.y=Fe,this},setX:function(xe){return this.x=xe,this},setY:function(xe){return this.y=xe,this},setFromPoint:function(xe){return this.x=xe.x,this.y=xe.y,this},swap:function(xe){var Fe=this.x,Te=this.y;this.x=xe.x,this.y=xe.y,xe.x=Fe,xe.y=Te},clone:function(){return new t(this.x,this.y)}}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={});if(_e.Intersection){_e.warn("fabric.Intersection is already defined");return}function t(xe){this.status=xe,this.points=[]}_e.Intersection=t,_e.Intersection.prototype={constructor:t,appendPoint:function(xe){return this.points.push(xe),this},appendPoints:function(xe){return this.points=this.points.concat(xe),this}},_e.Intersection.intersectLineLine=function(xe,Fe,Te,e){var ke,Oe=(e.x-Te.x)*(xe.y-Te.y)-(e.y-Te.y)*(xe.x-Te.x),Ee=(Fe.x-xe.x)*(xe.y-Te.y)-(Fe.y-xe.y)*(xe.x-Te.x),Pe=(e.y-Te.y)*(Fe.x-xe.x)-(e.x-Te.x)*(Fe.y-xe.y);if(Pe!==0){var De=Oe/Pe,Me=Ee/Pe;0<=De&&De<=1&&0<=Me&&Me<=1?(ke=new t("Intersection"),ke.appendPoint(new _e.Point(xe.x+De*(Fe.x-xe.x),xe.y+De*(Fe.y-xe.y)))):ke=new t}else Oe===0||Ee===0?ke=new t("Coincident"):ke=new t("Parallel");return ke},_e.Intersection.intersectLinePolygon=function(xe,Fe,Te){var e=new t,ke=Te.length,Oe,Ee,Pe,De;for(De=0;De<ke;De++)Oe=Te[De],Ee=Te[(De+1)%ke],Pe=t.intersectLineLine(xe,Fe,Oe,Ee),e.appendPoints(Pe.points);return e.points.length>0&&(e.status="Intersection"),e},_e.Intersection.intersectPolygonPolygon=function(xe,Fe){var Te=new t,e=xe.length,ke;for(ke=0;ke<e;ke++){var Oe=xe[ke],Ee=xe[(ke+1)%e],Pe=t.intersectLinePolygon(Oe,Ee,Fe);Te.appendPoints(Pe.points)}return Te.points.length>0&&(Te.status="Intersection"),Te},_e.Intersection.intersectPolygonRectangle=function(xe,Fe,Te){var e=Fe.min(Te),ke=Fe.max(Te),Oe=new _e.Point(ke.x,e.y),Ee=new _e.Point(e.x,ke.y),Pe=t.intersectLinePolygon(e,Oe,xe),De=t.intersectLinePolygon(Oe,ke,xe),Me=t.intersectLinePolygon(ke,Ee,xe),Ae=t.intersectLinePolygon(Ee,e,xe),Be=new t;return Be.appendPoints(Pe.points),Be.appendPoints(De.points),Be.appendPoints(Me.points),Be.appendPoints(Ae.points),Be.points.length>0&&(Be.status="Intersection"),Be}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={});if(_e.Color){_e.warn("fabric.Color is already defined.");return}function t(Fe){Fe?this._tryParsingColor(Fe):this.setSource([0,0,0,1])}_e.Color=t,_e.Color.prototype={_tryParsingColor:function(Fe){var Te;Fe in t.colorNameMap&&(Fe=t.colorNameMap[Fe]),Fe==="transparent"&&(Te=[255,255,255,0]),Te||(Te=t.sourceFromHex(Fe)),Te||(Te=t.sourceFromRgb(Fe)),Te||(Te=t.sourceFromHsl(Fe)),Te||(Te=[0,0,0,1]),Te&&this.setSource(Te)},_rgbToHsl:function(Fe,Te,e){Fe/=255,Te/=255,e/=255;var ke,Oe,Ee,Pe=_e.util.array.max([Fe,Te,e]),De=_e.util.array.min([Fe,Te,e]);if(Ee=(Pe+De)/2,Pe===De)ke=Oe=0;else{var Me=Pe-De;switch(Oe=Ee>.5?Me/(2-Pe-De):Me/(Pe+De),Pe){case Fe:ke=(Te-e)/Me+(Te<e?6:0);break;case Te:ke=(e-Fe)/Me+2;break;case e:ke=(Fe-Te)/Me+4;break}ke/=6}return[Math.round(ke*360),Math.round(Oe*100),Math.round(Ee*100)]},getSource:function(){return this._source},setSource:function(Fe){this._source=Fe},toRgb:function(){var Fe=this.getSource();return"rgb("+Fe[0]+","+Fe[1]+","+Fe[2]+")"},toRgba:function(){var Fe=this.getSource();return"rgba("+Fe[0]+","+Fe[1]+","+Fe[2]+","+Fe[3]+")"},toHsl:function(){var Fe=this.getSource(),Te=this._rgbToHsl(Fe[0],Fe[1],Fe[2]);return"hsl("+Te[0]+","+Te[1]+"%,"+Te[2]+"%)"},toHsla:function(){var Fe=this.getSource(),Te=this._rgbToHsl(Fe[0],Fe[1],Fe[2]);return"hsla("+Te[0]+","+Te[1]+"%,"+Te[2]+"%,"+Fe[3]+")"},toHex:function(){var Fe=this.getSource(),Te,e,ke;return Te=Fe[0].toString(16),Te=Te.length===1?"0"+Te:Te,e=Fe[1].toString(16),e=e.length===1?"0"+e:e,ke=Fe[2].toString(16),ke=ke.length===1?"0"+ke:ke,Te.toUpperCase()+e.toUpperCase()+ke.toUpperCase()},toHexa:function(){var Fe=this.getSource(),Te;return Te=Math.round(Fe[3]*255),Te=Te.toString(16),Te=Te.length===1?"0"+Te:Te,this.toHex()+Te.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(Fe){var Te=this.getSource();return Te[3]=Fe,this.setSource(Te),this},toGrayscale:function(){var Fe=this.getSource(),Te=parseInt((Fe[0]*.3+Fe[1]*.59+Fe[2]*.11).toFixed(0),10),e=Fe[3];return this.setSource([Te,Te,Te,e]),this},toBlackWhite:function(Fe){var Te=this.getSource(),e=(Te[0]*.3+Te[1]*.59+Te[2]*.11).toFixed(0),ke=Te[3];return Fe=Fe||127,e=Number(e)<Number(Fe)?0:255,this.setSource([e,e,e,ke]),this},overlayWith:function(Fe){Fe instanceof t||(Fe=new t(Fe));var Te=[],e=this.getAlpha(),ke=.5,Oe=this.getSource(),Ee=Fe.getSource(),Pe;for(Pe=0;Pe<3;Pe++)Te.push(Math.round(Oe[Pe]*(1-ke)+Ee[Pe]*ke));return Te[3]=e,this.setSource(Te),this}},_e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,_e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,_e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,_e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function xe(Fe,Te,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?Fe+(Te-Fe)*6*e:e<1/2?Te:e<2/3?Fe+(Te-Fe)*(2/3-e)*6:Fe}_e.Color.fromRgb=function(Fe){return t.fromSource(t.sourceFromRgb(Fe))},_e.Color.sourceFromRgb=function(Fe){var Te=Fe.match(t.reRGBa);if(Te){var e=parseInt(Te[1],10)/(/%$/.test(Te[1])?100:1)*(/%$/.test(Te[1])?255:1),ke=parseInt(Te[2],10)/(/%$/.test(Te[2])?100:1)*(/%$/.test(Te[2])?255:1),Oe=parseInt(Te[3],10)/(/%$/.test(Te[3])?100:1)*(/%$/.test(Te[3])?255:1);return[parseInt(e,10),parseInt(ke,10),parseInt(Oe,10),Te[4]?parseFloat(Te[4]):1]}},_e.Color.fromRgba=t.fromRgb,_e.Color.fromHsl=function(Fe){return t.fromSource(t.sourceFromHsl(Fe))},_e.Color.sourceFromHsl=function(Fe){var Te=Fe.match(t.reHSLa);if(!!Te){var e=(parseFloat(Te[1])%360+360)%360/360,ke=parseFloat(Te[2])/(/%$/.test(Te[2])?100:1),Oe=parseFloat(Te[3])/(/%$/.test(Te[3])?100:1),Ee,Pe,De;if(ke===0)Ee=Pe=De=Oe;else{var Me=Oe<=.5?Oe*(ke+1):Oe+ke-Oe*ke,Ae=Oe*2-Me;Ee=xe(Ae,Me,e+1/3),Pe=xe(Ae,Me,e),De=xe(Ae,Me,e-1/3)}return[Math.round(Ee*255),Math.round(Pe*255),Math.round(De*255),Te[4]?parseFloat(Te[4]):1]}},_e.Color.fromHsla=t.fromHsl,_e.Color.fromHex=function(Fe){return t.fromSource(t.sourceFromHex(Fe))},_e.Color.sourceFromHex=function(Fe){if(Fe.match(t.reHex)){var Te=Fe.slice(Fe.indexOf("#")+1),e=Te.length===3||Te.length===4,ke=Te.length===8||Te.length===4,Oe=e?Te.charAt(0)+Te.charAt(0):Te.substring(0,2),Ee=e?Te.charAt(1)+Te.charAt(1):Te.substring(2,4),Pe=e?Te.charAt(2)+Te.charAt(2):Te.substring(4,6),De=ke?e?Te.charAt(3)+Te.charAt(3):Te.substring(6,8):"FF";return[parseInt(Oe,16),parseInt(Ee,16),parseInt(Pe,16),parseFloat((parseInt(De,16)/255).toFixed(2))]}},_e.Color.fromSource=function(Fe){var Te=new t;return Te.setSource(Fe),Te}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=["e","se","s","sw","w","nw","n","ne","e"],xe=["ns","nesw","ew","nwse"],Fe={},Te="left",e="top",ke="right",Oe="bottom",Ee="center",Pe={top:Oe,bottom:e,left:ke,right:Te,center:Ee},De=_e.util.radiansToDegrees,Me=Math.sign||function(xi){return(xi>0)-(xi<0)||+xi};function Ae(xi,li){var pi=xi.angle+De(Math.atan2(li.y,li.x))+360;return Math.round(pi%360/45)}function Be(xi,li){var pi=li.transform.target,ri=pi.canvas,oi=_e.util.object.clone(li);oi.target=pi,ri&&ri.fire("object:"+xi,oi),pi.fire(xi,li)}function He(xi,li){var pi=li.canvas,ri=pi.uniScaleKey,oi=xi[ri];return pi.uniformScaling&&!oi||!pi.uniformScaling&&oi}function je(xi){return xi.originX===Ee&&xi.originY===Ee}function Xe(xi,li,pi){var ri=xi.lockScalingX,oi=xi.lockScalingY;return!!(ri&&oi||!li&&(ri||oi)&&pi||ri&&li==="x"||oi&&li==="y")}function St(xi,li,pi){var ri="not-allowed",oi=He(xi,pi),di="";if(li.x!==0&&li.y===0?di="x":li.x===0&&li.y!==0&&(di="y"),Xe(pi,di,oi))return ri;var bi=Ae(pi,li);return t[bi]+"-resize"}function qe(xi,li,pi){var ri="not-allowed";if(li.x!==0&&pi.lockSkewingY||li.y!==0&&pi.lockSkewingX)return ri;var oi=Ae(pi,li)%4;return xe[oi]+"-resize"}function Ye(xi,li,pi){return xi[pi.canvas.altActionKey]?Fe.skewCursorStyleHandler(xi,li,pi):Fe.scaleCursorStyleHandler(xi,li,pi)}function gi(xi,li,pi){var ri=xi[pi.canvas.altActionKey];if(li.x===0)return ri?"skewX":"scaleY";if(li.y===0)return ri?"skewY":"scaleX"}function ai(xi,li,pi){return pi.lockRotation?"not-allowed":li.cursorStyle}function ui(xi,li,pi,ri){return{e:xi,transform:li,pointer:{x:pi,y:ri}}}function Qe(xi){return function(li,pi,ri,oi){var di=pi.target,bi=di.getCenterPoint(),Ai=di.translateToOriginPoint(bi,pi.originX,pi.originY),Ei=xi(li,pi,ri,oi);return di.setPositionByOrigin(Ai,pi.originX,pi.originY),Ei}}function Ze(xi,li){return function(pi,ri,oi,di){var bi=li(pi,ri,oi,di);return bi&&Be(xi,ui(pi,ri,oi,di)),bi}}function ci(xi,li,pi,ri,oi){var di=xi.target,bi=di.controls[xi.corner],Ai=di.canvas.getZoom(),Ei=di.padding/Ai,mi=di.toLocalPoint(new _e.Point(ri,oi),li,pi);return mi.x>=Ei&&(mi.x-=Ei),mi.x<=-Ei&&(mi.x+=Ei),mi.y>=Ei&&(mi.y-=Ei),mi.y<=Ei&&(mi.y+=Ei),mi.x-=bi.offsetX,mi.y-=bi.offsetY,mi}function ze(xi){return xi.flipX!==xi.flipY}function We(xi,li,pi,ri,oi){if(xi[li]!==0){var di=xi._getTransformedDimensions()[ri],bi=oi/di*xi[pi];xi.set(pi,bi)}}function si(xi,li,pi,ri){var oi=li.target,di=oi._getTransformedDimensions(0,oi.skewY),bi=ci(li,li.originX,li.originY,pi,ri),Ai=Math.abs(bi.x*2)-di.x,Ei=oi.skewX,mi;Ai<2?mi=0:(mi=De(Math.atan2(Ai/oi.scaleX,di.y/oi.scaleY)),li.originX===Te&&li.originY===Oe&&(mi=-mi),li.originX===ke&&li.originY===e&&(mi=-mi),ze(oi)&&(mi=-mi));var _i=Ei!==mi;if(_i){var Si=oi._getTransformedDimensions().y;oi.set("skewX",mi),We(oi,"skewY","scaleY","y",Si)}return _i}function ni(xi,li,pi,ri){var oi=li.target,di=oi._getTransformedDimensions(oi.skewX,0),bi=ci(li,li.originX,li.originY,pi,ri),Ai=Math.abs(bi.y*2)-di.y,Ei=oi.skewY,mi;Ai<2?mi=0:(mi=De(Math.atan2(Ai/oi.scaleY,di.x/oi.scaleX)),li.originX===Te&&li.originY===Oe&&(mi=-mi),li.originX===ke&&li.originY===e&&(mi=-mi),ze(oi)&&(mi=-mi));var _i=Ei!==mi;if(_i){var Si=oi._getTransformedDimensions().x;oi.set("skewY",mi),We(oi,"skewX","scaleX","x",Si)}return _i}function $e(xi,li,pi,ri){var oi=li.target,di=oi.skewX,bi,Ai=li.originY;if(oi.lockSkewingX)return!1;if(di===0){var Ei=ci(li,Ee,Ee,pi,ri);Ei.x>0?bi=Te:bi=ke}else di>0&&(bi=Ai===e?Te:ke),di<0&&(bi=Ai===e?ke:Te),ze(oi)&&(bi=bi===Te?ke:Te);li.originX=bi;var mi=Ze("skewing",Qe(si));return mi(xi,li,pi,ri)}function Ke(xi,li,pi,ri){var oi=li.target,di=oi.skewY,bi,Ai=li.originX;if(oi.lockSkewingY)return!1;if(di===0){var Ei=ci(li,Ee,Ee,pi,ri);Ei.y>0?bi=e:bi=Oe}else di>0&&(bi=Ai===Te?e:Oe),di<0&&(bi=Ai===Te?Oe:e),ze(oi)&&(bi=bi===e?Oe:e);li.originY=bi;var mi=Ze("skewing",Qe(ni));return mi(xi,li,pi,ri)}function Ve(xi,li,pi,ri){var oi=li,di=oi.target,bi=di.translateToOriginPoint(di.getCenterPoint(),oi.originX,oi.originY);if(di.lockRotation)return!1;var Ai=Math.atan2(oi.ey-bi.y,oi.ex-bi.x),Ei=Math.atan2(ri-bi.y,pi-bi.x),mi=De(Ei-Ai+oi.theta),_i=!0;if(di.snapAngle>0){var Si=di.snapAngle,Fi=di.snapThreshold||Si,Pi=Math.ceil(mi/Si)*Si,Di=Math.floor(mi/Si)*Si;Math.abs(mi-Di)<Fi?mi=Di:Math.abs(mi-Pi)<Fi&&(mi=Pi)}return mi<0&&(mi=360+mi),mi%=360,_i=di.angle!==mi,di.angle=mi,_i}function Ue(xi,li,pi,ri,oi){oi=oi||{};var di=li.target,bi=di.lockScalingX,Ai=di.lockScalingY,Ei=oi.by,mi,_i,Si,Fi,Pi=He(xi,di),Di=Xe(di,Ei,Pi),Ii,Mi,$i=li.gestureScale;if(Di)return!1;if($i)_i=li.scaleX*$i,Si=li.scaleY*$i;else{if(mi=ci(li,li.originX,li.originY,pi,ri),Ii=Ei!=="y"?Me(mi.x):1,Mi=Ei!=="x"?Me(mi.y):1,li.signX||(li.signX=Ii),li.signY||(li.signY=Mi),di.lockScalingFlip&&(li.signX!==Ii||li.signY!==Mi))return!1;if(Fi=di._getTransformedDimensions(),Pi&&!Ei){var Xi=Math.abs(mi.x)+Math.abs(mi.y),rn=li.original,tn=Math.abs(Fi.x*rn.scaleX/di.scaleX)+Math.abs(Fi.y*rn.scaleY/di.scaleY),on=Xi/tn;_i=rn.scaleX*on,Si=rn.scaleY*on}else _i=Math.abs(mi.x*di.scaleX/Fi.x),Si=Math.abs(mi.y*di.scaleY/Fi.y);je(li)&&(_i*=2,Si*=2),li.signX!==Ii&&Ei!=="y"&&(li.originX=Pe[li.originX],_i*=-1,li.signX=Ii),li.signY!==Mi&&Ei!=="x"&&(li.originY=Pe[li.originY],Si*=-1,li.signY=Mi)}var fn=di.scaleX,Yi=di.scaleY;return Ei?(Ei==="x"&&di.set("scaleX",_i),Ei==="y"&&di.set("scaleY",Si)):(!bi&&di.set("scaleX",_i),!Ai&&di.set("scaleY",Si)),fn!==di.scaleX||Yi!==di.scaleY}function ti(xi,li,pi,ri){return Ue(xi,li,pi,ri)}function hi(xi,li,pi,ri){return Ue(xi,li,pi,ri,{by:"x"})}function yi(xi,li,pi,ri){return Ue(xi,li,pi,ri,{by:"y"})}function wi(xi,li,pi,ri){return xi[li.target.canvas.altActionKey]?Fe.skewHandlerX(xi,li,pi,ri):Fe.scalingY(xi,li,pi,ri)}function Ci(xi,li,pi,ri){return xi[li.target.canvas.altActionKey]?Fe.skewHandlerY(xi,li,pi,ri):Fe.scalingX(xi,li,pi,ri)}function ki(xi,li,pi,ri){var oi=li.target,di=ci(li,li.originX,li.originY,pi,ri),bi=oi.strokeWidth/(oi.strokeUniform?oi.scaleX:1),Ai=je(li)?2:1,Ei=oi.width,mi=Math.abs(di.x*Ai/oi.scaleX)-bi;return oi.set("width",Math.max(mi,0)),Ei!==mi}function fi(xi,li,pi,ri){var oi=li.target,di=pi-li.offsetX,bi=ri-li.offsetY,Ai=!oi.get("lockMovementX")&&oi.left!==di,Ei=!oi.get("lockMovementY")&&oi.top!==bi;return Ai&&oi.set("left",di),Ei&&oi.set("top",bi),(Ai||Ei)&&Be("moving",ui(xi,li,pi,ri)),Ai||Ei}Fe.scaleCursorStyleHandler=St,Fe.skewCursorStyleHandler=qe,Fe.scaleSkewCursorStyleHandler=Ye,Fe.rotationWithSnapping=Ze("rotating",Qe(Ve)),Fe.scalingEqually=Ze("scaling",Qe(ti)),Fe.scalingX=Ze("scaling",Qe(hi)),Fe.scalingY=Ze("scaling",Qe(yi)),Fe.scalingYOrSkewingX=wi,Fe.scalingXOrSkewingY=Ci,Fe.changeWidth=Ze("resizing",Qe(ki)),Fe.skewHandlerX=$e,Fe.skewHandlerY=Ke,Fe.dragHandler=fi,Fe.scaleOrSkewActionName=gi,Fe.rotationStyleHandler=ai,Fe.fireEvent=Be,Fe.wrapWithFixedAnchor=Qe,Fe.wrapWithFireEvent=Ze,Fe.getLocalPoint=ci,_e.controlsUtils=Fe}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.degreesToRadians,xe=_e.controlsUtils;function Fe(e,ke,Oe,Ee,Pe){Ee=Ee||{};var De=this.sizeX||Ee.cornerSize||Pe.cornerSize,Me=this.sizeY||Ee.cornerSize||Pe.cornerSize,Ae=typeof Ee.transparentCorners<"u"?Ee.transparentCorners:Pe.transparentCorners,Be=Ae?"stroke":"fill",He=!Ae&&(Ee.cornerStrokeColor||Pe.cornerStrokeColor),je=ke,Xe=Oe,St;e.save(),e.fillStyle=Ee.cornerColor||Pe.cornerColor,e.strokeStyle=Ee.cornerStrokeColor||Pe.cornerStrokeColor,De>Me?(St=De,e.scale(1,Me/De),Xe=Oe*De/Me):Me>De?(St=Me,e.scale(De/Me,1),je=ke*Me/De):St=De,e.lineWidth=1,e.beginPath(),e.arc(je,Xe,St/2,0,2*Math.PI,!1),e[Be](),He&&e.stroke(),e.restore()}function Te(e,ke,Oe,Ee,Pe){Ee=Ee||{};var De=this.sizeX||Ee.cornerSize||Pe.cornerSize,Me=this.sizeY||Ee.cornerSize||Pe.cornerSize,Ae=typeof Ee.transparentCorners<"u"?Ee.transparentCorners:Pe.transparentCorners,Be=Ae?"stroke":"fill",He=!Ae&&(Ee.cornerStrokeColor||Pe.cornerStrokeColor),je=De/2,Xe=Me/2;e.save(),e.fillStyle=Ee.cornerColor||Pe.cornerColor,e.strokeStyle=Ee.cornerStrokeColor||Pe.cornerStrokeColor,e.lineWidth=1,e.translate(ke,Oe),e.rotate(t(Pe.angle)),e[Be+"Rect"](-je,-Xe,De,Me),He&&e.strokeRect(-je,-Xe,De,Me),e.restore()}xe.renderCircleControl=Fe,xe.renderSquareControl=Te}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={});function t(xe){for(var Fe in xe)this[Fe]=xe[Fe]}_e.Control=t,_e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(xe,Fe){return Fe.cursorStyle},getActionName:function(xe,Fe){return Fe.actionName},getVisibility:function(xe,Fe){var Te=xe._controlsVisibility;return Te&&typeof Te[Fe]<"u"?Te[Fe]:this.visible},setVisibility:function(xe){this.visible=xe},positionHandler:function(xe,Fe){var Te=_e.util.transformPoint({x:this.x*xe.x+this.offsetX,y:this.y*xe.y+this.offsetY},Fe);return Te},calcCornerCoords:function(xe,Fe,Te,e,ke){var Oe,Ee,Pe,De,Me=ke?this.touchSizeX:this.sizeX,Ae=ke?this.touchSizeY:this.sizeY;if(Me&&Ae&&Me!==Ae){var Be=Math.atan2(Ae,Me),He=Math.sqrt(Me*Me+Ae*Ae)/2,je=Be-_e.util.degreesToRadians(xe),Xe=Math.PI/2-Be-_e.util.degreesToRadians(xe);Oe=He*_e.util.cos(je),Ee=He*_e.util.sin(je),Pe=He*_e.util.cos(Xe),De=He*_e.util.sin(Xe)}else{var St=Me&&Ae?Me:Fe;He=St*.7071067812;var je=_e.util.degreesToRadians(45-xe);Oe=Pe=He*_e.util.cos(je),Ee=De=He*_e.util.sin(je)}return{tl:{x:Te-De,y:e-Pe},tr:{x:Te+Oe,y:e-Ee},bl:{x:Te-Oe,y:e+Ee},br:{x:Te+De,y:e+Pe}}},render:function(xe,Fe,Te,e,ke){switch(e=e||{},e.cornerStyle||ke.cornerStyle){case"circle":_e.controlsUtils.renderCircleControl.call(this,xe,Fe,Te,e,ke);break;default:_e.controlsUtils.renderSquareControl.call(this,xe,Fe,Te,e,ke)}}}}(Ce),function(){function Se(Te,e){var ke=Te.getAttribute("style"),Oe=Te.getAttribute("offset")||0,Ee,Pe,De,Me;if(Oe=parseFloat(Oe)/(/%$/.test(Oe)?100:1),Oe=Oe<0?0:Oe>1?1:Oe,ke){var Ae=ke.split(/\s*;\s*/);for(Ae[Ae.length-1]===""&&Ae.pop(),Me=Ae.length;Me--;){var Be=Ae[Me].split(/\s*:\s*/),He=Be[0].trim(),je=Be[1].trim();He==="stop-color"?Ee=je:He==="stop-opacity"&&(De=je)}}return Ee||(Ee=Te.getAttribute("stop-color")||"rgb(0,0,0)"),De||(De=Te.getAttribute("stop-opacity")),Ee=new r.Color(Ee),Pe=Ee.getAlpha(),De=isNaN(parseFloat(De))?1:parseFloat(De),De*=Pe*e,{offset:Oe,color:Ee.toRgb(),opacity:De}}function _e(Te){return{x1:Te.getAttribute("x1")||0,y1:Te.getAttribute("y1")||0,x2:Te.getAttribute("x2")||"100%",y2:Te.getAttribute("y2")||0}}function t(Te){return{x1:Te.getAttribute("fx")||Te.getAttribute("cx")||"50%",y1:Te.getAttribute("fy")||Te.getAttribute("cy")||"50%",r1:0,x2:Te.getAttribute("cx")||"50%",y2:Te.getAttribute("cy")||"50%",r2:Te.getAttribute("r")||"50%"}}var xe=r.util.object.clone;r.Gradient=r.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(Te){Te||(Te={}),Te.coords||(Te.coords={});var e,ke=this;Object.keys(Te).forEach(function(Oe){ke[Oe]=Te[Oe]}),this.id?this.id+="_"+r.Object.__uid++:this.id=r.Object.__uid++,e={x1:Te.coords.x1||0,y1:Te.coords.y1||0,x2:Te.coords.x2||0,y2:Te.coords.y2||0},this.type==="radial"&&(e.r1=Te.coords.r1||0,e.r2=Te.coords.r2||0),this.coords=e,this.colorStops=Te.colorStops.slice()},addColorStop:function(Te){for(var e in Te){var ke=new r.Color(Te[e]);this.colorStops.push({offset:parseFloat(e),color:ke.toRgb(),opacity:ke.getAlpha()})}return this},toObject:function(Te){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return r.util.populateWithProperties(this,e,Te),e},toSVG:function(Te,Pe){var ke=xe(this.coords,!0),Oe,Ee,Pe=Pe||{},De,Me,Ae=xe(this.colorStops,!0),Be=ke.r1>ke.r2,He=this.gradientTransform?this.gradientTransform.concat():r.iMatrix.concat(),je=-this.offsetX,Xe=-this.offsetY,St=!!Pe.additionalTransform,qe=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(Ae.sort(function(Qe,Ze){return Qe.offset-Ze.offset}),qe==="objectBoundingBox"?(je/=Te.width,Xe/=Te.height):(je+=Te.width/2,Xe+=Te.height/2),Te.type==="path"&&this.gradientUnits!=="percentage"&&(je-=Te.pathOffset.x,Xe-=Te.pathOffset.y),He[4]-=je,He[5]-=Xe,Me='id="SVGID_'+this.id+'" gradientUnits="'+qe+'"',Me+=' gradientTransform="'+(St?Pe.additionalTransform+" ":"")+r.util.matrixToSVG(He)+'" ',this.type==="linear"?De=["<linearGradient ",Me,' x1="',ke.x1,'" y1="',ke.y1,'" x2="',ke.x2,'" y2="',ke.y2,`">
`]:this.type==="radial"&&(De=["<radialGradient ",Me,' cx="',Be?ke.x1:ke.x2,'" cy="',Be?ke.y1:ke.y2,'" r="',Be?ke.r1:ke.r2,'" fx="',Be?ke.x2:ke.x1,'" fy="',Be?ke.y2:ke.y1,`">
`]),this.type==="radial"){if(Be)for(Ae=Ae.concat(),Ae.reverse(),Oe=0,Ee=Ae.length;Oe<Ee;Oe++)Ae[Oe].offset=1-Ae[Oe].offset;var Ye=Math.min(ke.r1,ke.r2);if(Ye>0){var gi=Math.max(ke.r1,ke.r2),ai=Ye/gi;for(Oe=0,Ee=Ae.length;Oe<Ee;Oe++)Ae[Oe].offset+=ai*(1-Ae[Oe].offset)}}for(Oe=0,Ee=Ae.length;Oe<Ee;Oe++){var ui=Ae[Oe];De.push("<stop ",'offset="',ui.offset*100+"%",'" style="stop-color:',ui.color,typeof ui.opacity<"u"?";stop-opacity: "+ui.opacity:";",`"/>
`)}return De.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),De.join("")},toLive:function(Te){var e,ke=r.util.object.clone(this.coords),Oe,Ee;if(!!this.type){for(this.type==="linear"?e=Te.createLinearGradient(ke.x1,ke.y1,ke.x2,ke.y2):this.type==="radial"&&(e=Te.createRadialGradient(ke.x1,ke.y1,ke.r1,ke.x2,ke.y2,ke.r2)),Oe=0,Ee=this.colorStops.length;Oe<Ee;Oe++){var Pe=this.colorStops[Oe].color,De=this.colorStops[Oe].opacity,Me=this.colorStops[Oe].offset;typeof De<"u"&&(Pe=new r.Color(Pe).setAlpha(De).toRgba()),e.addColorStop(Me,Pe)}return e}}}),r.util.object.extend(r.Gradient,{fromElement:function(Te,e,ke,Oe){var Ee=parseFloat(ke)/(/%$/.test(ke)?100:1);Ee=Ee<0?0:Ee>1?1:Ee,isNaN(Ee)&&(Ee=1);var Pe=Te.getElementsByTagName("stop"),De,Me=Te.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",Ae=Te.getAttribute("gradientTransform")||"",Be=[],He,je,Xe=0,St=0,qe;for(Te.nodeName==="linearGradient"||Te.nodeName==="LINEARGRADIENT"?(De="linear",He=_e(Te)):(De="radial",He=t(Te)),je=Pe.length;je--;)Be.push(Se(Pe[je],Ee));qe=r.parseTransformAttribute(Ae),Fe(e,He,Oe,Me),Me==="pixels"&&(Xe=-e.left,St=-e.top);var Ye=new r.Gradient({id:Te.getAttribute("id"),type:De,coords:He,colorStops:Be,gradientUnits:Me,gradientTransform:qe,offsetX:Xe,offsetY:St});return Ye}});function Fe(Te,e,ke,Oe){var Ee,Pe;Object.keys(e).forEach(function(De){Ee=e[De],Ee==="Infinity"?Pe=1:Ee==="-Infinity"?Pe=0:(Pe=parseFloat(e[De],10),typeof Ee=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(Ee)&&(Pe*=.01,Oe==="pixels"&&((De==="x1"||De==="x2"||De==="r2")&&(Pe*=ke.viewBoxWidth||ke.width),(De==="y1"||De==="y2")&&(Pe*=ke.viewBoxHeight||ke.height)))),e[De]=Pe})}}(),function(){var Se=r.util.toFixed;r.Pattern=r.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(_e,t){if(_e||(_e={}),this.id=r.Object.__uid++,this.setOptions(_e),!_e.source||_e.source&&typeof _e.source!="string"){t&&t(this);return}else{var xe=this;this.source=r.util.createImage(),r.util.loadImage(_e.source,function(Fe,Te){xe.source=Fe,t&&t(xe,Te)},null,this.crossOrigin)}},toObject:function(_e){var t=r.Object.NUM_FRACTION_DIGITS,xe,Fe;return typeof this.source.src=="string"?xe=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(xe=this.source.toDataURL()),Fe={type:"pattern",source:xe,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:Se(this.offsetX,t),offsetY:Se(this.offsetY,t),patternTransform:this.patternTransform?this.patternTransform.concat():null},r.util.populateWithProperties(this,Fe,_e),Fe},toSVG:function(_e){var t=typeof this.source=="function"?this.source():this.source,xe=t.width/_e.width,Fe=t.height/_e.height,Te=this.offsetX/_e.width,e=this.offsetY/_e.height,ke="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(Fe=1,e&&(Fe+=Math.abs(e))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(xe=1,Te&&(xe+=Math.abs(Te))),t.src?ke=t.src:t.toDataURL&&(ke=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+Te+'" y="'+e+'" width="'+xe+'" height="'+Fe+`">
<image x="0" y="0" width="`+t.width+'" height="'+t.height+'" xlink:href="'+ke+`"></image>
</pattern>
`},setOptions:function(_e){for(var t in _e)this[t]=_e[t]},toLive:function(_e){var t=this.source;return!t||typeof t.src<"u"&&(!t.complete||t.naturalWidth===0||t.naturalHeight===0)?"":_e.createPattern(t,this.repeat)}})}(),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.toFixed;if(_e.Shadow){_e.warn("fabric.Shadow is already defined.");return}_e.Shadow=_e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(xe){typeof xe=="string"&&(xe=this._parseShadow(xe));for(var Fe in xe)this[Fe]=xe[Fe];this.id=_e.Object.__uid++},_parseShadow:function(xe){var Fe=xe.trim(),Te=_e.Shadow.reOffsetsAndBlur.exec(Fe)||[],e=Fe.replace(_e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:e.trim(),offsetX:parseFloat(Te[1],10)||0,offsetY:parseFloat(Te[2],10)||0,blur:parseFloat(Te[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(xe){var Fe=40,Te=40,e=_e.Object.NUM_FRACTION_DIGITS,ke=_e.util.rotateVector({x:this.offsetX,y:this.offsetY},_e.util.degreesToRadians(-xe.angle)),Oe=20,Ee=new _e.Color(this.color);return xe.width&&xe.height&&(Fe=t((Math.abs(ke.x)+this.blur)/xe.width,e)*100+Oe,Te=t((Math.abs(ke.y)+this.blur)/xe.height,e)*100+Oe),xe.flipX&&(ke.x*=-1),xe.flipY&&(ke.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+Te+'%" height="'+(100+2*Te)+'%" x="-'+Fe+'%" width="'+(100+2*Fe)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+t(this.blur?this.blur/2:0,e)+`"></feGaussianBlur>
	<feOffset dx="`+t(ke.x,e)+'" dy="'+t(ke.y,e)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+Ee.toRgb()+'" flood-opacity="'+Ee.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var xe={},Fe=_e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(Te){this[Te]!==Fe[Te]&&(xe[Te]=this[Te])},this),xe}}),_e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(Ce),function(){if(r.StaticCanvas){r.warn("fabric.StaticCanvas is already defined.");return}var Se=r.util.object.extend,_e=r.util.getElementOffset,t=r.util.removeFromArray,xe=r.util.toFixed,Fe=r.util.transformPoint,Te=r.util.invertTransform,e=r.util.getNodeCanvas,ke=r.util.createCanvasElement,Oe=new Error("Could not initialize `canvas` element");r.StaticCanvas=r.util.createClass(r.CommonMethods,{initialize:function(Ee,Pe){Pe||(Pe={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(Ee,Pe)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:r.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(Ee,Pe){var De=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(Ee),this._initOptions(Pe),this.interactive||this._initRetinaScaling(),Pe.overlayImage&&this.setOverlayImage(Pe.overlayImage,De),Pe.backgroundImage&&this.setBackgroundImage(Pe.backgroundImage,De),Pe.backgroundColor&&this.setBackgroundColor(Pe.backgroundColor,De),Pe.overlayColor&&this.setOverlayColor(Pe.overlayColor,De),this.calcOffset()},_isRetinaScaling:function(){return r.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,r.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var Ee=r.devicePixelRatio;this.__initRetinaScaling(Ee,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(Ee,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(Ee,Pe,De){Pe.setAttribute("width",this.width*Ee),Pe.setAttribute("height",this.height*Ee),De.scale(Ee,Ee)},calcOffset:function(){return this._offset=_e(this.lowerCanvasEl),this},setOverlayImage:function(Ee,Pe,De){return this.__setBgOverlayImage("overlayImage",Ee,Pe,De)},setBackgroundImage:function(Ee,Pe,De){return this.__setBgOverlayImage("backgroundImage",Ee,Pe,De)},setOverlayColor:function(Ee,Pe){return this.__setBgOverlayColor("overlayColor",Ee,Pe)},setBackgroundColor:function(Ee,Pe){return this.__setBgOverlayColor("backgroundColor",Ee,Pe)},__setBgOverlayImage:function(Ee,Pe,De,Me){return typeof Pe=="string"?r.util.loadImage(Pe,function(Ae,Be){if(Ae){var He=new r.Image(Ae,Me);this[Ee]=He,He.canvas=this}De&&De(Ae,Be)},this,Me&&Me.crossOrigin):(Me&&Pe.setOptions(Me),this[Ee]=Pe,Pe&&(Pe.canvas=this),De&&De(Pe,!1)),this},__setBgOverlayColor:function(Ee,Pe,De){return this[Ee]=Pe,this._initGradient(Pe,Ee),this._initPattern(Pe,Ee,De),this},_createCanvasElement:function(){var Ee=ke();if(!Ee||(Ee.style||(Ee.style={}),typeof Ee.getContext>"u"))throw Oe;return Ee},_initOptions:function(Ee){var Pe=this.lowerCanvasEl;this._setOptions(Ee),this.width=this.width||parseInt(Pe.width,10)||0,this.height=this.height||parseInt(Pe.height,10)||0,this.lowerCanvasEl.style&&(Pe.width=this.width,Pe.height=this.height,Pe.style.width=this.width+"px",Pe.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(Ee){Ee&&Ee.getContext?this.lowerCanvasEl=Ee:this.lowerCanvasEl=r.util.getById(Ee)||this._createCanvasElement(),r.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(Ee,Pe){return this.setDimensions({width:Ee},Pe)},setHeight:function(Ee,Pe){return this.setDimensions({height:Ee},Pe)},setDimensions:function(Ee,Pe){var De;Pe=Pe||{};for(var Me in Ee)De=Ee[Me],Pe.cssOnly||(this._setBackstoreDimension(Me,Ee[Me]),De+="px",this.hasLostContext=!0),Pe.backstoreOnly||this._setCssDimension(Me,De);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),Pe.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(Ee,Pe){return this.lowerCanvasEl[Ee]=Pe,this.upperCanvasEl&&(this.upperCanvasEl[Ee]=Pe),this.cacheCanvasEl&&(this.cacheCanvasEl[Ee]=Pe),this[Ee]=Pe,this},_setCssDimension:function(Ee,Pe){return this.lowerCanvasEl.style[Ee]=Pe,this.upperCanvasEl&&(this.upperCanvasEl.style[Ee]=Pe),this.wrapperEl&&(this.wrapperEl.style[Ee]=Pe),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(Ee){var Pe=this._activeObject,De=this.backgroundImage,Me=this.overlayImage,Ae,Be,He;for(this.viewportTransform=Ee,Be=0,He=this._objects.length;Be<He;Be++)Ae=this._objects[Be],Ae.group||Ae.setCoords(!0);return Pe&&Pe.setCoords(),De&&De.setCoords(!0),Me&&Me.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(Ee,Pe){var De=Ee,Me=this.viewportTransform.slice(0);Ee=Fe(Ee,Te(this.viewportTransform)),Me[0]=Pe,Me[3]=Pe;var Ae=Fe(Ee,Me);return Me[4]+=De.x-Ae.x,Me[5]+=De.y-Ae.y,this.setViewportTransform(Me)},setZoom:function(Ee){return this.zoomToPoint(new r.Point(0,0),Ee),this},absolutePan:function(Ee){var Pe=this.viewportTransform.slice(0);return Pe[4]=-Ee.x,Pe[5]=-Ee.y,this.setViewportTransform(Pe)},relativePan:function(Ee){return this.absolutePan(new r.Point(-Ee.x-this.viewportTransform[4],-Ee.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(Ee){this.stateful&&Ee.setupState(),Ee._set("canvas",this),Ee.setCoords(),this.fire("object:added",{target:Ee}),Ee.fire("added")},_onObjectRemoved:function(Ee){this.fire("object:removed",{target:Ee}),Ee.fire("removed"),delete Ee.canvas},clearContext:function(Ee){return Ee.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var Ee=this.contextContainer;return this.renderCanvas(Ee,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=r.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var Ee={},Pe=this.width,De=this.height,Me=Te(this.viewportTransform);return Ee.tl=Fe({x:0,y:0},Me),Ee.br=Fe({x:Pe,y:De},Me),Ee.tr=new r.Point(Ee.br.x,Ee.tl.y),Ee.bl=new r.Point(Ee.tl.x,Ee.br.y),this.vptCoords=Ee,Ee},cancelRequestedRender:function(){this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(Ee,Pe){var De=this.viewportTransform,Me=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(Ee),r.util.setImageSmoothing(Ee,this.imageSmoothingEnabled),this.fire("before:render",{ctx:Ee}),this._renderBackground(Ee),Ee.save(),Ee.transform(De[0],De[1],De[2],De[3],De[4],De[5]),this._renderObjects(Ee,Pe),Ee.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(Ee),Me&&(Me.canvas=this,Me.shouldCache(),Me._transformDone=!0,Me.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(Ee)),this._renderOverlay(Ee),this.controlsAboveOverlay&&this.interactive&&this.drawControls(Ee),this.fire("after:render",{ctx:Ee})},drawClipPathOnCanvas:function(Ee){var Pe=this.viewportTransform,De=this.clipPath;Ee.save(),Ee.transform(Pe[0],Pe[1],Pe[2],Pe[3],Pe[4],Pe[5]),Ee.globalCompositeOperation="destination-in",De.transform(Ee),Ee.scale(1/De.zoomX,1/De.zoomY),Ee.drawImage(De._cacheCanvas,-De.cacheTranslationX,-De.cacheTranslationY),Ee.restore()},_renderObjects:function(Ee,Pe){var De,Me;for(De=0,Me=Pe.length;De<Me;++De)Pe[De]&&Pe[De].render(Ee)},_renderBackgroundOrOverlay:function(Ee,Pe){var De=this[Pe+"Color"],Me=this[Pe+"Image"],Ae=this.viewportTransform,Be=this[Pe+"Vpt"];if(!(!De&&!Me)){if(De){Ee.save(),Ee.beginPath(),Ee.moveTo(0,0),Ee.lineTo(this.width,0),Ee.lineTo(this.width,this.height),Ee.lineTo(0,this.height),Ee.closePath(),Ee.fillStyle=De.toLive?De.toLive(Ee,this):De,Be&&Ee.transform(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5]),Ee.transform(1,0,0,1,De.offsetX||0,De.offsetY||0);var He=De.gradientTransform||De.patternTransform;He&&Ee.transform(He[0],He[1],He[2],He[3],He[4],He[5]),Ee.fill(),Ee.restore()}Me&&(Ee.save(),Be&&Ee.transform(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5]),Me.render(Ee),Ee.restore())}},_renderBackground:function(Ee){this._renderBackgroundOrOverlay(Ee,"background")},_renderOverlay:function(Ee){this._renderBackgroundOrOverlay(Ee,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new r.Point(this.width/2,this.height/2)},centerObjectH:function(Ee){return this._centerObject(Ee,new r.Point(this.getCenterPoint().x,Ee.getCenterPoint().y))},centerObjectV:function(Ee){return this._centerObject(Ee,new r.Point(Ee.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(Ee){var Pe=this.getCenterPoint();return this._centerObject(Ee,Pe)},viewportCenterObject:function(Ee){var Pe=this.getVpCenter();return this._centerObject(Ee,Pe)},viewportCenterObjectH:function(Ee){var Pe=this.getVpCenter();return this._centerObject(Ee,new r.Point(Pe.x,Ee.getCenterPoint().y)),this},viewportCenterObjectV:function(Ee){var Pe=this.getVpCenter();return this._centerObject(Ee,new r.Point(Ee.getCenterPoint().x,Pe.y))},getVpCenter:function(){var Ee=this.getCenterPoint(),Pe=Te(this.viewportTransform);return Fe(Ee,Pe)},_centerObject:function(Ee,Pe){return Ee.setPositionByOrigin(Pe,"center","center"),Ee.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(Ee){return this.toDatalessObject(Ee)},toObject:function(Ee){return this._toObjectMethod("toObject",Ee)},toDatalessObject:function(Ee){return this._toObjectMethod("toDatalessObject",Ee)},_toObjectMethod:function(Ee,Pe){var De=this.clipPath,Me={version:r.version,objects:this._toObjects(Ee,Pe)};return De&&!De.excludeFromExport&&(Me.clipPath=this._toObject(this.clipPath,Ee,Pe)),Se(Me,this.__serializeBgOverlay(Ee,Pe)),r.util.populateWithProperties(this,Me,Pe),Me},_toObjects:function(Ee,Pe){return this._objects.filter(function(De){return!De.excludeFromExport}).map(function(De){return this._toObject(De,Ee,Pe)},this)},_toObject:function(Ee,Pe,De){var Me;this.includeDefaultValues||(Me=Ee.includeDefaultValues,Ee.includeDefaultValues=!1);var Ae=Ee[Pe](De);return this.includeDefaultValues||(Ee.includeDefaultValues=Me),Ae},__serializeBgOverlay:function(Ee,Pe){var De={},Me=this.backgroundImage,Ae=this.overlayImage,Be=this.backgroundColor,He=this.overlayColor;return Be&&Be.toObject?Be.excludeFromExport||(De.background=Be.toObject(Pe)):Be&&(De.background=Be),He&&He.toObject?He.excludeFromExport||(De.overlay=He.toObject(Pe)):He&&(De.overlay=He),Me&&!Me.excludeFromExport&&(De.backgroundImage=this._toObject(Me,Ee,Pe)),Ae&&!Ae.excludeFromExport&&(De.overlayImage=this._toObject(Ae,Ee,Pe)),De},svgViewportTransformation:!0,toSVG:function(Ee,Pe){Ee||(Ee={}),Ee.reviver=Pe;var De=[];return this._setSVGPreamble(De,Ee),this._setSVGHeader(De,Ee),this.clipPath&&De.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(De,"background"),this._setSVGBgOverlayImage(De,"backgroundImage",Pe),this._setSVGObjects(De,Pe),this.clipPath&&De.push(`</g>
`),this._setSVGBgOverlayColor(De,"overlay"),this._setSVGBgOverlayImage(De,"overlayImage",Pe),De.push("</svg>"),De.join("")},_setSVGPreamble:function(Ee,Pe){Pe.suppressPreamble||Ee.push('<?xml version="1.0" encoding="',Pe.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(Ee,Pe){var De=Pe.width||this.width,Me=Pe.height||this.height,Ae,Be='viewBox="0 0 '+this.width+" "+this.height+'" ',He=r.Object.NUM_FRACTION_DIGITS;Pe.viewBox?Be='viewBox="'+Pe.viewBox.x+" "+Pe.viewBox.y+" "+Pe.viewBox.width+" "+Pe.viewBox.height+'" ':this.svgViewportTransformation&&(Ae=this.viewportTransform,Be='viewBox="'+xe(-Ae[4]/Ae[0],He)+" "+xe(-Ae[5]/Ae[3],He)+" "+xe(this.width/Ae[0],He)+" "+xe(this.height/Ae[3],He)+'" '),Ee.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',De,'" ','height="',Me,'" ',Be,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",r.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(Pe),`</defs>
`)},createSVGClipPathMarkup:function(Ee){var Pe=this.clipPath;return Pe?(Pe.clipPathId="CLIPPATH_"+r.Object.__uid++,'<clipPath id="'+Pe.clipPathId+`" >
`+this.clipPath.toClipPathSVG(Ee.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var Ee=this,Pe=["background","overlay"].map(function(De){var Me=Ee[De+"Color"];if(Me&&Me.toLive){var Ae=Ee[De+"Vpt"],Be=Ee.viewportTransform,He={width:Ee.width/(Ae?Be[0]:1),height:Ee.height/(Ae?Be[3]:1)};return Me.toSVG(He,{additionalTransform:Ae?r.util.matrixToSVG(Be):""})}});return Pe.join("")},createSVGFontFacesMarkup:function(){var Ee="",Pe={},De,Me,Ae,Be,He,je,Xe,St,qe,Ye=r.fontPaths,gi=[];for(this._objects.forEach(function ui(Qe){gi.push(Qe),Qe._objects&&Qe._objects.forEach(ui)}),St=0,qe=gi.length;St<qe;St++)if(De=gi[St],Me=De.fontFamily,!(De.type.indexOf("text")===-1||Pe[Me]||!Ye[Me])&&(Pe[Me]=!0,!!De.styles)){Ae=De.styles;for(He in Ae){Be=Ae[He];for(Xe in Be)je=Be[Xe],Me=je.fontFamily,!Pe[Me]&&Ye[Me]&&(Pe[Me]=!0)}}for(var ai in Pe)Ee+=[`		@font-face {
`,"			font-family: '",ai,`';
`,"			src: url('",Ye[ai],`');
`,`		}
`].join("");return Ee&&(Ee=['	<style type="text/css">',`<![CDATA[
`,Ee,"]]>",`</style>
`].join("")),Ee},_setSVGObjects:function(Ee,Pe){var De,Me,Ae,Be=this._objects;for(Me=0,Ae=Be.length;Me<Ae;Me++)De=Be[Me],!De.excludeFromExport&&this._setSVGObject(Ee,De,Pe)},_setSVGObject:function(Ee,Pe,De){Ee.push(Pe.toSVG(De))},_setSVGBgOverlayImage:function(Ee,Pe,De){this[Pe]&&!this[Pe].excludeFromExport&&this[Pe].toSVG&&Ee.push(this[Pe].toSVG(De))},_setSVGBgOverlayColor:function(Ee,Pe){var De=this[Pe+"Color"],Me=this.viewportTransform,Ae=this.width,Be=this.height;if(!!De)if(De.toLive){var He=De.repeat,je=r.util.invertTransform(Me),Xe=this[Pe+"Vpt"],St=Xe?r.util.matrixToSVG(je):"";Ee.push('<rect transform="'+St+" translate(",Ae/2,",",Be/2,')"',' x="',De.offsetX-Ae/2,'" y="',De.offsetY-Be/2,'" ','width="',He==="repeat-y"||He==="no-repeat"?De.source.width:Ae,'" height="',He==="repeat-x"||He==="no-repeat"?De.source.height:Be,'" fill="url(#SVGID_'+De.id+')"',`></rect>
`)}else Ee.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',De,'"',`></rect>
`)},sendToBack:function(Ee){if(!Ee)return this;var Pe=this._activeObject,De,Me,Ae;if(Ee===Pe&&Ee.type==="activeSelection")for(Ae=Pe._objects,De=Ae.length;De--;)Me=Ae[De],t(this._objects,Me),this._objects.unshift(Me);else t(this._objects,Ee),this._objects.unshift(Ee);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(Ee){if(!Ee)return this;var Pe=this._activeObject,De,Me,Ae;if(Ee===Pe&&Ee.type==="activeSelection")for(Ae=Pe._objects,De=0;De<Ae.length;De++)Me=Ae[De],t(this._objects,Me),this._objects.push(Me);else t(this._objects,Ee),this._objects.push(Ee);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(Ee,Pe){if(!Ee)return this;var De=this._activeObject,Me,Ae,Be,He,je,Xe=0;if(Ee===De&&Ee.type==="activeSelection")for(je=De._objects,Me=0;Me<je.length;Me++)Ae=je[Me],Be=this._objects.indexOf(Ae),Be>0+Xe&&(He=Be-1,t(this._objects,Ae),this._objects.splice(He,0,Ae)),Xe++;else Be=this._objects.indexOf(Ee),Be!==0&&(He=this._findNewLowerIndex(Ee,Be,Pe),t(this._objects,Ee),this._objects.splice(He,0,Ee));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(Ee,Pe,De){var Me,Ae;if(De)for(Me=Pe,Ae=Pe-1;Ae>=0;--Ae){var Be=Ee.intersectsWithObject(this._objects[Ae])||Ee.isContainedWithinObject(this._objects[Ae])||this._objects[Ae].isContainedWithinObject(Ee);if(Be){Me=Ae;break}}else Me=Pe-1;return Me},bringForward:function(Ee,Pe){if(!Ee)return this;var De=this._activeObject,Me,Ae,Be,He,je,Xe=0;if(Ee===De&&Ee.type==="activeSelection")for(je=De._objects,Me=je.length;Me--;)Ae=je[Me],Be=this._objects.indexOf(Ae),Be<this._objects.length-1-Xe&&(He=Be+1,t(this._objects,Ae),this._objects.splice(He,0,Ae)),Xe++;else Be=this._objects.indexOf(Ee),Be!==this._objects.length-1&&(He=this._findNewUpperIndex(Ee,Be,Pe),t(this._objects,Ee),this._objects.splice(He,0,Ee));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(Ee,Pe,De){var Me,Ae,Be;if(De)for(Me=Pe,Ae=Pe+1,Be=this._objects.length;Ae<Be;++Ae){var He=Ee.intersectsWithObject(this._objects[Ae])||Ee.isContainedWithinObject(this._objects[Ae])||this._objects[Ae].isContainedWithinObject(Ee);if(He){Me=Ae;break}}else Me=Pe+1;return Me},moveTo:function(Ee,Pe){return t(this._objects,Ee),this._objects.splice(Pe,0,Ee),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(Ee){Ee.dispose&&Ee.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),r.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),r.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),Se(r.StaticCanvas.prototype,r.Observable),Se(r.StaticCanvas.prototype,r.Collection),Se(r.StaticCanvas.prototype,r.DataURLExporter),Se(r.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(Ee){var Pe=ke();if(!Pe||!Pe.getContext)return null;var De=Pe.getContext("2d");if(!De)return null;switch(Ee){case"setLineDash":return typeof De.setLineDash<"u";default:return null}}}),r.StaticCanvas.prototype.toJSON=r.StaticCanvas.prototype.toObject,r.isLikelyNode&&(r.StaticCanvas.prototype.createPNGStream=function(){var Ee=e(this.lowerCanvasEl);return Ee&&Ee.createPNGStream()},r.StaticCanvas.prototype.createJPEGStream=function(Ee){var Pe=e(this.lowerCanvasEl);return Pe&&Pe.createJPEGStream(Ee)})}(),r.BaseBrush=r.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(Se){Se.strokeStyle=this.color,Se.lineWidth=this.width,Se.lineCap=this.strokeLineCap,Se.miterLimit=this.strokeMiterLimit,Se.lineJoin=this.strokeLineJoin,Se.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(Se){var _e=this.canvas.viewportTransform;Se.save(),Se.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5])},_setShadow:function(){if(!!this.shadow){var Se=this.canvas,_e=this.shadow,t=Se.contextTop,xe=Se.getZoom();Se&&Se._isRetinaScaling()&&(xe*=r.devicePixelRatio),t.shadowColor=_e.color,t.shadowBlur=_e.blur*xe,t.shadowOffsetX=_e.offsetX*xe,t.shadowOffsetY=_e.offsetY*xe}},needsFullRender:function(){var Se=new r.Color(this.color);return Se.getAlpha()<1||!!this.shadow},_resetShadow:function(){var Se=this.canvas.contextTop;Se.shadowColor="",Se.shadowBlur=Se.shadowOffsetX=Se.shadowOffsetY=0},_isOutSideCanvas:function(Se){return Se.x<0||Se.x>this.canvas.getWidth()||Se.y<0||Se.y>this.canvas.getHeight()}}),function(){r.PencilBrush=r.util.createClass(r.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(Se){this.canvas=Se,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(Se,_e,t){var xe=_e.midPointFrom(t);return Se.quadraticCurveTo(_e.x,_e.y,xe.x,xe.y),xe},onMouseDown:function(Se,_e){!this.canvas._isMainEvent(_e.e)||(this.drawStraightLine=_e.e[this.straightLineKey],this._prepareForDrawing(Se),this._captureDrawingPath(Se),this._render())},onMouseMove:function(Se,_e){if(!!this.canvas._isMainEvent(_e.e)&&(this.drawStraightLine=_e.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Se))&&this._captureDrawingPath(Se)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var t=this._points,xe=t.length,Fe=this.canvas.contextTop;this._saveAndTransform(Fe),this.oldEnd&&(Fe.beginPath(),Fe.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(Fe,t[xe-2],t[xe-1],!0),Fe.stroke(),Fe.restore()}},onMouseUp:function(Se){return this.canvas._isMainEvent(Se.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(Se){var _e=new r.Point(Se.x,Se.y);this._reset(),this._addPoint(_e),this.canvas.contextTop.moveTo(_e.x,_e.y)},_addPoint:function(Se){return this._points.length>1&&Se.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(Se),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(Se){var _e=new r.Point(Se.x,Se.y);return this._addPoint(_e)},_render:function(Se){var _e,t,xe=this._points[0],Fe=this._points[1];if(Se=Se||this.canvas.contextTop,this._saveAndTransform(Se),Se.beginPath(),this._points.length===2&&xe.x===Fe.x&&xe.y===Fe.y){var Te=this.width/1e3;xe=new r.Point(xe.x,xe.y),Fe=new r.Point(Fe.x,Fe.y),xe.x-=Te,Fe.x+=Te}for(Se.moveTo(xe.x,xe.y),_e=1,t=this._points.length;_e<t;_e++)this._drawSegment(Se,xe,Fe),xe=this._points[_e],Fe=this._points[_e+1];Se.lineTo(xe.x,xe.y),Se.stroke(),Se.restore()},convertPointsToSVGPath:function(Se){var _e=this.width/1e3;return r.util.getSmoothPathFromPoints(Se,_e)},_isEmptySVGPath:function(Se){var _e=r.util.joinPath(Se);return _e==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(Se){var _e=new r.Path(Se,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,_e.shadow=new r.Shadow(this.shadow)),_e},decimatePoints:function(Se,_e){if(Se.length<=2)return Se;var t=this.canvas.getZoom(),xe=Math.pow(_e/t,2),Fe,Te=Se.length-1,e=Se[0],ke=[e],Oe;for(Fe=1;Fe<Te-1;Fe++)Oe=Math.pow(e.x-Se[Fe].x,2)+Math.pow(e.y-Se[Fe].y,2),Oe>=xe&&(e=Se[Fe],ke.push(e));return ke.push(Se[Te]),ke},_finalizeAndAddPath:function(){var Se=this.canvas.contextTop;Se.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var _e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(_e)){this.canvas.requestRenderAll();return}var t=this.createPath(_e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}})}(),r.CircleBrush=r.util.createClass(r.BaseBrush,{width:10,initialize:function(Se){this.canvas=Se,this.points=[]},drawDot:function(Se){var _e=this.addPoint(Se),t=this.canvas.contextTop;this._saveAndTransform(t),this.dot(t,_e),t.restore()},dot:function(Se,_e){Se.fillStyle=_e.fill,Se.beginPath(),Se.arc(_e.x,_e.y,_e.radius,0,Math.PI*2,!1),Se.closePath(),Se.fill()},onMouseDown:function(Se){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(Se)},_render:function(){var Se=this.canvas.contextTop,_e,t,xe=this.points;for(this._saveAndTransform(Se),_e=0,t=xe.length;_e<t;_e++)this.dot(Se,xe[_e]);Se.restore()},onMouseMove:function(Se){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Se)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(Se),this._render()):this.drawDot(Se))},onMouseUp:function(){var Se=this.canvas.renderOnAddRemove,_e,t;this.canvas.renderOnAddRemove=!1;var xe=[];for(_e=0,t=this.points.length;_e<t;_e++){var Fe=this.points[_e],Te=new r.Circle({radius:Fe.radius,left:Fe.x,top:Fe.y,originX:"center",originY:"center",fill:Fe.fill});this.shadow&&(Te.shadow=new r.Shadow(this.shadow)),xe.push(Te)}var e=new r.Group(xe);e.canvas=this.canvas,this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.fire("path:created",{path:e}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Se,this.canvas.requestRenderAll()},addPoint:function(Se){var _e=new r.Point(Se.x,Se.y),t=r.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,xe=new r.Color(this.color).setAlpha(r.util.getRandomInt(0,100)/100).toRgba();return _e.radius=t,_e.fill=xe,this.points.push(_e),_e}}),r.SprayBrush=r.util.createClass(r.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(Se){this.canvas=Se,this.sprayChunks=[]},onMouseDown:function(Se){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(Se),this.render(this.sprayChunkPoints)},onMouseMove:function(Se){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Se)||(this.addSprayChunk(Se),this.render(this.sprayChunkPoints))},onMouseUp:function(){var Se=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var _e=[],t=0,xe=this.sprayChunks.length;t<xe;t++)for(var Fe=this.sprayChunks[t],Te=0,e=Fe.length;Te<e;Te++){var ke=new r.Rect({width:Fe[Te].width,height:Fe[Te].width,left:Fe[Te].x+1,top:Fe[Te].y+1,originX:"center",originY:"center",fill:this.color});_e.push(ke)}this.optimizeOverlapping&&(_e=this._getOptimizedRects(_e));var Oe=new r.Group(_e);this.shadow&&Oe.set("shadow",new r.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:Oe}),this.canvas.add(Oe),this.canvas.fire("path:created",{path:Oe}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Se,this.canvas.requestRenderAll()},_getOptimizedRects:function(Se){var _e={},t,xe,Fe;for(xe=0,Fe=Se.length;xe<Fe;xe++)t=Se[xe].left+""+Se[xe].top,_e[t]||(_e[t]=Se[xe]);var Te=[];for(t in _e)Te.push(_e[t]);return Te},render:function(Se){var _e=this.canvas.contextTop,t,xe;for(_e.fillStyle=this.color,this._saveAndTransform(_e),t=0,xe=Se.length;t<xe;t++){var Fe=Se[t];typeof Fe.opacity<"u"&&(_e.globalAlpha=Fe.opacity),_e.fillRect(Fe.x,Fe.y,Fe.width,Fe.width)}_e.restore()},_render:function(){var Se=this.canvas.contextTop,_e,t;for(Se.fillStyle=this.color,this._saveAndTransform(Se),_e=0,t=this.sprayChunks.length;_e<t;_e++)this.render(this.sprayChunks[_e]);Se.restore()},addSprayChunk:function(Se){this.sprayChunkPoints=[];var _e,t,xe,Fe=this.width/2,Te;for(Te=0;Te<this.density;Te++){_e=r.util.getRandomInt(Se.x-Fe,Se.x+Fe),t=r.util.getRandomInt(Se.y-Fe,Se.y+Fe),this.dotWidthVariance?xe=r.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):xe=this.dotWidth;var e=new r.Point(_e,t);e.width=xe,this.randomOpacity&&(e.opacity=r.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(e)}this.sprayChunks.push(this.sprayChunkPoints)}}),r.PatternBrush=r.util.createClass(r.PencilBrush,{getPatternSrc:function(){var Se=20,_e=5,t=r.util.createCanvasElement(),xe=t.getContext("2d");return t.width=t.height=Se+_e,xe.fillStyle=this.color,xe.beginPath(),xe.arc(Se/2,Se/2,Se/2,0,Math.PI*2,!1),xe.closePath(),xe.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(Se){return Se.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(Se){this.callSuper("_setBrushStyles",Se),Se.strokeStyle=this.getPattern(Se)},createPath:function(Se){var _e=this.callSuper("createPath",Se),t=_e._getLeftTopCoords().scalarAdd(_e.strokeWidth/2);return _e.stroke=new r.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-t.x,offsetY:-t.y}),_e}}),function(){var Se=r.util.getPointer,_e=r.util.degreesToRadians,t=r.util.isTouchEvent;r.Canvas=r.util.createClass(r.StaticCanvas,{initialize:function(Fe,Te){Te||(Te={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(Fe,Te),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=r.PencilBrush&&new r.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var Fe=this.getActiveObjects(),Te,e,ke;if(Fe.length>0&&!this.preserveObjectStacking){e=[],ke=[];for(var Oe=0,Ee=this._objects.length;Oe<Ee;Oe++)Te=this._objects[Oe],Fe.indexOf(Te)===-1?e.push(Te):ke.push(Te);Fe.length>1&&(this._activeObject._objects=ke),e.push.apply(e,ke)}else e=this._objects;return e},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var Fe=this.contextContainer;return this.renderCanvas(Fe,this._chooseObjectsToRender()),this},renderTopLayer:function(Fe){Fe.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(Fe),this.contextTopDirty=!0),Fe.restore()},renderTop:function(){var Fe=this.contextTop;return this.clearContext(Fe),this.renderTopLayer(Fe),this.fire("after:render"),this},_normalizePointer:function(Fe,Te){var e=Fe.calcTransformMatrix(),ke=r.util.invertTransform(e),Oe=this.restorePointerVpt(Te);return r.util.transformPoint(Oe,ke)},isTargetTransparent:function(Fe,Te,e){if(Fe.shouldCache()&&Fe._cacheCanvas&&Fe!==this._activeObject){var ke=this._normalizePointer(Fe,{x:Te,y:e}),Oe=Math.max(Fe.cacheTranslationX+ke.x*Fe.zoomX,0),Ee=Math.max(Fe.cacheTranslationY+ke.y*Fe.zoomY,0),Ae=r.util.isTransparent(Fe._cacheContext,Math.round(Oe),Math.round(Ee),this.targetFindTolerance);return Ae}var Pe=this.contextCache,De=Fe.selectionBackgroundColor,Me=this.viewportTransform;Fe.selectionBackgroundColor="",this.clearContext(Pe),Pe.save(),Pe.transform(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5]),Fe.render(Pe),Pe.restore(),Fe.selectionBackgroundColor=De;var Ae=r.util.isTransparent(Pe,Te,e,this.targetFindTolerance);return Ae},_isSelectionKeyPressed:function(Fe){var Te=!1;return Array.isArray(this.selectionKey)?Te=!!this.selectionKey.find(function(e){return Fe[e]===!0}):Te=Fe[this.selectionKey],Te},_shouldClearSelection:function(Fe,Te){var e=this.getActiveObjects(),ke=this._activeObject;return!Te||Te&&ke&&e.length>1&&e.indexOf(Te)===-1&&ke!==Te&&!this._isSelectionKeyPressed(Fe)||Te&&!Te.evented||Te&&!Te.selectable&&ke&&ke!==Te},_shouldCenterTransform:function(Fe,Te,e){if(!!Fe){var ke;return Te==="scale"||Te==="scaleX"||Te==="scaleY"||Te==="resizing"?ke=this.centeredScaling||Fe.centeredScaling:Te==="rotate"&&(ke=this.centeredRotation||Fe.centeredRotation),ke?!e:e}},_getOriginFromCorner:function(Fe,Te){var e={x:Fe.originX,y:Fe.originY};return Te==="ml"||Te==="tl"||Te==="bl"?e.x="right":(Te==="mr"||Te==="tr"||Te==="br")&&(e.x="left"),Te==="tl"||Te==="mt"||Te==="tr"?e.y="bottom":(Te==="bl"||Te==="mb"||Te==="br")&&(e.y="top"),e},_getActionFromCorner:function(Fe,Te,e,ke){if(!Te||!Fe)return"drag";var Oe=ke.controls[Te];return Oe.getActionName(e,Oe,ke)},_setupCurrentTransform:function(Fe,Te,e){if(!!Te){var ke=this.getPointer(Fe),Oe=Te.__corner,Ee=Te.controls[Oe],Pe=e&&Oe?Ee.getActionHandler(Fe,Te,Ee):r.controlsUtils.dragHandler,De=this._getActionFromCorner(e,Oe,Fe,Te),Me=this._getOriginFromCorner(Te,Oe),Ae=Fe[this.centeredKey],Be={target:Te,action:De,actionHandler:Pe,corner:Oe,scaleX:Te.scaleX,scaleY:Te.scaleY,skewX:Te.skewX,skewY:Te.skewY,offsetX:ke.x-Te.left,offsetY:ke.y-Te.top,originX:Me.x,originY:Me.y,ex:ke.x,ey:ke.y,lastX:ke.x,lastY:ke.y,theta:_e(Te.angle),width:Te.width*Te.scaleX,shiftKey:Fe.shiftKey,altKey:Ae,original:r.util.saveObjectTransform(Te)};this._shouldCenterTransform(Te,De,Ae)&&(Be.originX="center",Be.originY="center"),Be.original.originX=Me.x,Be.original.originY=Me.y,this._currentTransform=Be,this._beforeTransform(Fe)}},setCursor:function(Fe){this.upperCanvasEl.style.cursor=Fe},_drawSelection:function(Fe){var Te=this._groupSelector,e=new r.Point(Te.ex,Te.ey),ke=r.util.transformPoint(e,this.viewportTransform),Oe=new r.Point(Te.ex+Te.left,Te.ey+Te.top),Ee=r.util.transformPoint(Oe,this.viewportTransform),Pe=Math.min(ke.x,Ee.x),De=Math.min(ke.y,Ee.y),Me=Math.max(ke.x,Ee.x),Ae=Math.max(ke.y,Ee.y),Be=this.selectionLineWidth/2;this.selectionColor&&(Fe.fillStyle=this.selectionColor,Fe.fillRect(Pe,De,Me-Pe,Ae-De)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(Fe.lineWidth=this.selectionLineWidth,Fe.strokeStyle=this.selectionBorderColor,Pe+=Be,De+=Be,Me-=Be,Ae-=Be,r.Object.prototype._setLineDash.call(this,Fe,this.selectionDashArray),Fe.strokeRect(Pe,De,Me-Pe,Ae-De))},findTarget:function(Fe,Te){if(!this.skipTargetFind){var e=!0,ke=this.getPointer(Fe,e),Oe=this._activeObject,Ee=this.getActiveObjects(),Pe,De,Me=t(Fe),Ae=Ee.length>1&&!Te||Ee.length===1;if(this.targets=[],Ae&&Oe._findTargetCorner(ke,Me)||Ee.length>1&&!Te&&Oe===this._searchPossibleTargets([Oe],ke))return Oe;if(Ee.length===1&&Oe===this._searchPossibleTargets([Oe],ke))if(this.preserveObjectStacking)Pe=Oe,De=this.targets,this.targets=[];else return Oe;var Be=this._searchPossibleTargets(this._objects,ke);return Fe[this.altSelectionKey]&&Be&&Pe&&Be!==Pe&&(Be=Pe,this.targets=De),Be}},_checkTarget:function(Fe,Te,e){if(Te&&Te.visible&&Te.evented&&Te.containsPoint(Fe))if((this.perPixelTargetFind||Te.perPixelTargetFind)&&!Te.isEditing){var ke=this.isTargetTransparent(Te,e.x,e.y);if(!ke)return!0}else return!0},_searchPossibleTargets:function(Fe,Te){for(var e,ke=Fe.length,Oe;ke--;){var Ee=Fe[ke],Pe=Ee.group?this._normalizePointer(Ee.group,Te):Te;if(this._checkTarget(Pe,Ee,Te)){e=Fe[ke],e.subTargetCheck&&e instanceof r.Group&&(Oe=this._searchPossibleTargets(e._objects,Te),Oe&&this.targets.push(Oe));break}}return e},restorePointerVpt:function(Fe){return r.util.transformPoint(Fe,r.util.invertTransform(this.viewportTransform))},getPointer:function(Fe,Te){if(this._absolutePointer&&!Te)return this._absolutePointer;if(this._pointer&&Te)return this._pointer;var e=Se(Fe),ke=this.upperCanvasEl,Oe=ke.getBoundingClientRect(),Ee=Oe.width||0,Pe=Oe.height||0,De;(!Ee||!Pe)&&("top"in Oe&&"bottom"in Oe&&(Pe=Math.abs(Oe.top-Oe.bottom)),"right"in Oe&&"left"in Oe&&(Ee=Math.abs(Oe.right-Oe.left))),this.calcOffset(),e.x=e.x-this._offset.left,e.y=e.y-this._offset.top,Te||(e=this.restorePointerVpt(e));var Me=this.getRetinaScaling();return Me!==1&&(e.x/=Me,e.y/=Me),Ee===0||Pe===0?De={width:1,height:1}:De={width:ke.width/Ee,height:ke.height/Pe},{x:e.x*De.width,y:e.y*De.height}},_createUpperCanvas:function(){var Fe=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),Te=this.lowerCanvasEl,e=this.upperCanvasEl;e?e.className="":(e=this._createCanvasElement(),this.upperCanvasEl=e),r.util.addClass(e,"upper-canvas "+Fe),this.wrapperEl.appendChild(e),this._copyCanvasStyle(Te,e),this._applyCanvasStyle(e),this.contextTop=e.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=r.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),r.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),r.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(Fe){var Te=this.width||Fe.width,e=this.height||Fe.height;r.util.setStyle(Fe,{position:"absolute",width:Te+"px",height:e+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),Fe.width=Te,Fe.height=e,r.util.makeElementUnselectable(Fe)},_copyCanvasStyle:function(Fe,Te){Te.style.cssText=Fe.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var Fe=this._activeObject;return Fe?Fe.type==="activeSelection"&&Fe._objects?Fe._objects.slice(0):[Fe]:[]},_onObjectRemoved:function(Fe){Fe===this._activeObject&&(this.fire("before:selection:cleared",{target:Fe}),this._discardActiveObject(),this.fire("selection:cleared",{target:Fe}),Fe.fire("deselected")),Fe===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",Fe)},_fireSelectionEvents:function(Fe,Te){var e=!1,ke=this.getActiveObjects(),Oe=[],Ee=[];Fe.forEach(function(Pe){ke.indexOf(Pe)===-1&&(e=!0,Pe.fire("deselected",{e:Te,target:Pe}),Ee.push(Pe))}),ke.forEach(function(Pe){Fe.indexOf(Pe)===-1&&(e=!0,Pe.fire("selected",{e:Te,target:Pe}),Oe.push(Pe))}),Fe.length>0&&ke.length>0?e&&this.fire("selection:updated",{e:Te,selected:Oe,deselected:Ee}):ke.length>0?this.fire("selection:created",{e:Te,selected:Oe}):Fe.length>0&&this.fire("selection:cleared",{e:Te,deselected:Ee})},setActiveObject:function(Fe,Te){var e=this.getActiveObjects();return this._setActiveObject(Fe,Te),this._fireSelectionEvents(e,Te),this},_setActiveObject:function(Fe,Te){return this._activeObject===Fe||!this._discardActiveObject(Te,Fe)||Fe.onSelect({e:Te})?!1:(this._activeObject=Fe,!0)},_discardActiveObject:function(Fe,Te){var e=this._activeObject;if(e){if(e.onDeselect({e:Fe,object:Te}))return!1;this._activeObject=null}return!0},discardActiveObject:function(Fe){var Te=this.getActiveObjects(),e=this.getActiveObject();return Te.length&&this.fire("before:selection:cleared",{target:e,e:Fe}),this._discardActiveObject(Fe),this._fireSelectionEvents(Te,Fe),this},dispose:function(){var Fe=this.wrapperEl;return this.removeListeners(),Fe.removeChild(this.upperCanvasEl),Fe.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(Te){r.util.cleanUpJsdomNode(this[Te]),this[Te]=void 0}.bind(this)),Fe.parentNode&&Fe.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,r.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(Fe){var Te=this._activeObject;Te&&Te._renderControls(Fe)},_toObject:function(Fe,Te,e){var ke=this._realizeGroupTransformOnObject(Fe),Oe=this.callSuper("_toObject",Fe,Te,e);return this._unwindGroupTransformOnObject(Fe,ke),Oe},_realizeGroupTransformOnObject:function(Fe){if(Fe.group&&Fe.group.type==="activeSelection"&&this._activeObject===Fe.group){var Te=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],e={};return Te.forEach(function(ke){e[ke]=Fe[ke]}),r.util.addTransformToObject(Fe,this._activeObject.calcOwnMatrix()),e}else return null},_unwindGroupTransformOnObject:function(Fe,Te){Te&&Fe.set(Te)},_setSVGObject:function(Fe,Te,e){var ke=this._realizeGroupTransformOnObject(Te);this.callSuper("_setSVGObject",Fe,Te,e),this._unwindGroupTransformOnObject(Te,ke)},setViewportTransform:function(Fe){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),r.StaticCanvas.prototype.setViewportTransform.call(this,Fe)}});for(var xe in r.StaticCanvas)xe!=="prototype"&&(r.Canvas[xe]=r.StaticCanvas[xe])}(),function(){var Se=r.util.addListener,_e=r.util.removeListener,t=3,xe=2,Fe=1,Te={passive:!1};function e(ke,Oe){return ke.button&&ke.button===Oe-1}r.util.object.extend(r.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(Se,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(ke,Oe){var Ee=this.upperCanvasEl,Pe=this._getEventPrefix();ke(r.window,"resize",this._onResize),ke(Ee,Pe+"down",this._onMouseDown),ke(Ee,Pe+"move",this._onMouseMove,Te),ke(Ee,Pe+"out",this._onMouseOut),ke(Ee,Pe+"enter",this._onMouseEnter),ke(Ee,"wheel",this._onMouseWheel),ke(Ee,"contextmenu",this._onContextMenu),ke(Ee,"dblclick",this._onDoubleClick),ke(Ee,"dragover",this._onDragOver),ke(Ee,"dragenter",this._onDragEnter),ke(Ee,"dragleave",this._onDragLeave),ke(Ee,"drop",this._onDrop),this.enablePointerEvents||ke(Ee,"touchstart",this._onTouchStart,Te),typeof eventjs<"u"&&Oe in eventjs&&(eventjs[Oe](Ee,"gesture",this._onGesture),eventjs[Oe](Ee,"drag",this._onDrag),eventjs[Oe](Ee,"orientation",this._onOrientationChange),eventjs[Oe](Ee,"shake",this._onShake),eventjs[Oe](Ee,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(_e,"remove");var ke=this._getEventPrefix();_e(r.document,ke+"up",this._onMouseUp),_e(r.document,"touchend",this._onTouchEnd,Te),_e(r.document,ke+"move",this._onMouseMove,Te),_e(r.document,"touchmove",this._onMouseMove,Te)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(ke,Oe){this.__onTransformGesture&&this.__onTransformGesture(ke,Oe)},_onDrag:function(ke,Oe){this.__onDrag&&this.__onDrag(ke,Oe)},_onMouseWheel:function(ke){this.__onMouseWheel(ke)},_onMouseOut:function(ke){var Oe=this._hoveredTarget;this.fire("mouse:out",{target:Oe,e:ke}),this._hoveredTarget=null,Oe&&Oe.fire("mouseout",{e:ke});var Ee=this;this._hoveredTargets.forEach(function(Pe){Ee.fire("mouse:out",{target:Oe,e:ke}),Pe&&Oe.fire("mouseout",{e:ke})}),this._hoveredTargets=[]},_onMouseEnter:function(ke){!this._currentTransform&&!this.findTarget(ke)&&(this.fire("mouse:over",{target:null,e:ke}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(ke,Oe){this.__onOrientationChange&&this.__onOrientationChange(ke,Oe)},_onShake:function(ke,Oe){this.__onShake&&this.__onShake(ke,Oe)},_onLongPress:function(ke,Oe){this.__onLongPress&&this.__onLongPress(ke,Oe)},_onDragOver:function(ke){ke.preventDefault();var Oe=this._simpleEventHandler("dragover",ke);this._fireEnterLeaveEvents(Oe,ke)},_onDrop:function(ke){return this._simpleEventHandler("drop:before",ke),this._simpleEventHandler("drop",ke)},_onContextMenu:function(ke){return this.stopContextMenu&&(ke.stopPropagation(),ke.preventDefault()),!1},_onDoubleClick:function(ke){this._cacheTransformEventData(ke),this._handleEvent(ke,"dblclick"),this._resetTransformEventData(ke)},getPointerId:function(ke){var Oe=ke.changedTouches;return Oe?Oe[0]&&Oe[0].identifier:this.enablePointerEvents?ke.pointerId:-1},_isMainEvent:function(ke){return ke.isPrimary===!0?!0:ke.isPrimary===!1?!1:ke.type==="touchend"&&ke.touches.length===0?!0:ke.changedTouches?ke.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(ke){ke.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(ke)),this.__onMouseDown(ke),this._resetTransformEventData();var Oe=this.upperCanvasEl,Ee=this._getEventPrefix();Se(r.document,"touchend",this._onTouchEnd,Te),Se(r.document,"touchmove",this._onMouseMove,Te),_e(Oe,Ee+"down",this._onMouseDown)},_onMouseDown:function(ke){this.__onMouseDown(ke),this._resetTransformEventData();var Oe=this.upperCanvasEl,Ee=this._getEventPrefix();_e(Oe,Ee+"move",this._onMouseMove,Te),Se(r.document,Ee+"up",this._onMouseUp),Se(r.document,Ee+"move",this._onMouseMove,Te)},_onTouchEnd:function(ke){if(!(ke.touches.length>0)){this.__onMouseUp(ke),this._resetTransformEventData(),this.mainTouchId=null;var Oe=this._getEventPrefix();_e(r.document,"touchend",this._onTouchEnd,Te),_e(r.document,"touchmove",this._onMouseMove,Te);var Ee=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){Se(Ee.upperCanvasEl,Oe+"down",Ee._onMouseDown),Ee._willAddMouseDown=0},400)}},_onMouseUp:function(ke){this.__onMouseUp(ke),this._resetTransformEventData();var Oe=this.upperCanvasEl,Ee=this._getEventPrefix();this._isMainEvent(ke)&&(_e(r.document,Ee+"up",this._onMouseUp),_e(r.document,Ee+"move",this._onMouseMove,Te),Se(Oe,Ee+"move",this._onMouseMove,Te))},_onMouseMove:function(ke){!this.allowTouchScrolling&&ke.preventDefault&&ke.preventDefault(),this.__onMouseMove(ke)},_onResize:function(){this.calcOffset()},_shouldRender:function(ke){var Oe=this._activeObject;return!!Oe!=!!ke||Oe&&ke&&Oe!==ke?!0:(Oe&&Oe.isEditing,!1)},__onMouseUp:function(ke){var Oe,Ee=this._currentTransform,Pe=this._groupSelector,De=!1,Me=!Pe||Pe.left===0&&Pe.top===0;if(this._cacheTransformEventData(ke),Oe=this._target,this._handleEvent(ke,"up:before"),e(ke,t)){this.fireRightClick&&this._handleEvent(ke,"up",t,Me);return}if(e(ke,xe)){this.fireMiddleClick&&this._handleEvent(ke,"up",xe,Me),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(ke);return}if(!!this._isMainEvent(ke)){if(Ee&&(this._finalizeCurrentTransform(ke),De=Ee.actionPerformed),!Me){var Ae=Oe===this._activeObject;this._maybeGroupObjects(ke),De||(De=this._shouldRender(Oe)||!Ae&&Oe===this._activeObject)}var Be,He;if(Oe){if(Be=Oe._findTargetCorner(this.getPointer(ke,!0),r.util.isTouchEvent(ke)),Oe.selectable&&Oe!==this._activeObject&&Oe.activeOn==="up")this.setActiveObject(Oe,ke),De=!0;else{var je=Oe.controls[Be],Xe=je&&je.getMouseUpHandler(ke,Oe,je);Xe&&(He=this.getPointer(ke),Xe(ke,Ee,He.x,He.y))}Oe.isMoving=!1}if(Ee&&(Ee.target!==Oe||Ee.corner!==Be)){var St=Ee.target&&Ee.target.controls[Ee.corner],qe=St&&St.getMouseUpHandler(ke,Oe,je);He=He||this.getPointer(ke),qe&&qe(ke,Ee,He.x,He.y)}this._setCursorFromEvent(ke,Oe),this._handleEvent(ke,"up",Fe,Me),this._groupSelector=null,this._currentTransform=null,Oe&&(Oe.__corner=0),De?this.requestRenderAll():Me||this.renderTop()}},_simpleEventHandler:function(ke,Oe){var Ee=this.findTarget(Oe),Pe=this.targets,De={e:Oe,target:Ee,subTargets:Pe};if(this.fire(ke,De),Ee&&Ee.fire(ke,De),!Pe)return Ee;for(var Me=0;Me<Pe.length;Me++)Pe[Me].fire(ke,De);return Ee},_handleEvent:function(ke,Oe,Ee,Pe){var De=this._target,Me=this.targets||[],Ae={e:ke,target:De,subTargets:Me,button:Ee||Fe,isClick:Pe||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};Oe==="up"&&(Ae.currentTarget=this.findTarget(ke),Ae.currentSubTargets=this.targets),this.fire("mouse:"+Oe,Ae),De&&De.fire("mouse"+Oe,Ae);for(var Be=0;Be<Me.length;Be++)Me[Be].fire("mouse"+Oe,Ae)},_finalizeCurrentTransform:function(ke){var Oe=this._currentTransform,Ee=Oe.target,Pe={e:ke,target:Ee,transform:Oe,action:Oe.action};Ee._scaling&&(Ee._scaling=!1),Ee.setCoords(),(Oe.actionPerformed||this.stateful&&Ee.hasStateChanged())&&this._fire("modified",Pe)},_onMouseDownInDrawingMode:function(ke){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(ke).requestRenderAll();var Oe=this.getPointer(ke);this.freeDrawingBrush.onMouseDown(Oe,{e:ke,pointer:Oe}),this._handleEvent(ke,"down")},_onMouseMoveInDrawingMode:function(ke){if(this._isCurrentlyDrawing){var Oe=this.getPointer(ke);this.freeDrawingBrush.onMouseMove(Oe,{e:ke,pointer:Oe})}this.setCursor(this.freeDrawingCursor),this._handleEvent(ke,"move")},_onMouseUpInDrawingMode:function(ke){var Oe=this.getPointer(ke);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:ke,pointer:Oe}),this._handleEvent(ke,"up")},__onMouseDown:function(ke){this._cacheTransformEventData(ke),this._handleEvent(ke,"down:before");var Oe=this._target;if(e(ke,t)){this.fireRightClick&&this._handleEvent(ke,"down",t);return}if(e(ke,xe)){this.fireMiddleClick&&this._handleEvent(ke,"down",xe);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(ke);return}if(!!this._isMainEvent(ke)&&!this._currentTransform){var Ee=this._pointer;this._previousPointer=Ee;var Pe=this._shouldRender(Oe),De=this._shouldGroup(ke,Oe);if(this._shouldClearSelection(ke,Oe)?this.discardActiveObject(ke):De&&(this._handleGrouping(ke,Oe),Oe=this._activeObject),this.selection&&(!Oe||!Oe.selectable&&!Oe.isEditing&&Oe!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),Oe){var Me=Oe===this._activeObject;Oe.selectable&&Oe.activeOn==="down"&&this.setActiveObject(Oe,ke);var Ae=Oe._findTargetCorner(this.getPointer(ke,!0),r.util.isTouchEvent(ke));if(Oe.__corner=Ae,Oe===this._activeObject&&(Ae||!De)){this._setupCurrentTransform(ke,Oe,Me);var Be=Oe.controls[Ae],Ee=this.getPointer(ke),He=Be&&Be.getMouseDownHandler(ke,Oe,Be);He&&He(ke,this._currentTransform,Ee.x,Ee.y)}}this._handleEvent(ke,"down"),(Pe||De)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(ke){this._resetTransformEventData(),this._pointer=this.getPointer(ke,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(ke)||null},_beforeTransform:function(ke){var Oe=this._currentTransform;this.stateful&&Oe.target.saveState(),this.fire("before:transform",{e:ke,transform:Oe})},__onMouseMove:function(ke){this._handleEvent(ke,"move:before"),this._cacheTransformEventData(ke);var Oe,Ee;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(ke);return}if(!!this._isMainEvent(ke)){var Pe=this._groupSelector;Pe?(Ee=this._absolutePointer,Pe.left=Ee.x-Pe.ex,Pe.top=Ee.y-Pe.ey,this.renderTop()):this._currentTransform?this._transformObject(ke):(Oe=this.findTarget(ke)||null,this._setCursorFromEvent(ke,Oe),this._fireOverOutEvents(Oe,ke)),this._handleEvent(ke,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(ke,Oe){var Ee=this._hoveredTarget,Pe=this._hoveredTargets,De=this.targets,Me=Math.max(Pe.length,De.length);this.fireSyntheticInOutEvents(ke,Oe,{oldTarget:Ee,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var Ae=0;Ae<Me;Ae++)this.fireSyntheticInOutEvents(De[Ae],Oe,{oldTarget:Pe[Ae],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=ke,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(ke,Oe){var Ee=this._draggedoverTarget,Pe=this._hoveredTargets,De=this.targets,Me=Math.max(Pe.length,De.length);this.fireSyntheticInOutEvents(ke,Oe,{oldTarget:Ee,evtOut:"dragleave",evtIn:"dragenter"});for(var Ae=0;Ae<Me;Ae++)this.fireSyntheticInOutEvents(De[Ae],Oe,{oldTarget:Pe[Ae],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=ke},fireSyntheticInOutEvents:function(ke,Oe,Ee){var Pe,De,Me=Ee.oldTarget,Ae,Be,He=Me!==ke,je=Ee.canvasEvtIn,Xe=Ee.canvasEvtOut;He&&(Pe={e:Oe,target:ke,previousTarget:Me},De={e:Oe,target:Me,nextTarget:ke}),Be=ke&&He,Ae=Me&&He,Ae&&(Xe&&this.fire(Xe,De),Me.fire(Ee.evtOut,De)),Be&&(je&&this.fire(je,Pe),ke.fire(Ee.evtIn,Pe))},__onMouseWheel:function(ke){this._cacheTransformEventData(ke),this._handleEvent(ke,"wheel"),this._resetTransformEventData()},_transformObject:function(ke){var Oe=this.getPointer(ke),Ee=this._currentTransform;Ee.reset=!1,Ee.shiftKey=ke.shiftKey,Ee.altKey=ke[this.centeredKey],this._performTransformAction(ke,Ee,Oe),Ee.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(ke,Oe,Ee){var Pe=Ee.x,De=Ee.y,Me=Oe.action,Ae=!1,Be=Oe.actionHandler;Be&&(Ae=Be(ke,Oe,Pe,De)),Me==="drag"&&Ae&&(Oe.target.isMoving=!0,this.setCursor(Oe.target.moveCursor||this.moveCursor)),Oe.actionPerformed=Oe.actionPerformed||Ae},_fire:r.controlsUtils.fireEvent,_setCursorFromEvent:function(ke,Oe){if(!Oe)return this.setCursor(this.defaultCursor),!1;var Ee=Oe.hoverCursor||this.hoverCursor,Pe=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,De=(!Pe||!Pe.contains(Oe))&&Oe._findTargetCorner(this.getPointer(ke,!0));De?this.setCursor(this.getCornerCursor(De,Oe,ke)):(Oe.subTargetCheck&&this.targets.concat().reverse().map(function(Me){Ee=Me.hoverCursor||Ee}),this.setCursor(Ee))},getCornerCursor:function(ke,Oe,Ee){var Pe=Oe.controls[ke];return Pe.cursorStyleHandler(Ee,Pe,Oe)}})}(),function(){var Se=Math.min,_e=Math.max;r.util.object.extend(r.Canvas.prototype,{_shouldGroup:function(t,xe){var Fe=this._activeObject;return Fe&&this._isSelectionKeyPressed(t)&&xe&&xe.selectable&&this.selection&&(Fe!==xe||Fe.type==="activeSelection")&&!xe.onSelect({e:t})},_handleGrouping:function(t,xe){var Fe=this._activeObject;Fe.__corner||xe===Fe&&(xe=this.findTarget(t,!0),!xe||!xe.selectable)||(Fe&&Fe.type==="activeSelection"?this._updateActiveSelection(xe,t):this._createActiveSelection(xe,t))},_updateActiveSelection:function(t,xe){var Fe=this._activeObject,Te=Fe._objects.slice(0);Fe.contains(t)?(Fe.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),Fe.size()===1&&this._setActiveObject(Fe.item(0),xe)):(Fe.addWithUpdate(t),this._hoveredTarget=Fe,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(Te,xe)},_createActiveSelection:function(t,xe){var Fe=this.getActiveObjects(),Te=this._createGroup(t);this._hoveredTarget=Te,this._setActiveObject(Te,xe),this._fireSelectionEvents(Fe,xe)},_createGroup:function(t){var xe=this._objects,Fe=xe.indexOf(this._activeObject)<xe.indexOf(t),Te=Fe?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new r.ActiveSelection(Te,{canvas:this})},_groupSelectedObjects:function(t){var xe=this._collectObjects(t),Fe;xe.length===1?this.setActiveObject(xe[0],t):xe.length>1&&(Fe=new r.ActiveSelection(xe.reverse(),{canvas:this}),this.setActiveObject(Fe,t))},_collectObjects:function(t){for(var xe=[],Fe,Te=this._groupSelector.ex,e=this._groupSelector.ey,ke=Te+this._groupSelector.left,Oe=e+this._groupSelector.top,Ee=new r.Point(Se(Te,ke),Se(e,Oe)),Pe=new r.Point(_e(Te,ke),_e(e,Oe)),De=!this.selectionFullyContained,Me=Te===ke&&e===Oe,Ae=this._objects.length;Ae--&&(Fe=this._objects[Ae],!(!(!Fe||!Fe.selectable||!Fe.visible)&&(De&&Fe.intersectsWithRect(Ee,Pe,!0)||Fe.isContainedWithinRect(Ee,Pe,!0)||De&&Fe.containsPoint(Ee,null,!0)||De&&Fe.containsPoint(Pe,null,!0))&&(xe.push(Fe),Me))););return xe.length>1&&(xe=xe.filter(function(Be){return!Be.onSelect({e:t})})),xe},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){r.util.object.extend(r.StaticCanvas.prototype,{toDataURL:function(Se){Se||(Se={});var _e=Se.format||"png",t=Se.quality||1,xe=(Se.multiplier||1)*(Se.enableRetinaScaling?this.getRetinaScaling():1),Fe=this.toCanvasElement(xe,Se);return r.util.toDataURL(Fe,_e,t)},toCanvasElement:function(Se,_e){Se=Se||1,_e=_e||{};var t=(_e.width||this.width)*Se,xe=(_e.height||this.height)*Se,Fe=this.getZoom(),Te=this.width,e=this.height,ke=Fe*Se,Oe=this.viewportTransform,Ee=(Oe[4]-(_e.left||0))*Se,Pe=(Oe[5]-(_e.top||0))*Se,De=this.interactive,Me=[ke,0,0,ke,Ee,Pe],Ae=this.enableRetinaScaling,Be=r.util.createCanvasElement(),He=this.contextTop;return Be.width=t,Be.height=xe,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=Me,this.width=t,this.height=xe,this.calcViewportBoundaries(),this.renderCanvas(Be.getContext("2d"),this._objects),this.viewportTransform=Oe,this.width=Te,this.height=e,this.calcViewportBoundaries(),this.interactive=De,this.enableRetinaScaling=Ae,this.contextTop=He,Be}})}(),r.util.object.extend(r.StaticCanvas.prototype,{loadFromJSON:function(Se,_e,t){if(!!Se){var xe=typeof Se=="string"?JSON.parse(Se):r.util.object.clone(Se),Fe=this,Te=xe.clipPath,e=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete xe.clipPath,this._enlivenObjects(xe.objects,function(ke){Fe.clear(),Fe._setBgOverlay(xe,function(){Te?Fe._enlivenObjects([Te],function(Oe){Fe.clipPath=Oe[0],Fe.__setupCanvas.call(Fe,xe,ke,e,_e)}):Fe.__setupCanvas.call(Fe,xe,ke,e,_e)})},t),this}},__setupCanvas:function(Se,_e,t,xe){var Fe=this;_e.forEach(function(Te,e){Fe.insertAt(Te,e)}),this.renderOnAddRemove=t,delete Se.objects,delete Se.backgroundImage,delete Se.overlayImage,delete Se.background,delete Se.overlay,this._setOptions(Se),this.renderAll(),xe&&xe()},_setBgOverlay:function(Se,_e){var t={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!Se.backgroundImage&&!Se.overlayImage&&!Se.background&&!Se.overlay){_e&&_e();return}var xe=function(){t.backgroundImage&&t.overlayImage&&t.backgroundColor&&t.overlayColor&&_e&&_e()};this.__setBgOverlay("backgroundImage",Se.backgroundImage,t,xe),this.__setBgOverlay("overlayImage",Se.overlayImage,t,xe),this.__setBgOverlay("backgroundColor",Se.background,t,xe),this.__setBgOverlay("overlayColor",Se.overlay,t,xe)},__setBgOverlay:function(Se,_e,t,xe){var Fe=this;if(!_e){t[Se]=!0,xe&&xe();return}Se==="backgroundImage"||Se==="overlayImage"?r.util.enlivenObjects([_e],function(Te){Fe[Se]=Te[0],t[Se]=!0,xe&&xe()}):this["set"+r.util.string.capitalize(Se,!0)](_e,function(){t[Se]=!0,xe&&xe()})},_enlivenObjects:function(Se,_e,t){if(!Se||Se.length===0){_e&&_e([]);return}r.util.enlivenObjects(Se,function(xe){_e&&_e(xe)},null,t)},_toDataURL:function(Se,_e){this.clone(function(t){_e(t.toDataURL(Se))})},_toDataURLWithMultiplier:function(Se,_e,t){this.clone(function(xe){t(xe.toDataURLWithMultiplier(Se,_e))})},clone:function(Se,_e){var t=JSON.stringify(this.toJSON(_e));this.cloneWithoutData(function(xe){xe.loadFromJSON(t,function(){Se&&Se(xe)})})},cloneWithoutData:function(Se){var _e=r.util.createCanvasElement();_e.width=this.width,_e.height=this.height;var t=new r.Canvas(_e);this.backgroundImage?(t.setBackgroundImage(this.backgroundImage.src,function(){t.renderAll(),Se&&Se(t)}),t.backgroundImageOpacity=this.backgroundImageOpacity,t.backgroundImageStretch=this.backgroundImageStretch):Se&&Se(t)}}),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.util.object.clone,Fe=_e.util.toFixed,Te=_e.util.string.capitalize,e=_e.util.degreesToRadians,ke=!_e.isLikelyNode,Oe=2;_e.Object||(_e.Object=_e.util.createClass(_e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:ke,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(Ee){Ee&&this.setOptions(Ee)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=_e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(Ee){var Pe=_e.perfLimitSizeTotal,De=Ee.width,Me=Ee.height,Ae=_e.maxCacheSideLimit,Be=_e.minCacheSideLimit;if(De<=Ae&&Me<=Ae&&De*Me<=Pe)return De<Be&&(Ee.width=Be),Me<Be&&(Ee.height=Be),Ee;var He=De/Me,je=_e.util.limitDimsByArea(He,Pe),Xe=_e.util.capValue,St=Xe(Be,je.x,Ae),qe=Xe(Be,je.y,Ae);return De>St&&(Ee.zoomX/=De/St,Ee.width=St,Ee.capped=!0),Me>qe&&(Ee.zoomY/=Me/qe,Ee.height=qe,Ee.capped=!0),Ee},_getCacheCanvasDimensions:function(){var Ee=this.getTotalObjectScaling(),Pe=this._getTransformedDimensions(0,0),De=Pe.x*Ee.scaleX/this.scaleX,Me=Pe.y*Ee.scaleY/this.scaleY;return{width:De+Oe,height:Me+Oe,zoomX:Ee.scaleX,zoomY:Ee.scaleY,x:De,y:Me}},_updateCacheCanvas:function(){var Ee=this.canvas;if(this.noScaleCache&&Ee&&Ee._currentTransform){var Pe=Ee._currentTransform.target,De=Ee._currentTransform.action;if(this===Pe&&De.slice&&De.slice(0,5)==="scale")return!1}var Me=this._cacheCanvas,Ae=this._limitCacheSize(this._getCacheCanvasDimensions()),Be=_e.minCacheSideLimit,He=Ae.width,je=Ae.height,Xe,St,qe=Ae.zoomX,Ye=Ae.zoomY,gi=He!==this.cacheWidth||je!==this.cacheHeight,ai=this.zoomX!==qe||this.zoomY!==Ye,ui=gi||ai,Qe=0,Ze=0,ci=!1;if(gi){var ze=this._cacheCanvas.width,We=this._cacheCanvas.height,si=He>ze||je>We,ni=(He<ze*.9||je<We*.9)&&ze>Be&&We>Be;ci=si||ni,si&&!Ae.capped&&(He>Be||je>Be)&&(Qe=He*.1,Ze=je*.1)}return this instanceof _e.Text&&this.path&&(ui=!0,ci=!0,Qe+=this.getHeightOfLine(0)*this.zoomX,Ze+=this.getHeightOfLine(0)*this.zoomY),ui?(ci?(Me.width=Math.ceil(He+Qe),Me.height=Math.ceil(je+Ze)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,Me.width,Me.height)),Xe=Ae.x/2,St=Ae.y/2,this.cacheTranslationX=Math.round(Me.width/2-Xe)+Xe,this.cacheTranslationY=Math.round(Me.height/2-St)+St,this.cacheWidth=He,this.cacheHeight=je,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(qe,Ye),this.zoomX=qe,this.zoomY=Ye,!0):!1},setOptions:function(Ee){this._setOptions(Ee),this._initGradient(Ee.fill,"fill"),this._initGradient(Ee.stroke,"stroke"),this._initPattern(Ee.fill,"fill"),this._initPattern(Ee.stroke,"stroke")},transform:function(Ee){var Pe=this.group&&!this.group._transformDone||this.group&&this.canvas&&Ee===this.canvas.contextTop,De=this.calcTransformMatrix(!Pe);Ee.transform(De[0],De[1],De[2],De[3],De[4],De[5])},toObject:function(Ee){var Pe=_e.Object.NUM_FRACTION_DIGITS,De={type:this.type,version:_e.version,originX:this.originX,originY:this.originY,left:Fe(this.left,Pe),top:Fe(this.top,Pe),width:Fe(this.width,Pe),height:Fe(this.height,Pe),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:Fe(this.strokeWidth,Pe),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:Fe(this.strokeMiterLimit,Pe),scaleX:Fe(this.scaleX,Pe),scaleY:Fe(this.scaleY,Pe),angle:Fe(this.angle,Pe),flipX:this.flipX,flipY:this.flipY,opacity:Fe(this.opacity,Pe),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:Fe(this.skewX,Pe),skewY:Fe(this.skewY,Pe)};return this.clipPath&&!this.clipPath.excludeFromExport&&(De.clipPath=this.clipPath.toObject(Ee),De.clipPath.inverted=this.clipPath.inverted,De.clipPath.absolutePositioned=this.clipPath.absolutePositioned),_e.util.populateWithProperties(this,De,Ee),this.includeDefaultValues||(De=this._removeDefaultValues(De)),De},toDatalessObject:function(Ee){return this.toObject(Ee)},_removeDefaultValues:function(Ee){var Pe=_e.util.getKlass(Ee.type).prototype,De=Pe.stateProperties;return De.forEach(function(Me){Me==="left"||Me==="top"||(Ee[Me]===Pe[Me]&&delete Ee[Me],Array.isArray(Ee[Me])&&Array.isArray(Pe[Me])&&Ee[Me].length===0&&Pe[Me].length===0&&delete Ee[Me])}),Ee},toString:function(){return"#<fabric."+Te(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var Ee=_e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(Ee.scaleX),scaleY:Math.abs(Ee.scaleY)}},getTotalObjectScaling:function(){var Ee=this.getObjectScaling(),Pe=Ee.scaleX,De=Ee.scaleY;if(this.canvas){var Me=this.canvas.getZoom(),Ae=this.canvas.getRetinaScaling();Pe*=Me*Ae,De*=Me*Ae}return{scaleX:Pe,scaleY:De}},getObjectOpacity:function(){var Ee=this.opacity;return this.group&&(Ee*=this.group.getObjectOpacity()),Ee},_set:function(Ee,Pe){var De=Ee==="scaleX"||Ee==="scaleY",Me=this[Ee]!==Pe,Ae=!1;return De&&(Pe=this._constrainScale(Pe)),Ee==="scaleX"&&Pe<0?(this.flipX=!this.flipX,Pe*=-1):Ee==="scaleY"&&Pe<0?(this.flipY=!this.flipY,Pe*=-1):Ee==="shadow"&&Pe&&!(Pe instanceof _e.Shadow)?Pe=new _e.Shadow(Pe):Ee==="dirty"&&this.group&&this.group.set("dirty",Pe),this[Ee]=Pe,Me&&(Ae=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(Ee)>-1?(this.dirty=!0,Ae&&this.group.set("dirty",!0)):Ae&&this.stateProperties.indexOf(Ee)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:_e.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(Ee){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(Ee.save(),this._setupCompositeOperation(Ee),this.drawSelectionBackground(Ee),this.transform(Ee),this._setOpacity(Ee),this._setShadow(Ee,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(Ee)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(Ee),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),Ee.restore())},renderCache:function(Ee){Ee=Ee||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,Ee.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(Ee,Pe){if(Ee.save(),Pe.inverted?Ee.globalCompositeOperation="destination-out":Ee.globalCompositeOperation="destination-in",Pe.absolutePositioned){var De=_e.util.invertTransform(this.calcTransformMatrix());Ee.transform(De[0],De[1],De[2],De[3],De[4],De[5])}Pe.transform(Ee),Ee.scale(1/Pe.zoomX,1/Pe.zoomY),Ee.drawImage(Pe._cacheCanvas,-Pe.cacheTranslationX,-Pe.cacheTranslationY),Ee.restore()},drawObject:function(Ee,Pe){var De=this.fill,Me=this.stroke;Pe?(this.fill="black",this.stroke="",this._setClippingProperties(Ee)):this._renderBackground(Ee),this._render(Ee),this._drawClipPath(Ee,this.clipPath),this.fill=De,this.stroke=Me},_drawClipPath:function(Ee,Pe){!Pe||(Pe.canvas=this.canvas,Pe.shouldCache(),Pe._transformDone=!0,Pe.renderCache({forClipping:!0}),this.drawClipPathOnCache(Ee,Pe))},drawCacheOnCanvas:function(Ee){Ee.scale(1/this.zoomX,1/this.zoomY),Ee.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(Ee){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!Ee&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!Ee){var Pe=this.cacheWidth/this.zoomX,De=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Pe/2,-De/2,Pe,De)}return!0}return!1},_renderBackground:function(Ee){if(!!this.backgroundColor){var Pe=this._getNonTransformedDimensions();Ee.fillStyle=this.backgroundColor,Ee.fillRect(-Pe.x/2,-Pe.y/2,Pe.x,Pe.y),this._removeShadow(Ee)}},_setOpacity:function(Ee){this.group&&!this.group._transformDone?Ee.globalAlpha=this.getObjectOpacity():Ee.globalAlpha*=this.opacity},_setStrokeStyles:function(Ee,Pe){var De=Pe.stroke;De&&(Ee.lineWidth=Pe.strokeWidth,Ee.lineCap=Pe.strokeLineCap,Ee.lineDashOffset=Pe.strokeDashOffset,Ee.lineJoin=Pe.strokeLineJoin,Ee.miterLimit=Pe.strokeMiterLimit,De.toLive?De.gradientUnits==="percentage"||De.gradientTransform||De.patternTransform?this._applyPatternForTransformedGradient(Ee,De):(Ee.strokeStyle=De.toLive(Ee,this),this._applyPatternGradientTransform(Ee,De)):Ee.strokeStyle=Pe.stroke)},_setFillStyles:function(Ee,Pe){var De=Pe.fill;De&&(De.toLive?(Ee.fillStyle=De.toLive(Ee,this),this._applyPatternGradientTransform(Ee,Pe.fill)):Ee.fillStyle=De)},_setClippingProperties:function(Ee){Ee.globalAlpha=1,Ee.strokeStyle="transparent",Ee.fillStyle="#000000"},_setLineDash:function(Ee,Pe){!Pe||Pe.length===0||(1&Pe.length&&Pe.push.apply(Pe,Pe),Ee.setLineDash(Pe))},_renderControls:function(Ee,Pe){var De=this.getViewportTransform(),Me=this.calcTransformMatrix(),Ae,Be,He;Pe=Pe||{},Be=typeof Pe.hasBorders<"u"?Pe.hasBorders:this.hasBorders,He=typeof Pe.hasControls<"u"?Pe.hasControls:this.hasControls,Me=_e.util.multiplyTransformMatrices(De,Me),Ae=_e.util.qrDecompose(Me),Ee.save(),Ee.translate(Ae.translateX,Ae.translateY),Ee.lineWidth=1*this.borderScaleFactor,this.group||(Ee.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(Ae.angle-=180),Ee.rotate(e(this.group?Ae.angle:this.angle)),Pe.forActiveSelection||this.group?Be&&this.drawBordersInGroup(Ee,Ae,Pe):Be&&this.drawBorders(Ee,Pe),He&&this.drawControls(Ee,Pe),Ee.restore()},_setShadow:function(Ee){if(!!this.shadow){var Pe=this.shadow,De=this.canvas,Me,Ae=De&&De.viewportTransform[0]||1,Be=De&&De.viewportTransform[3]||1;Pe.nonScaling?Me={scaleX:1,scaleY:1}:Me=this.getObjectScaling(),De&&De._isRetinaScaling()&&(Ae*=_e.devicePixelRatio,Be*=_e.devicePixelRatio),Ee.shadowColor=Pe.color,Ee.shadowBlur=Pe.blur*_e.browserShadowBlurConstant*(Ae+Be)*(Me.scaleX+Me.scaleY)/4,Ee.shadowOffsetX=Pe.offsetX*Ae*Me.scaleX,Ee.shadowOffsetY=Pe.offsetY*Be*Me.scaleY}},_removeShadow:function(Ee){!this.shadow||(Ee.shadowColor="",Ee.shadowBlur=Ee.shadowOffsetX=Ee.shadowOffsetY=0)},_applyPatternGradientTransform:function(Ee,Pe){if(!Pe||!Pe.toLive)return{offsetX:0,offsetY:0};var De=Pe.gradientTransform||Pe.patternTransform,Me=-this.width/2+Pe.offsetX||0,Ae=-this.height/2+Pe.offsetY||0;return Pe.gradientUnits==="percentage"?Ee.transform(this.width,0,0,this.height,Me,Ae):Ee.transform(1,0,0,1,Me,Ae),De&&Ee.transform(De[0],De[1],De[2],De[3],De[4],De[5]),{offsetX:Me,offsetY:Ae}},_renderPaintInOrder:function(Ee){this.paintFirst==="stroke"?(this._renderStroke(Ee),this._renderFill(Ee)):(this._renderFill(Ee),this._renderStroke(Ee))},_render:function(){},_renderFill:function(Ee){!this.fill||(Ee.save(),this._setFillStyles(Ee,this),this.fillRule==="evenodd"?Ee.fill("evenodd"):Ee.fill(),Ee.restore())},_renderStroke:function(Ee){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(Ee),Ee.save(),this.strokeUniform&&this.group){var Pe=this.getObjectScaling();Ee.scale(1/Pe.scaleX,1/Pe.scaleY)}else this.strokeUniform&&Ee.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(Ee,this.strokeDashArray),this._setStrokeStyles(Ee,this),Ee.stroke(),Ee.restore()}},_applyPatternForTransformedGradient:function(Ee,Pe){var De=this._limitCacheSize(this._getCacheCanvasDimensions()),Me=_e.util.createCanvasElement(),Ae,Be=this.canvas.getRetinaScaling(),He=De.x/this.scaleX/Be,je=De.y/this.scaleY/Be;Me.width=He,Me.height=je,Ae=Me.getContext("2d"),Ae.beginPath(),Ae.moveTo(0,0),Ae.lineTo(He,0),Ae.lineTo(He,je),Ae.lineTo(0,je),Ae.closePath(),Ae.translate(He/2,je/2),Ae.scale(De.zoomX/this.scaleX/Be,De.zoomY/this.scaleY/Be),this._applyPatternGradientTransform(Ae,Pe),Ae.fillStyle=Pe.toLive(Ee),Ae.fill(),Ee.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),Ee.scale(Be*this.scaleX/De.zoomX,Be*this.scaleY/De.zoomY),Ee.strokeStyle=Ae.createPattern(Me,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var Ee=_e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",Ee.scaleX),this.set("scaleY",Ee.scaleY),this.angle=Ee.angle,this.skewX=Ee.skewX,this.skewY=0}},_removeTransformMatrix:function(Ee){var Pe=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),Pe=_e.util.transformPoint(Pe,this.transformMatrix)),this.transformMatrix=null,Ee&&(this.scaleX*=Ee.scaleX,this.scaleY*=Ee.scaleY,this.cropX=Ee.cropX,this.cropY=Ee.cropY,Pe.x+=Ee.offsetLeft,Pe.y+=Ee.offsetTop,this.width=Ee.width,this.height=Ee.height),this.setPositionByOrigin(Pe,"center","center")},clone:function(Ee,Pe){var De=this.toObject(Pe);this.constructor.fromObject?this.constructor.fromObject(De,Ee):_e.Object._fromObject("Object",De,Ee)},cloneAsImage:function(Ee,Pe){var De=this.toCanvasElement(Pe);return Ee&&Ee(new _e.Image(De)),this},toCanvasElement:function(Ee){Ee||(Ee={});var Pe=_e.util,De=Pe.saveObjectTransform(this),Me=this.group,Ae=this.shadow,Be=Math.abs,He=(Ee.multiplier||1)*(Ee.enableRetinaScaling?_e.devicePixelRatio:1);delete this.group,Ee.withoutTransform&&Pe.resetObjectTransform(this),Ee.withoutShadow&&(this.shadow=null);var je=_e.util.createCanvasElement(),Xe=this.getBoundingRect(!0,!0),St=this.shadow,qe,Ye={x:0,y:0},gi,ai,ui;St&&(gi=St.blur,St.nonScaling?qe={scaleX:1,scaleY:1}:qe=this.getObjectScaling(),Ye.x=2*Math.round(Be(St.offsetX)+gi)*Be(qe.scaleX),Ye.y=2*Math.round(Be(St.offsetY)+gi)*Be(qe.scaleY)),ai=Xe.width+Ye.x,ui=Xe.height+Ye.y,je.width=Math.ceil(ai),je.height=Math.ceil(ui);var Qe=new _e.StaticCanvas(je,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});Ee.format==="jpeg"&&(Qe.backgroundColor="#fff"),this.setPositionByOrigin(new _e.Point(Qe.width/2,Qe.height/2),"center","center");var Ze=this.canvas;Qe.add(this);var ci=Qe.toCanvasElement(He||1,Ee);return this.shadow=Ae,this.set("canvas",Ze),Me&&(this.group=Me),this.set(De).setCoords(),Qe._objects=[],Qe.dispose(),Qe=null,ci},toDataURL:function(Ee){return Ee||(Ee={}),_e.util.toDataURL(this.toCanvasElement(Ee),Ee.format||"png",Ee.quality||1)},isType:function(Ee){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===Ee},complexity:function(){return 1},toJSON:function(Ee){return this.toObject(Ee)},rotate:function(Ee){var Pe=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return Pe&&this._setOriginToCenter(),this.set("angle",Ee),Pe&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(Ee,Pe){Pe=Pe||this.canvas.getPointer(Ee);var De=new _e.Point(Pe.x,Pe.y),Me=this._getLeftTopCoords();return this.angle&&(De=_e.util.rotatePoint(De,Me,e(-this.angle))),{x:De.x-Me.x,y:De.y-Me.y}},_setupCompositeOperation:function(Ee){this.globalCompositeOperation&&(Ee.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){_e.runningAnimations&&_e.runningAnimations.cancelByTarget(this)}}),_e.util.createAccessors&&_e.util.createAccessors(_e.Object),t(_e.Object.prototype,_e.Observable),_e.Object.NUM_FRACTION_DIGITS=2,_e.Object.ENLIVEN_PROPS=["clipPath"],_e.Object._fromObject=function(Ee,Pe,De,Me){var Ae=_e[Ee];Pe=xe(Pe,!0),_e.util.enlivenPatterns([Pe.fill,Pe.stroke],function(Be){typeof Be[0]<"u"&&(Pe.fill=Be[0]),typeof Be[1]<"u"&&(Pe.stroke=Be[1]),_e.util.enlivenObjectEnlivables(Pe,Pe,function(){var He=Me?new Ae(Pe[Me],Pe):new Ae(Pe);De&&De(He)})})},_e.Object.__uid=0)}(Ce),function(){var Se=r.util.degreesToRadians,_e={left:-.5,center:0,right:.5},t={top:-.5,center:0,bottom:.5};r.util.object.extend(r.Object.prototype,{translateToGivenOrigin:function(xe,Fe,Te,e,ke){var Oe=xe.x,Ee=xe.y,Pe,De,Me;return typeof Fe=="string"?Fe=_e[Fe]:Fe-=.5,typeof e=="string"?e=_e[e]:e-=.5,Pe=e-Fe,typeof Te=="string"?Te=t[Te]:Te-=.5,typeof ke=="string"?ke=t[ke]:ke-=.5,De=ke-Te,(Pe||De)&&(Me=this._getTransformedDimensions(),Oe=xe.x+Pe*Me.x,Ee=xe.y+De*Me.y),new r.Point(Oe,Ee)},translateToCenterPoint:function(xe,Fe,Te){var e=this.translateToGivenOrigin(xe,Fe,Te,"center","center");return this.angle?r.util.rotatePoint(e,xe,Se(this.angle)):e},translateToOriginPoint:function(xe,Fe,Te){var e=this.translateToGivenOrigin(xe,"center","center",Fe,Te);return this.angle?r.util.rotatePoint(e,xe,Se(this.angle)):e},getCenterPoint:function(){var xe=new r.Point(this.left,this.top);return this.translateToCenterPoint(xe,this.originX,this.originY)},getPointByOrigin:function(xe,Fe){var Te=this.getCenterPoint();return this.translateToOriginPoint(Te,xe,Fe)},toLocalPoint:function(xe,Fe,Te){var e=this.getCenterPoint(),ke,Oe;return typeof Fe<"u"&&typeof Te<"u"?ke=this.translateToGivenOrigin(e,"center","center",Fe,Te):ke=new r.Point(this.left,this.top),Oe=new r.Point(xe.x,xe.y),this.angle&&(Oe=r.util.rotatePoint(Oe,e,-Se(this.angle))),Oe.subtractEquals(ke)},setPositionByOrigin:function(xe,Fe,Te){var e=this.translateToCenterPoint(xe,Fe,Te),ke=this.translateToOriginPoint(e,this.originX,this.originY);this.set("left",ke.x),this.set("top",ke.y)},adjustPosition:function(xe){var Fe=Se(this.angle),Te=this.getScaledWidth(),e=r.util.cos(Fe)*Te,ke=r.util.sin(Fe)*Te,Oe,Ee;typeof this.originX=="string"?Oe=_e[this.originX]:Oe=this.originX-.5,typeof xe=="string"?Ee=_e[xe]:Ee=xe-.5,this.left+=e*(Ee-Oe),this.top+=ke*(Ee-Oe),this.setCoords(),this.originX=xe},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var xe=this.getCenterPoint();this.originX="center",this.originY="center",this.left=xe.x,this.top=xe.y},_resetOrigin:function(){var xe=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=xe.x,this.top=xe.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function Se(Te){return[new r.Point(Te.tl.x,Te.tl.y),new r.Point(Te.tr.x,Te.tr.y),new r.Point(Te.br.x,Te.br.y),new r.Point(Te.bl.x,Te.bl.y)]}var _e=r.util,t=_e.degreesToRadians,xe=_e.multiplyTransformMatrices,Fe=_e.transformPoint;_e.object.extend(r.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(Te,e){return e?Te?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),Te?this.aCoords:this.lineCoords)},getCoords:function(Te,e){return Se(this._getCoords(Te,e))},intersectsWithRect:function(Te,e,ke,Oe){var Ee=this.getCoords(ke,Oe),Pe=r.Intersection.intersectPolygonRectangle(Ee,Te,e);return Pe.status==="Intersection"},intersectsWithObject:function(Te,e,ke){var Oe=r.Intersection.intersectPolygonPolygon(this.getCoords(e,ke),Te.getCoords(e,ke));return Oe.status==="Intersection"||Te.isContainedWithinObject(this,e,ke)||this.isContainedWithinObject(Te,e,ke)},isContainedWithinObject:function(Te,e,ke){for(var Oe=this.getCoords(e,ke),Ee=e?Te.aCoords:Te.lineCoords,Pe=0,De=Te._getImageLines(Ee);Pe<4;Pe++)if(!Te.containsPoint(Oe[Pe],De))return!1;return!0},isContainedWithinRect:function(Te,e,ke,Oe){var Ee=this.getBoundingRect(ke,Oe);return Ee.left>=Te.x&&Ee.left+Ee.width<=e.x&&Ee.top>=Te.y&&Ee.top+Ee.height<=e.y},containsPoint:function(Te,Pe,ke,Oe){var Ee=this._getCoords(ke,Oe),Pe=Pe||this._getImageLines(Ee),De=this._findCrossPoints(Te,Pe);return De!==0&&De%2===1},isOnScreen:function(Te){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,ke=this.canvas.vptCoords.br,Oe=this.getCoords(!0,Te);return Oe.some(function(Ee){return Ee.x<=ke.x&&Ee.x>=e.x&&Ee.y<=ke.y&&Ee.y>=e.y})||this.intersectsWithRect(e,ke,!0,Te)?!0:this._containsCenterOfCanvas(e,ke,Te)},_containsCenterOfCanvas:function(Te,e,ke){var Oe={x:(Te.x+e.x)/2,y:(Te.y+e.y)/2};return!!this.containsPoint(Oe,null,!0,ke)},isPartiallyOnScreen:function(Te){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,ke=this.canvas.vptCoords.br;if(this.intersectsWithRect(e,ke,!0,Te))return!0;var Oe=this.getCoords(!0,Te).every(function(Ee){return(Ee.x>=ke.x||Ee.x<=e.x)&&(Ee.y>=ke.y||Ee.y<=e.y)});return Oe&&this._containsCenterOfCanvas(e,ke,Te)},_getImageLines:function(Te){var e={topline:{o:Te.tl,d:Te.tr},rightline:{o:Te.tr,d:Te.br},bottomline:{o:Te.br,d:Te.bl},leftline:{o:Te.bl,d:Te.tl}};return e},_findCrossPoints:function(Te,e){var ke,Oe,Ee,Pe,De,Me=0,Ae;for(var Be in e)if(Ae=e[Be],!(Ae.o.y<Te.y&&Ae.d.y<Te.y)&&!(Ae.o.y>=Te.y&&Ae.d.y>=Te.y)&&(Ae.o.x===Ae.d.x&&Ae.o.x>=Te.x?De=Ae.o.x:(ke=0,Oe=(Ae.d.y-Ae.o.y)/(Ae.d.x-Ae.o.x),Ee=Te.y-ke*Te.x,Pe=Ae.o.y-Oe*Ae.o.x,De=-(Ee-Pe)/(ke-Oe)),De>=Te.x&&(Me+=1),Me===2))break;return Me},getBoundingRect:function(Te,e){var ke=this.getCoords(Te,e);return _e.makeBoundingBoxFromPoints(ke)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(Te){return Math.abs(Te)<this.minScaleLimit?Te<0?-this.minScaleLimit:this.minScaleLimit:Te===0?1e-4:Te},scale:function(Te){return this._set("scaleX",Te),this._set("scaleY",Te),this.setCoords()},scaleToWidth:function(Te,e){var ke=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(Te/this.width/ke)},scaleToHeight:function(Te,e){var ke=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(Te/this.height/ke)},calcLineCoords:function(){var Te=this.getViewportTransform(),e=this.padding,ke=t(this.angle),Oe=_e.cos(ke),Ee=_e.sin(ke),Pe=Oe*e,De=Ee*e,Me=Pe+De,Ae=Pe-De,Be=this.calcACoords(),He={tl:Fe(Be.tl,Te),tr:Fe(Be.tr,Te),bl:Fe(Be.bl,Te),br:Fe(Be.br,Te)};return e&&(He.tl.x-=Ae,He.tl.y-=Me,He.tr.x+=Me,He.tr.y-=Ae,He.bl.x-=Me,He.bl.y+=Ae,He.br.x+=Ae,He.br.y+=Me),He},calcOCoords:function(){var Te=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),ke=this.getViewportTransform(),Oe=xe(ke,e),Ee=xe(Oe,Te),Ee=xe(Ee,[1/ke[0],0,0,1/ke[3],0,0]),Pe=this._calculateCurrentDimensions(),De={};return this.forEachControl(function(Me,Ae,Be){De[Ae]=Me.positionHandler(Pe,Ee,Be)}),De},calcACoords:function(){var Te=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),ke=xe(e,Te),Oe=this._getTransformedDimensions(),Ee=Oe.x/2,Pe=Oe.y/2;return{tl:Fe({x:-Ee,y:-Pe},ke),tr:Fe({x:Ee,y:-Pe},ke),bl:Fe({x:-Ee,y:Pe},ke),br:Fe({x:Ee,y:Pe},ke)}},setCoords:function(Te){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),Te?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return _e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var Te=this.getCenterPoint();return[1,0,0,1,Te.x,Te.y]},transformMatrixKey:function(Te){var e="_",ke="";return!Te&&this.group&&(ke=this.group.transformMatrixKey(Te)+e),ke+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(Te){var e=this.calcOwnMatrix();if(Te||!this.group)return e;var ke=this.transformMatrixKey(Te),Oe=this.matrixCache||(this.matrixCache={});return Oe.key===ke?Oe.value:(this.group&&(e=xe(this.group.calcTransformMatrix(!1),e)),Oe.key=ke,Oe.value=e,e)},calcOwnMatrix:function(){var Te=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===Te)return e.value;var ke=this._calcTranslateMatrix(),Oe={angle:this.angle,translateX:ke[4],translateY:ke[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return e.key=Te,e.value=_e.composeMatrix(Oe),e.value},_getNonTransformedDimensions:function(){var Te=this.strokeWidth,e=this.width+Te,ke=this.height+Te;return{x:e,y:ke}},_getTransformedDimensions:function(Te,e){typeof Te>"u"&&(Te=this.skewX),typeof e>"u"&&(e=this.skewY);var ke,Oe,Ee,Pe=Te===0&&e===0;if(this.strokeUniform?(Oe=this.width,Ee=this.height):(ke=this._getNonTransformedDimensions(),Oe=ke.x,Ee=ke.y),Pe)return this._finalizeDimensions(Oe*this.scaleX,Ee*this.scaleY);var De=_e.sizeAfterTransform(Oe,Ee,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:Te,skewY:e});return this._finalizeDimensions(De.x,De.y)},_finalizeDimensions:function(Te,e){return this.strokeUniform?{x:Te+this.strokeWidth,y:e+this.strokeWidth}:{x:Te,y:e}},_calculateCurrentDimensions:function(){var Te=this.getViewportTransform(),e=this._getTransformedDimensions(),ke=Fe(e,Te,!0);return ke.scalarAdd(2*this.padding)}})}(),r.util.object.extend(r.Object.prototype,{sendToBack:function(){return this.group?r.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?r.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(Se){return this.group?r.StaticCanvas.prototype.sendBackwards.call(this.group,this,Se):this.canvas&&this.canvas.sendBackwards(this,Se),this},bringForward:function(Se){return this.group?r.StaticCanvas.prototype.bringForward.call(this.group,this,Se):this.canvas&&this.canvas.bringForward(this,Se),this},moveTo:function(Se){return this.group&&this.group.type!=="activeSelection"?r.StaticCanvas.prototype.moveTo.call(this.group,this,Se):this.canvas&&this.canvas.moveTo(this,Se),this}}),function(){function Se(t,xe){if(xe){if(xe.toLive)return t+": url(#SVGID_"+xe.id+"); ";var Fe=new r.Color(xe),Te=t+": "+Fe.toRgb()+"; ",e=Fe.getAlpha();return e!==1&&(Te+=t+"-opacity: "+e.toString()+"; "),Te}else return t+": none; "}var _e=r.util.toFixed;r.util.object.extend(r.Object.prototype,{getSvgStyles:function(t){var xe=this.fillRule?this.fillRule:"nonzero",Fe=this.strokeWidth?this.strokeWidth:"0",Te=this.strokeDashArray?this.strokeDashArray.join(" "):"none",e=this.strokeDashOffset?this.strokeDashOffset:"0",ke=this.strokeLineCap?this.strokeLineCap:"butt",Oe=this.strokeLineJoin?this.strokeLineJoin:"miter",Ee=this.strokeMiterLimit?this.strokeMiterLimit:"4",Pe=typeof this.opacity<"u"?this.opacity:"1",De=this.visible?"":" visibility: hidden;",Me=t?"":this.getSvgFilter(),Ae=Se("fill",this.fill),Be=Se("stroke",this.stroke);return[Be,"stroke-width: ",Fe,"; ","stroke-dasharray: ",Te,"; ","stroke-linecap: ",ke,"; ","stroke-dashoffset: ",e,"; ","stroke-linejoin: ",Oe,"; ","stroke-miterlimit: ",Ee,"; ",Ae,"fill-rule: ",xe,"; ","opacity: ",Pe,";",Me,De].join("")},getSvgSpanStyles:function(t,xe){var Fe="; ",e=t.fontFamily?"font-family: "+(t.fontFamily.indexOf("'")===-1&&t.fontFamily.indexOf('"')===-1?"'"+t.fontFamily+"'":t.fontFamily)+Fe:"",Te=t.strokeWidth?"stroke-width: "+t.strokeWidth+Fe:"",e=e,ke=t.fontSize?"font-size: "+t.fontSize+"px"+Fe:"",Oe=t.fontStyle?"font-style: "+t.fontStyle+Fe:"",Ee=t.fontWeight?"font-weight: "+t.fontWeight+Fe:"",Pe=t.fill?Se("fill",t.fill):"",De=t.stroke?Se("stroke",t.stroke):"",Me=this.getSvgTextDecoration(t),Ae=t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"";return Me&&(Me="text-decoration: "+Me+Fe),[De,Te,e,ke,Oe,Ee,Me,Pe,Ae,xe?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter(function(xe){return t[xe.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,xe){var Fe=t?this.calcTransformMatrix():this.calcOwnMatrix(),Te='transform="'+r.util.matrixToSVG(Fe);return Te+(xe||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var xe=r.Object.NUM_FRACTION_DIGITS;t.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',_e(-this.width/2,xe),'" y="',_e(-this.height/2,xe),'" width="',_e(this.width,xe),'" height="',_e(this.height,xe),`"></rect>
`)}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,xe){xe=xe||{};var Fe=xe.reviver,Te=xe.additionalTransform||"",e=[this.getSvgTransform(!0,Te),this.getSvgCommons()].join(""),ke=t.indexOf("COMMON_PARTS");return t[ke]=e,Fe?Fe(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,xe){xe=xe||{};var Fe=xe.noStyle,Te=xe.reviver,e=Fe?"":'style="'+this.getSvgStyles()+'" ',ke=xe.withShadow?'style="'+this.getSvgFilter()+'" ':"",Oe=this.clipPath,Ee=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",Pe=Oe&&Oe.absolutePositioned,De=this.stroke,Me=this.fill,Ae=this.shadow,Be,He=[],je,Xe=t.indexOf("COMMON_PARTS"),St=xe.additionalTransform;return Oe&&(Oe.clipPathId="CLIPPATH_"+r.Object.__uid++,je='<clipPath id="'+Oe.clipPathId+`" >
`+Oe.toClipPathSVG(Te)+`</clipPath>
`),Pe&&He.push("<g ",ke,this.getSvgCommons(),` >
`),He.push("<g ",this.getSvgTransform(!1),Pe?"":ke+this.getSvgCommons(),` >
`),Be=[e,Ee,Fe?"":this.addPaintOrder()," ",St?'transform="'+St+'" ':""].join(""),t[Xe]=Be,Me&&Me.toLive&&He.push(Me.toSVG(this)),De&&De.toLive&&He.push(De.toSVG(this)),Ae&&He.push(Ae.toSVG(this)),Oe&&He.push(je),He.push(t.join("")),He.push(`</g>
`),Pe&&He.push(`</g>
`),Te?Te(He.join("")):He.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var Se=r.util.object.extend,_e="stateProperties";function t(Fe,Te,e){var ke={},Oe=!0;e.forEach(function(Ee){ke[Ee]=Fe[Ee]}),Se(Fe[Te],ke,Oe)}function xe(Fe,Te,e){if(Fe===Te)return!0;if(Array.isArray(Fe)){if(!Array.isArray(Te)||Fe.length!==Te.length)return!1;for(var ke=0,Oe=Fe.length;ke<Oe;ke++)if(!xe(Fe[ke],Te[ke]))return!1;return!0}else if(Fe&&typeof Fe=="object"){var Ee=Object.keys(Fe),Pe;if(!Te||typeof Te!="object"||!e&&Ee.length!==Object.keys(Te).length)return!1;for(var ke=0,Oe=Ee.length;ke<Oe;ke++)if(Pe=Ee[ke],!(Pe==="canvas"||Pe==="group")&&!xe(Fe[Pe],Te[Pe]))return!1;return!0}}r.util.object.extend(r.Object.prototype,{hasStateChanged:function(Fe){Fe=Fe||_e;var Te="_"+Fe;return Object.keys(this[Te]).length<this[Fe].length?!0:!xe(this[Te],this,!0)},saveState:function(Fe){var Te=Fe&&Fe.propertySet||_e,e="_"+Te;return this[e]?(t(this,e,this[Te]),Fe&&Fe.stateProperties&&t(this,e,Fe.stateProperties),this):this.setupState(Fe)},setupState:function(Fe){Fe=Fe||{};var Te=Fe.propertySet||_e;return Fe.propertySet=Te,this["_"+Te]={},this.saveState(Fe),this}})}(),function(){var Se=r.util.degreesToRadians;r.util.object.extend(r.Object.prototype,{_findTargetCorner:function(_e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var xe=_e.x,Fe=_e.y,Te,e,ke=Object.keys(this.oCoords),Oe=ke.length-1,Ee;for(this.__corner=0;Oe>=0;Oe--)if(Ee=ke[Oe],!!this.isControlVisible(Ee)&&(e=this._getImageLines(t?this.oCoords[Ee].touchCorner:this.oCoords[Ee].corner),Te=this._findCrossPoints({x:xe,y:Fe},e),Te!==0&&Te%2===1))return this.__corner=Ee,Ee;return!1},forEachControl:function(_e){for(var t in this.controls)_e(this.controls[t],t,this)},_setCornerCoords:function(){var _e=this.oCoords;for(var t in _e){var xe=this.controls[t];_e[t].corner=xe.calcCornerCoords(this.angle,this.cornerSize,_e[t].x,_e[t].y,!1),_e[t].touchCorner=xe.calcCornerCoords(this.angle,this.touchCornerSize,_e[t].x,_e[t].y,!0)}},drawSelectionBackground:function(_e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;_e.save();var t=this.getCenterPoint(),xe=this._calculateCurrentDimensions(),Fe=this.canvas.viewportTransform;return _e.translate(t.x,t.y),_e.scale(1/Fe[0],1/Fe[3]),_e.rotate(Se(this.angle)),_e.fillStyle=this.selectionBackgroundColor,_e.fillRect(-xe.x/2,-xe.y/2,xe.x,xe.y),_e.restore(),this},drawBorders:function(_e,t){t=t||{};var xe=this._calculateCurrentDimensions(),Fe=this.borderScaleFactor,Te=xe.x+Fe,e=xe.y+Fe,ke=typeof t.hasControls<"u"?t.hasControls:this.hasControls,Oe=!1;return _e.save(),_e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(_e,t.borderDashArray||this.borderDashArray),_e.strokeRect(-Te/2,-e/2,Te,e),ke&&(_e.beginPath(),this.forEachControl(function(Ee,Pe,De){Ee.withConnection&&Ee.getVisibility(De,Pe)&&(Oe=!0,_e.moveTo(Ee.x*Te,Ee.y*e),_e.lineTo(Ee.x*Te+Ee.offsetX,Ee.y*e+Ee.offsetY))}),Oe&&_e.stroke()),_e.restore(),this},drawBordersInGroup:function(_e,t,xe){xe=xe||{};var Fe=r.util.sizeAfterTransform(this.width,this.height,t),Te=this.strokeWidth,e=this.strokeUniform,ke=this.borderScaleFactor,Oe=Fe.x+Te*(e?this.canvas.getZoom():t.scaleX)+ke,Ee=Fe.y+Te*(e?this.canvas.getZoom():t.scaleY)+ke;return _e.save(),this._setLineDash(_e,xe.borderDashArray||this.borderDashArray),_e.strokeStyle=xe.borderColor||this.borderColor,_e.strokeRect(-Oe/2,-Ee/2,Oe,Ee),_e.restore(),this},drawControls:function(_e,t){t=t||{},_e.save();var xe=this.canvas.getRetinaScaling(),Fe,Te;return _e.setTransform(xe,0,0,xe,0,0),_e.strokeStyle=_e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(_e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(_e,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(Fe=this.group.calcTransformMatrix()),this.forEachControl(function(e,ke,Oe){Te=Oe.oCoords[ke],e.getVisibility(Oe,ke)&&(Fe&&(Te=r.util.transformPoint(Te,Fe)),e.render(_e,Te.x,Te.y,t,Oe))}),_e.restore(),this},isControlVisible:function(_e){return this.controls[_e]&&this.controls[_e].getVisibility(this,_e)},setControlVisible:function(_e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[_e]=t,this},setControlsVisibility:function(_e){_e||(_e={});for(var t in _e)this.setControlVisible(t,_e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),r.util.object.extend(r.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(Se,_e){_e=_e||{};var t=function(){},xe=_e.onComplete||t,Fe=_e.onChange||t,Te=this;return r.util.animate({target:this,startValue:Se.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(e){Se.set("left",e),Te.requestRenderAll(),Fe()},onComplete:function(){Se.setCoords(),xe()}})},fxCenterObjectV:function(Se,_e){_e=_e||{};var t=function(){},xe=_e.onComplete||t,Fe=_e.onChange||t,Te=this;return r.util.animate({target:this,startValue:Se.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(e){Se.set("top",e),Te.requestRenderAll(),Fe()},onComplete:function(){Se.setCoords(),xe()}})},fxRemove:function(Se,_e){_e=_e||{};var t=function(){},xe=_e.onComplete||t,Fe=_e.onChange||t,Te=this;return r.util.animate({target:this,startValue:Se.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){Se.set("opacity",e),Te.requestRenderAll(),Fe()},onComplete:function(){Te.remove(Se),xe()}})}}),r.util.object.extend(r.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var Se=[],_e,t,xe=[];for(_e in arguments[0])Se.push(_e);for(var Fe=0,Te=Se.length;Fe<Te;Fe++)_e=Se[Fe],t=Fe!==Te-1,xe.push(this._animate(_e,arguments[0][_e],arguments[1],t));return xe}else return this._animate.apply(this,arguments)},_animate:function(Se,_e,t,xe){var Fe=this,Te;_e=_e.toString(),t?t=r.util.object.clone(t):t={},~Se.indexOf(".")&&(Te=Se.split("."));var e=Fe.colorProperties.indexOf(Se)>-1||Te&&Fe.colorProperties.indexOf(Te[1])>-1,ke=Te?this.get(Te[0])[Te[1]]:this.get(Se);"from"in t||(t.from=ke),e||(~_e.indexOf("=")?_e=ke+parseFloat(_e.replace("=","")):_e=parseFloat(_e));var Oe={target:this,startValue:t.from,endValue:_e,byValue:t.by,easing:t.easing,duration:t.duration,abort:t.abort&&function(Ee,Pe,De){return t.abort.call(Fe,Ee,Pe,De)},onChange:function(Ee,Pe,De){Te?Fe[Te[0]][Te[1]]=Ee:Fe.set(Se,Ee),!xe&&t.onChange&&t.onChange(Ee,Pe,De)},onComplete:function(Ee,Pe,De){xe||(Fe.setCoords(),t.onComplete&&t.onComplete(Ee,Pe,De))}};return e?r.util.animateColor(Oe.startValue,Oe.endValue,Oe.duration,Oe):r.util.animate(Oe)}}),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.util.object.clone,Fe={x1:1,x2:1,y1:1,y2:1};if(_e.Line){_e.warn("fabric.Line is already defined");return}_e.Line=_e.util.createClass(_e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:_e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,ke){e||(e=[0,0,0,0]),this.callSuper("initialize",ke),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(ke)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,ke){return this.callSuper("_set",e,ke),typeof Fe[e]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:Te({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:Te({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var ke=this.calcLinePoints();e.moveTo(ke.x1,ke.y1),e.lineTo(ke.x2,ke.y2),e.lineWidth=this.strokeWidth;var Oe=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=Oe},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return t(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,ke=this.y1<=this.y2?-1:1,Oe=e*this.width*.5,Ee=ke*this.height*.5,Pe=e*this.width*-.5,De=ke*this.height*-.5;return{x1:Oe,x2:Pe,y1:Ee,y2:De}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,`" />
`]}}),_e.Line.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),_e.Line.fromElement=function(e,ke,Oe){Oe=Oe||{};var Ee=_e.parseAttributes(e,_e.Line.ATTRIBUTE_NAMES),Pe=[Ee.x1||0,Ee.y1||0,Ee.x2||0,Ee.y2||0];ke(new _e.Line(Pe,t(Ee,Oe)))},_e.Line.fromObject=function(e,ke){function Oe(Pe){delete Pe.points,ke&&ke(Pe)}var Ee=xe(e,!0);Ee.points=[e.x1,e.y1,e.x2,e.y2],_e.Object._fromObject("Line",Ee,Oe,"points")};function Te(e,ke){var Oe=e.origin,Ee=e.axis1,Pe=e.axis2,De=e.dimension,Me=ke.nearest,Ae=ke.center,Be=ke.farthest;return function(){switch(this.get(Oe)){case Me:return Math.min(this.get(Ee),this.get(Pe));case Ae:return Math.min(this.get(Ee),this.get(Pe))+.5*this.get(De);case Be:return Math.max(this.get(Ee),this.get(Pe))}}}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.degreesToRadians;if(_e.Circle){_e.warn("fabric.Circle is already defined.");return}_e.Circle=_e.util.createClass(_e.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:_e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(Fe,Te){return this.callSuper("_set",Fe,Te),Fe==="radius"&&this.setRadius(Te),this},toObject:function(Fe){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(Fe))},_toSVG:function(){var Fe,Te=0,e=0,ke=(this.endAngle-this.startAngle)%360;if(ke===0)Fe=["<circle ","COMMON_PARTS",'cx="'+Te+'" cy="'+e+'" ','r="',this.radius,`" />
`];else{var Oe=t(this.startAngle),Ee=t(this.endAngle),Pe=this.radius,De=_e.util.cos(Oe)*Pe,Me=_e.util.sin(Oe)*Pe,Ae=_e.util.cos(Ee)*Pe,Be=_e.util.sin(Ee)*Pe,He=ke>180?"1":"0";Fe=['<path d="M '+De+" "+Me," A "+Pe+" "+Pe," 0 ",+He+" 1"," "+Ae+" "+Be,'" ',"COMMON_PARTS",` />
`]}return Fe},_render:function(Fe){Fe.beginPath(),Fe.arc(0,0,this.radius,t(this.startAngle),t(this.endAngle),!1),this._renderPaintInOrder(Fe)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(Fe){return this.radius=Fe,this.set("width",Fe*2).set("height",Fe*2)}}),_e.Circle.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),_e.Circle.fromElement=function(Fe,Te){var e=_e.parseAttributes(Fe,_e.Circle.ATTRIBUTE_NAMES);if(!xe(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,Te(new _e.Circle(e))};function xe(Fe){return"radius"in Fe&&Fe.radius>=0}_e.Circle.fromObject=function(Fe,Te){_e.Object._fromObject("Circle",Fe,Te)}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={});if(_e.Triangle){_e.warn("fabric.Triangle is already defined");return}_e.Triangle=_e.util.createClass(_e.Object,{type:"triangle",width:100,height:100,_render:function(t){var xe=this.width/2,Fe=this.height/2;t.beginPath(),t.moveTo(-xe,Fe),t.lineTo(0,-Fe),t.lineTo(xe,Fe),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,xe=this.height/2,Fe=[-t+" "+xe,"0 "+-xe,t+" "+xe].join(",");return["<polygon ","COMMON_PARTS",'points="',Fe,'" />']}}),_e.Triangle.fromObject=function(t,xe){return _e.Object._fromObject("Triangle",t,xe)}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=Math.PI*2;if(_e.Ellipse){_e.warn("fabric.Ellipse is already defined.");return}_e.Ellipse=_e.util.createClass(_e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:_e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(xe){this.callSuper("initialize",xe),this.set("rx",xe&&xe.rx||0),this.set("ry",xe&&xe.ry||0)},_set:function(xe,Fe){switch(this.callSuper("_set",xe,Fe),xe){case"rx":this.rx=Fe,this.set("width",Fe*2);break;case"ry":this.ry=Fe,this.set("height",Fe*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(xe){return this.callSuper("toObject",["rx","ry"].concat(xe))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(xe){xe.beginPath(),xe.save(),xe.transform(1,0,0,this.ry/this.rx,0,0),xe.arc(0,0,this.rx,0,t,!1),xe.restore(),this._renderPaintInOrder(xe)}}),_e.Ellipse.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),_e.Ellipse.fromElement=function(xe,Fe){var Te=_e.parseAttributes(xe,_e.Ellipse.ATTRIBUTE_NAMES);Te.left=(Te.left||0)-Te.rx,Te.top=(Te.top||0)-Te.ry,Fe(new _e.Ellipse(Te))},_e.Ellipse.fromObject=function(xe,Fe){_e.Object._fromObject("Ellipse",xe,Fe)}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend;if(_e.Rect){_e.warn("fabric.Rect is already defined");return}_e.Rect=_e.util.createClass(_e.Object,{stateProperties:_e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:_e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(xe){this.callSuper("initialize",xe),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(xe){var Fe=this.rx?Math.min(this.rx,this.width/2):0,Te=this.ry?Math.min(this.ry,this.height/2):0,e=this.width,ke=this.height,Oe=-this.width/2,Ee=-this.height/2,Pe=Fe!==0||Te!==0,De=1-.5522847498;xe.beginPath(),xe.moveTo(Oe+Fe,Ee),xe.lineTo(Oe+e-Fe,Ee),Pe&&xe.bezierCurveTo(Oe+e-De*Fe,Ee,Oe+e,Ee+De*Te,Oe+e,Ee+Te),xe.lineTo(Oe+e,Ee+ke-Te),Pe&&xe.bezierCurveTo(Oe+e,Ee+ke-De*Te,Oe+e-De*Fe,Ee+ke,Oe+e-Fe,Ee+ke),xe.lineTo(Oe+Fe,Ee+ke),Pe&&xe.bezierCurveTo(Oe+De*Fe,Ee+ke,Oe,Ee+ke-De*Te,Oe,Ee+ke-Te),xe.lineTo(Oe,Ee+Te),Pe&&xe.bezierCurveTo(Oe,Ee+De*Te,Oe+De*Fe,Ee,Oe+Fe,Ee),xe.closePath(),this._renderPaintInOrder(xe)},toObject:function(xe){return this.callSuper("toObject",["rx","ry"].concat(xe))},_toSVG:function(){var xe=-this.width/2,Fe=-this.height/2;return["<rect ","COMMON_PARTS",'x="',xe,'" y="',Fe,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),_e.Rect.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),_e.Rect.fromElement=function(xe,Fe,Te){if(!xe)return Fe(null);Te=Te||{};var e=_e.parseAttributes(xe,_e.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var ke=new _e.Rect(t(Te?_e.util.object.clone(Te):{},e));ke.visible=ke.visible&&ke.width>0&&ke.height>0,Fe(ke)},_e.Rect.fromObject=function(xe,Fe){return _e.Object._fromObject("Rect",xe,Fe)}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.util.array.min,Fe=_e.util.array.max,Te=_e.util.toFixed,e=_e.util.projectStrokeOnPoints;if(_e.Polyline){_e.warn("fabric.Polyline is already defined");return}_e.Polyline=_e.util.createClass(_e.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:_e.Object.prototype.cacheProperties.concat("points"),initialize:function(ke,Oe){Oe=Oe||{},this.points=ke||[],this.callSuper("initialize",Oe),this._setPositionDimensions(Oe)},_projectStrokeOnPoints:function(){return e(this.points,this,!0)},_setPositionDimensions:function(ke){var Oe=this._calcDimensions(ke),Ee,Pe=this.exactBoundingBox?this.strokeWidth:0;this.width=Oe.width-Pe,this.height=Oe.height-Pe,ke.fromSVG||(Ee=this.translateToGivenOrigin({x:Oe.left-this.strokeWidth/2+Pe/2,y:Oe.top-this.strokeWidth/2+Pe/2},"left","top",this.originX,this.originY)),typeof ke.left>"u"&&(this.left=ke.fromSVG?Oe.left:Ee.x),typeof ke.top>"u"&&(this.top=ke.fromSVG?Oe.top:Ee.y),this.pathOffset={x:Oe.left+this.width/2+Pe/2,y:Oe.top+this.height/2+Pe/2}},_calcDimensions:function(){var ke=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,Oe=xe(ke,"x")||0,Ee=xe(ke,"y")||0,Pe=Fe(ke,"x")||0,De=Fe(ke,"y")||0,Me=Pe-Oe,Ae=De-Ee;return{left:Oe,top:Ee,width:Me,height:Ae}},toObject:function(ke){return t(this.callSuper("toObject",ke),{points:this.points.concat()})},_toSVG:function(){for(var ke=[],Oe=this.pathOffset.x,Ee=this.pathOffset.y,Pe=_e.Object.NUM_FRACTION_DIGITS,De=0,Me=this.points.length;De<Me;De++)ke.push(Te(this.points[De].x-Oe,Pe),",",Te(this.points[De].y-Ee,Pe)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',ke.join(""),`" />
`]},commonRender:function(ke){var Oe,Ee=this.points.length,Pe=this.pathOffset.x,De=this.pathOffset.y;if(!Ee||isNaN(this.points[Ee-1].y))return!1;ke.beginPath(),ke.moveTo(this.points[0].x-Pe,this.points[0].y-De);for(var Me=0;Me<Ee;Me++)Oe=this.points[Me],ke.lineTo(Oe.x-Pe,Oe.y-De);return!0},_render:function(ke){!this.commonRender(ke)||this._renderPaintInOrder(ke)},complexity:function(){return this.get("points").length}}),_e.Polyline.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat(),_e.Polyline.fromElementGenerator=function(ke){return function(Oe,Ee,Pe){if(!Oe)return Ee(null);Pe||(Pe={});var De=_e.parsePointsAttribute(Oe.getAttribute("points")),Me=_e.parseAttributes(Oe,_e[ke].ATTRIBUTE_NAMES);Me.fromSVG=!0,Ee(new _e[ke](De,t(Me,Pe)))}},_e.Polyline.fromElement=_e.Polyline.fromElementGenerator("Polyline"),_e.Polyline.fromObject=function(ke,Oe){return _e.Object._fromObject("Polyline",ke,Oe,"points")}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.projectStrokeOnPoints;if(_e.Polygon){_e.warn("fabric.Polygon is already defined");return}_e.Polygon=_e.util.createClass(_e.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return t(this.points,this)},_render:function(xe){!this.commonRender(xe)||(xe.closePath(),this._renderPaintInOrder(xe))}}),_e.Polygon.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat(),_e.Polygon.fromElement=_e.Polyline.fromElementGenerator("Polygon"),_e.Polygon.fromObject=function(xe,Fe){_e.Object._fromObject("Polygon",xe,Fe,"points")}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.array.min,xe=_e.util.array.max,Fe=_e.util.object.extend,Te=_e.util.object.clone,e=_e.util.toFixed;if(_e.Path){_e.warn("fabric.Path is already defined");return}_e.Path=_e.util.createClass(_e.Object,{type:"path",path:null,cacheProperties:_e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:_e.Object.prototype.stateProperties.concat("path"),initialize:function(ke,Oe){Oe=Te(Oe||{}),delete Oe.path,this.callSuper("initialize",Oe),this._setPath(ke||[],Oe)},_setPath:function(ke,Oe){this.path=_e.util.makePathSimpler(Array.isArray(ke)?ke:_e.util.parsePath(ke)),_e.Polyline.prototype._setPositionDimensions.call(this,Oe||{})},_renderPathCommands:function(ke){var Oe,Ee=0,Pe=0,De=0,Me=0,Ae=0,Be=0,He=-this.pathOffset.x,je=-this.pathOffset.y;ke.beginPath();for(var Xe=0,St=this.path.length;Xe<St;++Xe)switch(Oe=this.path[Xe],Oe[0]){case"L":De=Oe[1],Me=Oe[2],ke.lineTo(De+He,Me+je);break;case"M":De=Oe[1],Me=Oe[2],Ee=De,Pe=Me,ke.moveTo(De+He,Me+je);break;case"C":De=Oe[5],Me=Oe[6],Ae=Oe[3],Be=Oe[4],ke.bezierCurveTo(Oe[1]+He,Oe[2]+je,Ae+He,Be+je,De+He,Me+je);break;case"Q":ke.quadraticCurveTo(Oe[1]+He,Oe[2]+je,Oe[3]+He,Oe[4]+je),De=Oe[3],Me=Oe[4],Ae=Oe[1],Be=Oe[2];break;case"z":case"Z":De=Ee,Me=Pe,ke.closePath();break}},_render:function(ke){this._renderPathCommands(ke),this._renderPaintInOrder(ke)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(ke){return Fe(this.callSuper("toObject",ke),{path:this.path.map(function(Oe){return Oe.slice()})})},toDatalessObject:function(ke){var Oe=this.toObject(["sourcePath"].concat(ke));return Oe.sourcePath&&delete Oe.path,Oe},_toSVG:function(){var ke=_e.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',ke,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var ke=_e.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,ke)+", "+e(-this.pathOffset.y,ke)+")"},toClipPathSVG:function(ke){var Oe=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:ke,additionalTransform:Oe})},toSVG:function(ke){var Oe=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:ke,additionalTransform:Oe})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var ke=[],Oe=[],Ee,Pe=0,De=0,Me=0,Ae=0,Be,He=0,je=this.path.length;He<je;++He){switch(Ee=this.path[He],Ee[0]){case"L":Me=Ee[1],Ae=Ee[2],Be=[];break;case"M":Me=Ee[1],Ae=Ee[2],Pe=Me,De=Ae,Be=[];break;case"C":Be=_e.util.getBoundsOfCurve(Me,Ae,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6]),Me=Ee[5],Ae=Ee[6];break;case"Q":Be=_e.util.getBoundsOfCurve(Me,Ae,Ee[1],Ee[2],Ee[1],Ee[2],Ee[3],Ee[4]),Me=Ee[3],Ae=Ee[4];break;case"z":case"Z":Me=Pe,Ae=De;break}Be.forEach(function(ui){ke.push(ui.x),Oe.push(ui.y)}),ke.push(Me),Oe.push(Ae)}var Xe=t(ke)||0,St=t(Oe)||0,qe=xe(ke)||0,Ye=xe(Oe)||0,gi=qe-Xe,ai=Ye-St;return{left:Xe,top:St,width:gi,height:ai}}}),_e.Path.fromObject=function(ke,Oe){if(typeof ke.sourcePath=="string"){var Ee=ke.sourcePath;_e.loadSVGFromURL(Ee,function(Pe){var De=Pe[0];De.setOptions(ke),ke.clipPath?_e.util.enlivenObjects([ke.clipPath],function(Me){De.clipPath=Me[0],Oe&&Oe(De)}):Oe&&Oe(De)})}else _e.Object._fromObject("Path",ke,Oe,"path")},_e.Path.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat(["d"]),_e.Path.fromElement=function(ke,Oe,Ee){var Pe=_e.parseAttributes(ke,_e.Path.ATTRIBUTE_NAMES);Pe.fromSVG=!0,Oe(new _e.Path(Pe.d,Fe(Pe,Ee)))}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.array.min,xe=_e.util.array.max;_e.Group||(_e.Group=_e.util.createClass(_e.Object,_e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(Fe,Te,e){Te=Te||{},this._objects=[],e&&this.callSuper("initialize",Te),this._objects=Fe||[];for(var ke=this._objects.length;ke--;)this._objects[ke].group=this;if(e)this._updateObjectsACoords();else{var Oe=Te&&Te.centerPoint;Te.originX!==void 0&&(this.originX=Te.originX),Te.originY!==void 0&&(this.originY=Te.originY),Oe||this._calcBounds(),this._updateObjectsCoords(Oe),delete Te.centerPoint,this.callSuper("initialize",Te)}this.setCoords()},_updateObjectsACoords:function(){for(var Fe=!0,Te=this._objects.length;Te--;)this._objects[Te].setCoords(Fe)},_updateObjectsCoords:function(Te){for(var Te=Te||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],Te)},_updateObjectCoords:function(Fe,Te){var e=Fe.left,ke=Fe.top,Oe=!0;Fe.set({left:e-Te.x,top:ke-Te.y}),Fe.group=this,Fe.setCoords(Oe)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(Fe){var Te=!!this.group;return this._restoreObjectsState(),_e.util.resetObjectTransform(this),Fe&&(Te&&_e.util.removeTransformFromObject(Fe,this.group.calcTransformMatrix()),this._objects.push(Fe),Fe.group=this,Fe._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,Te?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(Fe){return this._restoreObjectsState(),_e.util.resetObjectTransform(this),this.remove(Fe),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(Fe){this.dirty=!0,Fe.group=this,Fe._set("canvas",this.canvas)},_onObjectRemoved:function(Fe){this.dirty=!0,delete Fe.group},_set:function(Fe,Te){var e=this._objects.length;if(this.useSetOnGroup)for(;e--;)this._objects[e].setOnGroup(Fe,Te);if(Fe==="canvas")for(;e--;)this._objects[e]._set(Fe,Te);_e.Object.prototype._set.call(this,Fe,Te)},toObject:function(Fe){var Te=this.includeDefaultValues,e=this._objects.filter(function(Oe){return!Oe.excludeFromExport}).map(function(Oe){var Ee=Oe.includeDefaultValues;Oe.includeDefaultValues=Te;var Pe=Oe.toObject(Fe);return Oe.includeDefaultValues=Ee,Pe}),ke=_e.Object.prototype.toObject.call(this,Fe);return ke.objects=e,ke},toDatalessObject:function(Fe){var Te,e=this.sourcePath;if(e)Te=e;else{var ke=this.includeDefaultValues;Te=this._objects.map(function(Ee){var Pe=Ee.includeDefaultValues;Ee.includeDefaultValues=ke;var De=Ee.toDatalessObject(Fe);return Ee.includeDefaultValues=Pe,De})}var Oe=_e.Object.prototype.toDatalessObject.call(this,Fe);return Oe.objects=Te,Oe},render:function(Fe){this._transformDone=!0,this.callSuper("render",Fe),this._transformDone=!1},shouldCache:function(){var Fe=_e.Object.prototype.shouldCache.call(this);if(Fe){for(var Te=0,e=this._objects.length;Te<e;Te++)if(this._objects[Te].willDrawShadow())return this.ownCaching=!1,!1}return Fe},willDrawShadow:function(){if(_e.Object.prototype.willDrawShadow.call(this))return!0;for(var Fe=0,Te=this._objects.length;Fe<Te;Fe++)if(this._objects[Fe].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(Fe){for(var Te=0,e=this._objects.length;Te<e;Te++)this._objects[Te].render(Fe);this._drawClipPath(Fe,this.clipPath)},isCacheDirty:function(Fe){if(this.callSuper("isCacheDirty",Fe))return!0;if(!this.statefullCache)return!1;for(var Te=0,e=this._objects.length;Te<e;Te++)if(this._objects[Te].isCacheDirty(!0)){if(this._cacheCanvas){var ke=this.cacheWidth/this.zoomX,Oe=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-ke/2,-Oe/2,ke,Oe)}return!0}return!1},_restoreObjectsState:function(){var Fe=this.calcOwnMatrix();return this._objects.forEach(function(Te){_e.util.addTransformToObject(Te,Fe),delete Te.group,Te.setCoords()}),this},destroy:function(){return this._objects.forEach(function(Fe){Fe.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(Fe){Fe.dispose&&Fe.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var Fe=this._objects,Te=this.canvas;this._objects=[];var e=this.toObject();delete e.objects;var ke=new _e.ActiveSelection([]);return ke.set(e),ke.type="activeSelection",Te.remove(this),Fe.forEach(function(Oe){Oe.group=ke,Oe.dirty=!0,Te.add(Oe)}),ke.canvas=Te,ke._objects=Fe,Te._activeObject=ke,ke.setCoords(),ke}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var Fe=!0;return this.forEachObject(function(Te){Te.setCoords(Fe)}),this},_calcBounds:function(Fe){for(var Te=[],e=[],ke,Oe,Ee,Pe=["tr","br","bl","tl"],De=0,Me=this._objects.length,Ae,Be=Pe.length;De<Me;++De){for(ke=this._objects[De],Ee=ke.calcACoords(),Ae=0;Ae<Be;Ae++)Oe=Pe[Ae],Te.push(Ee[Oe].x),e.push(Ee[Oe].y);ke.aCoords=Ee}this._getBounds(Te,e,Fe)},_getBounds:function(Fe,Te,e){var ke=new _e.Point(t(Fe),t(Te)),Oe=new _e.Point(xe(Fe),xe(Te)),Ee=ke.y||0,Pe=ke.x||0,De=Oe.x-ke.x||0,Me=Oe.y-ke.y||0;this.width=De,this.height=Me,e||this.setPositionByOrigin({x:Pe,y:Ee},"left","top")},_toSVG:function(Fe){for(var Te=["<g ","COMMON_PARTS",` >
`],e=0,ke=this._objects.length;e<ke;e++)Te.push("		",this._objects[e].toSVG(Fe));return Te.push(`</g>
`),Te},getSvgStyles:function(){var Fe=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",Te=this.visible?"":" visibility: hidden;";return[Fe,this.getSvgFilter(),Te].join("")},toClipPathSVG:function(Fe){for(var Te=[],e=0,ke=this._objects.length;e<ke;e++)Te.push("	",this._objects[e].toClipPathSVG(Fe));return this._createBaseClipPathSVGMarkup(Te,{reviver:Fe})}}),_e.Group.fromObject=function(Fe,Te){var e=Fe.objects,ke=_e.util.object.clone(Fe,!0);if(delete ke.objects,typeof e=="string"){_e.loadSVGFromURL(e,function(Oe){var Ee=_e.util.groupSVGElements(Oe,Fe,e),Pe=ke.clipPath;delete ke.clipPath,Ee.set(ke),Pe?_e.util.enlivenObjects([Pe],function(De){Ee.clipPath=De[0],Te&&Te(Ee)}):Te&&Te(Ee)});return}_e.util.enlivenObjects(e,function(Oe){_e.util.enlivenObjectEnlivables(Fe,ke,function(){Te&&Te(new _e.Group(Oe,ke,!0))})})})}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={});_e.ActiveSelection||(_e.ActiveSelection=_e.util.createClass(_e.Group,{type:"activeSelection",initialize:function(t,xe){xe=xe||{},this._objects=t||[];for(var Fe=this._objects.length;Fe--;)this._objects[Fe].group=this;xe.originX&&(this.originX=xe.originX),xe.originY&&(this.originY=xe.originY),this._calcBounds(),this._updateObjectsCoords(),_e.Object.prototype.initialize.call(this,xe),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var xe=_e.Object.prototype.toObject.call(this),Fe=new _e.Group([]);if(delete xe.type,Fe.set(xe),t.forEach(function(e){e.canvas.remove(e),e.group=Fe}),Fe._objects=t,!this.canvas)return Fe;var Te=this.canvas;return Te.add(Fe),Te._activeObject=Fe,Fe.setCoords(),Fe},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,xe,Fe){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,xe),Fe=Fe||{},typeof Fe.hasControls>"u"&&(Fe.hasControls=!1),Fe.forActiveSelection=!0;for(var Te=0,e=this._objects.length;Te<e;Te++)this._objects[Te]._renderControls(t,Fe);t.restore()}}),_e.ActiveSelection.fromObject=function(t,xe){_e.util.enlivenObjects(t.objects,function(Fe){delete t.objects,xe&&xe(new _e.ActiveSelection(Fe,t,!0))})})}(Ce),function(Se){var _e=r.util.object.extend;if(Se.fabric||(Se.fabric={}),Se.fabric.Image){r.warn("fabric.Image is already defined.");return}r.Image=r.util.createClass(r.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:r.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:r.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,xe){xe||(xe={}),this.filters=[],this.cacheKey="texture"+r.Object.__uid++,this.callSuper("initialize",xe),this._initElement(t,xe)},getElement:function(){return this._element||{}},setElement:function(t,xe){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(xe),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var xe=r.filterBackend;xe&&xe.evictCachesForKey&&xe.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){r.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(!(!this.stroke||this.strokeWidth===0)){var xe=this.width/2,Fe=this.height/2;t.beginPath(),t.moveTo(-xe,-Fe),t.lineTo(xe,-Fe),t.lineTo(xe,Fe),t.lineTo(-xe,Fe),t.lineTo(-xe,-Fe),t.closePath()}},toObject:function(t){var xe=[];this.filters.forEach(function(Te){Te&&xe.push(Te.toObject())});var Fe=_e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:xe});return this.resizeFilter&&(Fe.resizeFilter=this.resizeFilter.toObject()),Fe},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t=[],xe=[],Fe,Te=this._element,e=-this.width/2,ke=-this.height/2,Oe="",Ee="";if(!Te)return[];if(this.hasCrop()){var Pe=r.Object.__uid++;t.push('<clipPath id="imageCrop_'+Pe+`">
`,'	<rect x="'+e+'" y="'+ke+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),Oe=' clip-path="url(#imageCrop_'+Pe+')" '}if(this.imageSmoothing||(Ee='" image-rendering="optimizeSpeed'),xe.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',e-this.cropX,'" y="',ke-this.cropY,'" width="',Te.width||Te.naturalWidth,'" height="',Te.height||Te.height,Ee,'"',Oe,`></image>
`),this.stroke||this.strokeDashArray){var De=this.fill;this.fill=null,Fe=["	<rect ",'x="',e,'" y="',ke,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=De}return this.paintFirst!=="fill"?t=t.concat(Fe,xe):t=t.concat(xe,Fe),t},getSrc:function(t){var xe=t?this._element:this._originalElement;return xe?xe.toDataURL?xe.toDataURL():this.srcFromAttribute?xe.getAttribute("src"):xe.src:this.src||""},setSrc:function(t,xe,Fe){return r.util.loadImage(t,function(Te,e){this.setElement(Te,Fe),this._setWidthHeight(),xe&&xe(this,e)},this,Fe&&Fe.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,xe=this.minimumScaleTrigger,Fe=this.getTotalObjectScaling(),Te=Fe.scaleX,e=Fe.scaleY,ke=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||Te>xe&&e>xe){this._element=ke,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=Te,this._lastScaleY=e;return}r.filterBackend||(r.filterBackend=r.initFilterBackend());var Oe=r.util.createCanvasElement(),Ee=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,Pe=ke.width,De=ke.height;Oe.width=Pe,Oe.height=De,this._element=Oe,this._lastScaleX=t.scaleX=Te,this._lastScaleY=t.scaleY=e,r.filterBackend.applyFilters([t],ke,Pe,De,this._element,Ee),this._filterScalingX=Oe.width/this._originalElement.width,this._filterScalingY=Oe.height/this._originalElement.height},applyFilters:function(t){if(t=t||this.filters||[],t=t.filter(function(ke){return ke&&!ke.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),t.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var xe=this._originalElement,Fe=xe.naturalWidth||xe.width,Te=xe.naturalHeight||xe.height;if(this._element===this._originalElement){var e=r.util.createCanvasElement();e.width=Fe,e.height=Te,this._element=e,this._filteredEl=e}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,Fe,Te),this._lastScaleX=1,this._lastScaleY=1;return r.filterBackend||(r.filterBackend=r.initFilterBackend()),r.filterBackend.applyFilters(t,this._originalElement,Fe,Te,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){r.util.setImageSmoothing(t,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){r.util.setImageSmoothing(t,this.imageSmoothing),r.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var xe=this._element;if(!!xe){var Fe=this._filterScalingX,Te=this._filterScalingY,e=this.width,ke=this.height,Oe=Math.min,Ee=Math.max,Pe=Ee(this.cropX,0),De=Ee(this.cropY,0),Me=xe.naturalWidth||xe.width,Ae=xe.naturalHeight||xe.height,Be=Pe*Fe,He=De*Te,je=Oe(e*Fe,Me-Be),Xe=Oe(ke*Te,Ae-He),St=-e/2,qe=-ke/2,Ye=Oe(e,Me/Fe-Pe),gi=Oe(ke,Ae/Te-De);xe&&t.drawImage(xe,Be,He,je,Xe,St,qe,Ye,gi)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,xe){this.setElement(r.util.getById(t),xe),r.util.addClass(this.getElement(),r.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,xe){t&&t.length?r.util.enlivenObjects(t,function(Fe){xe&&xe(Fe)},"fabric.Image.filters"):xe&&xe()},_setWidthHeight:function(t){t||(t={});var xe=this.getElement();this.width=t.width||xe.naturalWidth||xe.width||0,this.height=t.height||xe.naturalHeight||xe.height||0},parsePreserveAspectRatioAttribute:function(){var t=r.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),xe=this._element.width,Fe=this._element.height,Te=1,e=1,ke=0,Oe=0,Ee=0,Pe=0,De,Me=this.width,Ae=this.height,Be={width:Me,height:Ae};return t&&(t.alignX!=="none"||t.alignY!=="none")?(t.meetOrSlice==="meet"&&(Te=e=r.util.findScaleToFit(this._element,Be),De=(Me-xe*Te)/2,t.alignX==="Min"&&(ke=-De),t.alignX==="Max"&&(ke=De),De=(Ae-Fe*e)/2,t.alignY==="Min"&&(Oe=-De),t.alignY==="Max"&&(Oe=De)),t.meetOrSlice==="slice"&&(Te=e=r.util.findScaleToCover(this._element,Be),De=xe-Me/Te,t.alignX==="Mid"&&(Ee=De/2),t.alignX==="Max"&&(Ee=De),De=Fe-Ae/e,t.alignY==="Mid"&&(Pe=De/2),t.alignY==="Max"&&(Pe=De),xe=Me/Te,Fe=Ae/e)):(Te=Me/xe,e=Ae/Fe),{width:xe,height:Fe,scaleX:Te,scaleY:e,offsetLeft:ke,offsetTop:Oe,cropX:Ee,cropY:Pe}}}),r.Image.CSS_CANVAS="canvas-img",r.Image.prototype.getSvgSrc=r.Image.prototype.getSrc,r.Image.fromObject=function(t,xe){var Fe=r.util.object.clone(t);r.util.loadImage(Fe.src,function(Te,e){if(e){xe&&xe(null,!0);return}r.Image.prototype._initFilters.call(Fe,Fe.filters,function(ke){Fe.filters=ke||[],r.Image.prototype._initFilters.call(Fe,[Fe.resizeFilter],function(Oe){Fe.resizeFilter=Oe[0],r.util.enlivenObjectEnlivables(Fe,Fe,function(){var Ee=new r.Image(Te,Fe);xe(Ee,!1)})})})},null,Fe.crossOrigin)},r.Image.fromURL=function(t,xe,Fe){r.util.loadImage(t,function(Te,e){xe&&xe(new r.Image(Te,Fe),e)},null,Fe&&Fe.crossOrigin)},r.Image.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),r.Image.fromElement=function(t,xe,Fe){var Te=r.parseAttributes(t,r.Image.ATTRIBUTE_NAMES);r.Image.fromURL(Te["xlink:href"],xe,_e(Fe?r.util.object.clone(Fe):{},Te))}}(Ce),r.util.object.extend(r.Object.prototype,{_getAngleValueForStraighten:function(){var Se=this.angle%360;return Se>0?Math.round((Se-1)/90)*90:Math.round(Se/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(Se){Se=Se||{};var _e=function(){},t=Se.onComplete||_e,xe=Se.onChange||_e,Fe=this;return r.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(Te){Fe.rotate(Te),xe()},onComplete:function(){Fe.setCoords(),t()}})}}),r.util.object.extend(r.StaticCanvas.prototype,{straightenObject:function(Se){return Se.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(Se){return Se.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function Se(t,xe){var Fe="precision "+xe+` float;
void main(){}`,Te=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(Te,Fe),t.compileShader(Te),!!t.getShaderParameter(Te,t.COMPILE_STATUS)}r.isWebglSupported=function(t){if(r.isLikelyNode)return!1;t=t||r.WebglFilterBackend.prototype.tileSize;var xe=document.createElement("canvas"),Fe=xe.getContext("webgl")||xe.getContext("experimental-webgl"),Te=!1;if(Fe){r.maxTextureSize=Fe.getParameter(Fe.MAX_TEXTURE_SIZE),Te=r.maxTextureSize>=t;for(var e=["highp","mediump","lowp"],ke=0;ke<3;ke++)if(Se(Fe,e[ke])){r.webGlPrecision=e[ke];break}}return this.isSupported=Te,Te},r.WebglFilterBackend=_e;function _e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}_e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,xe){this.dispose(),this.createWebGLCanvas(t,xe),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,xe)},chooseFastestCopyGLTo2DMethod:function(t,xe){var Fe=typeof window.performance<"u",Te;try{new ImageData(1,1),Te=!0}catch{Te=!1}var e=typeof ArrayBuffer<"u",ke=typeof Uint8ClampedArray<"u";if(!!(Fe&&Te&&e&&ke)){var Oe=r.util.createCanvasElement(),Ee=new ArrayBuffer(t*xe*4);if(r.forceGLPutImageData){this.imageBuffer=Ee,this.copyGLTo2D=ii;return}var Pe={imageBuffer:Ee,destinationWidth:t,destinationHeight:xe,targetCanvas:Oe},De,Me,Ae;Oe.width=t,Oe.height=xe,De=window.performance.now(),Je.call(Pe,this.gl,Pe),Me=window.performance.now()-De,De=window.performance.now(),ii.call(Pe,this.gl,Pe),Ae=window.performance.now()-De,Me>Ae?(this.imageBuffer=Ee,this.copyGLTo2D=ii):this.copyGLTo2D=Je}},createWebGLCanvas:function(t,xe){var Fe=r.util.createCanvasElement();Fe.width=t,Fe.height=xe;var Te={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},e=Fe.getContext("webgl",Te);e||(e=Fe.getContext("experimental-webgl",Te)),e&&(e.clearColor(0,0,0,0),this.canvas=Fe,this.gl=e)},applyFilters:function(t,xe,Fe,Te,e,ke){var Oe=this.gl,Ee;ke&&(Ee=this.getCachedTexture(ke,xe));var Pe={originalWidth:xe.width||xe.originalWidth,originalHeight:xe.height||xe.originalHeight,sourceWidth:Fe,sourceHeight:Te,destinationWidth:Fe,destinationHeight:Te,context:Oe,sourceTexture:this.createTexture(Oe,Fe,Te,!Ee&&xe),targetTexture:this.createTexture(Oe,Fe,Te),originalTexture:Ee||this.createTexture(Oe,Fe,Te,!Ee&&xe),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:e},De=Oe.createFramebuffer();return Oe.bindFramebuffer(Oe.FRAMEBUFFER,De),t.forEach(function(Me){Me&&Me.applyTo(Pe)}),Ge(Pe),this.copyGLTo2D(Oe,Pe),Oe.bindTexture(Oe.TEXTURE_2D,null),Oe.deleteTexture(Pe.sourceTexture),Oe.deleteTexture(Pe.targetTexture),Oe.deleteFramebuffer(De),e.getContext("2d").setTransform(1,0,0,1,0,0),Pe},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,xe,Fe,Te){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),Te?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,Te):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,xe,Fe,0,t.RGBA,t.UNSIGNED_BYTE,null),e},getCachedTexture:function(t,xe){if(this.textureCache[t])return this.textureCache[t];var Fe=this.createTexture(this.gl,xe.width,xe.height,xe);return this.textureCache[t]=Fe,Fe},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:Je,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,xe={renderer:"",vendor:""};if(!t)return xe;var Fe=t.getExtension("WEBGL_debug_renderer_info");if(Fe){var Te=t.getParameter(Fe.UNMASKED_RENDERER_WEBGL),e=t.getParameter(Fe.UNMASKED_VENDOR_WEBGL);Te&&(xe.renderer=Te.toLowerCase()),e&&(xe.vendor=e.toLowerCase())}return this.gpuInfo=xe,xe}}}();function Ge(Se){var _e=Se.targetCanvas,t=_e.width,xe=_e.height,Fe=Se.destinationWidth,Te=Se.destinationHeight;(t!==Fe||xe!==Te)&&(_e.width=Fe,_e.height=Te)}function Je(Se,_e){var t=Se.canvas,xe=_e.targetCanvas,Fe=xe.getContext("2d");Fe.translate(0,xe.height),Fe.scale(1,-1);var Te=t.height-xe.height;Fe.drawImage(t,0,Te,xe.width,xe.height,0,0,xe.width,xe.height)}function ii(Se,_e){var t=_e.targetCanvas,xe=t.getContext("2d"),Fe=_e.destinationWidth,Te=_e.destinationHeight,e=Fe*Te*4,ke=new Uint8Array(this.imageBuffer,0,e),Oe=new Uint8ClampedArray(this.imageBuffer,0,e);Se.readPixels(0,0,Fe,Te,Se.RGBA,Se.UNSIGNED_BYTE,ke);var Ee=new ImageData(Oe,Fe,Te);xe.putImageData(Ee,0,0)}(function(){var Se=function(){};r.Canvas2dFilterBackend=_e;function _e(){}_e.prototype={evictCachesForKey:Se,dispose:Se,clearWebGLCaches:Se,resources:{},applyFilters:function(t,xe,Fe,Te,e){var ke=e.getContext("2d");ke.drawImage(xe,0,0,Fe,Te);var Oe=ke.getImageData(0,0,Fe,Te),Ee=ke.getImageData(0,0,Fe,Te),Pe={sourceWidth:Fe,sourceHeight:Te,imageData:Oe,originalEl:xe,originalImageData:Ee,canvasEl:e,ctx:ke,filterBackend:this};return t.forEach(function(De){De.applyTo(Pe)}),(Pe.imageData.width!==Fe||Pe.imageData.height!==Te)&&(e.width=Pe.imageData.width,e.height=Pe.imageData.height),ke.putImageData(Pe.imageData,0,0),Pe}}})(),r.Image=r.Image||{},r.Image.filters=r.Image.filters||{},r.Image.filters.BaseFilter=r.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(Se){Se&&this.setOptions(Se)},setOptions:function(Se){for(var _e in Se)this[_e]=Se[_e]},createProgram:function(Se,_e,t){_e=_e||this.fragmentSource,t=t||this.vertexSource,r.webGlPrecision!=="highp"&&(_e=_e.replace(/precision highp float/g,"precision "+r.webGlPrecision+" float"));var xe=Se.createShader(Se.VERTEX_SHADER);if(Se.shaderSource(xe,t),Se.compileShader(xe),!Se.getShaderParameter(xe,Se.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+Se.getShaderInfoLog(xe));var Fe=Se.createShader(Se.FRAGMENT_SHADER);if(Se.shaderSource(Fe,_e),Se.compileShader(Fe),!Se.getShaderParameter(Fe,Se.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+Se.getShaderInfoLog(Fe));var Te=Se.createProgram();if(Se.attachShader(Te,xe),Se.attachShader(Te,Fe),Se.linkProgram(Te),!Se.getProgramParameter(Te,Se.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+Se.getProgramInfoLog(Te));var e=this.getAttributeLocations(Se,Te),ke=this.getUniformLocations(Se,Te)||{};return ke.uStepW=Se.getUniformLocation(Te,"uStepW"),ke.uStepH=Se.getUniformLocation(Te,"uStepH"),{program:Te,attributeLocations:e,uniformLocations:ke}},getAttributeLocations:function(Se,_e){return{aPosition:Se.getAttribLocation(_e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(Se,_e,t){var xe=_e.aPosition,Fe=Se.createBuffer();Se.bindBuffer(Se.ARRAY_BUFFER,Fe),Se.enableVertexAttribArray(xe),Se.vertexAttribPointer(xe,2,Se.FLOAT,!1,0,0),Se.bufferData(Se.ARRAY_BUFFER,t,Se.STATIC_DRAW)},_setupFrameBuffer:function(Se){var _e=Se.context,t,xe;Se.passes>1?(t=Se.destinationWidth,xe=Se.destinationHeight,(Se.sourceWidth!==t||Se.sourceHeight!==xe)&&(_e.deleteTexture(Se.targetTexture),Se.targetTexture=Se.filterBackend.createTexture(_e,t,xe)),_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,Se.targetTexture,0)):(_e.bindFramebuffer(_e.FRAMEBUFFER,null),_e.finish())},_swapTextures:function(Se){Se.passes--,Se.pass++;var _e=Se.targetTexture;Se.targetTexture=Se.sourceTexture,Se.sourceTexture=_e},isNeutralState:function(){var Se=this.mainParameter,_e=r.Image.filters[this.type].prototype;if(Se)if(Array.isArray(_e[Se])){for(var t=_e[Se].length;t--;)if(this[Se][t]!==_e[Se][t])return!1;return!0}else return _e[Se]===this[Se];else return!1},applyTo:function(Se){Se.webgl?(this._setupFrameBuffer(Se),this.applyToWebGL(Se),this._swapTextures(Se)):this.applyTo2d(Se)},retrieveShader:function(Se){return Se.programCache.hasOwnProperty(this.type)||(Se.programCache[this.type]=this.createProgram(Se.context)),Se.programCache[this.type]},applyToWebGL:function(Se){var _e=Se.context,t=this.retrieveShader(Se);Se.pass===0&&Se.originalTexture?_e.bindTexture(_e.TEXTURE_2D,Se.originalTexture):_e.bindTexture(_e.TEXTURE_2D,Se.sourceTexture),_e.useProgram(t.program),this.sendAttributeData(_e,t.attributeLocations,Se.aPosition),_e.uniform1f(t.uniformLocations.uStepW,1/Se.sourceWidth),_e.uniform1f(t.uniformLocations.uStepH,1/Se.sourceHeight),this.sendUniformData(_e,t.uniformLocations),_e.viewport(0,0,Se.destinationWidth,Se.destinationHeight),_e.drawArrays(_e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(Se,_e,t){Se.activeTexture(t),Se.bindTexture(Se.TEXTURE_2D,_e),Se.activeTexture(Se.TEXTURE0)},unbindAdditionalTexture:function(Se,_e){Se.activeTexture(_e),Se.bindTexture(Se.TEXTURE_2D,null),Se.activeTexture(Se.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(Se){this[this.mainParameter]=Se},sendUniformData:function(){},createHelpLayer:function(Se){if(!Se.helpLayer){var _e=document.createElement("canvas");_e.width=Se.sourceWidth,_e.height=Se.sourceHeight,Se.helpLayer=_e}},toObject:function(){var Se={type:this.type},_e=this.mainParameter;return _e&&(Se[_e]=this[_e]),Se},toJSON:function(){return this.toObject()}}),r.Image.filters.BaseFilter.fromObject=function(Se,_e){var t=new r.Image.filters[Se.type](Se);return _e&&_e(t),t},function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.ColorMatrix=xe(t.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(Fe){this.callSuper("initialize",Fe),this.matrix=this.matrix.slice(0)},applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke=e.length,Oe=this.matrix,Ee,Pe,De,Me,Ae,Be=this.colorsOnly;for(Ae=0;Ae<ke;Ae+=4)Ee=e[Ae],Pe=e[Ae+1],De=e[Ae+2],Be?(e[Ae]=Ee*Oe[0]+Pe*Oe[1]+De*Oe[2]+Oe[4]*255,e[Ae+1]=Ee*Oe[5]+Pe*Oe[6]+De*Oe[7]+Oe[9]*255,e[Ae+2]=Ee*Oe[10]+Pe*Oe[11]+De*Oe[12]+Oe[14]*255):(Me=e[Ae+3],e[Ae]=Ee*Oe[0]+Pe*Oe[1]+De*Oe[2]+Me*Oe[3]+Oe[4]*255,e[Ae+1]=Ee*Oe[5]+Pe*Oe[6]+De*Oe[7]+Me*Oe[8]+Oe[9]*255,e[Ae+2]=Ee*Oe[10]+Pe*Oe[11]+De*Oe[12]+Me*Oe[13]+Oe[14]*255,e[Ae+3]=Ee*Oe[15]+Pe*Oe[16]+De*Oe[17]+Me*Oe[18]+Oe[19]*255)},getUniformLocations:function(Fe,Te){return{uColorMatrix:Fe.getUniformLocation(Te,"uColorMatrix"),uConstants:Fe.getUniformLocation(Te,"uConstants")}},sendUniformData:function(Fe,Te){var e=this.matrix,ke=[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]],Oe=[e[4],e[9],e[14],e[19]];Fe.uniformMatrix4fv(Te.uColorMatrix,!1,ke),Fe.uniform4fv(Te.uConstants,Oe)}}),_e.Image.filters.ColorMatrix.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Brightness=xe(t.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(Fe){if(this.brightness!==0){var Te=Fe.imageData,e=Te.data,ke,Oe=e.length,Ee=Math.round(this.brightness*255);for(ke=0;ke<Oe;ke+=4)e[ke]=e[ke]+Ee,e[ke+1]=e[ke+1]+Ee,e[ke+2]=e[ke+2]+Ee}},getUniformLocations:function(Fe,Te){return{uBrightness:Fe.getUniformLocation(Te,"uBrightness")}},sendUniformData:function(Fe,Te){Fe.uniform1f(Te.uBrightness,this.brightness)}}),_e.Image.filters.Brightness.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.Image.filters,Fe=_e.util.createClass;xe.Convolute=Fe(xe.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(Te){var e=Math.sqrt(this.matrix.length),ke=this.type+"_"+e+"_"+(this.opaque?1:0),Oe=this.fragmentSource[ke];return Te.programCache.hasOwnProperty(ke)||(Te.programCache[ke]=this.createProgram(Te.context,Oe)),Te.programCache[ke]},applyTo2d:function(Te){var e=Te.imageData,ke=e.data,Oe=this.matrix,Ee=Math.round(Math.sqrt(Oe.length)),Pe=Math.floor(Ee/2),De=e.width,Me=e.height,Ae=Te.ctx.createImageData(De,Me),Be=Ae.data,He=this.opaque?1:0,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We;for(ci=0;ci<Me;ci++)for(Ze=0;Ze<De;Ze++){for(Ye=(ci*De+Ze)*4,je=0,Xe=0,St=0,qe=0,We=0;We<Ee;We++)for(ze=0;ze<Ee;ze++)ai=ci+We-Pe,gi=Ze+ze-Pe,!(ai<0||ai>=Me||gi<0||gi>=De)&&(ui=(ai*De+gi)*4,Qe=Oe[We*Ee+ze],je+=ke[ui]*Qe,Xe+=ke[ui+1]*Qe,St+=ke[ui+2]*Qe,He||(qe+=ke[ui+3]*Qe));Be[Ye]=je,Be[Ye+1]=Xe,Be[Ye+2]=St,He?Be[Ye+3]=ke[Ye+3]:Be[Ye+3]=qe}Te.imageData=Ae},getUniformLocations:function(Te,e){return{uMatrix:Te.getUniformLocation(e,"uMatrix"),uOpaque:Te.getUniformLocation(e,"uOpaque"),uHalfSize:Te.getUniformLocation(e,"uHalfSize"),uSize:Te.getUniformLocation(e,"uSize")}},sendUniformData:function(Te,e){Te.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return t(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),_e.Image.filters.Convolute.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Grayscale=xe(t.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke,Oe=e.length,Ee,Pe=this.mode;for(ke=0;ke<Oe;ke+=4)Pe==="average"?Ee=(e[ke]+e[ke+1]+e[ke+2])/3:Pe==="lightness"?Ee=(Math.min(e[ke],e[ke+1],e[ke+2])+Math.max(e[ke],e[ke+1],e[ke+2]))/2:Pe==="luminosity"&&(Ee=.21*e[ke]+.72*e[ke+1]+.07*e[ke+2]),e[ke]=Ee,e[ke+1]=Ee,e[ke+2]=Ee},retrieveShader:function(Fe){var Te=this.type+"_"+this.mode;if(!Fe.programCache.hasOwnProperty(Te)){var e=this.fragmentSource[this.mode];Fe.programCache[Te]=this.createProgram(Fe.context,e)}return Fe.programCache[Te]},getUniformLocations:function(Fe,Te){return{uMode:Fe.getUniformLocation(Te,"uMode")}},sendUniformData:function(Fe,Te){var e=1;Fe.uniform1i(Te.uMode,e)},isNeutralState:function(){return!1}}),_e.Image.filters.Grayscale.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Invert=xe(t.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke,Oe=e.length;for(ke=0;ke<Oe;ke+=4)e[ke]=255-e[ke],e[ke+1]=255-e[ke+1],e[ke+2]=255-e[ke+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(Fe,Te){return{uInvert:Fe.getUniformLocation(Te,"uInvert")}},sendUniformData:function(Fe,Te){Fe.uniform1i(Te.uInvert,this.invert)}}),_e.Image.filters.Invert.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.Image.filters,Fe=_e.util.createClass;xe.Noise=Fe(xe.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(Te){if(this.noise!==0){var e=Te.imageData,ke=e.data,Oe,Ee=ke.length,Pe=this.noise,De;for(Oe=0,Ee=ke.length;Oe<Ee;Oe+=4)De=(.5-Math.random())*Pe,ke[Oe]+=De,ke[Oe+1]+=De,ke[Oe+2]+=De}},getUniformLocations:function(Te,e){return{uNoise:Te.getUniformLocation(e,"uNoise"),uSeed:Te.getUniformLocation(e,"uSeed")}},sendUniformData:function(Te,e){Te.uniform1f(e.uNoise,this.noise/255),Te.uniform1f(e.uSeed,Math.random())},toObject:function(){return t(this.callSuper("toObject"),{noise:this.noise})}}),_e.Image.filters.Noise.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Pixelate=xe(t.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke=Te.height,Oe=Te.width,Ee,Pe,De,Me,Ae,Be,He,je,Xe,St,qe;for(Pe=0;Pe<ke;Pe+=this.blocksize)for(De=0;De<Oe;De+=this.blocksize)for(Ee=Pe*4*Oe+De*4,Me=e[Ee],Ae=e[Ee+1],Be=e[Ee+2],He=e[Ee+3],St=Math.min(Pe+this.blocksize,ke),qe=Math.min(De+this.blocksize,Oe),je=Pe;je<St;je++)for(Xe=De;Xe<qe;Xe++)Ee=je*4*Oe+Xe*4,e[Ee]=Me,e[Ee+1]=Ae,e[Ee+2]=Be,e[Ee+3]=He},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(Fe,Te){return{uBlocksize:Fe.getUniformLocation(Te,"uBlocksize"),uStepW:Fe.getUniformLocation(Te,"uStepW"),uStepH:Fe.getUniformLocation(Te,"uStepH")}},sendUniformData:function(Fe,Te){Fe.uniform1f(Te.uBlocksize,this.blocksize)}}),_e.Image.filters.Pixelate.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.extend,xe=_e.Image.filters,Fe=_e.util.createClass;xe.RemoveColor=Fe(xe.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(Te){var e=Te.imageData,ke=e.data,Oe,Ee=this.distance*255,Pe,De,Me,Ae=new _e.Color(this.color).getSource(),Be=[Ae[0]-Ee,Ae[1]-Ee,Ae[2]-Ee],He=[Ae[0]+Ee,Ae[1]+Ee,Ae[2]+Ee];for(Oe=0;Oe<ke.length;Oe+=4)Pe=ke[Oe],De=ke[Oe+1],Me=ke[Oe+2],Pe>Be[0]&&De>Be[1]&&Me>Be[2]&&Pe<He[0]&&De<He[1]&&Me<He[2]&&(ke[Oe+3]=0)},getUniformLocations:function(Te,e){return{uLow:Te.getUniformLocation(e,"uLow"),uHigh:Te.getUniformLocation(e,"uHigh")}},sendUniformData:function(Te,e){var ke=new _e.Color(this.color).getSource(),Oe=parseFloat(this.distance),Ee=[0+ke[0]/255-Oe,0+ke[1]/255-Oe,0+ke[2]/255-Oe,1],Pe=[ke[0]/255+Oe,ke[1]/255+Oe,ke[2]/255+Oe,1];Te.uniform4fv(e.uLow,Ee),Te.uniform4fv(e.uHigh,Pe)},toObject:function(){return t(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),_e.Image.filters.RemoveColor.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass,Fe={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var Te in Fe)t[Te]=xe(t.ColorMatrix,{type:Te,matrix:Fe[Te],mainParameter:!1,colorsOnly:!0}),_e.Image.filters[Te].fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric,t=_e.Image.filters,xe=_e.util.createClass;t.BlendColor=xe(t.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(Fe){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[Fe]+`}
}`},retrieveShader:function(Fe){var Te=this.type+"_"+this.mode,e;return Fe.programCache.hasOwnProperty(Te)||(e=this.buildSource(this.mode),Fe.programCache[Te]=this.createProgram(Fe.context,e)),Fe.programCache[Te]},applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke=e.length,Oe,Ee,Pe,De,Me,Ae,Be,He=1-this.alpha;Be=new _e.Color(this.color).getSource(),Oe=Be[0]*this.alpha,Ee=Be[1]*this.alpha,Pe=Be[2]*this.alpha;for(var je=0;je<ke;je+=4)switch(De=e[je],Me=e[je+1],Ae=e[je+2],this.mode){case"multiply":e[je]=De*Oe/255,e[je+1]=Me*Ee/255,e[je+2]=Ae*Pe/255;break;case"screen":e[je]=255-(255-De)*(255-Oe)/255,e[je+1]=255-(255-Me)*(255-Ee)/255,e[je+2]=255-(255-Ae)*(255-Pe)/255;break;case"add":e[je]=De+Oe,e[je+1]=Me+Ee,e[je+2]=Ae+Pe;break;case"diff":case"difference":e[je]=Math.abs(De-Oe),e[je+1]=Math.abs(Me-Ee),e[je+2]=Math.abs(Ae-Pe);break;case"subtract":e[je]=De-Oe,e[je+1]=Me-Ee,e[je+2]=Ae-Pe;break;case"darken":e[je]=Math.min(De,Oe),e[je+1]=Math.min(Me,Ee),e[je+2]=Math.min(Ae,Pe);break;case"lighten":e[je]=Math.max(De,Oe),e[je+1]=Math.max(Me,Ee),e[je+2]=Math.max(Ae,Pe);break;case"overlay":e[je]=Oe<128?2*De*Oe/255:255-2*(255-De)*(255-Oe)/255,e[je+1]=Ee<128?2*Me*Ee/255:255-2*(255-Me)*(255-Ee)/255,e[je+2]=Pe<128?2*Ae*Pe/255:255-2*(255-Ae)*(255-Pe)/255;break;case"exclusion":e[je]=Oe+De-2*Oe*De/255,e[je+1]=Ee+Me-2*Ee*Me/255,e[je+2]=Pe+Ae-2*Pe*Ae/255;break;case"tint":e[je]=Oe+De*He,e[je+1]=Ee+Me*He,e[je+2]=Pe+Ae*He}},getUniformLocations:function(Fe,Te){return{uColor:Fe.getUniformLocation(Te,"uColor")}},sendUniformData:function(Fe,Te){var e=new _e.Color(this.color).getSource();e[0]=this.alpha*e[0]/255,e[1]=this.alpha*e[1]/255,e[2]=this.alpha*e[2]/255,e[3]=this.alpha,Fe.uniform4fv(Te.uColor,e)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),_e.Image.filters.BlendColor.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric,t=_e.Image.filters,xe=_e.util.createClass;t.BlendImage=xe(t.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(Fe){var Te=this.type+"_"+this.mode,e=this.fragmentSource[this.mode];return Fe.programCache.hasOwnProperty(Te)||(Fe.programCache[Te]=this.createProgram(Fe.context,e)),Fe.programCache[Te]},applyToWebGL:function(Fe){var Te=Fe.context,e=this.createTexture(Fe.filterBackend,this.image);this.bindAdditionalTexture(Te,e,Te.TEXTURE1),this.callSuper("applyToWebGL",Fe),this.unbindAdditionalTexture(Te,Te.TEXTURE1)},createTexture:function(Fe,Te){return Fe.getCachedTexture(Te.cacheKey,Te._element)},calculateMatrix:function(){var Fe=this.image,Te=Fe._element.width,e=Fe._element.height;return[1/Fe.scaleX,0,0,0,1/Fe.scaleY,0,-Fe.left/Te,-Fe.top/e,1]},applyTo2d:function(Fe){var Te=Fe.imageData,e=Fe.filterBackend.resources,ke=Te.data,Oe=ke.length,Ee=Te.width,Pe=Te.height,De,Me,Ae,Be,He,je,Xe,St,qe,Ye,gi=this.image,ai;e.blendImage||(e.blendImage=_e.util.createCanvasElement()),qe=e.blendImage,Ye=qe.getContext("2d"),qe.width!==Ee||qe.height!==Pe?(qe.width=Ee,qe.height=Pe):Ye.clearRect(0,0,Ee,Pe),Ye.setTransform(gi.scaleX,0,0,gi.scaleY,gi.left,gi.top),Ye.drawImage(gi._element,0,0,Ee,Pe),ai=Ye.getImageData(0,0,Ee,Pe).data;for(var ui=0;ui<Oe;ui+=4)switch(He=ke[ui],je=ke[ui+1],Xe=ke[ui+2],St=ke[ui+3],De=ai[ui],Me=ai[ui+1],Ae=ai[ui+2],Be=ai[ui+3],this.mode){case"multiply":ke[ui]=He*De/255,ke[ui+1]=je*Me/255,ke[ui+2]=Xe*Ae/255,ke[ui+3]=St*Be/255;break;case"mask":ke[ui+3]=Be;break}},getUniformLocations:function(Fe,Te){return{uTransformMatrix:Fe.getUniformLocation(Te,"uTransformMatrix"),uImage:Fe.getUniformLocation(Te,"uImage")}},sendUniformData:function(Fe,Te){var e=this.calculateMatrix();Fe.uniform1i(Te.uImage,1),Fe.uniformMatrix3fv(Te.uTransformMatrix,!1,e)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),_e.Image.filters.BlendImage.fromObject=function(Fe,Te){_e.Image.fromObject(Fe.image,function(e){var ke=_e.util.object.clone(Fe);ke.image=e,Te(new _e.Image.filters.BlendImage(ke))})}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=Math.pow,xe=Math.floor,Fe=Math.sqrt,Te=Math.abs,e=Math.round,ke=Math.sin,Oe=Math.ceil,Ee=_e.Image.filters,Pe=_e.util.createClass;Ee.Resize=Pe(Ee.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(De,Me){return{uDelta:De.getUniformLocation(Me,"uDelta"),uTaps:De.getUniformLocation(Me,"uTaps")}},sendUniformData:function(De,Me){De.uniform2fv(Me.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),De.uniform1fv(Me.uTaps,this.taps)},retrieveShader:function(De){var Me=this.getFilterWindow(),Ae=this.type+"_"+Me;if(!De.programCache.hasOwnProperty(Ae)){var Be=this.generateShader(Me);De.programCache[Ae]=this.createProgram(De.context,Be)}return De.programCache[Ae]},getFilterWindow:function(){var De=this.tempScale;return Math.ceil(this.lanczosLobes/De)},getTaps:function(){for(var De=this.lanczosCreate(this.lanczosLobes),Me=this.tempScale,Ae=this.getFilterWindow(),Be=new Array(Ae),He=1;He<=Ae;He++)Be[He-1]=De(He*Me);return Be},generateShader:function(Be){for(var Me=new Array(Be),Ae=this.fragmentSourceTOP,Be,He=1;He<=Be;He++)Me[He-1]=He+".0 * uDelta";return Ae+="uniform float uTaps["+Be+`];
`,Ae+=`void main() {
`,Ae+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,Ae+=`  float sum = 1.0;
`,Me.forEach(function(je,Xe){Ae+="  color += texture2D(uTexture, vTexCoord + "+je+") * uTaps["+Xe+`];
`,Ae+="  color += texture2D(uTexture, vTexCoord - "+je+") * uTaps["+Xe+`];
`,Ae+="  sum += 2.0 * uTaps["+Xe+`];
`}),Ae+=`  gl_FragColor = color / sum;
`,Ae+="}",Ae},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(De){De.webgl?(De.passes++,this.width=De.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=De.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),De.destinationWidth=this.dW,this._setupFrameBuffer(De),this.applyToWebGL(De),this._swapTextures(De),De.sourceWidth=De.destinationWidth,this.height=De.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),De.destinationHeight=this.dH,this._setupFrameBuffer(De),this.applyToWebGL(De),this._swapTextures(De),De.sourceHeight=De.destinationHeight):this.applyTo2d(De)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(De){return function(Me){if(Me>=De||Me<=-De)return 0;if(Me<11920929e-14&&Me>-11920929e-14)return 1;Me*=Math.PI;var Ae=Me/De;return ke(Me)/Me*ke(Ae)/Ae}},applyTo2d:function(De){var Me=De.imageData,Ae=this.scaleX,Be=this.scaleY;this.rcpScaleX=1/Ae,this.rcpScaleY=1/Be;var He=Me.width,je=Me.height,Xe=e(He*Ae),St=e(je*Be),qe;this.resizeType==="sliceHack"?qe=this.sliceByTwo(De,He,je,Xe,St):this.resizeType==="hermite"?qe=this.hermiteFastResize(De,He,je,Xe,St):this.resizeType==="bilinear"?qe=this.bilinearFiltering(De,He,je,Xe,St):this.resizeType==="lanczos"&&(qe=this.lanczosResize(De,He,je,Xe,St)),De.imageData=qe},sliceByTwo:function(De,Me,Ae,Be,He){var je=De.imageData,Xe=.5,St=!1,qe=!1,Ye=Me*Xe,gi=Ae*Xe,ai=_e.filterBackend.resources,ui,Qe,Ze=0,ci=0,ze=Me,We=0;for(ai.sliceByTwo||(ai.sliceByTwo=document.createElement("canvas")),ui=ai.sliceByTwo,(ui.width<Me*1.5||ui.height<Ae)&&(ui.width=Me*1.5,ui.height=Ae),Qe=ui.getContext("2d"),Qe.clearRect(0,0,Me*1.5,Ae),Qe.putImageData(je,0,0),Be=xe(Be),He=xe(He);!St||!qe;)Me=Ye,Ae=gi,Be<xe(Ye*Xe)?Ye=xe(Ye*Xe):(Ye=Be,St=!0),He<xe(gi*Xe)?gi=xe(gi*Xe):(gi=He,qe=!0),Qe.drawImage(ui,Ze,ci,Me,Ae,ze,We,Ye,gi),Ze=ze,ci=We,We+=gi;return Qe.getImageData(Ze,ci,Be,He)},lanczosResize:function(De,Me,Ae,Be,He){function je(ni){var $e,Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki,fi;for(We.x=(ni+.5)*gi,si.x=xe(We.x),$e=0;$e<He;$e++){for(We.y=($e+.5)*ai,si.y=xe(We.y),ti=0,hi=0,yi=0,wi=0,Ci=0,Ke=si.x-Ze;Ke<=si.x+Ze;Ke++)if(!(Ke<0||Ke>=Me)){ki=xe(1e3*Te(Ke-We.x)),ze[ki]||(ze[ki]={});for(var xi=si.y-ci;xi<=si.y+ci;xi++)xi<0||xi>=Ae||(fi=xe(1e3*Te(xi-We.y)),ze[ki][fi]||(ze[ki][fi]=Ye(Fe(t(ki*ui,2)+t(fi*Qe,2))/1e3)),Ve=ze[ki][fi],Ve>0&&(Ue=(xi*Me+Ke)*4,ti+=Ve,hi+=Ve*Xe[Ue],yi+=Ve*Xe[Ue+1],wi+=Ve*Xe[Ue+2],Ci+=Ve*Xe[Ue+3]))}Ue=($e*Be+ni)*4,qe[Ue]=hi/ti,qe[Ue+1]=yi/ti,qe[Ue+2]=wi/ti,qe[Ue+3]=Ci/ti}return++ni<Be?je(ni):St}var Xe=De.imageData.data,St=De.ctx.createImageData(Be,He),qe=St.data,Ye=this.lanczosCreate(this.lanczosLobes),gi=this.rcpScaleX,ai=this.rcpScaleY,ui=2/this.rcpScaleX,Qe=2/this.rcpScaleY,Ze=Oe(gi*this.lanczosLobes/2),ci=Oe(ai*this.lanczosLobes/2),ze={},We={},si={};return je(0)},bilinearFiltering:function(De,Me,Ae,Be,He){var je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We=0,si,ni=this.rcpScaleX,$e=this.rcpScaleY,Ke=4*(Me-1),Ve=De.imageData,Ue=Ve.data,ti=De.ctx.createImageData(Be,He),hi=ti.data;for(ai=0;ai<He;ai++)for(ui=0;ui<Be;ui++)for(Ye=xe(ni*ui),gi=xe($e*ai),Qe=ni*ui-Ye,Ze=$e*ai-gi,si=4*(gi*Me+Ye),ci=0;ci<4;ci++)je=Ue[si+ci],Xe=Ue[si+4+ci],St=Ue[si+Ke+ci],qe=Ue[si+Ke+4+ci],ze=je*(1-Qe)*(1-Ze)+Xe*Qe*(1-Ze)+St*Ze*(1-Qe)+qe*Qe*Ze,hi[We++]=ze;return ti},hermiteFastResize:function(De,Me,Ae,Be,He){for(var je=this.rcpScaleX,Xe=this.rcpScaleY,St=Oe(je/2),qe=Oe(Xe/2),Ye=De.imageData,gi=Ye.data,ai=De.ctx.createImageData(Be,He),ui=ai.data,Qe=0;Qe<He;Qe++)for(var Ze=0;Ze<Be;Ze++){for(var ci=(Ze+Qe*Be)*4,ze=0,We=0,si=0,ni=0,$e=0,Ke=0,Ve=0,Ue=(Qe+.5)*Xe,ti=xe(Qe*Xe);ti<(Qe+1)*Xe;ti++)for(var hi=Te(Ue-(ti+.5))/qe,yi=(Ze+.5)*je,wi=hi*hi,Ci=xe(Ze*je);Ci<(Ze+1)*je;Ci++){var ki=Te(yi-(Ci+.5))/St,fi=Fe(wi+ki*ki);fi>1&&fi<-1||(ze=2*fi*fi*fi-3*fi*fi+1,ze>0&&(ki=4*(Ci+ti*Me),Ve+=ze*gi[ki+3],si+=ze,gi[ki+3]<255&&(ze=ze*gi[ki+3]/250),ni+=ze*gi[ki],$e+=ze*gi[ki+1],Ke+=ze*gi[ki+2],We+=ze))}ui[ci]=ni/We,ui[ci+1]=$e/We,ui[ci+2]=Ke/We,ui[ci+3]=Ve/si}return ai},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),_e.Image.filters.Resize.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Contrast=xe(t.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(Fe){if(this.contrast!==0){var Te=Fe.imageData,e,Oe,ke=Te.data,Oe=ke.length,Ee=Math.floor(this.contrast*255),Pe=259*(Ee+255)/(255*(259-Ee));for(e=0;e<Oe;e+=4)ke[e]=Pe*(ke[e]-128)+128,ke[e+1]=Pe*(ke[e+1]-128)+128,ke[e+2]=Pe*(ke[e+2]-128)+128}},getUniformLocations:function(Fe,Te){return{uContrast:Fe.getUniformLocation(Te,"uContrast")}},sendUniformData:function(Fe,Te){Fe.uniform1f(Te.uContrast,this.contrast)}}),_e.Image.filters.Contrast.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Saturation=xe(t.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(Fe){if(this.saturation!==0){var Te=Fe.imageData,e=Te.data,ke=e.length,Oe=-this.saturation,Ee,Pe;for(Ee=0;Ee<ke;Ee+=4)Pe=Math.max(e[Ee],e[Ee+1],e[Ee+2]),e[Ee]+=Pe!==e[Ee]?(Pe-e[Ee])*Oe:0,e[Ee+1]+=Pe!==e[Ee+1]?(Pe-e[Ee+1])*Oe:0,e[Ee+2]+=Pe!==e[Ee+2]?(Pe-e[Ee+2])*Oe:0}},getUniformLocations:function(Fe,Te){return{uSaturation:Fe.getUniformLocation(Te,"uSaturation")}},sendUniformData:function(Fe,Te){Fe.uniform1f(Te.uSaturation,-this.saturation)}}),_e.Image.filters.Saturation.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Vibrance=xe(t.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(Fe){if(this.vibrance!==0){var Te=Fe.imageData,e=Te.data,ke=e.length,Oe=-this.vibrance,Ee,Pe,De,Me;for(Ee=0;Ee<ke;Ee+=4)Pe=Math.max(e[Ee],e[Ee+1],e[Ee+2]),De=(e[Ee]+e[Ee+1]+e[Ee+2])/3,Me=Math.abs(Pe-De)*2/255*Oe,e[Ee]+=Pe!==e[Ee]?(Pe-e[Ee])*Me:0,e[Ee+1]+=Pe!==e[Ee+1]?(Pe-e[Ee+1])*Me:0,e[Ee+2]+=Pe!==e[Ee+2]?(Pe-e[Ee+2])*Me:0}},getUniformLocations:function(Fe,Te){return{uVibrance:Fe.getUniformLocation(Te,"uVibrance")}},sendUniformData:function(Fe,Te){Fe.uniform1f(Te.uVibrance,-this.vibrance)}}),_e.Image.filters.Vibrance.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Blur=xe(t.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(Fe){Fe.webgl?(this.aspectRatio=Fe.sourceWidth/Fe.sourceHeight,Fe.passes++,this._setupFrameBuffer(Fe),this.horizontal=!0,this.applyToWebGL(Fe),this._swapTextures(Fe),this._setupFrameBuffer(Fe),this.horizontal=!1,this.applyToWebGL(Fe),this._swapTextures(Fe)):this.applyTo2d(Fe)},applyTo2d:function(Fe){Fe.imageData=this.simpleBlur(Fe)},simpleBlur:function(Fe){var Te=Fe.filterBackend.resources,e,ke,Oe=Fe.imageData.width,Ee=Fe.imageData.height;Te.blurLayer1||(Te.blurLayer1=_e.util.createCanvasElement(),Te.blurLayer2=_e.util.createCanvasElement()),e=Te.blurLayer1,ke=Te.blurLayer2,(e.width!==Oe||e.height!==Ee)&&(ke.width=e.width=Oe,ke.height=e.height=Ee);var Pe=e.getContext("2d"),De=ke.getContext("2d"),Me=15,Ae,Be,He,je,Xe=this.blur*.06*.5;for(Pe.putImageData(Fe.imageData,0,0),De.clearRect(0,0,Oe,Ee),je=-Me;je<=Me;je++)Ae=(Math.random()-.5)/4,Be=je/Me,He=Xe*Be*Oe+Ae,De.globalAlpha=1-Math.abs(Be),De.drawImage(e,He,Ae),Pe.drawImage(ke,0,0),De.globalAlpha=1,De.clearRect(0,0,ke.width,ke.height);for(je=-Me;je<=Me;je++)Ae=(Math.random()-.5)/4,Be=je/Me,He=Xe*Be*Ee+Ae,De.globalAlpha=1-Math.abs(Be),De.drawImage(e,Ae,He),Pe.drawImage(ke,0,0),De.globalAlpha=1,De.clearRect(0,0,ke.width,ke.height);Fe.ctx.drawImage(e,0,0);var St=Fe.ctx.getImageData(0,0,e.width,e.height);return Pe.globalAlpha=1,Pe.clearRect(0,0,e.width,e.height),St},getUniformLocations:function(Fe,Te){return{delta:Fe.getUniformLocation(Te,"uDelta")}},sendUniformData:function(Fe,Te){var e=this.chooseRightDelta();Fe.uniform2fv(Te.delta,e)},chooseRightDelta:function(){var Fe=1,Te=[0,0],e;return this.horizontal?this.aspectRatio>1&&(Fe=1/this.aspectRatio):this.aspectRatio<1&&(Fe=this.aspectRatio),e=Fe*this.blur*.12,this.horizontal?Te[0]=e:Te[1]=e,Te}}),t.Blur.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Gamma=xe(t.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(Fe){this.gamma=[1,1,1],t.BaseFilter.prototype.initialize.call(this,Fe)},applyTo2d:function(Fe){var Te=Fe.imageData,e=Te.data,ke=this.gamma,Oe=e.length,Ee=1/ke[0],Pe=1/ke[1],De=1/ke[2],Me;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),Me=0,Oe=256;Me<Oe;Me++)this.rVals[Me]=Math.pow(Me/255,Ee)*255,this.gVals[Me]=Math.pow(Me/255,Pe)*255,this.bVals[Me]=Math.pow(Me/255,De)*255;for(Me=0,Oe=e.length;Me<Oe;Me+=4)e[Me]=this.rVals[e[Me]],e[Me+1]=this.gVals[e[Me+1]],e[Me+2]=this.bVals[e[Me+2]]},getUniformLocations:function(Fe,Te){return{uGamma:Fe.getUniformLocation(Te,"uGamma")}},sendUniformData:function(Fe,Te){Fe.uniform3fv(Te.uGamma,this.gamma)}}),_e.Image.filters.Gamma.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.Composed=xe(t.BaseFilter,{type:"Composed",subFilters:[],initialize:function(Fe){this.callSuper("initialize",Fe),this.subFilters=this.subFilters.slice(0)},applyTo:function(Fe){Fe.passes+=this.subFilters.length-1,this.subFilters.forEach(function(Te){Te.applyTo(Fe)})},toObject:function(){return _e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(Fe){return Fe.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(Fe){return!Fe.isNeutralState()})}}),_e.Image.filters.Composed.fromObject=function(Fe,Te){var e=Fe.subFilters||[],ke=e.map(function(Ee){return new _e.Image.filters[Ee.type](Ee)}),Oe=new _e.Image.filters.Composed({subFilters:ke});return Te&&Te(Oe),Oe}}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.Image.filters,xe=_e.util.createClass;t.HueRotation=xe(t.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var Fe=this.rotation*Math.PI,Te=_e.util.cos(Fe),e=_e.util.sin(Fe),ke=1/3,Oe=Math.sqrt(ke)*e,Ee=1-Te;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=Te+Ee/3,this.matrix[1]=ke*Ee-Oe,this.matrix[2]=ke*Ee+Oe,this.matrix[5]=ke*Ee+Oe,this.matrix[6]=Te+ke*Ee,this.matrix[7]=ke*Ee-Oe,this.matrix[10]=ke*Ee-Oe,this.matrix[11]=ke*Ee+Oe,this.matrix[12]=Te+ke*Ee},isNeutralState:function(Fe){return this.calculateMatrix(),t.BaseFilter.prototype.isNeutralState.call(this,Fe)},applyTo:function(Fe){this.calculateMatrix(),t.BaseFilter.prototype.applyTo.call(this,Fe)}}),_e.Image.filters.HueRotation.fromObject=_e.Image.filters.BaseFilter.fromObject}(Ce),function(Se){var _e=Se.fabric||(Se.fabric={}),t=_e.util.object.clone;if(_e.Text){_e.warn("fabric.Text is already defined");return}var xe="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");_e.Text=_e.util.createClass(_e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:_e.Object.prototype.stateProperties.concat(xe),cacheProperties:_e.Object.prototype.cacheProperties.concat(xe),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(Fe,Te){this.styles=Te?Te.styles||{}:{},this.text=Fe,this.__skipDimension=!0,this.callSuper("initialize",Te),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var Fe=this.path;Fe&&(Fe.segmentsInfo=_e.util.getPathSegmentsInfo(Fe.path))},getMeasuringContext:function(){return _e._measuringContext||(_e._measuringContext=this.canvas&&this.canvas.contextCache||_e.util.createCanvasElement().getContext("2d")),_e._measuringContext},_splitText:function(){var Fe=this._splitTextIntoLines(this.text);return this.textLines=Fe.lines,this._textLines=Fe.graphemeLines,this._unwrappedTextLines=Fe._unwrappedLines,this._text=Fe.graphemeText,Fe},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var Fe,Te,e,ke,Oe,Ee,Pe,De=0,Me=this._textLines.length;De<Me;De++)if(!(this.textAlign!=="justify"&&(De===Me-1||this.isEndOfWrapping(De)))&&(ke=0,Oe=this._textLines[De],Te=this.getLineWidth(De),Te<this.width&&(Pe=this.textLines[De].match(this._reSpacesAndTabs)))){e=Pe.length,Fe=(this.width-Te)/e;for(var Ae=0,Be=Oe.length;Ae<=Be;Ae++)Ee=this.__charBounds[De][Ae],this._reSpaceAndTab.test(Oe[Ae])?(Ee.width+=Fe,Ee.kernedWidth+=Fe,Ee.left+=ke,ke+=Fe):Ee.left+=ke}},isEndOfWrapping:function(Fe){return Fe===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var Fe=this.callSuper("_getCacheCanvasDimensions"),Te=this.fontSize;return Fe.width+=Te*Fe.zoomX,Fe.height+=Te*Fe.zoomY,Fe},_render:function(Fe){var Te=this.path;Te&&!Te.isNotVisible()&&Te._render(Fe),this._setTextStyles(Fe),this._renderTextLinesBackground(Fe),this._renderTextDecoration(Fe,"underline"),this._renderText(Fe),this._renderTextDecoration(Fe,"overline"),this._renderTextDecoration(Fe,"linethrough")},_renderText:function(Fe){this.paintFirst==="stroke"?(this._renderTextStroke(Fe),this._renderTextFill(Fe)):(this._renderTextFill(Fe),this._renderTextStroke(Fe))},_setTextStyles:function(Fe,Te,e){if(Fe.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":Fe.textBaseline="middle";break;case"ascender":Fe.textBaseline="top";break;case"descender":Fe.textBaseline="bottom";break}Fe.font=this._getFontDeclaration(Te,e)},calcTextWidth:function(){for(var Fe=this.getLineWidth(0),Te=1,e=this._textLines.length;Te<e;Te++){var ke=this.getLineWidth(Te);ke>Fe&&(Fe=ke)}return Fe},_renderTextLine:function(Fe,Te,e,ke,Oe,Ee){this._renderChars(Fe,Te,e,ke,Oe,Ee)},_renderTextLinesBackground:function(Fe){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var Te,e,ke=Fe.fillStyle,Oe,Ee,Pe=this._getLeftOffset(),De=this._getTopOffset(),Me=0,Ae=0,Be,He,je=this.path,Xe,St=0,qe=this._textLines.length;St<qe;St++){if(Te=this.getHeightOfLine(St),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",St)){De+=Te;continue}Oe=this._textLines[St],e=this._getLineLeftOffset(St),Ae=0,Me=0,Ee=this.getValueOfPropertyAt(St,0,"textBackgroundColor");for(var Ye=0,gi=Oe.length;Ye<gi;Ye++)Be=this.__charBounds[St][Ye],He=this.getValueOfPropertyAt(St,Ye,"textBackgroundColor"),je?(Fe.save(),Fe.translate(Be.renderLeft,Be.renderTop),Fe.rotate(Be.angle),Fe.fillStyle=He,He&&Fe.fillRect(-Be.width/2,-Te/this.lineHeight*(1-this._fontSizeFraction),Be.width,Te/this.lineHeight),Fe.restore()):He!==Ee?(Xe=Pe+e+Me,this.direction==="rtl"&&(Xe=this.width-Xe-Ae),Fe.fillStyle=Ee,Ee&&Fe.fillRect(Xe,De,Ae,Te/this.lineHeight),Me=Be.left,Ae=Be.width,Ee=He):Ae+=Be.kernedWidth;He&&!je&&(Xe=Pe+e+Me,this.direction==="rtl"&&(Xe=this.width-Xe-Ae),Fe.fillStyle=He,Fe.fillRect(Xe,De,Ae,Te/this.lineHeight)),De+=Te}Fe.fillStyle=ke,this._removeShadow(Fe)}},getFontCache:function(Fe){var Te=Fe.fontFamily.toLowerCase();_e.charWidthsCache[Te]||(_e.charWidthsCache[Te]={});var e=_e.charWidthsCache[Te],ke=Fe.fontStyle.toLowerCase()+"_"+(Fe.fontWeight+"").toLowerCase();return e[ke]||(e[ke]={}),e[ke]},_measureChar:function(Fe,Te,e,ke){var Oe=this.getFontCache(Te),Ee=this._getFontDeclaration(Te),Pe=this._getFontDeclaration(ke),De=e+Fe,Me=Ee===Pe,Ae,Be,He,je=Te.fontSize/this.CACHE_FONT_SIZE,Xe;if(e&&Oe[e]!==void 0&&(He=Oe[e]),Oe[Fe]!==void 0&&(Xe=Ae=Oe[Fe]),Me&&Oe[De]!==void 0&&(Be=Oe[De],Xe=Be-He),Ae===void 0||He===void 0||Be===void 0){var St=this.getMeasuringContext();this._setTextStyles(St,Te,!0)}return Ae===void 0&&(Xe=Ae=St.measureText(Fe).width,Oe[Fe]=Ae),He===void 0&&Me&&e&&(He=St.measureText(e).width,Oe[e]=He),Me&&Be===void 0&&(Be=St.measureText(De).width,Oe[De]=Be,Xe=Be-He),{width:Ae*je,kernedWidth:Xe*je}},getHeightOfChar:function(Fe,Te){return this.getValueOfPropertyAt(Fe,Te,"fontSize")},measureLine:function(Fe){var Te=this._measureLine(Fe);return this.charSpacing!==0&&(Te.width-=this._getWidthOfCharSpacing()),Te.width<0&&(Te.width=0),Te},_measureLine:function(Fe){var Te=0,e,ke,Oe=this._textLines[Fe],Ee,Pe,De=0,Me=new Array(Oe.length),Ae=0,Be,He,je=this.path,Xe=this.pathSide==="right";for(this.__charBounds[Fe]=Me,e=0;e<Oe.length;e++)ke=Oe[e],Pe=this._getGraphemeBox(ke,Fe,e,Ee),Me[e]=Pe,Te+=Pe.kernedWidth,Ee=ke;if(Me[e]={left:Pe?Pe.left+Pe.width:0,width:0,kernedWidth:0,height:this.fontSize},je){switch(He=je.segmentsInfo[je.segmentsInfo.length-1].length,Be=_e.util.getPointOnPath(je.path,0,je.segmentsInfo),Be.x+=je.pathOffset.x,Be.y+=je.pathOffset.y,this.textAlign){case"left":Ae=Xe?He-Te:0;break;case"center":Ae=(He-Te)/2;break;case"right":Ae=Xe?0:He-Te;break}for(Ae+=this.pathStartOffset*(Xe?-1:1),e=Xe?Oe.length-1:0;Xe?e>=0:e<Oe.length;Xe?e--:e++)Pe=Me[e],Ae>He?Ae%=He:Ae<0&&(Ae+=He),this._setGraphemeOnPath(Ae,Pe,Be),Ae+=Pe.kernedWidth}return{width:Te,numOfSpaces:De}},_setGraphemeOnPath:function(Fe,Te,e){var ke=Fe+Te.kernedWidth/2,Oe=this.path,Ee=_e.util.getPointOnPath(Oe.path,ke,Oe.segmentsInfo);Te.renderLeft=Ee.x-e.x,Te.renderTop=Ee.y-e.y,Te.angle=Ee.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(Fe,Te,e,ke,Oe){var Ee=this.getCompleteStyleDeclaration(Te,e),Pe=ke?this.getCompleteStyleDeclaration(Te,e-1):{},De=this._measureChar(Fe,Ee,ke,Pe),Me=De.kernedWidth,Ae=De.width,Be;this.charSpacing!==0&&(Be=this._getWidthOfCharSpacing(),Ae+=Be,Me+=Be);var He={width:Ae,left:0,height:Ee.fontSize,kernedWidth:Me,deltaY:Ee.deltaY};if(e>0&&!Oe){var je=this.__charBounds[Te][e-1];He.left=je.left+je.width+De.kernedWidth-De.width}return He},getHeightOfLine:function(Fe){if(this.__lineHeights[Fe])return this.__lineHeights[Fe];for(var Te=this._textLines[Fe],e=this.getHeightOfChar(Fe,0),ke=1,Oe=Te.length;ke<Oe;ke++)e=Math.max(this.getHeightOfChar(Fe,ke),e);return this.__lineHeights[Fe]=e*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var Fe,Te=0,e=0,ke=this._textLines.length;e<ke;e++)Fe=this.getHeightOfLine(e),Te+=e===ke-1?Fe/this.lineHeight:Fe;return Te},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(Fe,Te){Fe.save();for(var e=0,ke=this._getLeftOffset(),Oe=this._getTopOffset(),Ee=0,Pe=this._textLines.length;Ee<Pe;Ee++){var De=this.getHeightOfLine(Ee),Me=De/this.lineHeight,Ae=this._getLineLeftOffset(Ee);this._renderTextLine(Te,Fe,this._textLines[Ee],ke+Ae,Oe+e+Me,Ee),e+=De}Fe.restore()},_renderTextFill:function(Fe){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(Fe,"fillText")},_renderTextStroke:function(Fe){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(Fe),Fe.save(),this._setLineDash(Fe,this.strokeDashArray),Fe.beginPath(),this._renderTextCommon(Fe,"strokeText"),Fe.closePath(),Fe.restore())},_renderChars:function(Fe,Te,e,ke,Oe,Ee){var Pe=this.getHeightOfLine(Ee),De=this.textAlign.indexOf("justify")!==-1,Me,Ae,Be="",He,je=0,Xe,St=this.path,qe=!De&&this.charSpacing===0&&this.isEmptyStyles(Ee)&&!St,Ye=this.direction==="ltr",gi=this.direction==="ltr"?1:-1,ai,ui=Te.canvas.getAttribute("dir");if(Te.save(),ui!==this.direction&&(Te.canvas.setAttribute("dir",Ye?"ltr":"rtl"),Te.direction=Ye?"ltr":"rtl",Te.textAlign=Ye?"left":"right"),Oe-=Pe*this._fontSizeFraction/this.lineHeight,qe){this._renderChar(Fe,Te,Ee,0,e.join(""),ke,Oe,Pe),Te.restore();return}for(var Qe=0,Ze=e.length-1;Qe<=Ze;Qe++)Xe=Qe===Ze||this.charSpacing||St,Be+=e[Qe],He=this.__charBounds[Ee][Qe],je===0?(ke+=gi*(He.kernedWidth-He.width),je+=He.width):je+=He.kernedWidth,De&&!Xe&&this._reSpaceAndTab.test(e[Qe])&&(Xe=!0),Xe||(Me=Me||this.getCompleteStyleDeclaration(Ee,Qe),Ae=this.getCompleteStyleDeclaration(Ee,Qe+1),Xe=_e.util.hasStyleChanged(Me,Ae,!1)),Xe&&(St?(Te.save(),Te.translate(He.renderLeft,He.renderTop),Te.rotate(He.angle),this._renderChar(Fe,Te,Ee,Qe,Be,-je/2,0,Pe),Te.restore()):(ai=ke,this._renderChar(Fe,Te,Ee,Qe,Be,ai,Oe,Pe)),Be="",Me=Ae,ke+=gi*je,je=0);Te.restore()},_applyPatternGradientTransformText:function(Fe){var Te=_e.util.createCanvasElement(),e,ke=this.width+this.strokeWidth,Oe=this.height+this.strokeWidth;return Te.width=ke,Te.height=Oe,e=Te.getContext("2d"),e.beginPath(),e.moveTo(0,0),e.lineTo(ke,0),e.lineTo(ke,Oe),e.lineTo(0,Oe),e.closePath(),e.translate(ke/2,Oe/2),e.fillStyle=Fe.toLive(e),this._applyPatternGradientTransform(e,Fe),e.fill(),e.createPattern(Te,"no-repeat")},handleFiller:function(Fe,Te,e){var ke,Oe;return e.toLive?e.gradientUnits==="percentage"||e.gradientTransform||e.patternTransform?(ke=-this.width/2,Oe=-this.height/2,Fe.translate(ke,Oe),Fe[Te]=this._applyPatternGradientTransformText(e),{offsetX:ke,offsetY:Oe}):(Fe[Te]=e.toLive(Fe,this),this._applyPatternGradientTransform(Fe,e)):(Fe[Te]=e,{offsetX:0,offsetY:0})},_setStrokeStyles:function(Fe,Te){return Fe.lineWidth=Te.strokeWidth,Fe.lineCap=this.strokeLineCap,Fe.lineDashOffset=this.strokeDashOffset,Fe.lineJoin=this.strokeLineJoin,Fe.miterLimit=this.strokeMiterLimit,this.handleFiller(Fe,"strokeStyle",Te.stroke)},_setFillStyles:function(Fe,Te){return this.handleFiller(Fe,"fillStyle",Te.fill)},_renderChar:function(Fe,Te,e,ke,Oe,Ee,Pe){var De=this._getStyleDeclaration(e,ke),Me=this.getCompleteStyleDeclaration(e,ke),Ae=Fe==="fillText"&&Me.fill,Be=Fe==="strokeText"&&Me.stroke&&Me.strokeWidth,He,je;!Be&&!Ae||(Te.save(),Ae&&(He=this._setFillStyles(Te,Me)),Be&&(je=this._setStrokeStyles(Te,Me)),Te.font=this._getFontDeclaration(Me),De&&De.textBackgroundColor&&this._removeShadow(Te),De&&De.deltaY&&(Pe+=De.deltaY),Ae&&Te.fillText(Oe,Ee-He.offsetX,Pe-He.offsetY),Be&&Te.strokeText(Oe,Ee-je.offsetX,Pe-je.offsetY),Te.restore())},setSuperscript:function(Fe,Te){return this._setScript(Fe,Te,this.superscript)},setSubscript:function(Fe,Te){return this._setScript(Fe,Te,this.subscript)},_setScript:function(Fe,Te,e){var ke=this.get2DCursorLocation(Fe,!0),Oe=this.getValueOfPropertyAt(ke.lineIndex,ke.charIndex,"fontSize"),Ee=this.getValueOfPropertyAt(ke.lineIndex,ke.charIndex,"deltaY"),Pe={fontSize:Oe*e.size,deltaY:Ee+Oe*e.baseline};return this.setSelectionStyles(Pe,Fe,Te),this},_getLineLeftOffset:function(Fe){var Te=this.getLineWidth(Fe),e=this.width-Te,ke=this.textAlign,Oe=this.direction,Pe,Ee=0,Pe=this.isEndOfWrapping(Fe);return ke==="justify"||ke==="justify-center"&&!Pe||ke==="justify-right"&&!Pe||ke==="justify-left"&&!Pe?0:(ke==="center"&&(Ee=e/2),ke==="right"&&(Ee=e),ke==="justify-center"&&(Ee=e/2),ke==="justify-right"&&(Ee=e),Oe==="rtl"&&(Ee-=e),Ee)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var Fe=this._forceClearCache;return Fe||(Fe=this.hasStateChanged("_dimensionAffectingProps")),Fe&&(this.dirty=!0,this._forceClearCache=!1),Fe},getLineWidth:function(Fe){if(this.__lineWidths[Fe]!==void 0)return this.__lineWidths[Fe];var Te=this.measureLine(Fe),e=Te.width;return this.__lineWidths[Fe]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(Fe,Te,e){var ke=this._getStyleDeclaration(Fe,Te);return ke&&typeof ke[e]<"u"?ke[e]:this[e]},_renderTextDecoration:function(Fe,Te){if(!(!this[Te]&&!this.styleHas(Te))){for(var e,ke,Oe,Ee,Pe,De,Me,Ae,Be=this._getLeftOffset(),He=this._getTopOffset(),je,Xe,St,qe,Ye,gi,ai,ui,Qe=this.path,Ze=this._getWidthOfCharSpacing(),ci=this.offsets[Te],ze=0,We=this._textLines.length;ze<We;ze++){if(e=this.getHeightOfLine(ze),!this[Te]&&!this.styleHas(Te,ze)){He+=e;continue}Me=this._textLines[ze],gi=e/this.lineHeight,Ee=this._getLineLeftOffset(ze),Xe=0,St=0,Ae=this.getValueOfPropertyAt(ze,0,Te),ui=this.getValueOfPropertyAt(ze,0,"fill"),je=He+gi*(1-this._fontSizeFraction),ke=this.getHeightOfChar(ze,0),Pe=this.getValueOfPropertyAt(ze,0,"deltaY");for(var si=0,ni=Me.length;si<ni;si++)if(qe=this.__charBounds[ze][si],Ye=this.getValueOfPropertyAt(ze,si,Te),ai=this.getValueOfPropertyAt(ze,si,"fill"),Oe=this.getHeightOfChar(ze,si),De=this.getValueOfPropertyAt(ze,si,"deltaY"),Qe&&Ye&&ai)Fe.save(),Fe.fillStyle=ui,Fe.translate(qe.renderLeft,qe.renderTop),Fe.rotate(qe.angle),Fe.fillRect(-qe.kernedWidth/2,ci*Oe+De,qe.kernedWidth,this.fontSize/15),Fe.restore();else if((Ye!==Ae||ai!==ui||Oe!==ke||De!==Pe)&&St>0){var $e=Be+Ee+Xe;this.direction==="rtl"&&($e=this.width-$e-St),Ae&&ui&&(Fe.fillStyle=ui,Fe.fillRect($e,je+ci*ke+Pe,St,this.fontSize/15)),Xe=qe.left,St=qe.width,Ae=Ye,ui=ai,ke=Oe,Pe=De}else St+=qe.kernedWidth;var $e=Be+Ee+Xe;this.direction==="rtl"&&($e=this.width-$e-St),Fe.fillStyle=ai,Ye&&ai&&Fe.fillRect($e,je+ci*ke+Pe,St-Ze,this.fontSize/15),He+=e}this._removeShadow(Fe)}},_getFontDeclaration:function(Fe,Te){var e=Fe||this,ke=this.fontFamily,Oe=_e.Text.genericFonts.indexOf(ke.toLowerCase())>-1,Ee=ke===void 0||ke.indexOf("'")>-1||ke.indexOf(",")>-1||ke.indexOf('"')>-1||Oe?e.fontFamily:'"'+e.fontFamily+'"';return[_e.isLikelyNode?e.fontWeight:e.fontStyle,_e.isLikelyNode?e.fontStyle:e.fontWeight,Te?this.CACHE_FONT_SIZE+"px":e.fontSize+"px",Ee].join(" ")},render:function(Fe){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",Fe))},_splitTextIntoLines:function(Fe){for(var Te=Fe.split(this._reNewline),e=new Array(Te.length),ke=[`
`],Oe=[],Ee=0;Ee<Te.length;Ee++)e[Ee]=_e.util.string.graphemeSplit(Te[Ee]),Oe=Oe.concat(e[Ee],ke);return Oe.pop(),{_unwrappedLines:e,lines:Te,graphemeText:Oe,graphemeLines:e}},toObject:function(Fe){var Te=xe.concat(Fe),e=this.callSuper("toObject",Te);return e.styles=_e.util.stylesToArray(this.styles,this.text),e.path&&(e.path=this.path.toObject()),e},set:function(Fe,Te){this.callSuper("set",Fe,Te);var e=!1,ke=!1;if(typeof Fe=="object")for(var Oe in Fe)Oe==="path"&&this.setPathInfo(),e=e||this._dimensionAffectingProps.indexOf(Oe)!==-1,ke=ke||Oe==="path";else e=this._dimensionAffectingProps.indexOf(Fe)!==-1,ke=Fe==="path";return ke&&this.setPathInfo(),e&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),_e.Text.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),_e.Text.DEFAULT_SVG_FONT_SIZE=16,_e.Text.fromElement=function(Fe,Te,e){if(!Fe)return Te(null);var ke=_e.parseAttributes(Fe,_e.Text.ATTRIBUTE_NAMES),Oe=ke.textAnchor||"left";if(e=_e.util.object.extend(e?t(e):{},ke),e.top=e.top||0,e.left=e.left||0,ke.textDecoration){var Ee=ke.textDecoration;Ee.indexOf("underline")!==-1&&(e.underline=!0),Ee.indexOf("overline")!==-1&&(e.overline=!0),Ee.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in ke&&(e.left+=ke.dx),"dy"in ke&&(e.top+=ke.dy),"fontSize"in e||(e.fontSize=_e.Text.DEFAULT_SVG_FONT_SIZE);var Pe="";"textContent"in Fe?Pe=Fe.textContent:"firstChild"in Fe&&Fe.firstChild!==null&&"data"in Fe.firstChild&&Fe.firstChild.data!==null&&(Pe=Fe.firstChild.data),Pe=Pe.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var De=e.strokeWidth;e.strokeWidth=0;var Me=new _e.Text(Pe,e),Ae=Me.getScaledHeight()/Me.height,Be=(Me.height+Me.strokeWidth)*Me.lineHeight-Me.height,He=Be*Ae,je=Me.getScaledHeight()+He,Xe=0;Oe==="center"&&(Xe=Me.getScaledWidth()/2),Oe==="right"&&(Xe=Me.getScaledWidth()),Me.set({left:Me.left-Xe,top:Me.top-(je-Me.fontSize*(.07+Me._fontSizeFraction))/Me.lineHeight,strokeWidth:typeof De<"u"?De:1}),Te(Me)},_e.Text.fromObject=function(Fe,Te){var e=t(Fe),ke=Fe.path;return delete e.path,_e.Object._fromObject("Text",e,function(Oe){Oe.styles=_e.util.stylesFromArray(Fe.styles,Fe.text),ke?_e.Object._fromObject("Path",ke,function(Ee){Oe.set("path",Ee),Te(Oe)},"path"):Te(Oe)},"text")},_e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],_e.util.createAccessors&&_e.util.createAccessors(_e.Text)}(Ce),function(){r.util.object.extend(r.Text.prototype,{isEmptyStyles:function(Se){if(!this.styles||typeof Se<"u"&&!this.styles[Se])return!0;var _e=typeof Se>"u"?this.styles:{line:this.styles[Se]};for(var t in _e)for(var xe in _e[t])for(var Fe in _e[t][xe])return!1;return!0},styleHas:function(Se,_e){if(!this.styles||!Se||Se===""||typeof _e<"u"&&!this.styles[_e])return!1;var t=typeof _e>"u"?this.styles:{0:this.styles[_e]};for(var xe in t)for(var Fe in t[xe])if(typeof t[xe][Fe][Se]<"u")return!0;return!1},cleanStyle:function(Se){if(!this.styles||!Se||Se==="")return!1;var _e=this.styles,t=0,xe,Fe,Te=!0,e=0,ke;for(var Oe in _e){xe=0;for(var Ee in _e[Oe]){var ke=_e[Oe][Ee],Pe=ke.hasOwnProperty(Se);t++,Pe?(Fe?ke[Se]!==Fe&&(Te=!1):Fe=ke[Se],ke[Se]===this[Se]&&delete ke[Se]):Te=!1,Object.keys(ke).length!==0?xe++:delete _e[Oe][Ee]}xe===0&&delete _e[Oe]}for(var De=0;De<this._textLines.length;De++)e+=this._textLines[De].length;Te&&t===e&&(this[Se]=Fe,this.removeStyle(Se))},removeStyle:function(Se){if(!(!this.styles||!Se||Se==="")){var _e=this.styles,t,xe,Fe;for(xe in _e){t=_e[xe];for(Fe in t)delete t[Fe][Se],Object.keys(t[Fe]).length===0&&delete t[Fe];Object.keys(t).length===0&&delete _e[xe]}}},_extendStyles:function(Se,_e){var t=this.get2DCursorLocation(Se);this._getLineStyle(t.lineIndex)||this._setLineStyle(t.lineIndex),this._getStyleDeclaration(t.lineIndex,t.charIndex)||this._setStyleDeclaration(t.lineIndex,t.charIndex,{}),r.util.object.extend(this._getStyleDeclaration(t.lineIndex,t.charIndex),_e)},get2DCursorLocation:function(Se,_e){typeof Se>"u"&&(Se=this.selectionStart);for(var t=_e?this._unwrappedTextLines:this._textLines,xe=t.length,Fe=0;Fe<xe;Fe++){if(Se<=t[Fe].length)return{lineIndex:Fe,charIndex:Se};Se-=t[Fe].length+this.missingNewlineOffset(Fe)}return{lineIndex:Fe-1,charIndex:t[Fe-1].length<Se?t[Fe-1].length:Se}},getSelectionStyles:function(Se,_e,t){typeof Se>"u"&&(Se=this.selectionStart||0),typeof _e>"u"&&(_e=this.selectionEnd||Se);for(var xe=[],Fe=Se;Fe<_e;Fe++)xe.push(this.getStyleAtPosition(Fe,t));return xe},getStyleAtPosition:function(Se,_e){var t=this.get2DCursorLocation(Se),xe=_e?this.getCompleteStyleDeclaration(t.lineIndex,t.charIndex):this._getStyleDeclaration(t.lineIndex,t.charIndex);return xe||{}},setSelectionStyles:function(Se,_e,t){typeof _e>"u"&&(_e=this.selectionStart||0),typeof t>"u"&&(t=this.selectionEnd||_e);for(var xe=_e;xe<t;xe++)this._extendStyles(xe,Se);return this._forceClearCache=!0,this},_getStyleDeclaration:function(Se,_e){var t=this.styles&&this.styles[Se];return t?t[_e]:null},getCompleteStyleDeclaration:function(Se,_e){for(var t=this._getStyleDeclaration(Se,_e)||{},xe={},Fe,Te=0;Te<this._styleProperties.length;Te++)Fe=this._styleProperties[Te],xe[Fe]=typeof t[Fe]>"u"?this[Fe]:t[Fe];return xe},_setStyleDeclaration:function(Se,_e,t){this.styles[Se][_e]=t},_deleteStyleDeclaration:function(Se,_e){delete this.styles[Se][_e]},_getLineStyle:function(Se){return!!this.styles[Se]},_setLineStyle:function(Se){this.styles[Se]={}},_deleteLineStyle:function(Se){delete this.styles[Se]}})}(),function(){function Se(_e){_e.textDecoration&&(_e.textDecoration.indexOf("underline")>-1&&(_e.underline=!0),_e.textDecoration.indexOf("line-through")>-1&&(_e.linethrough=!0),_e.textDecoration.indexOf("overline")>-1&&(_e.overline=!0),delete _e.textDecoration)}r.IText=r.util.createClass(r.Text,r.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(_e,t){this.callSuper("initialize",_e,t),this.initBehavior()},setSelectionStart:function(_e){_e=Math.max(_e,0),this._updateAndFire("selectionStart",_e)},setSelectionEnd:function(_e){_e=Math.min(_e,this.text.length),this._updateAndFire("selectionEnd",_e)},_updateAndFire:function(_e,t){this[_e]!==t&&(this._fireSelectionChanged(),this[_e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(_e){this.clearContextTop(),this.callSuper("render",_e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(_e){this.callSuper("_render",_e)},clearContextTop:function(_e){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var t=this.canvas.contextTop,xe=this.canvas.viewportTransform;t.save(),t.transform(xe[0],xe[1],xe[2],xe[3],xe[4],xe[5]),this.transform(t),this._clearTextArea(t),_e||t.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var _e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(_e,t):this.renderSelection(_e,t),t.restore()}},_clearTextArea:function(_e){var t=this.width+4,xe=this.height+4;_e.clearRect(-t/2,-xe/2,t,xe)},_getCursorBoundaries:function(_e){typeof _e>"u"&&(_e=this.selectionStart);var t=this._getLeftOffset(),xe=this._getTopOffset(),Fe=this._getCursorBoundariesOffsets(_e);return{left:t,top:xe,leftOffset:Fe.left,topOffset:Fe.top}},_getCursorBoundariesOffsets:function(_e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,xe,Fe,Te=0,e=0,ke,Oe=this.get2DCursorLocation(_e);Fe=Oe.charIndex,xe=Oe.lineIndex;for(var Ee=0;Ee<xe;Ee++)Te+=this.getHeightOfLine(Ee);t=this._getLineLeftOffset(xe);var Pe=this.__charBounds[xe][Fe];return Pe&&(e=Pe.left),this.charSpacing!==0&&Fe===this._textLines[xe].length&&(e-=this._getWidthOfCharSpacing()),ke={top:Te,left:t+(e>0?e:0)},this.direction==="rtl"&&(ke.left*=-1),this.cursorOffsetCache=ke,this.cursorOffsetCache},renderCursor:function(_e,t){var xe=this.get2DCursorLocation(),Fe=xe.lineIndex,Te=xe.charIndex>0?xe.charIndex-1:0,e=this.getValueOfPropertyAt(Fe,Te,"fontSize"),ke=this.scaleX*this.canvas.getZoom(),Oe=this.cursorWidth/ke,Ee=_e.topOffset,Pe=this.getValueOfPropertyAt(Fe,Te,"deltaY");Ee+=(1-this._fontSizeFraction)*this.getHeightOfLine(Fe)/this.lineHeight-e*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(_e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(Fe,Te,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(_e.left+_e.leftOffset-Oe/2,Ee+_e.top+Pe,Oe,e)},renderSelection:function(_e,t){for(var xe=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,Fe=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,Te=this.textAlign.indexOf("justify")!==-1,e=this.get2DCursorLocation(xe),ke=this.get2DCursorLocation(Fe),Oe=e.lineIndex,Ee=ke.lineIndex,Pe=e.charIndex<0?0:e.charIndex,De=ke.charIndex<0?0:ke.charIndex,Me=Oe;Me<=Ee;Me++){var Ae=this._getLineLeftOffset(Me)||0,Be=this.getHeightOfLine(Me),He=0,je=0,Xe=0;if(Me===Oe&&(je=this.__charBounds[Oe][Pe].left),Me>=Oe&&Me<Ee)Xe=Te&&!this.isEndOfWrapping(Me)?this.width:this.getLineWidth(Me)||5;else if(Me===Ee)if(De===0)Xe=this.__charBounds[Ee][De].left;else{var St=this._getWidthOfCharSpacing();Xe=this.__charBounds[Ee][De-1].left+this.__charBounds[Ee][De-1].width-St}He=Be,(this.lineHeight<1||Me===Ee&&this.lineHeight>1)&&(Be/=this.lineHeight);var qe=_e.left+Ae+je,Ye=Xe-je,gi=Be,ai=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",gi=1,ai=Be):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(qe=this.width-qe-Ye),t.fillRect(qe,_e.top+_e.topOffset+ai,Ye,gi),_e.topOffset+=He}},getCurrentCharFontSize:function(){var _e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(_e.l,_e.c,"fontSize")},getCurrentCharColor:function(){var _e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(_e.l,_e.c,"fill")},_getCurrentCharIndex:function(){var _e=this.get2DCursorLocation(this.selectionStart,!0),t=_e.charIndex>0?_e.charIndex-1:0;return{l:_e.lineIndex,c:t}}}),r.IText.fromObject=function(_e,t){var xe=r.util.stylesFromArray(_e.styles,_e.text),Fe=Object.assign({},_e,{styles:xe});if(Se(Fe),Fe.styles)for(var Te in Fe.styles)for(var e in Fe.styles[Te])Se(Fe.styles[Te][e]);r.Object._fromObject("IText",Fe,t,"text")}}(),function(){var Se=r.util.object.clone;r.util.object.extend(r.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var _e=this;this.on("added",function(){var t=_e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,_e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(_e))})},initRemovedHandler:function(){var _e=this;this.on("removed",function(){var t=_e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],r.util.removeFromArray(t._iTextInstances,_e),t._iTextInstances.length===0&&(t._hasITextHandlers=!1,_e._removeCanvasHandlers(t)))})},_initCanvasHandlers:function(_e){_e._mouseUpITextHandler=function(){_e._iTextInstances&&_e._iTextInstances.forEach(function(t){t.__isMousedown=!1})},_e.on("mouse:up",_e._mouseUpITextHandler)},_removeCanvasHandlers:function(_e){_e.off("mouse:up",_e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(_e,t,xe,Fe){var Te;return Te={isAborted:!1,abort:function(){this.isAborted=!0}},_e.animate("_currentCursorOpacity",t,{duration:xe,onComplete:function(){Te.isAborted||_e[Fe]()},onChange:function(){_e.canvas&&_e.selectionStart===_e.selectionEnd&&_e.renderCursorOrSelection()},abort:function(){return Te.isAborted}}),Te},_onTickComplete:function(){var _e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){_e._currentTickCompleteState=_e._animateCursor(_e,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(_e){var t=this,xe=_e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){t._tick()},xe)},abortCursorAnimation:function(){var _e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,_e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(_e){var t=0,xe=_e-1;if(this._reSpace.test(this._text[xe]))for(;this._reSpace.test(this._text[xe]);)t++,xe--;for(;/\S/.test(this._text[xe])&&xe>-1;)t++,xe--;return _e-t},findWordBoundaryRight:function(_e){var t=0,xe=_e;if(this._reSpace.test(this._text[xe]))for(;this._reSpace.test(this._text[xe]);)t++,xe++;for(;/\S/.test(this._text[xe])&&xe<this._text.length;)t++,xe++;return _e+t},findLineBoundaryLeft:function(_e){for(var t=0,xe=_e-1;!/\n/.test(this._text[xe])&&xe>-1;)t++,xe--;return _e-t},findLineBoundaryRight:function(_e){for(var t=0,xe=_e;!/\n/.test(this._text[xe])&&xe<this._text.length;)t++,xe++;return _e+t},searchWordBoundary:function(_e,t){for(var xe=this._text,Fe=this._reSpace.test(xe[_e])?_e-1:_e,Te=xe[Fe],e=r.reNonWord;!e.test(Te)&&Fe>0&&Fe<xe.length;)Fe+=t,Te=xe[Fe];return e.test(Te)&&(Fe+=t===1?0:1),Fe},selectWord:function(_e){_e=_e||this.selectionStart;var t=this.searchWordBoundary(_e,-1),xe=this.searchWordBoundary(_e,1);this.selectionStart=t,this.selectionEnd=xe,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(_e){_e=_e||this.selectionStart;var t=this.findLineBoundaryLeft(_e),xe=this.findLineBoundaryRight(_e);return this.selectionStart=t,this.selectionEnd=xe,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(_e){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(_e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(_e){_e._iTextInstances&&_e._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(_e){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var t=this.getSelectionStartFromPointer(_e.e),xe=this.selectionStart,Fe=this.selectionEnd;(t!==this.__selectionStartOnMouseDown||xe===Fe)&&(xe===t||Fe===t)||(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==xe||this.selectionEnd!==Fe)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(_e,t,xe){var Fe=xe.slice(0,_e),Te=r.util.string.graphemeSplit(Fe).length;if(_e===t)return{selectionStart:Te,selectionEnd:Te};var e=xe.slice(_e,t),ke=r.util.string.graphemeSplit(e).length;return{selectionStart:Te,selectionEnd:Te+ke}},fromGraphemeToStringSelection:function(_e,t,xe){var Fe=xe.slice(0,_e),Te=Fe.join("").length;if(_e===t)return{selectionStart:Te,selectionEnd:Te};var e=xe.slice(_e,t),ke=e.join("").length;return{selectionStart:Te,selectionEnd:Te+ke}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var _e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=_e.selectionStart,this.hiddenTextarea.selectionEnd=_e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var _e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=_e.selectionEnd,this.inCompositionMode||(this.selectionStart=_e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var _e=this._calcTextareaPosition();this.hiddenTextarea.style.left=_e.left,this.hiddenTextarea.style.top=_e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var _e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(_e),xe=this.get2DCursorLocation(_e),Fe=xe.lineIndex,Te=xe.charIndex,e=this.getValueOfPropertyAt(Fe,Te,"fontSize")*this.lineHeight,ke=t.leftOffset,Oe=this.calcTransformMatrix(),Ee={x:t.left+ke,y:t.top+t.topOffset+e},Pe=this.canvas.getRetinaScaling(),De=this.canvas.upperCanvasEl,Me=De.width/Pe,Ae=De.height/Pe,Be=Me-e,He=Ae-e,je=De.clientWidth/Me,Xe=De.clientHeight/Ae;return Ee=r.util.transformPoint(Ee,Oe),Ee=r.util.transformPoint(Ee,this.canvas.viewportTransform),Ee.x*=je,Ee.y*=Xe,Ee.x<0&&(Ee.x=0),Ee.x>Be&&(Ee.x=Be),Ee.y<0&&(Ee.y=0),Ee.y>He&&(Ee.y=He),Ee.x+=this.canvas._offset.left,Ee.y+=this.canvas._offset.top,{left:Ee.x+"px",top:Ee.y+"px",fontSize:e+"px",charHeight:e}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var _e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),_e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),_e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var _e in this.styles)this._textLines[_e]||delete this.styles[_e]},removeStyleFromTo:function(_e,t){var xe=this.get2DCursorLocation(_e,!0),Fe=this.get2DCursorLocation(t,!0),Te=xe.lineIndex,e=xe.charIndex,ke=Fe.lineIndex,Oe=Fe.charIndex,Ee,Pe;if(Te!==ke){if(this.styles[Te])for(Ee=e;Ee<this._unwrappedTextLines[Te].length;Ee++)delete this.styles[Te][Ee];if(this.styles[ke])for(Ee=Oe;Ee<this._unwrappedTextLines[ke].length;Ee++)Pe=this.styles[ke][Ee],Pe&&(this.styles[Te]||(this.styles[Te]={}),this.styles[Te][e+Ee-Oe]=Pe);for(Ee=Te+1;Ee<=ke;Ee++)delete this.styles[Ee];this.shiftLineStyles(ke,Te-ke)}else if(this.styles[Te]){Pe=this.styles[Te];var De=Oe-e,Me,Ae;for(Ee=e;Ee<Oe;Ee++)delete Pe[Ee];for(Ae in this.styles[Te])Me=parseInt(Ae,10),Me>=Oe&&(Pe[Me-De]=Pe[Ae],delete Pe[Ae])}},shiftLineStyles:function(_e,t){var xe=Se(this.styles);for(var Fe in this.styles){var Te=parseInt(Fe,10);Te>_e&&(this.styles[Te+t]=xe[Te],xe[Te-t]||delete this.styles[Te])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(_e,t,xe,Fe){var Te,e={},ke=!1,Oe=this._unwrappedTextLines[_e].length===t;xe||(xe=1),this.shiftLineStyles(_e,xe),this.styles[_e]&&(Te=this.styles[_e][t===0?t:t-1]);for(var Ee in this.styles[_e]){var Pe=parseInt(Ee,10);Pe>=t&&(ke=!0,e[Pe-t]=this.styles[_e][Ee],Oe&&t===0||delete this.styles[_e][Ee])}var De=!1;for(ke&&!Oe&&(this.styles[_e+xe]=e,De=!0),De&&xe--;xe>0;)Fe&&Fe[xe-1]?this.styles[_e+xe]={0:Se(Fe[xe-1])}:Te?this.styles[_e+xe]={0:Se(Te)}:delete this.styles[_e+xe],xe--;this._forceClearCache=!0},insertCharStyleObject:function(_e,t,xe,Fe){this.styles||(this.styles={});var Te=this.styles[_e],e=Te?Se(Te):{};xe||(xe=1);for(var ke in e){var Oe=parseInt(ke,10);Oe>=t&&(Te[Oe+xe]=e[Oe],e[Oe-xe]||delete Te[Oe])}if(this._forceClearCache=!0,Fe){for(;xe--;)!Object.keys(Fe[xe]).length||(this.styles[_e]||(this.styles[_e]={}),this.styles[_e][t+xe]=Se(Fe[xe]));return}if(!!Te)for(var Ee=Te[t?t-1:1];Ee&&xe--;)this.styles[_e][t+xe]=Se(Ee)},insertNewStyleBlock:function(_e,t,xe){for(var Fe=this.get2DCursorLocation(t,!0),Te=[0],e=0,ke=0;ke<_e.length;ke++)_e[ke]===`
`?(e++,Te[e]=0):Te[e]++;Te[0]>0&&(this.insertCharStyleObject(Fe.lineIndex,Fe.charIndex,Te[0],xe),xe=xe&&xe.slice(Te[0]+1)),e&&this.insertNewlineStyleObject(Fe.lineIndex,Fe.charIndex+Te[0],e);for(var ke=1;ke<e;ke++)Te[ke]>0?this.insertCharStyleObject(Fe.lineIndex+ke,0,Te[ke],xe):xe&&this.styles[Fe.lineIndex+ke]&&xe[0]&&(this.styles[Fe.lineIndex+ke][0]=xe[0]),xe=xe&&xe.slice(Te[ke]+1);Te[ke]>0&&this.insertCharStyleObject(Fe.lineIndex+ke,0,Te[ke],xe)},setSelectionStartEndWithShift:function(_e,t,xe){xe<=_e?(t===_e?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=_e),this.selectionStart=xe):xe>_e&&xe<t?this._selectionDirection==="right"?this.selectionEnd=xe:this.selectionStart=xe:(t===_e?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=xe)},setSelectionInBoundaries:function(){var _e=this.text.length;this.selectionStart>_e?this.selectionStart=_e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>_e?this.selectionEnd=_e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),r.util.object.extend(r.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(Se){if(!!this.canvas){this.__newClickTime=+new Date;var _e=Se.pointer;this.isTripleClick(_e)&&(this.fire("tripleclick",Se),this._stopEvent(Se.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=_e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(Se){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===Se.x&&this.__lastPointer.y===Se.y},_stopEvent:function(Se){Se.preventDefault&&Se.preventDefault(),Se.stopPropagation&&Se.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(Se){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(Se.e))},tripleClickHandler:function(Se){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(Se.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(Se){!this.canvas||!this.editable||Se.e.button&&Se.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(Se.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(Se){!this.canvas||!this.editable||Se.e.button&&Se.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(Se){if(this.__isMousedown=!1,!(!this.editable||this.group||Se.transform&&Se.transform.actionPerformed||Se.e.button&&Se.e.button!==1)){if(this.canvas){var _e=this.canvas._activeObject;if(_e&&_e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(Se.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(Se){var _e=this.getSelectionStartFromPointer(Se),t=this.selectionStart,xe=this.selectionEnd;Se.shiftKey?this.setSelectionStartEndWithShift(t,xe,_e):(this.selectionStart=_e,this.selectionEnd=_e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(Se){for(var _e=this.getLocalPointer(Se),t=0,xe=0,Fe=0,Te=0,e=0,ke,Oe,Ee=0,Pe=this._textLines.length;Ee<Pe&&Fe<=_e.y;Ee++)Fe+=this.getHeightOfLine(Ee)*this.scaleY,e=Ee,Ee>0&&(Te+=this._textLines[Ee-1].length+this.missingNewlineOffset(Ee-1));ke=this._getLineLeftOffset(e),xe=ke*this.scaleX,Oe=this._textLines[e],this.direction==="rtl"&&(_e.x=this.width*this.scaleX-_e.x+xe);for(var De=0,Me=Oe.length;De<Me&&(t=xe,xe+=this.__charBounds[e][De].kernedWidth*this.scaleX,xe<=_e.x);De++)Te++;return this._getNewSelectionStartFromOffset(_e,t,xe,Te,Me)},_getNewSelectionStartFromOffset:function(Se,_e,t,xe,Fe){var Te=Se.x-_e,e=t-Se.x,ke=e>Te||e<0?0:1,Oe=xe+ke;return this.flipX&&(Oe=Fe-Oe),Oe>this._text.length&&(Oe=this._text.length),Oe}}),r.util.object.extend(r.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=r.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var Se=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+Se.top+"; left: "+Se.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+Se.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):r.document.body.appendChild(this.hiddenTextarea),r.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),r.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),r.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),r.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(r.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(Se){if(!!this.isEditing){var _e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(Se.keyCode in _e)this[_e[Se.keyCode]](Se);else if(Se.keyCode in this.ctrlKeysMapDown&&(Se.ctrlKey||Se.metaKey))this[this.ctrlKeysMapDown[Se.keyCode]](Se);else return;Se.stopImmediatePropagation(),Se.preventDefault(),Se.keyCode>=33&&Se.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(Se){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(Se.keyCode in this.ctrlKeysMapUp&&(Se.ctrlKey||Se.metaKey))this[this.ctrlKeysMapUp[Se.keyCode]](Se);else return;Se.stopImmediatePropagation(),Se.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(Se){var _e=this.fromPaste;if(this.fromPaste=!1,Se&&Se.stopPropagation(),!!this.isEditing){var t=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,xe=this._text.length,Fe=t.length,Te,e,ke=Fe-xe,Oe=this.selectionStart,Ee=this.selectionEnd,Pe=Oe!==Ee,De,Me,Ae;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var Be=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),He=Oe>Be.selectionStart;Pe?(Te=this._text.slice(Oe,Ee),ke+=Ee-Oe):Fe<xe&&(He?Te=this._text.slice(Ee+ke,Ee):Te=this._text.slice(Oe,Oe-ke)),e=t.slice(Be.selectionEnd-ke,Be.selectionEnd),Te&&Te.length&&(e.length&&(De=this.getSelectionStyles(Oe,Oe+1,!1),De=e.map(function(){return De[0]})),Pe?(Me=Oe,Ae=Ee):He?(Me=Ee-Te.length,Ae=Ee):(Me=Ee,Ae=Ee+Te.length),this.removeStyleFromTo(Me,Ae)),e.length&&(_e&&e.join("")===r.copiedText&&!r.disableStyleCopyPaste&&(De=r.copiedTextStyle),this.insertNewStyleBlock(e,Oe,De)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(Se){this.compositionStart=Se.target.selectionStart,this.compositionEnd=Se.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(r.copiedText=this.getSelectedText(),r.disableStyleCopyPaste?r.copiedTextStyle=null:r.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(Se){return Se&&Se.clipboardData||r.window.clipboardData},_getWidthBeforeCursor:function(Se,_e){var t=this._getLineLeftOffset(Se),xe;return _e>0&&(xe=this.__charBounds[Se][_e-1],t+=xe.left+xe.width),t},getDownCursorOffset:function(Se,_e){var t=this._getSelectionForOffset(Se,_e),xe=this.get2DCursorLocation(t),Fe=xe.lineIndex;if(Fe===this._textLines.length-1||Se.metaKey||Se.keyCode===34)return this._text.length-t;var Te=xe.charIndex,e=this._getWidthBeforeCursor(Fe,Te),ke=this._getIndexOnLine(Fe+1,e),Oe=this._textLines[Fe].slice(Te);return Oe.length+ke+1+this.missingNewlineOffset(Fe)},_getSelectionForOffset:function(Se,_e){return Se.shiftKey&&this.selectionStart!==this.selectionEnd&&_e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(Se,_e){var t=this._getSelectionForOffset(Se,_e),xe=this.get2DCursorLocation(t),Fe=xe.lineIndex;if(Fe===0||Se.metaKey||Se.keyCode===33)return-t;var Te=xe.charIndex,e=this._getWidthBeforeCursor(Fe,Te),ke=this._getIndexOnLine(Fe-1,e),Oe=this._textLines[Fe].slice(0,Te),Ee=this.missingNewlineOffset(Fe-1);return-this._textLines[Fe-1].length+ke-Oe.length+(1-Ee)},_getIndexOnLine:function(Se,_e){for(var t=this._textLines[Se],xe=this._getLineLeftOffset(Se),Fe=xe,Te=0,e,ke,Oe=0,Ee=t.length;Oe<Ee;Oe++)if(e=this.__charBounds[Se][Oe].width,Fe+=e,Fe>_e){ke=!0;var Pe=Fe-e,De=Fe,Me=Math.abs(Pe-_e),Ae=Math.abs(De-_e);Te=Ae<Me?Oe:Oe-1;break}return ke||(Te=t.length-1),Te},moveCursorDown:function(Se){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",Se)},moveCursorUp:function(Se){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",Se)},_moveCursorUpOrDown:function(Se,_e){var t="get"+Se+"CursorOffset",xe=this[t](_e,this._selectionDirection==="right");_e.shiftKey?this.moveCursorWithShift(xe):this.moveCursorWithoutShift(xe),xe!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(Se){var _e=this._selectionDirection==="left"?this.selectionStart+Se:this.selectionEnd+Se;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,_e),Se!==0},moveCursorWithoutShift:function(Se){return Se<0?(this.selectionStart+=Se,this.selectionEnd=this.selectionStart):(this.selectionEnd+=Se,this.selectionStart=this.selectionEnd),Se!==0},moveCursorLeft:function(Se){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",Se)},_move:function(Se,_e,t){var xe;if(Se.altKey)xe=this["findWordBoundary"+t](this[_e]);else if(Se.metaKey||Se.keyCode===35||Se.keyCode===36)xe=this["findLineBoundary"+t](this[_e]);else return this[_e]+=t==="Left"?-1:1,!0;if(typeof xe<"u"&&this[_e]!==xe)return this[_e]=xe,!0},_moveLeft:function(Se,_e){return this._move(Se,_e,"Left")},_moveRight:function(Se,_e){return this._move(Se,_e,"Right")},moveCursorLeftWithoutShift:function(Se){var _e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(_e=this._moveLeft(Se,"selectionStart")),this.selectionEnd=this.selectionStart,_e},moveCursorLeftWithShift:function(Se){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(Se,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(Se,"selectionStart")},moveCursorRight:function(Se){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",Se)},_moveCursorLeftOrRight:function(Se,_e){var t="moveCursor"+Se+"With";this._currentCursorOpacity=1,_e.shiftKey?t+="Shift":t+="outShift",this[t](_e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(Se){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(Se,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(Se,"selectionEnd")},moveCursorRightWithoutShift:function(Se){var _e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(_e=this._moveRight(Se,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,_e},removeChars:function(Se,_e){typeof _e>"u"&&(_e=Se+1),this.removeStyleFromTo(Se,_e),this._text.splice(Se,_e-Se),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(Se,_e,t,xe){typeof xe>"u"&&(xe=t),xe>t&&this.removeStyleFromTo(t,xe);var Fe=r.util.string.graphemeSplit(Se);this.insertNewStyleBlock(Fe,t,_e),this._text=[].concat(this._text.slice(0,t),Fe,this._text.slice(xe)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var Se=r.util.toFixed,_e=/  +/g;r.util.object.extend(r.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),xe=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(xe)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var xe=!0,Fe=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",Fe?'text-decoration="'+Fe+'" ':"",'style="',this.getSvgStyles(xe),'"',this.addPaintOrder()," >",t.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(t,xe){var Fe=[],Te=[],e=t,ke;this._setSVGBg(Te);for(var Oe=0,Ee=this._textLines.length;Oe<Ee;Oe++)ke=this._getLineLeftOffset(Oe),(this.textBackgroundColor||this.styleHas("textBackgroundColor",Oe))&&this._setSVGTextLineBg(Te,Oe,xe+ke,e),this._setSVGTextLineText(Fe,Oe,xe+ke,e),e+=this.getHeightOfLine(Oe);return{textSpans:Fe,textBgRects:Te}},_createTextCharSpan:function(t,xe,Fe,Te){var e=t!==t.trim()||t.match(_e),ke=this.getSvgSpanStyles(xe,e),Oe=ke?'style="'+ke+'"':"",Ee=xe.deltaY,Pe="",De=r.Object.NUM_FRACTION_DIGITS;return Ee&&(Pe=' dy="'+Se(Ee,De)+'" '),['<tspan x="',Se(Fe,De),'" y="',Se(Te,De),'" ',Pe,Oe,">",r.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,xe,Fe,Te){var e=this.getHeightOfLine(xe),ke=this.textAlign.indexOf("justify")!==-1,Oe,Ee,Pe="",De,Me,Ae=0,Be=this._textLines[xe],He;Te+=e*(1-this._fontSizeFraction)/this.lineHeight;for(var je=0,Xe=Be.length-1;je<=Xe;je++)He=je===Xe||this.charSpacing,Pe+=Be[je],De=this.__charBounds[xe][je],Ae===0?(Fe+=De.kernedWidth-De.width,Ae+=De.width):Ae+=De.kernedWidth,ke&&!He&&this._reSpaceAndTab.test(Be[je])&&(He=!0),He||(Oe=Oe||this.getCompleteStyleDeclaration(xe,je),Ee=this.getCompleteStyleDeclaration(xe,je+1),He=r.util.hasStyleChanged(Oe,Ee,!0)),He&&(Me=this._getStyleDeclaration(xe,je)||{},t.push(this._createTextCharSpan(Pe,Me,Fe,Te)),Pe="",Oe=Ee,Fe+=Ae,Ae=0)},_pushTextBgRect:function(t,xe,Fe,Te,e,ke){var Oe=r.Object.NUM_FRACTION_DIGITS;t.push("		<rect ",this._getFillAttributes(xe),' x="',Se(Fe,Oe),'" y="',Se(Te,Oe),'" width="',Se(e,Oe),'" height="',Se(ke,Oe),`"></rect>
`)},_setSVGTextLineBg:function(t,xe,Fe,Te){for(var e=this._textLines[xe],ke=this.getHeightOfLine(xe)/this.lineHeight,Oe=0,Ee=0,Pe,De,Me=this.getValueOfPropertyAt(xe,0,"textBackgroundColor"),Ae=0,Be=e.length;Ae<Be;Ae++)Pe=this.__charBounds[xe][Ae],De=this.getValueOfPropertyAt(xe,Ae,"textBackgroundColor"),De!==Me?(Me&&this._pushTextBgRect(t,Me,Fe+Ee,Te,Oe,ke),Ee=Pe.left,Oe=Pe.width,Me=De):Oe+=Pe.kernedWidth;De&&this._pushTextBgRect(t,De,Fe+Ee,Te,Oe,ke)},_getFillAttributes:function(t){var xe=t&&typeof t=="string"?new r.Color(t):"";return!xe||!xe.getSource()||xe.getAlpha()===1?'fill="'+t+'"':'opacity="'+xe.getAlpha()+'" fill="'+xe.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(t){for(var xe=0,Fe=0,Te=0;Te<t;Te++)xe+=this.getHeightOfLine(Te);return Fe=this.getHeightOfLine(Te),{lineTop:xe,offset:(this._fontSizeMult-this._fontSizeFraction)*Fe/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){var xe=r.Object.prototype.getSvgStyles.call(this,t);return xe+" white-space: pre;"}})}(),function(Se){var _e=Se.fabric||(Se.fabric={});_e.Textbox=_e.util.createClass(_e.IText,_e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:_e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var xe=0,Fe=0,Te=0,e={},ke=0;ke<t.graphemeLines.length;ke++)t.graphemeText[Te]===`
`&&ke>0?(Fe=0,Te++,xe++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[Te])&&ke>0&&(Fe++,Te++),e[ke]={line:xe,offset:Fe},Te+=t.graphemeLines[ke].length,Fe+=t.graphemeLines[ke].length;return e},styleHas:function(t,xe){if(this._styleMap&&!this.isWrapping){var Fe=this._styleMap[xe];Fe&&(xe=Fe.line)}return _e.Text.prototype.styleHas.call(this,t,xe)},isEmptyStyles:function(t){if(!this.styles)return!0;var xe=0,Fe=t+1,Te,e,ke=!1,Oe=this._styleMap[t],Ee=this._styleMap[t+1];Oe&&(t=Oe.line,xe=Oe.offset),Ee&&(Fe=Ee.line,ke=Fe===t,Te=Ee.offset),e=typeof t>"u"?this.styles:{line:this.styles[t]};for(var Pe in e)for(var De in e[Pe])if(De>=xe&&(!ke||De<Te))for(var Me in e[Pe][De])return!1;return!0},_getStyleDeclaration:function(t,xe){if(this._styleMap&&!this.isWrapping){var Fe=this._styleMap[t];if(!Fe)return null;t=Fe.line,xe=Fe.offset+xe}return this.callSuper("_getStyleDeclaration",t,xe)},_setStyleDeclaration:function(t,xe,Fe){var Te=this._styleMap[t];t=Te.line,xe=Te.offset+xe,this.styles[t][xe]=Fe},_deleteStyleDeclaration:function(t,xe){var Fe=this._styleMap[t];t=Fe.line,xe=Fe.offset+xe,delete this.styles[t][xe]},_getLineStyle:function(t){var xe=this._styleMap[t];return!!this.styles[xe.line]},_setLineStyle:function(t){var xe=this._styleMap[t];this.styles[xe.line]={}},_wrapText:function(t,xe){var Fe=[],Te;for(this.isWrapping=!0,Te=0;Te<t.length;Te++)Fe=Fe.concat(this._wrapLine(t[Te],Te,xe));return this.isWrapping=!1,Fe},_measureWord:function(t,xe,Fe){var Te=0,e,ke=!0;Fe=Fe||0;for(var Oe=0,Ee=t.length;Oe<Ee;Oe++){var Pe=this._getGraphemeBox(t[Oe],xe,Oe+Fe,e,ke);Te+=Pe.kernedWidth,e=t[Oe]}return Te},_wrapLine:function(t,xe,Fe,qe){var e=0,ke=this.splitByGrapheme,Oe=[],Ee=[],Pe=ke?_e.util.string.graphemeSplit(t):t.split(this._wordJoiners),De="",Me=0,Ae=ke?"":" ",Be=0,He=0,je=0,Xe=!0,St=this._getWidthOfCharSpacing(),qe=qe||0;Pe.length===0&&Pe.push([]),Fe-=qe;for(var Ye=0;Ye<Pe.length;Ye++)De=ke?Pe[Ye]:_e.util.string.graphemeSplit(Pe[Ye]),Be=this._measureWord(De,xe,Me),Me+=De.length,e+=He+Be-St,e>Fe&&!Xe?(Oe.push(Ee),Ee=[],e=Be,Xe=!0):e+=St,!Xe&&!ke&&Ee.push(Ae),Ee=Ee.concat(De),He=ke?0:this._measureWord([Ae],xe,Me),Me++,Xe=!1,Be>je&&(je=Be);return Ye&&Oe.push(Ee),je+qe>this.dynamicMinWidth&&(this.dynamicMinWidth=je-St+qe),Oe},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var xe=_e.Text.prototype._splitTextIntoLines.call(this,t),Fe=this._wrapText(xe.lines,this.width),Te=new Array(Fe.length),e=0;e<Fe.length;e++)Te[e]=Fe[e].join("");return xe.lines=Te,xe.graphemeLines=Fe,xe},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var xe in this._styleMap)this._textLines[xe]&&(t[this._styleMap[xe].line]=1);for(var xe in this.styles)t[xe]||delete this.styles[xe]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),_e.Textbox.fromObject=function(t,xe){var Fe=_e.util.stylesFromArray(t.styles,t.text),Te=Object.assign({},t,{styles:Fe});return _e.Object._fromObject("Textbox",Te,xe,"text")}}(Ce),function(){var Se=r.controlsUtils,_e=Se.scaleSkewCursorStyleHandler,t=Se.scaleCursorStyleHandler,xe=Se.scalingEqually,Fe=Se.scalingYOrSkewingX,Te=Se.scalingXOrSkewingY,e=Se.scaleOrSkewActionName,ke=r.Object.prototype.controls;if(ke.ml=new r.Control({x:-.5,y:0,cursorStyleHandler:_e,actionHandler:Te,getActionName:e}),ke.mr=new r.Control({x:.5,y:0,cursorStyleHandler:_e,actionHandler:Te,getActionName:e}),ke.mb=new r.Control({x:0,y:.5,cursorStyleHandler:_e,actionHandler:Fe,getActionName:e}),ke.mt=new r.Control({x:0,y:-.5,cursorStyleHandler:_e,actionHandler:Fe,getActionName:e}),ke.tl=new r.Control({x:-.5,y:-.5,cursorStyleHandler:t,actionHandler:xe}),ke.tr=new r.Control({x:.5,y:-.5,cursorStyleHandler:t,actionHandler:xe}),ke.bl=new r.Control({x:-.5,y:.5,cursorStyleHandler:t,actionHandler:xe}),ke.br=new r.Control({x:.5,y:.5,cursorStyleHandler:t,actionHandler:xe}),ke.mtr=new r.Control({x:0,y:-.5,actionHandler:Se.rotationWithSnapping,cursorStyleHandler:Se.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),r.Textbox){var Oe=r.Textbox.prototype.controls={};Oe.mtr=ke.mtr,Oe.tr=ke.tr,Oe.br=ke.br,Oe.tl=ke.tl,Oe.bl=ke.bl,Oe.mt=ke.mt,Oe.mb=ke.mb,Oe.mr=new r.Control({x:.5,y:0,actionHandler:Se.changeWidth,cursorStyleHandler:_e,actionName:"resizing"}),Oe.ml=new r.Control({x:-.5,y:0,actionHandler:Se.changeWidth,cursorStyleHandler:_e,actionName:"resizing"})}}()})(fabric);const scriptRel="modulepreload",assetsURL=function(Ce){return"/fastsign/"+Ce},seen={},__vitePreload=function Ce(r,Ie,Re){if(!Ie||Ie.length===0)return r();const Ge=document.getElementsByTagName("link");return Promise.all(Ie.map(Je=>{if(Je=assetsURL(Je),Je in seen)return;seen[Je]=!0;const ii=Je.endsWith(".css"),Se=ii?'[rel="stylesheet"]':"";if(!!Re)for(let xe=Ge.length-1;xe>=0;xe--){const Fe=Ge[xe];if(Fe.href===Je&&(!ii||Fe.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Je}"]${Se}`))return;const t=document.createElement("link");if(t.rel=ii?"stylesheet":scriptRel,ii||(t.as="script",t.crossOrigin=""),t.href=Je,document.head.appendChild(t),ii)return new Promise((xe,Fe)=>{t.addEventListener("load",xe),t.addEventListener("error",()=>Fe(new Error(`Unable to preload CSS for ${Je}`)))})})).then(()=>r())};function _typeof(Ce){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(Ce)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ce,r){for(var Ie=new u16(31),Re=0;Re<31;++Re)Ie[Re]=r+=1<<Ce[Re-1];for(var Ge=new u32(Ie[30]),Re=1;Re<30;++Re)for(var Je=Ie[Re];Je<Ie[Re+1];++Je)Ge[Je]=Je-Ie[Re]<<5|Re;return[Ie,Ge]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(Ce,r,Ie){for(var Re=Ce.length,Ge=0,Je=new u16(r);Ge<Re;++Ge)++Je[Ce[Ge]-1];var ii=new u16(r);for(Ge=0;Ge<r;++Ge)ii[Ge]=ii[Ge-1]+Je[Ge-1]<<1;var Se;if(Ie){Se=new u16(1<<r);var _e=15-r;for(Ge=0;Ge<Re;++Ge)if(Ce[Ge])for(var t=Ge<<4|Ce[Ge],xe=r-Ce[Ge],Fe=ii[Ce[Ge]-1]++<<xe,Te=Fe|(1<<xe)-1;Fe<=Te;++Fe)Se[rev[Fe]>>>_e]=t}else for(Se=new u16(Re),Ge=0;Ge<Re;++Ge)Se[Ge]=rev[ii[Ce[Ge]-1]++]>>>15-Ce[Ge];return Se},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(Ce){for(var r=Ce[0],Ie=1;Ie<Ce.length;++Ie)Ce[Ie]>r&&(r=Ce[Ie]);return r},bits=function(Ce,r,Ie){var Re=r/8>>0;return(Ce[Re]|Ce[Re+1]<<8)>>>(r&7)&Ie},bits16=function(Ce,r){var Ie=r/8>>0;return(Ce[Ie]|Ce[Ie+1]<<8|Ce[Ie+2]<<16)>>>(r&7)},shft=function(Ce){return(Ce/8>>0)+(Ce&7&&1)},slc=function(Ce,r,Ie){(r==null||r<0)&&(r=0),(Ie==null||Ie>Ce.length)&&(Ie=Ce.length);var Re=new(Ce instanceof u16?u16:Ce instanceof u32?u32:u8)(Ie-r);return Re.set(Ce.subarray(r,Ie)),Re},inflt=function(Ce,r,Ie){var Re=Ce.length,Ge=!r||Ie,Je=!Ie||Ie.i;Ie||(Ie={}),r||(r=new u8(Re*3));var ii=function(ti){var hi=r.length;if(ti>hi){var yi=new u8(Math.max(hi*2,ti));yi.set(r),r=yi}},Se=Ie.f||0,_e=Ie.p||0,t=Ie.b||0,xe=Ie.l,Fe=Ie.d,Te=Ie.m,e=Ie.n,ke=Re*8;do{if(!xe){Ie.f=Se=bits(Ce,_e,1);var Oe=bits(Ce,_e+1,3);if(_e+=3,Oe)if(Oe==1)xe=flrm,Fe=fdrm,Te=9,e=5;else if(Oe==2){var Me=bits(Ce,_e,31)+257,Ae=bits(Ce,_e+10,15)+4,Be=Me+bits(Ce,_e+5,31)+1;_e+=14;for(var He=new u8(Be),je=new u8(19),Xe=0;Xe<Ae;++Xe)je[clim[Xe]]=bits(Ce,_e+Xe*3,7);_e+=Ae*3;var St=max(je),qe=(1<<St)-1;if(!Je&&_e+Be*(St+7)>ke)break;for(var Ye=hMap(je,St,1),Xe=0;Xe<Be;){var gi=Ye[bits(Ce,_e,qe)];_e+=gi&15;var Ee=gi>>>4;if(Ee<16)He[Xe++]=Ee;else{var ai=0,ui=0;for(Ee==16?(ui=3+bits(Ce,_e,3),_e+=2,ai=He[Xe-1]):Ee==17?(ui=3+bits(Ce,_e,7),_e+=3):Ee==18&&(ui=11+bits(Ce,_e,127),_e+=7);ui--;)He[Xe++]=ai}}var Qe=He.subarray(0,Me),Ze=He.subarray(Me);Te=max(Qe),e=max(Ze),xe=hMap(Qe,Te,1),Fe=hMap(Ze,e,1)}else throw"invalid block type";else{var Ee=shft(_e)+4,Pe=Ce[Ee-4]|Ce[Ee-3]<<8,De=Ee+Pe;if(De>Re){if(Je)throw"unexpected EOF";break}Ge&&ii(t+Pe),r.set(Ce.subarray(Ee,De),t),Ie.b=t+=Pe,Ie.p=_e=De*8;continue}if(_e>ke)throw"unexpected EOF"}Ge&&ii(t+131072);for(var ci=(1<<Te)-1,ze=(1<<e)-1,We=Te+e+18;Je||_e+We<ke;){var ai=xe[bits16(Ce,_e)&ci],si=ai>>>4;if(_e+=ai&15,_e>ke)throw"unexpected EOF";if(!ai)throw"invalid length/literal";if(si<256)r[t++]=si;else if(si==256){xe=null;break}else{var ni=si-254;if(si>264){var Xe=si-257,$e=fleb[Xe];ni=bits(Ce,_e,(1<<$e)-1)+fl[Xe],_e+=$e}var Ke=Fe[bits16(Ce,_e)&ze],Ve=Ke>>>4;if(!Ke)throw"invalid distance";_e+=Ke&15;var Ze=fd[Ve];if(Ve>3){var $e=fdeb[Ve];Ze+=bits16(Ce,_e)&(1<<$e)-1,_e+=$e}if(_e>ke)throw"unexpected EOF";Ge&&ii(t+131072);for(var Ue=t+ni;t<Ue;t+=4)r[t]=r[t-Ze],r[t+1]=r[t+1-Ze],r[t+2]=r[t+2-Ze],r[t+3]=r[t+3-Ze];t=Ue}}Ie.l=xe,Ie.p=_e,Ie.b=t,xe&&(Se=1,Ie.m=Te,Ie.d=Fe,Ie.n=e)}while(!Se);return t==r.length?r:slc(r,0,t)},wbits=function(Ce,r,Ie){Ie<<=r&7;var Re=r/8>>0;Ce[Re]|=Ie,Ce[Re+1]|=Ie>>>8},wbits16=function(Ce,r,Ie){Ie<<=r&7;var Re=r/8>>0;Ce[Re]|=Ie,Ce[Re+1]|=Ie>>>8,Ce[Re+2]|=Ie>>>16},hTree=function(Ce,r){for(var Ie=[],Re=0;Re<Ce.length;++Re)Ce[Re]&&Ie.push({s:Re,f:Ce[Re]});var Ge=Ie.length,Je=Ie.slice();if(!Ge)return[new u8(0),0];if(Ge==1){var ii=new u8(Ie[0].s+1);return ii[Ie[0].s]=1,[ii,1]}Ie.sort(function(Be,He){return Be.f-He.f}),Ie.push({s:-1,f:25001});var Se=Ie[0],_e=Ie[1],t=0,xe=1,Fe=2;for(Ie[0]={s:-1,f:Se.f+_e.f,l:Se,r:_e};xe!=Ge-1;)Se=Ie[Ie[t].f<Ie[Fe].f?t++:Fe++],_e=Ie[t!=xe&&Ie[t].f<Ie[Fe].f?t++:Fe++],Ie[xe++]={s:-1,f:Se.f+_e.f,l:Se,r:_e};for(var Te=Je[0].s,Re=1;Re<Ge;++Re)Je[Re].s>Te&&(Te=Je[Re].s);var e=new u16(Te+1),ke=ln(Ie[xe-1],e,0);if(ke>r){var Re=0,Oe=0,Ee=ke-r,Pe=1<<Ee;for(Je.sort(function(He,je){return e[je.s]-e[He.s]||He.f-je.f});Re<Ge;++Re){var De=Je[Re].s;if(e[De]>r)Oe+=Pe-(1<<ke-e[De]),e[De]=r;else break}for(Oe>>>=Ee;Oe>0;){var Me=Je[Re].s;e[Me]<r?Oe-=1<<r-e[Me]++-1:++Re}for(;Re>=0&&Oe;--Re){var Ae=Je[Re].s;e[Ae]==r&&(--e[Ae],++Oe)}ke=r}return[new u8(e),ke]},ln=function(Ce,r,Ie){return Ce.s==-1?Math.max(ln(Ce.l,r,Ie+1),ln(Ce.r,r,Ie+1)):r[Ce.s]=Ie},lc=function(Ce){for(var r=Ce.length;r&&!Ce[--r];);for(var Ie=new u16(++r),Re=0,Ge=Ce[0],Je=1,ii=function(_e){Ie[Re++]=_e},Se=1;Se<=r;++Se)if(Ce[Se]==Ge&&Se!=r)++Je;else{if(!Ge&&Je>2){for(;Je>138;Je-=138)ii(32754);Je>2&&(ii(Je>10?Je-11<<5|28690:Je-3<<5|12305),Je=0)}else if(Je>3){for(ii(Ge),--Je;Je>6;Je-=6)ii(8304);Je>2&&(ii(Je-3<<5|8208),Je=0)}for(;Je--;)ii(Ge);Je=1,Ge=Ce[Se]}return[Ie.subarray(0,Re),r]},clen=function(Ce,r){for(var Ie=0,Re=0;Re<r.length;++Re)Ie+=Ce[Re]*r[Re];return Ie},wfblk=function(Ce,r,Ie){var Re=Ie.length,Ge=shft(r+2);Ce[Ge]=Re&255,Ce[Ge+1]=Re>>>8,Ce[Ge+2]=Ce[Ge]^255,Ce[Ge+3]=Ce[Ge+1]^255;for(var Je=0;Je<Re;++Je)Ce[Ge+Je+4]=Ie[Je];return(Ge+4+Re)*8},wblk=function(Ce,r,Ie,Re,Ge,Je,ii,Se,_e,t,xe){wbits(r,xe++,Ie),++Ge[256];for(var Fe=hTree(Ge,15),Te=Fe[0],e=Fe[1],ke=hTree(Je,15),Oe=ke[0],Ee=ke[1],Pe=lc(Te),De=Pe[0],Me=Pe[1],Ae=lc(Oe),Be=Ae[0],He=Ae[1],je=new u16(19),Xe=0;Xe<De.length;++Xe)je[De[Xe]&31]++;for(var Xe=0;Xe<Be.length;++Xe)je[Be[Xe]&31]++;for(var St=hTree(je,7),qe=St[0],Ye=St[1],gi=19;gi>4&&!qe[clim[gi-1]];--gi);var ai=t+5<<3,ui=clen(Ge,flt)+clen(Je,fdt)+ii,Qe=clen(Ge,Te)+clen(Je,Oe)+ii+14+3*gi+clen(je,qe)+(2*je[16]+3*je[17]+7*je[18]);if(ai<=ui&&ai<=Qe)return wfblk(r,xe,Ce.subarray(_e,_e+t));var Ze,ci,ze,We;if(wbits(r,xe,1+(Qe<ui)),xe+=2,Qe<ui){Ze=hMap(Te,e,0),ci=Te,ze=hMap(Oe,Ee,0),We=Oe;var si=hMap(qe,Ye,0);wbits(r,xe,Me-257),wbits(r,xe+5,He-1),wbits(r,xe+10,gi-4),xe+=14;for(var Xe=0;Xe<gi;++Xe)wbits(r,xe+3*Xe,qe[clim[Xe]]);xe+=3*gi;for(var ni=[De,Be],$e=0;$e<2;++$e)for(var Ke=ni[$e],Xe=0;Xe<Ke.length;++Xe){var Ve=Ke[Xe]&31;wbits(r,xe,si[Ve]),xe+=qe[Ve],Ve>15&&(wbits(r,xe,Ke[Xe]>>>5&127),xe+=Ke[Xe]>>>12)}}else Ze=flm,ci=flt,ze=fdm,We=fdt;for(var Xe=0;Xe<Se;++Xe)if(Re[Xe]>255){var Ve=Re[Xe]>>>18&31;wbits16(r,xe,Ze[Ve+257]),xe+=ci[Ve+257],Ve>7&&(wbits(r,xe,Re[Xe]>>>23&31),xe+=fleb[Ve]);var Ue=Re[Xe]&31;wbits16(r,xe,ze[Ue]),xe+=We[Ue],Ue>3&&(wbits16(r,xe,Re[Xe]>>>5&8191),xe+=fdeb[Ue])}else wbits16(r,xe,Ze[Re[Xe]]),xe+=ci[Re[Xe]];return wbits16(r,xe,Ze[256]),xe+ci[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ce,r,Ie,Re,Ge,Je){var ii=Ce.length,Se=new u8(Re+ii+5*(1+Math.floor(ii/7e3))+Ge),_e=Se.subarray(Re,Se.length-Ge),t=0;if(!r||ii<8)for(var xe=0;xe<=ii;xe+=65535){var Fe=xe+65535;Fe<ii?t=wfblk(_e,t,Ce.subarray(xe,Fe)):(_e[xe]=Je,t=wfblk(_e,t,Ce.subarray(xe,ii)))}else{for(var Te=deo[r-1],e=Te>>>13,ke=Te&8191,Oe=(1<<Ie)-1,Ee=new u16(32768),Pe=new u16(Oe+1),De=Math.ceil(Ie/3),Me=2*De,Ae=function(li){return(Ce[li]^Ce[li+1]<<De^Ce[li+2]<<Me)&Oe},Be=new u32(25e3),He=new u16(288),je=new u16(32),Xe=0,St=0,xe=0,qe=0,Ye=0,gi=0;xe<ii;++xe){var ai=Ae(xe),ui=xe&32767,Qe=Pe[ai];if(Ee[ui]=Qe,Pe[ai]=ui,Ye<=xe){var Ze=ii-xe;if((Xe>7e3||qe>24576)&&Ze>423){t=wblk(Ce,_e,0,Be,He,je,St,qe,gi,xe-gi,t),qe=Xe=St=0,gi=xe;for(var ci=0;ci<286;++ci)He[ci]=0;for(var ci=0;ci<30;++ci)je[ci]=0}var ze=2,We=0,si=ke,ni=ui-Qe&32767;if(Ze>2&&ai==Ae(xe-ni))for(var $e=Math.min(e,Ze)-1,Ke=Math.min(32767,xe),Ve=Math.min(258,Ze);ni<=Ke&&--si&&ui!=Qe;){if(Ce[xe+ze]==Ce[xe+ze-ni]){for(var Ue=0;Ue<Ve&&Ce[xe+Ue]==Ce[xe+Ue-ni];++Ue);if(Ue>ze){if(ze=Ue,We=ni,Ue>$e)break;for(var ti=Math.min(ni,Ue-2),hi=0,ci=0;ci<ti;++ci){var yi=xe-ni+ci+32768&32767,wi=Ee[yi],Ci=yi-wi+32768&32767;Ci>hi&&(hi=Ci,Qe=yi)}}}ui=Qe,Qe=Ee[ui],ni+=ui-Qe+32768&32767}if(We){Be[qe++]=268435456|revfl[ze]<<18|revfd[We];var ki=revfl[ze]&31,fi=revfd[We]&31;St+=fleb[ki]+fdeb[fi],++He[257+ki],++je[fi],Ye=xe+ze,++Xe}else Be[qe++]=Ce[xe],++He[Ce[xe]]}}t=wblk(Ce,_e,Je,Be,He,je,St,qe,gi,xe-gi,t),Je||(t=wfblk(_e,t,et$1))}return slc(Se,0,Re+shft(t)+Ge)},adler=function(){var Ce=1,r=0;return{p:function(Ie){for(var Re=Ce,Ge=r,Je=Ie.length,ii=0;ii!=Je;){for(var Se=Math.min(ii+5552,Je);ii<Se;++ii)Re+=Ie[ii],Ge+=Re;Re%=65521,Ge%=65521}Ce=Re,r=Ge},d:function(){return(Ce>>>8<<16|(r&255)<<8|r>>>8)+((Ce&255)<<23)*2}}},dopt=function(Ce,r,Ie,Re,Ge){return dflt(Ce,r.level==null?6:r.level,r.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Ce.length)))*1.5):12+r.mem,Ie,Re,!Ge)},wbytes=function(Ce,r,Ie){for(;Ie;++r)Ce[r]=Ie,Ie>>>=8},zlh=function(Ce,r){var Ie=r.level,Re=Ie==0?0:Ie<6?1:Ie==9?3:2;Ce[0]=120,Ce[1]=Re<<6|(Re?32-2*Re:1)},zlv=function(Ce){if((Ce[0]&15)!=8||Ce[0]>>>4>7||(Ce[0]<<8|Ce[1])%31)throw"invalid zlib data";if(Ce[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(Ce,r){r===void 0&&(r={});var Ie=adler();Ie.p(Ce);var Re=dopt(Ce,r,2,4);return zlh(Re,r),wbytes(Re,Re.length-4,Ie.d()),Re}function unzlibSync(Ce,r){return inflt((zlv(Ce),Ce.subarray(2,-4)),r)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(Ce){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(Ce){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(Ce))}};function o(Ce,r,Ie){var Re=new XMLHttpRequest;Re.open("GET",Ce),Re.responseType="blob",Re.onload=function(){l(Re.response,r,Ie)},Re.onerror=function(){a.error("could not download file")},Re.send()}function s(Ce){var r=new XMLHttpRequest;r.open("HEAD",Ce,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function c(Ce){try{Ce.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ce.dispatchEvent(r)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ce,r,Ie){var Re=n.URL||n.webkitURL,Ge=document.createElement("a");r=r||Ce.name||"download",Ge.download=r,Ge.rel="noopener",typeof Ce=="string"?(Ge.href=Ce,Ge.origin!==location.origin?s(Ge.href)?o(Ce,r,Ie):c(Ge,Ge.target="_blank"):c(Ge)):(Ge.href=Re.createObjectURL(Ce),setTimeout(function(){Re.revokeObjectURL(Ge.href)},4e4),setTimeout(function(){c(Ge)},0))}:"msSaveOrOpenBlob"in navigator?function(Ce,r,Ie){if(r=r||Ce.name||"download",typeof Ce=="string")if(s(Ce))o(Ce,r,Ie);else{var Re=document.createElement("a");Re.href=Ce,Re.target="_blank",setTimeout(function(){c(Re)})}else navigator.msSaveOrOpenBlob(function(Ge,Je){return Je===void 0?Je={autoBom:!1}:_typeof(Je)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Je={autoBom:!Je}),Je.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ge.type)?new Blob([String.fromCharCode(65279),Ge],{type:Ge.type}):Ge}(Ce,Ie),r)}:function(Ce,r,Ie,Re){if((Re=Re||open("","_blank"))&&(Re.document.title=Re.document.body.innerText="downloading..."),typeof Ce=="string")return o(Ce,r,Ie);var Ge=Ce.type==="application/octet-stream",Je=/constructor/i.test(n.HTMLElement)||n.safari,ii=/CriOS\/[\d]+/.test(navigator.userAgent);if((ii||Ge&&Je)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Se=new FileReader;Se.onloadend=function(){var xe=Se.result;xe=ii?xe:xe.replace(/^data:[^;]*;/,"data:attachment/file;"),Re?Re.location.href=xe:location=xe,Re=null},Se.readAsDataURL(Ce)}else{var _e=n.URL||n.webkitURL,t=_e.createObjectURL(Ce);Re?Re.location=t:location.href=t,Re=null,setTimeout(function(){_e.revokeObjectURL(t)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(Ce){var r;Ce=Ce||"",this.ok=!1,Ce.charAt(0)=="#"&&(Ce=Ce.substr(1,6)),Ce={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ce=(Ce=Ce.replace(/ /g,"")).toLowerCase()]||Ce;for(var Ie=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Se){return[parseInt(Se[1]),parseInt(Se[2]),parseInt(Se[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Se){return[parseInt(Se[1],16),parseInt(Se[2],16),parseInt(Se[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Se){return[parseInt(Se[1]+Se[1],16),parseInt(Se[2]+Se[2],16),parseInt(Se[3]+Se[3],16)]}}],Re=0;Re<Ie.length;Re++){var Ge=Ie[Re].re,Je=Ie[Re].process,ii=Ge.exec(Ce);ii&&(r=Je(ii),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Se=this.r.toString(16),_e=this.g.toString(16),t=this.b.toString(16);return Se.length==1&&(Se="0"+Se),_e.length==1&&(_e="0"+_e),t.length==1&&(t="0"+t),"#"+Se+_e+t}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(Ce,r){var Ie=Ce[0],Re=Ce[1],Ge=Ce[2],Je=Ce[3];Ie=g(Ie,Re,Ge,Je,r[0],7,-680876936),Je=g(Je,Ie,Re,Ge,r[1],12,-389564586),Ge=g(Ge,Je,Ie,Re,r[2],17,606105819),Re=g(Re,Ge,Je,Ie,r[3],22,-1044525330),Ie=g(Ie,Re,Ge,Je,r[4],7,-176418897),Je=g(Je,Ie,Re,Ge,r[5],12,1200080426),Ge=g(Ge,Je,Ie,Re,r[6],17,-1473231341),Re=g(Re,Ge,Je,Ie,r[7],22,-45705983),Ie=g(Ie,Re,Ge,Je,r[8],7,1770035416),Je=g(Je,Ie,Re,Ge,r[9],12,-1958414417),Ge=g(Ge,Je,Ie,Re,r[10],17,-42063),Re=g(Re,Ge,Je,Ie,r[11],22,-1990404162),Ie=g(Ie,Re,Ge,Je,r[12],7,1804603682),Je=g(Je,Ie,Re,Ge,r[13],12,-40341101),Ge=g(Ge,Je,Ie,Re,r[14],17,-1502002290),Ie=m(Ie,Re=g(Re,Ge,Je,Ie,r[15],22,1236535329),Ge,Je,r[1],5,-165796510),Je=m(Je,Ie,Re,Ge,r[6],9,-1069501632),Ge=m(Ge,Je,Ie,Re,r[11],14,643717713),Re=m(Re,Ge,Je,Ie,r[0],20,-373897302),Ie=m(Ie,Re,Ge,Je,r[5],5,-701558691),Je=m(Je,Ie,Re,Ge,r[10],9,38016083),Ge=m(Ge,Je,Ie,Re,r[15],14,-660478335),Re=m(Re,Ge,Je,Ie,r[4],20,-405537848),Ie=m(Ie,Re,Ge,Je,r[9],5,568446438),Je=m(Je,Ie,Re,Ge,r[14],9,-1019803690),Ge=m(Ge,Je,Ie,Re,r[3],14,-187363961),Re=m(Re,Ge,Je,Ie,r[8],20,1163531501),Ie=m(Ie,Re,Ge,Je,r[13],5,-1444681467),Je=m(Je,Ie,Re,Ge,r[2],9,-51403784),Ge=m(Ge,Je,Ie,Re,r[7],14,1735328473),Ie=v(Ie,Re=m(Re,Ge,Je,Ie,r[12],20,-1926607734),Ge,Je,r[5],4,-378558),Je=v(Je,Ie,Re,Ge,r[8],11,-2022574463),Ge=v(Ge,Je,Ie,Re,r[11],16,1839030562),Re=v(Re,Ge,Je,Ie,r[14],23,-35309556),Ie=v(Ie,Re,Ge,Je,r[1],4,-1530992060),Je=v(Je,Ie,Re,Ge,r[4],11,1272893353),Ge=v(Ge,Je,Ie,Re,r[7],16,-155497632),Re=v(Re,Ge,Je,Ie,r[10],23,-1094730640),Ie=v(Ie,Re,Ge,Je,r[13],4,681279174),Je=v(Je,Ie,Re,Ge,r[0],11,-358537222),Ge=v(Ge,Je,Ie,Re,r[3],16,-722521979),Re=v(Re,Ge,Je,Ie,r[6],23,76029189),Ie=v(Ie,Re,Ge,Je,r[9],4,-640364487),Je=v(Je,Ie,Re,Ge,r[12],11,-421815835),Ge=v(Ge,Je,Ie,Re,r[15],16,530742520),Ie=b(Ie,Re=v(Re,Ge,Je,Ie,r[2],23,-995338651),Ge,Je,r[0],6,-198630844),Je=b(Je,Ie,Re,Ge,r[7],10,1126891415),Ge=b(Ge,Je,Ie,Re,r[14],15,-1416354905),Re=b(Re,Ge,Je,Ie,r[5],21,-57434055),Ie=b(Ie,Re,Ge,Je,r[12],6,1700485571),Je=b(Je,Ie,Re,Ge,r[3],10,-1894986606),Ge=b(Ge,Je,Ie,Re,r[10],15,-1051523),Re=b(Re,Ge,Je,Ie,r[1],21,-2054922799),Ie=b(Ie,Re,Ge,Je,r[8],6,1873313359),Je=b(Je,Ie,Re,Ge,r[15],10,-30611744),Ge=b(Ge,Je,Ie,Re,r[6],15,-1560198380),Re=b(Re,Ge,Je,Ie,r[13],21,1309151649),Ie=b(Ie,Re,Ge,Je,r[4],6,-145523070),Je=b(Je,Ie,Re,Ge,r[11],10,-1120210379),Ge=b(Ge,Je,Ie,Re,r[2],15,718787259),Re=b(Re,Ge,Je,Ie,r[9],21,-343485551),Ce[0]=_(Ie,Ce[0]),Ce[1]=_(Re,Ce[1]),Ce[2]=_(Ge,Ce[2]),Ce[3]=_(Je,Ce[3])}function p(Ce,r,Ie,Re,Ge,Je){return r=_(_(r,Ce),_(Re,Je)),_(r<<Ge|r>>>32-Ge,Ie)}function g(Ce,r,Ie,Re,Ge,Je,ii){return p(r&Ie|~r&Re,Ce,r,Ge,Je,ii)}function m(Ce,r,Ie,Re,Ge,Je,ii){return p(r&Re|Ie&~Re,Ce,r,Ge,Je,ii)}function v(Ce,r,Ie,Re,Ge,Je,ii){return p(r^Ie^Re,Ce,r,Ge,Je,ii)}function b(Ce,r,Ie,Re,Ge,Je,ii){return p(Ie^(r|~Re),Ce,r,Ge,Je,ii)}function y(Ce){var r,Ie=Ce.length,Re=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=Ce.length;r+=64)d(Re,w(Ce.substring(r-64,r)));Ce=Ce.substring(r-64);var Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<Ce.length;r++)Ge[r>>2]|=Ce.charCodeAt(r)<<(r%4<<3);if(Ge[r>>2]|=128<<(r%4<<3),r>55)for(d(Re,Ge),r=0;r<16;r++)Ge[r]=0;return Ge[14]=8*Ie,d(Re,Ge),Re}function w(Ce){var r,Ie=[];for(r=0;r<64;r+=4)Ie[r>>2]=Ce.charCodeAt(r)+(Ce.charCodeAt(r+1)<<8)+(Ce.charCodeAt(r+2)<<16)+(Ce.charCodeAt(r+3)<<24);return Ie}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(Ce){for(var r="",Ie=0;Ie<4;Ie++)r+=N[Ce>>8*Ie+4&15]+N[Ce>>8*Ie&15];return r}function A(Ce){return String.fromCharCode((255&Ce)>>0,(65280&Ce)>>8,(16711680&Ce)>>16,(4278190080&Ce)>>24)}function x(Ce){return y(Ce).map(A).join("")}var S=function(Ce){for(var r=0;r<Ce.length;r++)Ce[r]=L(Ce[r]);return Ce.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(Ce,r){if(S){var Ie=(65535&Ce)+(65535&r);return(Ce>>16)+(r>>16)+(Ie>>16)<<16|65535&Ie}return Ce+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(Ce,r){var Ie,Re,Ge,Je;if(Ce!==Ie){for(var ii=(Ge=Ce,Je=1+(256/Ce.length>>0),new Array(Je+1).join(Ge)),Se=[],_e=0;_e<256;_e++)Se[_e]=_e;var t=0;for(_e=0;_e<256;_e++){var xe=Se[_e];t=(t+xe+ii.charCodeAt(_e))%256,Se[_e]=Se[t],Se[t]=xe}Ie=Ce,Re=Se}else Se=Re;var Fe=r.length,Te=0,e=0,ke="";for(_e=0;_e<Fe;_e++)e=(e+(xe=Se[Te=(Te+1)%256]))%256,Se[Te]=Se[e],Se[e]=xe,ii=Se[(Se[Te]+Se[e])%256],ke+=String.fromCharCode(r.charCodeAt(_e)^ii);return ke}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(Ce,r,Ie,Re){this.v=1,this.r=2;var Ge=192;Ce.forEach(function(Se){if(k.perm!==void 0)throw new Error("Invalid permission: "+Se);Ge+=k[Se]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var Je=(r+this.padding).substr(0,32),ii=(Ie+this.padding).substr(0,32);this.O=this.processOwnerPassword(Je,ii),this.P=-(1+(255^Ge)),this.encryptionKey=x(Je+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Re)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(Ce){if(/[^\u0000-\u00ff]/.test(Ce))throw new Error("Invalid PDF Name Object: "+Ce+", Only accept ASCII characters.");for(var r="",Ie=Ce.length,Re=0;Re<Ie;Re++){var Ge=Ce.charCodeAt(Re);Ge<33||Ge===35||Ge===37||Ge===40||Ge===41||Ge===47||Ge===60||Ge===62||Ge===91||Ge===93||Ge===123||Ge===125||Ge>126?r+="#"+("0"+Ge.toString(16)).slice(-2):r+=Ce[Re]}return r}function C(Ce){if(_typeof(Ce)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(Ie,Re,Ge){if(Ge=Ge||!1,typeof Ie!="string"||typeof Re!="function"||typeof Ge!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(Ie)||(r[Ie]={});var Je=Math.random().toString(35);return r[Ie][Je]=[Re,!!Ge],Je},this.unsubscribe=function(Ie){for(var Re in r)if(r[Re][Ie])return delete r[Re][Ie],Object.keys(r[Re]).length===0&&delete r[Re],!0;return!1},this.publish=function(Ie){if(r.hasOwnProperty(Ie)){var Re=Array.prototype.slice.call(arguments,1),Ge=[];for(var Je in r[Ie]){var ii=r[Ie][Je];try{ii[0].apply(Ce,Re)}catch(Se){n.console&&a.error("jsPDF PubSub Error",Se.message,Se)}ii[1]&&Ge.push(Je)}Ge.length&&Ge.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function j(Ce){if(!(this instanceof j))return new j(Ce);var r="opacity,stroke-opacity".split(",");for(var Ie in Ce)Ce.hasOwnProperty(Ie)&&r.indexOf(Ie)>=0&&(this[Ie]=Ce[Ie]);this.id="",this.objectNumber=-1}function O(Ce,r){this.gState=Ce,this.matrix=r,this.id="",this.objectNumber=-1}function B(Ce,r,Ie,Re,Ge){if(!(this instanceof B))return new B(Ce,r,Ie,Re,Ge);this.type=Ce==="axial"?2:3,this.coords=r,this.colors=Ie,O.call(this,Re,Ge)}function M(Ce,r,Ie,Re,Ge){if(!(this instanceof M))return new M(Ce,r,Ie,Re,Ge);this.boundingBox=Ce,this.xStep=r,this.yStep=Ie,this.stream="",this.cloneIndex=0,O.call(this,Re,Ge)}function E(Ce){var r,Ie=typeof arguments[0]=="string"?arguments[0]:"p",Re=arguments[1],Ge=arguments[2],Je=arguments[3],ii=[],Se=1,_e=16,t="S",xe=null;_typeof(Ce=Ce||{})==="object"&&(Ie=Ce.orientation,Re=Ce.unit||Re,Ge=Ce.format||Ge,Je=Ce.compress||Ce.compressPdf||Je,(xe=Ce.encryption||null)!==null&&(xe.userPassword=xe.userPassword||"",xe.ownerPassword=xe.ownerPassword||"",xe.userPermissions=xe.userPermissions||[]),Se=typeof Ce.userUnit=="number"?Math.abs(Ce.userUnit):1,Ce.precision!==void 0&&(r=Ce.precision),Ce.floatPrecision!==void 0&&(_e=Ce.floatPrecision),t=Ce.defaultPathOperation||"S"),ii=Ce.filters||(Je===!0?["FlateEncode"]:ii),Re=Re||"mm",Ie=(""+(Ie||"P")).toLowerCase();var Fe=Ce.putOnlyUsedFonts||!1,Te={},e={internal:{},__private__:{}};e.__private__.PubSub=C;var ke="1.3",Oe=e.__private__.getPdfVersion=function(){return ke};e.__private__.setPdfVersion=function(Li){ke=Li};var Ee={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};e.__private__.getPageFormats=function(){return Ee};var Pe=e.__private__.getPageFormat=function(Li){return Ee[Li]};Ge=Ge||"a4";var De={COMPAT:"compat",ADVANCED:"advanced"},Me=De.COMPAT;function Ae(){this.saveGraphicsState(),ri(new Fn(Xi,0,0,-Xi,0,Sa()*Xi).toString()+" cm"),this.setFontSize(this.getFontSize()/Xi),t="n",Me=De.ADVANCED}function Be(){this.restoreGraphicsState(),t="S",Me=De.COMPAT}var He=e.__private__.combineFontStyleAndFontWeight=function(Li,Vi){if(Li=="bold"&&Vi=="normal"||Li=="bold"&&Vi==400||Li=="normal"&&Vi=="italic"||Li=="bold"&&Vi=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Vi&&(Li=Vi==400||Vi==="normal"?Li==="italic"?"italic":"normal":Vi!=700&&Vi!=="bold"||Li!=="normal"?(Vi==700?"bold":Vi)+""+Li:"bold"),Li};e.advancedAPI=function(Li){var Vi=Me===De.COMPAT;return Vi&&Ae.call(this),typeof Li!="function"||(Li(this),Vi&&Be.call(this)),this},e.compatAPI=function(Li){var Vi=Me===De.ADVANCED;return Vi&&Be.call(this),typeof Li!="function"||(Li(this),Vi&&Ae.call(this)),this},e.isAdvancedAPI=function(){return Me===De.ADVANCED};var je,Xe=function(Li){if(Me!==De.ADVANCED)throw new Error(Li+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},St=e.roundToPrecision=e.__private__.roundToPrecision=function(Li,Vi){var cn=r||Vi;if(isNaN(Li)||isNaN(cn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Li.toFixed(cn).replace(/0+$/,"")};je=e.hpf=e.__private__.hpf=typeof _e=="number"?function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return St(Li,_e)}:_e==="smart"?function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return St(Li,Li>-1&&Li<1?16:5)}:function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return St(Li,16)};var qe=e.f2=e.__private__.f2=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.f2");return St(Li,2)},Ye=e.__private__.f3=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.f3");return St(Li,3)},gi=e.scale=e.__private__.scale=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.scale");return Me===De.COMPAT?Li*Xi:Me===De.ADVANCED?Li:void 0},ai=function(Li){return Me===De.COMPAT?Sa()-Li:Me===De.ADVANCED?Li:void 0},ui=function(Li){return gi(ai(Li))};e.__private__.setPrecision=e.setPrecision=function(Li){typeof parseInt(Li,10)=="number"&&(r=parseInt(Li,10))};var Qe,Ze="00000000000000000000000000000000",ci=e.__private__.getFileId=function(){return Ze},ze=e.__private__.setFileId=function(Li){return Ze=Li!==void 0&&/^[a-fA-F0-9]{32}$/.test(Li)?Li.toUpperCase():Ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),xe!==null&&(rs=new I(xe.userPermissions,xe.userPassword,xe.ownerPassword,Ze)),Ze};e.setFileId=function(Li){return ze(Li),this},e.getFileId=function(){return ci()};var We=e.__private__.convertDateToPDFDate=function(Li){var Vi=Li.getTimezoneOffset(),cn=Vi<0?"+":"-",gn=Math.floor(Math.abs(Vi/60)),En=Math.abs(Vi%60),Vn=[cn,Ve(gn),"'",Ve(En),"'"].join("");return["D:",Li.getFullYear(),Ve(Li.getMonth()+1),Ve(Li.getDate()),Ve(Li.getHours()),Ve(Li.getMinutes()),Ve(Li.getSeconds()),Vn].join("")},si=e.__private__.convertPDFDateToDate=function(Li){var Vi=parseInt(Li.substr(2,4),10),cn=parseInt(Li.substr(6,2),10)-1,gn=parseInt(Li.substr(8,2),10),En=parseInt(Li.substr(10,2),10),Vn=parseInt(Li.substr(12,2),10),tr=parseInt(Li.substr(14,2),10);return new Date(Vi,cn,gn,En,Vn,tr,0)},ni=e.__private__.setCreationDate=function(Li){var Vi;if(Li===void 0&&(Li=new Date),Li instanceof Date)Vi=We(Li);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Li))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Vi=Li}return Qe=Vi},$e=e.__private__.getCreationDate=function(Li){var Vi=Qe;return Li==="jsDate"&&(Vi=si(Qe)),Vi};e.setCreationDate=function(Li){return ni(Li),this},e.getCreationDate=function(Li){return $e(Li)};var Ke,Ve=e.__private__.padd2=function(Li){return("0"+parseInt(Li)).slice(-2)},Ue=e.__private__.padd2Hex=function(Li){return("00"+(Li=Li.toString())).substr(Li.length)},ti=0,hi=[],yi=[],wi=0,Ci=[],ki=[],fi=!1,xi=yi,li=function(){ti=0,wi=0,yi=[],hi=[],Ci=[],hr=Mn(),or=Mn()};e.__private__.setCustomOutputDestination=function(Li){fi=!0,xi=Li};var pi=function(Li){fi||(xi=Li)};e.__private__.resetCustomOutputDestination=function(){fi=!1,xi=yi};var ri=e.__private__.out=function(Li){return Li=Li.toString(),wi+=Li.length+1,xi.push(Li),xi},oi=e.__private__.write=function(Li){return ri(arguments.length===1?Li.toString():Array.prototype.join.call(arguments," "))},di=e.__private__.getArrayBuffer=function(Li){for(var Vi=Li.length,cn=new ArrayBuffer(Vi),gn=new Uint8Array(cn);Vi--;)gn[Vi]=Li.charCodeAt(Vi);return cn},bi=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];e.__private__.getStandardFonts=function(){return bi};var Ai=Ce.fontSize||16;e.__private__.setFontSize=e.setFontSize=function(Li){return Ai=Me===De.ADVANCED?Li/Xi:Li,this};var Ei,mi=e.__private__.getFontSize=e.getFontSize=function(){return Me===De.COMPAT?Ai:Ai*Xi},_i=Ce.R2L||!1;e.__private__.setR2L=e.setR2L=function(Li){return _i=Li,this},e.__private__.getR2L=e.getR2L=function(){return _i};var Si,Fi=e.__private__.setZoomMode=function(Li){var Vi=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Li))Ei=Li;else if(isNaN(Li)){if(Vi.indexOf(Li)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Li+'" is not recognized.');Ei=Li}else Ei=parseInt(Li,10)};e.__private__.getZoomMode=function(){return Ei};var Pi,Di=e.__private__.setPageMode=function(Li){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Li)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Li+'" is not recognized.');Si=Li};e.__private__.getPageMode=function(){return Si};var Ii=e.__private__.setLayoutMode=function(Li){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Li)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Li+'" is not recognized.');Pi=Li};e.__private__.getLayoutMode=function(){return Pi},e.__private__.setDisplayMode=e.setDisplayMode=function(Li,Vi,cn){return Fi(Li),Ii(Vi),Di(cn),this};var Mi={title:"",subject:"",author:"",keywords:"",creator:""};e.__private__.getDocumentProperty=function(Li){if(Object.keys(Mi).indexOf(Li)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mi[Li]},e.__private__.getDocumentProperties=function(){return Mi},e.__private__.setDocumentProperties=e.setProperties=e.setDocumentProperties=function(Li){for(var Vi in Mi)Mi.hasOwnProperty(Vi)&&Li[Vi]&&(Mi[Vi]=Li[Vi]);return this},e.__private__.setDocumentProperty=function(Li,Vi){if(Object.keys(Mi).indexOf(Li)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mi[Li]=Vi};var $i,Xi,rn,tn,on,fn={},Yi={},Ri=[],ji={},Ui={},en={},nn={},Sn=null,Qi=0,qi=[],Zi=new C(e),an=Ce.hotfixes||[],Nn={},Dn={},hn=[],Fn=function Li(Vi,cn,gn,En,Vn,tr){if(!(this instanceof Li))return new Li(Vi,cn,gn,En,Vn,tr);isNaN(Vi)&&(Vi=1),isNaN(cn)&&(cn=0),isNaN(gn)&&(gn=0),isNaN(En)&&(En=1),isNaN(Vn)&&(Vn=0),isNaN(tr)&&(tr=0),this._matrix=[Vi,cn,gn,En,Vn,tr]};Object.defineProperty(Fn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Li){this._matrix[0]=Li}}),Object.defineProperty(Fn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Li){this._matrix[1]=Li}}),Object.defineProperty(Fn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Li){this._matrix[2]=Li}}),Object.defineProperty(Fn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Li){this._matrix[3]=Li}}),Object.defineProperty(Fn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Li){this._matrix[4]=Li}}),Object.defineProperty(Fn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Li){this._matrix[5]=Li}}),Object.defineProperty(Fn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Li){this._matrix[0]=Li}}),Object.defineProperty(Fn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Li){this._matrix[1]=Li}}),Object.defineProperty(Fn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Li){this._matrix[2]=Li}}),Object.defineProperty(Fn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Li){this._matrix[3]=Li}}),Object.defineProperty(Fn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Li){this._matrix[4]=Li}}),Object.defineProperty(Fn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Li){this._matrix[5]=Li}}),Object.defineProperty(Fn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fn.prototype.join=function(Li){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(je).join(Li)},Fn.prototype.multiply=function(Li){var Vi=Li.sx*this.sx+Li.shy*this.shx,cn=Li.sx*this.shy+Li.shy*this.sy,gn=Li.shx*this.sx+Li.sy*this.shx,En=Li.shx*this.shy+Li.sy*this.sy,Vn=Li.tx*this.sx+Li.ty*this.shx+this.tx,tr=Li.tx*this.shy+Li.ty*this.sy+this.ty;return new Fn(Vi,cn,gn,En,Vn,tr)},Fn.prototype.decompose=function(){var Li=this.sx,Vi=this.shy,cn=this.shx,gn=this.sy,En=this.tx,Vn=this.ty,tr=Math.sqrt(Li*Li+Vi*Vi),br=(Li/=tr)*cn+(Vi/=tr)*gn;cn-=Li*br,gn-=Vi*br;var Tr=Math.sqrt(cn*cn+gn*gn);return br/=Tr,Li*(gn/=Tr)<Vi*(cn/=Tr)&&(Li=-Li,Vi=-Vi,br=-br,tr=-tr),{scale:new Fn(tr,0,0,Tr,0,0),translate:new Fn(1,0,0,1,En,Vn),rotate:new Fn(Li,Vi,-Vi,Li,0,0),skew:new Fn(1,0,br,1,0,0)}},Fn.prototype.toString=function(Li){return this.join(" ")},Fn.prototype.inversed=function(){var Li=this.sx,Vi=this.shy,cn=this.shx,gn=this.sy,En=this.tx,Vn=this.ty,tr=1/(Li*gn-Vi*cn),br=gn*tr,Tr=-Vi*tr,Nr=-cn*tr,Mr=Li*tr;return new Fn(br,Tr,Nr,Mr,-br*En-Nr*Vn,-Tr*En-Mr*Vn)},Fn.prototype.applyToPoint=function(Li){var Vi=Li.x*this.sx+Li.y*this.shx+this.tx,cn=Li.x*this.shy+Li.y*this.sy+this.ty;return new zs(Vi,cn)},Fn.prototype.applyToRectangle=function(Li){var Vi=this.applyToPoint(Li),cn=this.applyToPoint(new zs(Li.x+Li.w,Li.y+Li.h));return new ho(Vi.x,Vi.y,cn.x-Vi.x,cn.y-Vi.y)},Fn.prototype.clone=function(){var Li=this.sx,Vi=this.shy,cn=this.shx,gn=this.sy,En=this.tx,Vn=this.ty;return new Fn(Li,Vi,cn,gn,En,Vn)},e.Matrix=Fn;var Xn=e.matrixMult=function(Li,Vi){return Vi.multiply(Li)},Rn=new Fn(1,0,0,1,0,0);e.unitMatrix=e.identityMatrix=Rn;var Wn=function(Li,Vi){if(!Ui[Li]){var cn=(Vi instanceof B?"Sh":"P")+(Object.keys(ji).length+1).toString(10);Vi.id=cn,Ui[Li]=cn,ji[cn]=Vi,Zi.publish("addPattern",Vi)}};e.ShadingPattern=B,e.TilingPattern=M,e.addShadingPattern=function(Li,Vi){return Xe("addShadingPattern()"),Wn(Li,Vi),this},e.beginTilingPattern=function(Li){Xe("beginTilingPattern()"),Mo(Li.boundingBox[0],Li.boundingBox[1],Li.boundingBox[2]-Li.boundingBox[0],Li.boundingBox[3]-Li.boundingBox[1],Li.matrix)},e.endTilingPattern=function(Li,Vi){Xe("endTilingPattern()"),Vi.stream=ki[Ke].join(`
`),Wn(Li,Vi),Zi.publish("endTilingPattern",Vi),hn.pop().restore()};var Kn=e.__private__.newObject=function(){var Li=Mn();return er(Li,!0),Li},Mn=e.__private__.newObjectDeferred=function(){return ti++,hi[ti]=function(){return wi},ti},er=function(Li,Vi){return Vi=typeof Vi=="boolean"&&Vi,hi[Li]=wi,Vi&&ri(Li+" 0 obj"),Li},Hn=e.__private__.newAdditionalObject=function(){var Li={objId:Mn(),content:""};return Ci.push(Li),Li},hr=Mn(),or=Mn(),dr=e.__private__.decodeColorString=function(Li){var Vi=Li.split(" ");if(Vi.length!==2||Vi[1]!=="g"&&Vi[1]!=="G")Vi.length===5&&(Vi[4]==="k"||Vi[4]==="K")&&(Vi=[(1-Vi[0])*(1-Vi[3]),(1-Vi[1])*(1-Vi[3]),(1-Vi[2])*(1-Vi[3]),"r"]);else{var cn=parseFloat(Vi[0]);Vi=[cn,cn,cn,"r"]}for(var gn="#",En=0;En<3;En++)gn+=("0"+Math.floor(255*parseFloat(Vi[En])).toString(16)).slice(-2);return gn},nr=e.__private__.encodeColorString=function(Li){var Vi;typeof Li=="string"&&(Li={ch1:Li});var cn=Li.ch1,gn=Li.ch2,En=Li.ch3,Vn=Li.ch4,tr=Li.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof cn=="string"&&cn.charAt(0)!=="#"){var br=new f(cn);if(br.ok)cn=br.toHex();else if(!/^\d*\.?\d*$/.test(cn))throw new Error('Invalid color "'+cn+'" passed to jsPDF.encodeColorString.')}if(typeof cn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(cn)&&(cn="#"+cn[1]+cn[1]+cn[2]+cn[2]+cn[3]+cn[3]),typeof cn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(cn)){var Tr=parseInt(cn.substr(1),16);cn=Tr>>16&255,gn=Tr>>8&255,En=255&Tr}if(gn===void 0||Vn===void 0&&cn===gn&&gn===En)if(typeof cn=="string")Vi=cn+" "+tr[0];else switch(Li.precision){case 2:Vi=qe(cn/255)+" "+tr[0];break;case 3:default:Vi=Ye(cn/255)+" "+tr[0]}else if(Vn===void 0||_typeof(Vn)==="object"){if(Vn&&!isNaN(Vn.a)&&Vn.a===0)return Vi=["1.","1.","1.",tr[1]].join(" ");if(typeof cn=="string")Vi=[cn,gn,En,tr[1]].join(" ");else switch(Li.precision){case 2:Vi=[qe(cn/255),qe(gn/255),qe(En/255),tr[1]].join(" ");break;default:case 3:Vi=[Ye(cn/255),Ye(gn/255),Ye(En/255),tr[1]].join(" ")}}else if(typeof cn=="string")Vi=[cn,gn,En,Vn,tr[2]].join(" ");else switch(Li.precision){case 2:Vi=[qe(cn),qe(gn),qe(En),qe(Vn),tr[2]].join(" ");break;case 3:default:Vi=[Ye(cn),Ye(gn),Ye(En),Ye(Vn),tr[2]].join(" ")}return Vi},Lr=e.__private__.getFilters=function(){return ii},An=e.__private__.putStream=function(Li){var Vi=(Li=Li||{}).data||"",cn=Li.filters||Lr(),gn=Li.alreadyAppliedFilters||[],En=Li.addLength1||!1,Vn=Vi.length,tr=Li.objectId,br=function(ys){return ys};if(xe!==null&&tr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");xe!==null&&(br=rs.encryptor(tr,0));var Tr={};cn===!0&&(cn=["FlateEncode"]);var Nr=Li.additionalKeyValues||[],Mr=(Tr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Vi,cn):{data:Vi,reverseChain:[]}).reverseChain+(Array.isArray(gn)?gn.join(" "):gn.toString());if(Tr.data.length!==0&&(Nr.push({key:"Length",value:Tr.data.length}),En===!0&&Nr.push({key:"Length1",value:Vn})),Mr.length!=0)if(Mr.split("/").length-1==1)Nr.push({key:"Filter",value:Mr});else{Nr.push({key:"Filter",value:"["+Mr+"]"});for(var Hr=0;Hr<Nr.length;Hr+=1)if(Nr[Hr].key==="DecodeParms"){for(var es=[],ts=0;ts<Tr.reverseChain.split("/").length-1;ts+=1)es.push("null");es.push(Nr[Hr].value),Nr[Hr].value="["+es.join(" ")+"]"}}ri("<<");for(var cs=0;cs<Nr.length;cs++)ri("/"+Nr[cs].key+" "+Nr[cs].value);ri(">>"),Tr.data.length!==0&&(ri("stream"),ri(br(Tr.data)),ri("endstream"))},kn=e.__private__.putPage=function(Li){var Vi=Li.number,cn=Li.data,gn=Li.objId,En=Li.contentsObjId;er(gn,!0),ri("<</Type /Page"),ri("/Parent "+Li.rootDictionaryObjId+" 0 R"),ri("/Resources "+Li.resourceDictionaryObjId+" 0 R"),ri("/MediaBox ["+parseFloat(je(Li.mediaBox.bottomLeftX))+" "+parseFloat(je(Li.mediaBox.bottomLeftY))+" "+je(Li.mediaBox.topRightX)+" "+je(Li.mediaBox.topRightY)+"]"),Li.cropBox!==null&&ri("/CropBox ["+je(Li.cropBox.bottomLeftX)+" "+je(Li.cropBox.bottomLeftY)+" "+je(Li.cropBox.topRightX)+" "+je(Li.cropBox.topRightY)+"]"),Li.bleedBox!==null&&ri("/BleedBox ["+je(Li.bleedBox.bottomLeftX)+" "+je(Li.bleedBox.bottomLeftY)+" "+je(Li.bleedBox.topRightX)+" "+je(Li.bleedBox.topRightY)+"]"),Li.trimBox!==null&&ri("/TrimBox ["+je(Li.trimBox.bottomLeftX)+" "+je(Li.trimBox.bottomLeftY)+" "+je(Li.trimBox.topRightX)+" "+je(Li.trimBox.topRightY)+"]"),Li.artBox!==null&&ri("/ArtBox ["+je(Li.artBox.bottomLeftX)+" "+je(Li.artBox.bottomLeftY)+" "+je(Li.artBox.topRightX)+" "+je(Li.artBox.topRightY)+"]"),typeof Li.userUnit=="number"&&Li.userUnit!==1&&ri("/UserUnit "+Li.userUnit),Zi.publish("putPage",{objId:gn,pageContext:qi[Vi],pageNumber:Vi,page:cn}),ri("/Contents "+En+" 0 R"),ri(">>"),ri("endobj");var Vn=cn.join(`
`);return Me===De.ADVANCED&&(Vn+=`
Q`),er(En,!0),An({data:Vn,filters:Lr(),objectId:En}),ri("endobj"),gn},Ln=e.__private__.putPages=function(){var Li,Vi,cn=[];for(Li=1;Li<=Qi;Li++)qi[Li].objId=Mn(),qi[Li].contentsObjId=Mn();for(Li=1;Li<=Qi;Li++)cn.push(kn({number:Li,data:ki[Li],objId:qi[Li].objId,contentsObjId:qi[Li].contentsObjId,mediaBox:qi[Li].mediaBox,cropBox:qi[Li].cropBox,bleedBox:qi[Li].bleedBox,trimBox:qi[Li].trimBox,artBox:qi[Li].artBox,userUnit:qi[Li].userUnit,rootDictionaryObjId:hr,resourceDictionaryObjId:or}));er(hr,!0),ri("<</Type /Pages");var gn="/Kids [";for(Vi=0;Vi<Qi;Vi++)gn+=cn[Vi]+" 0 R ";ri(gn+"]"),ri("/Count "+Qi),ri(">>"),ri("endobj"),Zi.publish("postPutPages")},jn=function(Li){Zi.publish("putFont",{font:Li,out:ri,newObject:Kn,putStream:An}),Li.isAlreadyPutted!==!0&&(Li.objectNumber=Kn(),ri("<<"),ri("/Type /Font"),ri("/BaseFont /"+F(Li.postScriptName)),ri("/Subtype /Type1"),typeof Li.encoding=="string"&&ri("/Encoding /"+Li.encoding),ri("/FirstChar 32"),ri("/LastChar 255"),ri(">>"),ri("endobj"))},Gn=function(){for(var Li in fn)fn.hasOwnProperty(Li)&&(Fe===!1||Fe===!0&&Te.hasOwnProperty(Li))&&jn(fn[Li])},sr=function(Li){Li.objectNumber=Kn();var Vi=[];Vi.push({key:"Type",value:"/XObject"}),Vi.push({key:"Subtype",value:"/Form"}),Vi.push({key:"BBox",value:"["+[je(Li.x),je(Li.y),je(Li.x+Li.width),je(Li.y+Li.height)].join(" ")+"]"}),Vi.push({key:"Matrix",value:"["+Li.matrix.toString()+"]"});var cn=Li.pages[1].join(`
`);An({data:cn,additionalKeyValues:Vi,objectId:Li.objectNumber}),ri("endobj")},ir=function(){for(var Li in Nn)Nn.hasOwnProperty(Li)&&sr(Nn[Li])},Bn=function(Li,Vi){var cn,gn=[],En=1/(Vi-1);for(cn=0;cn<1;cn+=En)gn.push(cn);if(gn.push(1),Li[0].offset!=0){var Vn={offset:0,color:Li[0].color};Li.unshift(Vn)}if(Li[Li.length-1].offset!=1){var tr={offset:1,color:Li[Li.length-1].color};Li.push(tr)}for(var br="",Tr=0,Nr=0;Nr<gn.length;Nr++){for(cn=gn[Nr];cn>Li[Tr+1].offset;)Tr++;var Mr=Li[Tr].offset,Hr=(cn-Mr)/(Li[Tr+1].offset-Mr),es=Li[Tr].color,ts=Li[Tr+1].color;br+=Ue(Math.round((1-Hr)*es[0]+Hr*ts[0]).toString(16))+Ue(Math.round((1-Hr)*es[1]+Hr*ts[1]).toString(16))+Ue(Math.round((1-Hr)*es[2]+Hr*ts[2]).toString(16))}return br.trim()},gr=function(Li,Vi){Vi||(Vi=21);var cn=Kn(),gn=Bn(Li.colors,Vi),En=[];En.push({key:"FunctionType",value:"0"}),En.push({key:"Domain",value:"[0.0 1.0]"}),En.push({key:"Size",value:"["+Vi+"]"}),En.push({key:"BitsPerSample",value:"8"}),En.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),An({data:gn,additionalKeyValues:En,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:cn}),ri("endobj"),Li.objectNumber=Kn(),ri("<< /ShadingType "+Li.type),ri("/ColorSpace /DeviceRGB");var Vn="/Coords ["+je(parseFloat(Li.coords[0]))+" "+je(parseFloat(Li.coords[1]))+" ";Li.type===2?Vn+=je(parseFloat(Li.coords[2]))+" "+je(parseFloat(Li.coords[3])):Vn+=je(parseFloat(Li.coords[2]))+" "+je(parseFloat(Li.coords[3]))+" "+je(parseFloat(Li.coords[4]))+" "+je(parseFloat(Li.coords[5])),ri(Vn+="]"),Li.matrix&&ri("/Matrix ["+Li.matrix.toString()+"]"),ri("/Function "+cn+" 0 R"),ri("/Extend [true true]"),ri(">>"),ri("endobj")},rr=function(Li,Vi){var cn=Mn(),gn=Kn();Vi.push({resourcesOid:cn,objectOid:gn}),Li.objectNumber=gn;var En=[];En.push({key:"Type",value:"/Pattern"}),En.push({key:"PatternType",value:"1"}),En.push({key:"PaintType",value:"1"}),En.push({key:"TilingType",value:"1"}),En.push({key:"BBox",value:"["+Li.boundingBox.map(je).join(" ")+"]"}),En.push({key:"XStep",value:je(Li.xStep)}),En.push({key:"YStep",value:je(Li.yStep)}),En.push({key:"Resources",value:cn+" 0 R"}),Li.matrix&&En.push({key:"Matrix",value:"["+Li.matrix.toString()+"]"}),An({data:Li.stream,additionalKeyValues:En,objectId:Li.objectNumber}),ri("endobj")},pr=function(Li){var Vi;for(Vi in ji)ji.hasOwnProperty(Vi)&&(ji[Vi]instanceof B?gr(ji[Vi]):ji[Vi]instanceof M&&rr(ji[Vi],Li))},xr=function(Li){for(var Vi in Li.objectNumber=Kn(),ri("<<"),Li)switch(Vi){case"opacity":ri("/ca "+qe(Li[Vi]));break;case"stroke-opacity":ri("/CA "+qe(Li[Vi]))}ri(">>"),ri("endobj")},mr=function(){var Li;for(Li in en)en.hasOwnProperty(Li)&&xr(en[Li])},un=function(){for(var Li in ri("/XObject <<"),Nn)Nn.hasOwnProperty(Li)&&Nn[Li].objectNumber>=0&&ri("/"+Li+" "+Nn[Li].objectNumber+" 0 R");Zi.publish("putXobjectDict"),ri(">>")},bn=function(){rs.oid=Kn(),ri("<<"),ri("/Filter /Standard"),ri("/V "+rs.v),ri("/R "+rs.r),ri("/U <"+rs.toHexString(rs.U)+">"),ri("/O <"+rs.toHexString(rs.O)+">"),ri("/P "+rs.P),ri(">>"),ri("endobj")},Pn=function(){for(var Li in ri("/Font <<"),fn)fn.hasOwnProperty(Li)&&(Fe===!1||Fe===!0&&Te.hasOwnProperty(Li))&&ri("/"+Li+" "+fn[Li].objectNumber+" 0 R");ri(">>")},Tn=function(){if(Object.keys(ji).length>0){for(var Li in ri("/Shading <<"),ji)ji.hasOwnProperty(Li)&&ji[Li]instanceof B&&ji[Li].objectNumber>=0&&ri("/"+Li+" "+ji[Li].objectNumber+" 0 R");Zi.publish("putShadingPatternDict"),ri(">>")}},Jn=function(Li){if(Object.keys(ji).length>0){for(var Vi in ri("/Pattern <<"),ji)ji.hasOwnProperty(Vi)&&ji[Vi]instanceof e.TilingPattern&&ji[Vi].objectNumber>=0&&ji[Vi].objectNumber<Li&&ri("/"+Vi+" "+ji[Vi].objectNumber+" 0 R");Zi.publish("putTilingPatternDict"),ri(">>")}},yr=function(){if(Object.keys(en).length>0){var Li;for(Li in ri("/ExtGState <<"),en)en.hasOwnProperty(Li)&&en[Li].objectNumber>=0&&ri("/"+Li+" "+en[Li].objectNumber+" 0 R");Zi.publish("putGStateDict"),ri(">>")}},Er=function(Li){er(Li.resourcesOid,!0),ri("<<"),ri("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pn(),Tn(),Jn(Li.objectOid),yr(),un(),ri(">>"),ri("endobj")},wr=function(){var Li=[];Gn(),mr(),ir(),pr(Li),Zi.publish("putResources"),Li.forEach(Er),Er({resourcesOid:or,objectOid:Number.MAX_SAFE_INTEGER}),Zi.publish("postPutResources")},Sr=function(){Zi.publish("putAdditionalObjects");for(var Li=0;Li<Ci.length;Li++){var Vi=Ci[Li];er(Vi.objId,!0),ri(Vi.content),ri("endobj")}Zi.publish("postPutAdditionalObjects")},Rr=function(Li){Yi[Li.fontName]=Yi[Li.fontName]||{},Yi[Li.fontName][Li.fontStyle]=Li.id},qr=function(Li,Vi,cn,gn,En){var Vn={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:Li,fontName:Vi,fontStyle:cn,encoding:gn,isStandardFont:En||!1,metadata:{}};return Zi.publish("addFont",{font:Vn,instance:this}),fn[Vn.id]=Vn,Rr(Vn),Vn.id},vs=function(Li){for(var Vi=0,cn=bi.length;Vi<cn;Vi++){var gn=qr.call(this,Li[Vi][0],Li[Vi][1],Li[Vi][2],bi[Vi][3],!0);Fe===!1&&(Te[gn]=!0);var En=Li[Vi][0].split("-");Rr({id:gn,fontName:En[0],fontStyle:En[1]||""})}Zi.publish("addFonts",{fonts:fn,dictionary:Yi})},ws=function(Li){return Li.foo=function(){try{return Li.apply(this,arguments)}catch(gn){var Vi=gn.stack||"";~Vi.indexOf(" at ")&&(Vi=Vi.split(" at ")[1]);var cn="Error in function "+Vi.split(`
`)[0].split("<")[0]+": "+gn.message;if(!n.console)throw new Error(cn);n.console.error(cn,gn),n.alert&&alert(cn)}},Li.foo.bar=Li,Li.foo},Hs=function(Li,Vi){var cn,gn,En,Vn,tr,br,Tr,Nr,Mr;if(En=(Vi=Vi||{}).sourceEncoding||"Unicode",tr=Vi.outputEncoding,(Vi.autoencode||tr)&&fn[$i].metadata&&fn[$i].metadata[En]&&fn[$i].metadata[En].encoding&&(Vn=fn[$i].metadata[En].encoding,!tr&&fn[$i].encoding&&(tr=fn[$i].encoding),!tr&&Vn.codePages&&(tr=Vn.codePages[0]),typeof tr=="string"&&(tr=Vn[tr]),tr)){for(Tr=!1,br=[],cn=0,gn=Li.length;cn<gn;cn++)(Nr=tr[Li.charCodeAt(cn)])?br.push(String.fromCharCode(Nr)):br.push(Li[cn]),br[cn].charCodeAt(0)>>8&&(Tr=!0);Li=br.join("")}for(cn=Li.length;Tr===void 0&&cn!==0;)Li.charCodeAt(cn-1)>>8&&(Tr=!0),cn--;if(!Tr)return Li;for(br=Vi.noBOM?[]:[254,255],cn=0,gn=Li.length;cn<gn;cn++){if((Mr=(Nr=Li.charCodeAt(cn))>>8)>>8)throw new Error("Character at position "+cn+" of string '"+Li+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(Mr),br.push(Nr-(Mr<<8))}return String.fromCharCode.apply(void 0,br)},fs=e.__private__.pdfEscape=e.pdfEscape=function(Li,Vi){return Hs(Li,Vi).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ra=e.__private__.beginPage=function(Li){ki[++Qi]=[],qi[Qi]={objId:0,contentsObjId:0,userUnit:Number(Se),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Li[0]),topRightY:Number(Li[1])}},ba(Qi),pi(ki[Ke])},sa=function(Li,Vi){var cn,gn,En;switch(Ie=Vi||Ie,typeof Li=="string"&&(cn=Pe(Li.toLowerCase()),Array.isArray(cn)&&(gn=cn[0],En=cn[1])),Array.isArray(Li)&&(gn=Li[0]*Xi,En=Li[1]*Xi),isNaN(gn)&&(gn=Ge[0],En=Ge[1]),(gn>14400||En>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),gn=Math.min(14400,gn),En=Math.min(14400,En)),Ge=[gn,En],Ie.substr(0,1)){case"l":En>gn&&(Ge=[En,gn]);break;case"p":gn>En&&(Ge=[En,gn])}ra(Ge),Ir(fr),ri(Or),Xs!==0&&ri(Xs+" J"),Ds!==0&&ri(Ds+" j"),Zi.publish("addPage",{pageNumber:Qi})},Ma=function(Li){Li>0&&Li<=Qi&&(ki.splice(Li,1),qi.splice(Li,1),Qi--,Ke>Qi&&(Ke=Qi),this.setPage(Ke))},ba=function(Li){Li>0&&Li<=Qi&&(Ke=Li)},Ra=e.__private__.getNumberOfPages=e.getNumberOfPages=function(){return ki.length-1},xa=function(Li,Vi,cn){var gn,En=void 0;return cn=cn||{},Li=Li!==void 0?Li:fn[$i].fontName,Vi=Vi!==void 0?Vi:fn[$i].fontStyle,gn=Li.toLowerCase(),Yi[gn]!==void 0&&Yi[gn][Vi]!==void 0?En=Yi[gn][Vi]:Yi[Li]!==void 0&&Yi[Li][Vi]!==void 0?En=Yi[Li][Vi]:cn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Li+"', '"+Vi+"'. Refer to getFontList() for available fonts."),En||cn.noFallback||(En=Yi.times[Vi])==null&&(En=Yi.times.normal),En},Ba=e.__private__.putInfo=function(){var Li=Kn(),Vi=function(gn){return gn};for(var cn in xe!==null&&(Vi=rs.encryptor(Li,0)),ri("<<"),ri("/Producer ("+fs(Vi("jsPDF "+E.version))+")"),Mi)Mi.hasOwnProperty(cn)&&Mi[cn]&&ri("/"+cn.substr(0,1).toUpperCase()+cn.substr(1)+" ("+fs(Vi(Mi[cn]))+")");ri("/CreationDate ("+fs(Vi(Qe))+")"),ri(">>"),ri("endobj")},aa=e.__private__.putCatalog=function(Li){var Vi=(Li=Li||{}).rootDictionaryObjId||hr;switch(Kn(),ri("<<"),ri("/Type /Catalog"),ri("/Pages "+Vi+" 0 R"),Ei||(Ei="fullwidth"),Ei){case"fullwidth":ri("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ri("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ri("/OpenAction [3 0 R /Fit]");break;case"original":ri("/OpenAction [3 0 R /XYZ null null 1]");break;default:var cn=""+Ei;cn.substr(cn.length-1)==="%"&&(Ei=parseInt(Ei)/100),typeof Ei=="number"&&ri("/OpenAction [3 0 R /XYZ null null "+qe(Ei)+"]")}switch(Pi||(Pi="continuous"),Pi){case"continuous":ri("/PageLayout /OneColumn");break;case"single":ri("/PageLayout /SinglePage");break;case"two":case"twoleft":ri("/PageLayout /TwoColumnLeft");break;case"tworight":ri("/PageLayout /TwoColumnRight")}Si&&ri("/PageMode /"+Si),Zi.publish("putCatalog"),ri(">>"),ri("endobj")},ya=e.__private__.putTrailer=function(){ri("trailer"),ri("<<"),ri("/Size "+(ti+1)),ri("/Root "+ti+" 0 R"),ri("/Info "+(ti-1)+" 0 R"),xe!==null&&ri("/Encrypt "+rs.oid+" 0 R"),ri("/ID [ <"+Ze+"> <"+Ze+"> ]"),ri(">>")},oa=e.__private__.putHeader=function(){ri("%PDF-"+ke),ri("%\xBA\xDF\xAC\xE0")},ja=e.__private__.putXRef=function(){var Li="0000000000";ri("xref"),ri("0 "+(ti+1)),ri("0000000000 65535 f ");for(var Vi=1;Vi<=ti;Vi++)typeof hi[Vi]=="function"?ri((Li+hi[Vi]()).slice(-10)+" 00000 n "):hi[Vi]!==void 0?ri((Li+hi[Vi]).slice(-10)+" 00000 n "):ri("0000000000 00000 n ")},Ts=e.__private__.buildDocument=function(){li(),pi(yi),Zi.publish("buildDocument"),oa(),Ln(),Sr(),wr(),xe!==null&&bn(),Ba(),aa();var Li=wi;return ja(),ya(),ri("startxref"),ri(""+Li),ri("%%EOF"),pi(ki[Ke]),yi.join(`
`)},Qs=e.__private__.getBlob=function(Li){return new Blob([di(Li)],{type:"application/pdf"})},Is=e.output=e.__private__.output=ws(function(Li,Vi){switch(typeof(Vi=Vi||{})=="string"?Vi={filename:Vi}:Vi.filename=Vi.filename||"generated.pdf",Li){case void 0:return Ts();case"save":e.save(Vi.filename);break;case"arraybuffer":return di(Ts());case"blob":return Qs(Ts());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Qs(Ts()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var cn="",gn=Ts();try{cn=h(gn)}catch{cn=h(unescape(encodeURIComponent(gn)))}return"data:application/pdf;filename="+Vi.filename+";base64,"+cn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var En="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Vn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Vi.pdfObjectUrl&&(En=Vi.pdfObjectUrl,Vn="");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+En+'"'+Vn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Vi)+");<\/script></body></html>",br=n.open();return br!==null&&br.document.write(tr),br}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Vi.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Vi.filename+'" width="500px" height="400px" /></body></html>',Nr=n.open();if(Nr!==null){Nr.document.write(Tr);var Mr=this;Nr.document.documentElement.querySelector("#pdfViewer").onload=function(){Nr.document.title=Vi.filename,Nr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mr.output("bloburl"))}}return Nr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Vi)+'"></iframe></body></html>',es=n.open();if(es!==null&&(es.document.write(Hr),es.document.title=Vi.filename),es||typeof safari>"u")return es;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Vi);default:return null}}),ca=function(Li){return Array.isArray(an)===!0&&an.indexOf(Li)>-1};switch(Re){case"pt":Xi=1;break;case"mm":Xi=72/25.4;break;case"cm":Xi=72/2.54;break;case"in":Xi=72;break;case"px":Xi=ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xi=12;break;case"ex":Xi=6;break;default:if(typeof Re!="number")throw new Error("Invalid unit: "+Re);Xi=Re}var rs=null;ni(),ze();var Ua=function(Li){return xe!==null?rs.encryptor(Li,0):function(Vi){return Vi}},va=e.__private__.getPageInfo=e.getPageInfo=function(Li){if(isNaN(Li)||Li%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qi[Li].objId,pageNumber:Li,pageContext:qi[Li]}},Pr=e.__private__.getPageInfoByObjId=function(Li){if(isNaN(Li)||Li%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Vi in qi)if(qi[Vi].objId===Li)break;return va(Vi)},$a=e.__private__.getCurrentPageInfo=e.getCurrentPageInfo=function(){return{objId:qi[Ke].objId,pageNumber:Ke,pageContext:qi[Ke]}};e.addPage=function(){return sa.apply(this,arguments),this},e.setPage=function(){return ba.apply(this,arguments),pi.call(this,ki[Ke]),this},e.insertPage=function(Li){return this.addPage(),this.movePage(Ke,Li),this},e.movePage=function(Li,Vi){var cn,gn;if(Li>Vi){cn=ki[Li],gn=qi[Li];for(var En=Li;En>Vi;En--)ki[En]=ki[En-1],qi[En]=qi[En-1];ki[Vi]=cn,qi[Vi]=gn,this.setPage(Vi)}else if(Li<Vi){cn=ki[Li],gn=qi[Li];for(var Vn=Li;Vn<Vi;Vn++)ki[Vn]=ki[Vn+1],qi[Vn]=qi[Vn+1];ki[Vi]=cn,qi[Vi]=gn,this.setPage(Vi)}return this},e.deletePage=function(){return Ma.apply(this,arguments),this},e.__private__.text=e.text=function(Li,Vi,cn,gn,En){var Vn,tr,br,Tr,Nr,Mr,Hr,es,ts,cs=(gn=gn||{}).scope||this;if(typeof Li=="number"&&typeof Vi=="number"&&(typeof cn=="string"||Array.isArray(cn))){var ys=cn;cn=Vi,Vi=Li,Li=ys}if(arguments[3]instanceof Fn?(Xe("The transform parameter of text() with a Matrix value"),ts=En):(br=arguments[4],Tr=arguments[5],_typeof(Hr=arguments[3])==="object"&&Hr!==null||(typeof br=="string"&&(Tr=br,br=null),typeof Hr=="string"&&(Tr=Hr,Hr=null),typeof Hr=="number"&&(br=Hr,Hr=null),gn={flags:Hr,angle:br,align:Tr})),isNaN(Vi)||isNaN(cn)||Li==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Li.length===0)return cs;var gs="",Ws=!1,Fs=typeof gn.lineHeightFactor=="number"?gn.lineHeightFactor:ar,la=cs.internal.scaleFactor;function Ro(Jr){return Jr=Jr.split("	").join(Array(gn.TabLen||9).join(" ")),fs(Jr,Hr)}function mo(Jr){for(var Zr,os=Jr.concat(),hs=[],da=os.length;da--;)typeof(Zr=os.shift())=="string"?hs.push(Zr):Array.isArray(Jr)&&(Zr.length===1||Zr[1]===void 0&&Zr[2]===void 0)?hs.push(Zr[0]):hs.push([Zr[0],Zr[1],Zr[2]]);return hs}function bo(Jr,Zr){var os;if(typeof Jr=="string")os=Zr(Jr)[0];else if(Array.isArray(Jr)){for(var hs,da,Fa=Jr.concat(),no=[],jo=Fa.length;jo--;)typeof(hs=Fa.shift())=="string"?no.push(Zr(hs)[0]):Array.isArray(hs)&&typeof hs[0]=="string"&&(da=Zr(hs[0],hs[1],hs[2]),no.push([da[0],da[1],da[2]]));os=no}return os}var Ya=!1,xo=!0;if(typeof Li=="string")Ya=!0;else if(Array.isArray(Li)){var yo=Li.concat();tr=[];for(var Ka,As=yo.length;As--;)(typeof(Ka=yo.shift())!="string"||Array.isArray(Ka)&&typeof Ka[0]!="string")&&(xo=!1);Ya=xo}if(Ya===!1)throw new Error('Type of text must be string or Array. "'+Li+'" is not recognized.');typeof Li=="string"&&(Li=Li.match(/[\r?\n]/)?Li.split(/\r\n|\r|\n/g):[Li]);var Ja=Ai/cs.internal.scaleFactor,Za=Ja*(Fs-1);switch(gn.baseline){case"bottom":cn-=Za;break;case"top":cn+=Ja-Za;break;case"hanging":cn+=Ja-2*Za;break;case"middle":cn+=Ja/2-Za}if((Mr=gn.maxWidth||0)>0&&(typeof Li=="string"?Li=cs.splitTextToSize(Li,Mr):Object.prototype.toString.call(Li)==="[object Array]"&&(Li=Li.reduce(function(Jr,Zr){return Jr.concat(cs.splitTextToSize(Zr,Mr))},[]))),Vn={text:Li,x:Vi,y:cn,options:gn,mutex:{pdfEscape:fs,activeFontKey:$i,fonts:fn,activeFontSize:Ai}},Zi.publish("preProcessText",Vn),Li=Vn.text,br=(gn=Vn.options).angle,!(ts instanceof Fn)&&br&&typeof br=="number"){br*=Math.PI/180,gn.rotationDirection===0&&(br=-br),Me===De.ADVANCED&&(br=-br);var Qa=Math.cos(br),vo=Math.sin(br);ts=new Fn(Qa,vo,-vo,Qa,0,0)}else br&&br instanceof Fn&&(ts=br);Me!==De.ADVANCED||ts||(ts=Rn),(Nr=gn.charSpace||ds)!==void 0&&(gs+=je(gi(Nr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(es=gn.horizontalScale)!==void 0&&(gs+=je(100*es)+` Tz
`),gn.lang;var _s=-1,pc=gn.renderingMode!==void 0?gn.renderingMode:gn.stroke,wo=cs.internal.getCurrentPageInfo().pageContext;switch(pc){case 0:case!1:case"fill":_s=0;break;case 1:case!0:case"stroke":_s=1;break;case 2:case"fillThenStroke":_s=2;break;case 3:case"invisible":_s=3;break;case 4:case"fillAndAddForClipping":_s=4;break;case 5:case"strokeAndAddPathForClipping":_s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_s=6;break;case 7:case"addToPathForClipping":_s=7}var Bo=wo.usedRenderingMode!==void 0?wo.usedRenderingMode:-1;_s!==-1?gs+=_s+` Tr
`:Bo!==-1&&(gs+=`0 Tr
`),_s!==-1&&(wo.usedRenderingMode=_s),Tr=gn.align||"left";var Gs,So=Ai*Fs,mc=cs.internal.pageSize.getWidth(),bc=fn[$i];Nr=gn.charSpace||ds,Mr=gn.maxWidth||0,Hr=Object.assign({autoencode:!0,noBOM:!0},gn.flags);var Aa=[];if(Object.prototype.toString.call(Li)==="[object Array]"){var Ms;tr=mo(Li),Tr!=="left"&&(Gs=tr.map(function(Jr){return cs.getStringUnitWidth(Jr,{font:bc,charSpace:Nr,fontSize:Ai,doKerning:!1})*Ai/la}));var qs,Ca=0;if(Tr==="right"){Vi-=Gs[0],Li=[],As=tr.length;for(var ta=0;ta<As;ta++)ta===0?(qs=jr(Vi),Ms=_r(cn)):(qs=gi(Ca-Gs[ta]),Ms=-So),Li.push([tr[ta],qs,Ms]),Ca=Gs[ta]}else if(Tr==="center"){Vi-=Gs[0]/2,Li=[],As=tr.length;for(var ua=0;ua<As;ua++)ua===0?(qs=jr(Vi),Ms=_r(cn)):(qs=gi((Ca-Gs[ua])/2),Ms=-So),Li.push([tr[ua],qs,Ms]),Ca=Gs[ua]}else if(Tr==="left"){Li=[],As=tr.length;for(var eo=0;eo<As;eo++)Li.push(tr[eo])}else{if(Tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Li=[],As=tr.length,Mr=Mr!==0?Mr:mc;for(var Ys=0;Ys<As;Ys++)Ms=Ys===0?_r(cn):-So,qs=Ys===0?jr(Vi):0,Ys<As-1?Aa.push(je(gi((Mr-Gs[Ys])/(tr[Ys].split(" ").length-1)))):Aa.push(0),Li.push([tr[Ys],qs,Ms])}}var to=typeof gn.R2L=="boolean"?gn.R2L:_i;to===!0&&(Li=bo(Li,function(Jr,Zr,os){return[Jr.split("").reverse().join(""),Zr,os]})),Vn={text:Li,x:Vi,y:cn,options:gn,mutex:{pdfEscape:fs,activeFontKey:$i,fonts:fn,activeFontSize:Ai}},Zi.publish("postProcessText",Vn),Li=Vn.text,Ws=Vn.mutex.isHex||!1;var Ao=fn[$i].encoding;Ao!=="WinAnsiEncoding"&&Ao!=="StandardEncoding"||(Li=bo(Li,function(Jr,Zr,os){return[Ro(Jr),Zr,os]})),tr=mo(Li),Li=[];for(var Ea,Ks,ha,Xa=0,io=1,za=Array.isArray(tr[0])?io:Xa,Ta="",_o=function(Jr,Zr,os){var hs="";return os instanceof Fn?(os=typeof gn.angle=="number"?Xn(os,new Fn(1,0,0,1,Jr,Zr)):Xn(new Fn(1,0,0,1,Jr,Zr),os),Me===De.ADVANCED&&(os=Xn(new Fn(1,0,0,-1,0,0),os)),hs=os.join(" ")+` Tm
`):hs=je(Jr)+" "+je(Zr)+` Td
`,hs},Rs=0;Rs<tr.length;Rs++){switch(Ta="",za){case io:ha=(Ws?"<":"(")+tr[Rs][0]+(Ws?">":")"),Ea=parseFloat(tr[Rs][1]),Ks=parseFloat(tr[Rs][2]);break;case Xa:ha=(Ws?"<":"(")+tr[Rs]+(Ws?">":")"),Ea=jr(Vi),Ks=_r(cn)}Aa!==void 0&&Aa[Rs]!==void 0&&(Ta=Aa[Rs]+` Tw
`),Rs===0?Li.push(Ta+_o(Ea,Ks,ts)+ha):za===Xa?Li.push(Ta+ha):za===io&&Li.push(Ta+_o(Ea,Ks,ts)+ha)}Li=za===Xa?Li.join(` Tj
T* `):Li.join(` Tj
`),Li+=` Tj
`;var fa=`BT
/`;return fa+=$i+" "+Ai+` Tf
`,fa+=je(Ai*Fs)+` TL
`,fa+=kr+`
`,fa+=gs,fa+=Li,ri(fa+="ET"),Te[$i]=!0,cs};var Ha=e.__private__.clip=e.clip=function(Li){return ri(Li==="evenodd"?"W*":"W"),this};e.clipEvenOdd=function(){return Ha("evenodd")},e.__private__.discardPath=e.discardPath=function(){return ri("n"),this};var xs=e.__private__.isValidStyle=function(Li){var Vi=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Li)!==-1&&(Vi=!0),Vi};e.__private__.setDefaultPathOperation=e.setDefaultPathOperation=function(Li){return xs(Li)&&(t=Li),this};var wa=e.__private__.getStyle=e.getStyle=function(Li){var Vi=t;switch(Li){case"D":case"S":Vi="S";break;case"F":Vi="f";break;case"FD":case"DF":Vi="B";break;case"f":case"f*":case"B":case"B*":Vi=Li}return Vi},Vs=e.close=function(){return ri("h"),this};e.stroke=function(){return ri("S"),this},e.fill=function(Li){return ea("f",Li),this},e.fillEvenOdd=function(Li){return ea("f*",Li),this},e.fillStroke=function(Li){return ea("B",Li),this},e.fillStrokeEvenOdd=function(Li){return ea("B*",Li),this};var ea=function(Li,Vi){_typeof(Vi)==="object"?ei(Vi,Li):ri(Li)},Ls=function(Li){Li===null||Me===De.ADVANCED&&Li===void 0||(Li=wa(Li),ri(Li))};function vn(Li,Vi,cn,gn,En){var Vn=new M(Vi||this.boundingBox,cn||this.xStep,gn||this.yStep,this.gState,En||this.matrix);Vn.stream=this.stream;var tr=Li+"$$"+this.cloneIndex+++"$$";return Wn(tr,Vn),Vn}var ei=function(Li,Vi){var cn=Ui[Li.key],gn=ji[cn];if(gn instanceof B)ri("q"),ri(Oi(Vi)),gn.gState&&e.setGState(gn.gState),ri(Li.matrix.toString()+" cm"),ri("/"+cn+" sh"),ri("Q");else if(gn instanceof M){var En=new Fn(1,0,0,-1,0,Sa());Li.matrix&&(En=En.multiply(Li.matrix||Rn),cn=vn.call(gn,Li.key,Li.boundingBox,Li.xStep,Li.yStep,En).id),ri("q"),ri("/Pattern cs"),ri("/"+cn+" scn"),gn.gState&&e.setGState(gn.gState),ri(Vi),ri("Q")}},Oi=function(Li){switch(Li){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},dn=e.moveTo=function(Li,Vi){return ri(je(gi(Li))+" "+je(ui(Vi))+" m"),this},_n=e.lineTo=function(Li,Vi){return ri(je(gi(Li))+" "+je(ui(Vi))+" l"),this},$n=e.curveTo=function(Li,Vi,cn,gn,En,Vn){return ri([je(gi(Li)),je(ui(Vi)),je(gi(cn)),je(ui(gn)),je(gi(En)),je(ui(Vn)),"c"].join(" ")),this};e.__private__.line=e.line=function(Li,Vi,cn,gn,En){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||isNaN(gn)||!xs(En))throw new Error("Invalid arguments passed to jsPDF.line");return Me===De.COMPAT?this.lines([[cn-Li,gn-Vi]],Li,Vi,[1,1],En||"S"):this.lines([[cn-Li,gn-Vi]],Li,Vi,[1,1]).stroke()},e.__private__.lines=e.lines=function(Li,Vi,cn,gn,En,Vn){var tr,br,Tr,Nr,Mr,Hr,es,ts,cs,ys,gs,Ws;if(typeof Li=="number"&&(Ws=cn,cn=Vi,Vi=Li,Li=Ws),gn=gn||[1,1],Vn=Vn||!1,isNaN(Vi)||isNaN(cn)||!Array.isArray(Li)||!Array.isArray(gn)||!xs(En)||typeof Vn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dn(Vi,cn),tr=gn[0],br=gn[1],Nr=Li.length,ys=Vi,gs=cn,Tr=0;Tr<Nr;Tr++)(Mr=Li[Tr]).length===2?(ys=Mr[0]*tr+ys,gs=Mr[1]*br+gs,_n(ys,gs)):(Hr=Mr[0]*tr+ys,es=Mr[1]*br+gs,ts=Mr[2]*tr+ys,cs=Mr[3]*br+gs,ys=Mr[4]*tr+ys,gs=Mr[5]*br+gs,$n(Hr,es,ts,cs,ys,gs));return Vn&&Vs(),Ls(En),this},e.path=function(Li){for(var Vi=0;Vi<Li.length;Vi++){var cn=Li[Vi],gn=cn.c;switch(cn.op){case"m":dn(gn[0],gn[1]);break;case"l":_n(gn[0],gn[1]);break;case"c":$n.apply(this,gn);break;case"h":Vs()}}return this},e.__private__.rect=e.rect=function(Li,Vi,cn,gn,En){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||isNaN(gn)||!xs(En))throw new Error("Invalid arguments passed to jsPDF.rect");return Me===De.COMPAT&&(gn=-gn),ri([je(gi(Li)),je(ui(Vi)),je(gi(cn)),je(gi(gn)),"re"].join(" ")),Ls(En),this},e.__private__.triangle=e.triangle=function(Li,Vi,cn,gn,En,Vn,tr){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||isNaN(gn)||isNaN(En)||isNaN(Vn)||!xs(tr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[cn-Li,gn-Vi],[En-cn,Vn-gn],[Li-En,Vi-Vn]],Li,Vi,[1,1],tr,!0),this},e.__private__.roundedRect=e.roundedRect=function(Li,Vi,cn,gn,En,Vn,tr){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||isNaN(gn)||isNaN(En)||isNaN(Vn)||!xs(tr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var br=4/3*(Math.SQRT2-1);return En=Math.min(En,.5*cn),Vn=Math.min(Vn,.5*gn),this.lines([[cn-2*En,0],[En*br,0,En,Vn-Vn*br,En,Vn],[0,gn-2*Vn],[0,Vn*br,-En*br,Vn,-En,Vn],[2*En-cn,0],[-En*br,0,-En,-Vn*br,-En,-Vn],[0,2*Vn-gn],[0,-Vn*br,En*br,-Vn,En,-Vn]],Li+En,Vi,[1,1],tr,!0),this},e.__private__.ellipse=e.ellipse=function(Li,Vi,cn,gn,En){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||isNaN(gn)||!xs(En))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Vn=4/3*(Math.SQRT2-1)*cn,tr=4/3*(Math.SQRT2-1)*gn;return dn(Li+cn,Vi),$n(Li+cn,Vi-tr,Li+Vn,Vi-gn,Li,Vi-gn),$n(Li-Vn,Vi-gn,Li-cn,Vi-tr,Li-cn,Vi),$n(Li-cn,Vi+tr,Li-Vn,Vi+gn,Li,Vi+gn),$n(Li+Vn,Vi+gn,Li+cn,Vi+tr,Li+cn,Vi),Ls(En),this},e.__private__.circle=e.circle=function(Li,Vi,cn,gn){if(isNaN(Li)||isNaN(Vi)||isNaN(cn)||!xs(gn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Li,Vi,cn,cn,gn)},e.setFont=function(Li,Vi,cn){return cn&&(Vi=He(Vi,cn)),$i=xa(Li,Vi,{disableWarning:!1}),this};var lr=e.__private__.getFont=e.getFont=function(){return fn[xa.apply(e,arguments)]};e.__private__.getFontList=e.getFontList=function(){var Li,Vi,cn={};for(Li in Yi)if(Yi.hasOwnProperty(Li))for(Vi in cn[Li]=[],Yi[Li])Yi[Li].hasOwnProperty(Vi)&&cn[Li].push(Vi);return cn},e.addFont=function(Li,Vi,cn,gn,En){var Vn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Vn.indexOf(arguments[3])!==-1?En=arguments[3]:arguments[3]&&Vn.indexOf(arguments[3])==-1&&(cn=He(cn,gn)),En=En||"Identity-H",qr.call(this,Li,Vi,cn,En)};var ar,fr=Ce.lineWidth||.200025,Ar=e.__private__.getLineWidth=e.getLineWidth=function(){return fr},Ir=e.__private__.setLineWidth=e.setLineWidth=function(Li){return fr=Li,ri(je(gi(Li))+" w"),this};e.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Li,Vi){if(Li=Li||[],Vi=Vi||0,isNaN(Vi)||!Array.isArray(Li))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Li=Li.map(function(cn){return je(gi(cn))}).join(" "),Vi=je(gi(Vi)),ri("["+Li+"] "+Vi+" d"),this};var $r=e.__private__.getLineHeight=e.getLineHeight=function(){return Ai*ar};e.__private__.getLineHeight=e.getLineHeight=function(){return Ai*ar};var Br=e.__private__.setLineHeightFactor=e.setLineHeightFactor=function(Li){return typeof(Li=Li||1.15)=="number"&&(ar=Li),this},Xr=e.__private__.getLineHeightFactor=e.getLineHeightFactor=function(){return ar};Br(Ce.lineHeight);var jr=e.__private__.getHorizontalCoordinate=function(Li){return gi(Li)},_r=e.__private__.getVerticalCoordinate=function(Li){return Me===De.ADVANCED?Li:qi[Ke].mediaBox.topRightY-qi[Ke].mediaBox.bottomLeftY-gi(Li)},Qr=e.__private__.getHorizontalCoordinateString=e.getHorizontalCoordinateString=function(Li){return je(jr(Li))},Cr=e.__private__.getVerticalCoordinateString=e.getVerticalCoordinateString=function(Li){return je(_r(Li))},Or=Ce.strokeColor||"0 G";e.__private__.getStrokeColor=e.getDrawColor=function(){return dr(Or)},e.__private__.setStrokeColor=e.setDrawColor=function(Li,Vi,cn,gn){return Or=nr({ch1:Li,ch2:Vi,ch3:cn,ch4:gn,pdfColorType:"draw",precision:2}),ri(Or),this};var ss=Ce.fillColor||"0 g";e.__private__.getFillColor=e.getFillColor=function(){return dr(ss)},e.__private__.setFillColor=e.setFillColor=function(Li,Vi,cn,gn){return ss=nr({ch1:Li,ch2:Vi,ch3:cn,ch4:gn,pdfColorType:"fill",precision:2}),ri(ss),this};var kr=Ce.textColor||"0 g",Ns=e.__private__.getTextColor=e.getTextColor=function(){return dr(kr)};e.__private__.setTextColor=e.setTextColor=function(Li,Vi,cn,gn){return kr=nr({ch1:Li,ch2:Vi,ch3:cn,ch4:gn,pdfColorType:"text",precision:3}),this};var ds=Ce.charSpace,as=e.__private__.getCharSpace=e.getCharSpace=function(){return parseFloat(ds||0)};e.__private__.setCharSpace=e.setCharSpace=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=Li,this};var Xs=0;e.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},e.__private__.setLineCap=e.setLineCap=function(Li){var Vi=e.CapJoinStyles[Li];if(Vi===void 0)throw new Error("Line cap style of '"+Li+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=Vi,ri(Vi+" J"),this};var Ds=0;e.__private__.setLineJoin=e.setLineJoin=function(Li){var Vi=e.CapJoinStyles[Li];if(Vi===void 0)throw new Error("Line join style of '"+Li+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ds=Vi,ri(Vi+" j"),this},e.__private__.setLineMiterLimit=e.__private__.setMiterLimit=e.setLineMiterLimit=e.setMiterLimit=function(Li){if(Li=Li||0,isNaN(Li))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ri(je(gi(Li))+" M"),this},e.GState=j,e.setGState=function(Li){(Li=typeof Li=="string"?en[nn[Li]]:Ga(null,Li)).equals(Sn)||(ri("/"+Li.id+" gs"),Sn=Li)};var Ga=function(Li,Vi){if(!Li||!nn[Li]){var cn=!1;for(var gn in en)if(en.hasOwnProperty(gn)&&en[gn].equals(Vi)){cn=!0;break}if(cn)Vi=en[gn];else{var En="GS"+(Object.keys(en).length+1).toString(10);en[En]=Vi,Vi.id=En}return Li&&(nn[Li]=Vi.id),Zi.publish("addGState",Vi),Vi}};e.addGState=function(Li,Vi){return Ga(Li,Vi),this},e.saveGraphicsState=function(){return ri("q"),Ri.push({key:$i,size:Ai,color:kr}),this},e.restoreGraphicsState=function(){ri("Q");var Li=Ri.pop();return $i=Li.key,Ai=Li.size,kr=Li.color,Sn=null,this},e.setCurrentTransformationMatrix=function(Li){return ri(Li.toString()+" cm"),this},e.comment=function(Li){return ri("#"+Li),this};var zs=function(Li,Vi){var cn=Li||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return cn},set:function(Vn){isNaN(Vn)||(cn=parseFloat(Vn))}});var gn=Vi||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return gn},set:function(Vn){isNaN(Vn)||(gn=parseFloat(Vn))}});var En="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return En},set:function(Vn){En=Vn.toString()}}),this},ho=function(Li,Vi,cn,gn){zs.call(this,Li,Vi),this.type="rect";var En=cn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return En},set:function(tr){isNaN(tr)||(En=parseFloat(tr))}});var Vn=gn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Vn},set:function(tr){isNaN(tr)||(Vn=parseFloat(tr))}}),this},fo=function(){this.page=Qi,this.currentPage=Ke,this.pages=ki.slice(0),this.pagesContext=qi.slice(0),this.x=rn,this.y=tn,this.matrix=on,this.width=Va(Ke),this.height=Sa(Ke),this.outputDestination=xi,this.id="",this.objectNumber=-1};fo.prototype.restore=function(){Qi=this.page,Ke=this.currentPage,qi=this.pagesContext,ki=this.pages,rn=this.x,tn=this.y,on=this.matrix,go(Ke,this.width),po(Ke,this.height),xi=this.outputDestination};var Mo=function(Li,Vi,cn,gn,En){hn.push(new fo),Qi=Ke=0,ki=[],rn=Li,tn=Vi,on=En,ra([cn,gn])},gc=function(Li){if(Dn[Li])hn.pop().restore();else{var Vi=new fo,cn="Xo"+(Object.keys(Nn).length+1).toString(10);Vi.id=cn,Dn[Li]=cn,Nn[cn]=Vi,Zi.publish("addFormObject",Vi),hn.pop().restore()}};for(var qa in e.beginFormObject=function(Li,Vi,cn,gn,En){return Mo(Li,Vi,cn,gn,En),this},e.endFormObject=function(Li){return gc(Li),this},e.doFormObject=function(Li,Vi){var cn=Nn[Dn[Li]];return ri("q"),ri(Vi.toString()+" cm"),ri("/"+cn.id+" Do"),ri("Q"),this},e.getFormObject=function(Li){var Vi=Nn[Dn[Li]];return{x:Vi.x,y:Vi.y,width:Vi.width,height:Vi.height,matrix:Vi.matrix}},e.save=function(Li,Vi){return Li=Li||"generated.pdf",(Vi=Vi||{}).returnPromise=Vi.returnPromise||!1,Vi.returnPromise===!1?(l(Qs(Ts()),Li),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(cn,gn){try{var En=l(Qs(Ts()),Li);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),cn(En)}catch(Vn){gn(Vn.message)}})},E.API)E.API.hasOwnProperty(qa)&&(qa==="events"&&E.API.events.length?function(Li,Vi){var cn,gn,En;for(En=Vi.length-1;En!==-1;En--)cn=Vi[En][0],gn=Vi[En][1],Li.subscribe.apply(Li,[cn].concat(typeof gn=="function"?[gn]:gn))}(Zi,E.API.events):e[qa]=E.API[qa]);var Va=e.getPageWidth=function(Li){return(qi[Li=Li||Ke].mediaBox.topRightX-qi[Li].mediaBox.bottomLeftX)/Xi},go=e.setPageWidth=function(Li,Vi){qi[Li].mediaBox.topRightX=Vi*Xi+qi[Li].mediaBox.bottomLeftX},Sa=e.getPageHeight=function(Li){return(qi[Li=Li||Ke].mediaBox.topRightY-qi[Li].mediaBox.bottomLeftY)/Xi},po=e.setPageHeight=function(Li,Vi){qi[Li].mediaBox.topRightY=Vi*Xi+qi[Li].mediaBox.bottomLeftY};return e.internal={pdfEscape:fs,getStyle:wa,getFont:lr,getFontSize:mi,getCharSpace:as,getTextColor:Ns,getLineHeight:$r,getLineHeightFactor:Xr,getLineWidth:Ar,write:oi,getHorizontalCoordinate:jr,getVerticalCoordinate:_r,getCoordinateString:Qr,getVerticalCoordinateString:Cr,collections:{},newObject:Kn,newAdditionalObject:Hn,newObjectDeferred:Mn,newObjectDeferredBegin:er,getFilters:Lr,putStream:An,events:Zi,scaleFactor:Xi,pageSize:{getWidth:function(){return Va(Ke)},setWidth:function(Li){go(Ke,Li)},getHeight:function(){return Sa(Ke)},setHeight:function(Li){po(Ke,Li)}},encryptionOptions:xe,encryption:rs,getEncryptor:Ua,output:Is,getNumberOfPages:Ra,pages:ki,out:ri,f2:qe,f3:Ye,getPageInfo:va,getPageInfoByObjId:Pr,getCurrentPageInfo:$a,getPDFVersion:Oe,Point:zs,Rectangle:ho,Matrix:Fn,hasHotfix:ca},Object.defineProperty(e.internal.pageSize,"width",{get:function(){return Va(Ke)},set:function(Li){go(Ke,Li)},enumerable:!0,configurable:!0}),Object.defineProperty(e.internal.pageSize,"height",{get:function(){return Sa(Ke)},set:function(Li){po(Ke,Li)},enumerable:!0,configurable:!0}),vs.call(e,bi),$i="F1",sa(Ge,Ie),Zi.publish("initialized"),e}I.prototype.lsbFirstWord=function(Ce){return String.fromCharCode(Ce>>0&255,Ce>>8&255,Ce>>16&255,Ce>>24&255)},I.prototype.toHexString=function(Ce){return Ce.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ce){for(var r=[],Ie=0;Ie<Ce.length;Ie+=2)r.push(String.fromCharCode(parseInt(Ce.substr(Ie,2),16)));return r.join("")},I.prototype.processOwnerPassword=function(Ce,r){return P(x(r).substr(0,5),Ce)},I.prototype.encryptor=function(Ce,r){var Ie=x(this.encryptionKey+String.fromCharCode(255&Ce,Ce>>8&255,Ce>>16&255,255&r,r>>8&255)).substr(0,10);return function(Re){return P(Ie,Re)}},j.prototype.equals=function(Ce){var r,Ie="id,objectNumber,equals";if(!Ce||_typeof(Ce)!==_typeof(this))return!1;var Re=0;for(r in this)if(!(Ie.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!Ce.hasOwnProperty(r)||this[r]!==Ce[r])return!1;Re++}for(r in Ce)Ce.hasOwnProperty(r)&&Ie.indexOf(r)<0&&Re--;return Re===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(Ce){return Ce.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ce){return Ce.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ce){return Ce.toFixed(2)},z=function(Ce){return Ce.toFixed(5)};q.__acroform__={};var H=function(Ce,r){Ce.prototype=Object.create(r.prototype),Ce.prototype.constructor=Ce},W=function(Ce){return Ce*D},V=function(Ce){var r=new ut,Ie=At.internal.getHeight(Ce)||0,Re=At.internal.getWidth(Ce)||0;return r.BBox=[0,0,Number(U(Re)),Number(U(Ie))],r},G=q.__acroform__.setBit=function(Ce,r){if(Ce=Ce||0,r=r||0,isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ce|=1<<r},Y=q.__acroform__.clearBit=function(Ce,r){if(Ce=Ce||0,r=r||0,isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ce&=~(1<<r)},J=q.__acroform__.getBit=function(Ce,r){if(isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Ce&1<<r)==0?0:1},X=q.__acroform__.getBitForPdf=function(Ce,r){if(isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(Ce,r-1)},K=q.__acroform__.setBitForPdf=function(Ce,r){if(isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(Ce,r-1)},Z=q.__acroform__.clearBitForPdf=function(Ce,r){if(isNaN(Ce)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(Ce,r-1)},$=q.__acroform__.calculateCoordinates=function(Ce,r){var Ie=r.internal.getHorizontalCoordinate,Re=r.internal.getVerticalCoordinate,Ge=Ce[0],Je=Ce[1],ii=Ce[2],Se=Ce[3],_e={};return _e.lowerLeft_X=Ie(Ge)||0,_e.lowerLeft_Y=Re(Je+Se)||0,_e.upperRight_X=Ie(Ge+ii)||0,_e.upperRight_Y=Re(Je)||0,[Number(U(_e.lowerLeft_X)),Number(U(_e.lowerLeft_Y)),Number(U(_e.upperRight_X)),Number(U(_e.upperRight_Y))]},Q=function(Ce){if(Ce.appearanceStreamContent)return Ce.appearanceStreamContent;if(Ce.V||Ce.DV){var r=[],Ie=Ce._V||Ce.DV,Re=tt(Ce,Ie),Ge=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(Ce.scope.__private__.encodeColorString(Ce.color)),r.push("/"+Ge+" "+U(Re.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(Re.text),r.push("ET"),r.push("Q"),r.push("EMC");var Je=V(Ce);return Je.scope=Ce.scope,Je.stream=r.join(`
`),Je}},tt=function(Ce,r){var Ie=Ce.fontSize===0?Ce.maxFontSize:Ce.fontSize,Re={text:"",fontSize:""},Ge=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");Ge=Ce.multiline?Ge.map(function(Ye){return Ye.split(`
`)}):Ge.map(function(Ye){return[Ye]});var Je=Ie,ii=At.internal.getHeight(Ce)||0;ii=ii<0?-ii:ii;var Se=At.internal.getWidth(Ce)||0;Se=Se<0?-Se:Se;var _e=function(Ye,gi,ai){if(Ye+1<Ge.length){var ui=gi+" "+Ge[Ye+1][0];return et(ui,Ce,ai).width<=Se-4}return!1};Je++;e:for(;Je>0;){r="",Je--;var t,xe,Fe=et("3",Ce,Je).height,Te=Ce.multiline?ii-Je:(ii-Fe)/2,e=Te+=2,ke=0,Oe=0,Ee=0;if(Je<=0){r=`(...) Tj
`,r+="% Width of Text: "+et(r,Ce,Je=12).width+", FieldWidth:"+Se+`
`;break}for(var Pe="",De=0,Me=0;Me<Ge.length;Me++)if(Ge.hasOwnProperty(Me)){var Ae=!1;if(Ge[Me].length!==1&&Ee!==Ge[Me].length-1){if((Fe+2)*(De+2)+2>ii)continue e;Pe+=Ge[Me][Ee],Ae=!0,Oe=Me,Me--}else{Pe=(Pe+=Ge[Me][Ee]+" ").substr(Pe.length-1)==" "?Pe.substr(0,Pe.length-1):Pe;var Be=parseInt(Me),He=_e(Be,Pe,Je),je=Me>=Ge.length-1;if(He&&!je){Pe+=" ",Ee=0;continue}if(He||je){if(je)Oe=Be;else if(Ce.multiline&&(Fe+2)*(De+2)+2>ii)continue e}else{if(!Ce.multiline||(Fe+2)*(De+2)+2>ii)continue e;Oe=Be}}for(var Xe="",St=ke;St<=Oe;St++){var qe=Ge[St];if(Ce.multiline){if(St===Oe){Xe+=qe[Ee]+" ",Ee=(Ee+1)%qe.length;continue}if(St===ke){Xe+=qe[qe.length-1]+" ";continue}}Xe+=qe[0]+" "}switch(Xe=Xe.substr(Xe.length-1)==" "?Xe.substr(0,Xe.length-1):Xe,xe=et(Xe,Ce,Je).width,Ce.textAlign){case"right":t=Se-xe-2;break;case"center":t=(Se-xe)/2;break;case"left":default:t=2}r+=U(t)+" "+U(e)+` Td
`,r+="("+R(Xe)+`) Tj
`,r+=-U(t)+` 0 Td
`,e=-(Je+2),xe=0,ke=Ae?Oe:Oe+1,De++,Pe=""}break}return Re.text=r,Re.fontSize=Je,Re},et=function(Ce,r,Ie){var Re=r.scope.internal.getFont(r.fontName,r.fontStyle),Ge=r.scope.getStringUnitWidth(Ce,{font:Re,fontSize:parseFloat(Ie),charSpace:0})*parseFloat(Ie);return{height:r.scope.getStringUnitWidth("3",{font:Re,fontSize:parseFloat(Ie),charSpace:0})*parseFloat(Ie)*1.5,width:Ge}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(Ce,r){var Ie={type:"reference",object:Ce};r.internal.getPageInfo(Ce.page).pageContext.annotations.find(function(Re){return Re.type===Ie.type&&Re.object===Ie.object})===void 0&&r.internal.getPageInfo(Ce.page).pageContext.annotations.push(Ie)},it=function(Ce,r){for(var Ie in Ce)if(Ce.hasOwnProperty(Ie)){var Re=Ie,Ge=Ce[Ie];r.internal.newObjectDeferredBegin(Ge.objId,!0),_typeof(Ge)==="object"&&typeof Ge.putStream=="function"&&Ge.putStream(),delete Ce[Re]}},at=function(Ce,r){if(r.scope=Ce,Ce.internal!==void 0&&(Ce.internal.acroformPlugin===void 0||Ce.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,Ce.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ce.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ce.internal.scaleFactor,Ce.internal.acroformPlugin.acroFormDictionaryRoot=new ht,Ce.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ce,Ce.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ce.internal.events.subscribe("postPutResources",function(){(function(Ie){Ie.internal.events.unsubscribe(Ie.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ie.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ie.internal.acroformPlugin.printedOut=!0})(Ce)}),Ce.internal.events.subscribe("buildDocument",function(){(function(Ie){Ie.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Re=Ie.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Ge in Re)if(Re.hasOwnProperty(Ge)){var Je=Re[Ge];Je.objId=void 0,Je.hasAnnotation&&nt(Je,Ie)}})(Ce)}),Ce.internal.events.subscribe("putCatalog",function(){(function(Ie){if(Ie.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ie.internal.write("/AcroForm "+Ie.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ce)}),Ce.internal.events.subscribe("postPutPages",function(Ie){(function(Re,Ge){var Je=!Re;for(var ii in Re||(Ge.internal.newObjectDeferredBegin(Ge.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Ge.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Re=Re||Ge.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Re.hasOwnProperty(ii)){var Se=Re[ii],_e=[],t=Se.Rect;if(Se.Rect&&(Se.Rect=$(Se.Rect,Ge)),Ge.internal.newObjectDeferredBegin(Se.objId,!0),Se.DA=At.createDefaultAppearanceStream(Se),_typeof(Se)==="object"&&typeof Se.getKeyValueListForStream=="function"&&(_e=Se.getKeyValueListForStream()),Se.Rect=t,Se.hasAppearanceStream&&!Se.appearanceStreamContent){var xe=Q(Se);_e.push({key:"AP",value:"<</N "+xe+">>"}),Ge.internal.acroformPlugin.xForms.push(xe)}if(Se.appearanceStreamContent){var Fe="";for(var Te in Se.appearanceStreamContent)if(Se.appearanceStreamContent.hasOwnProperty(Te)){var e=Se.appearanceStreamContent[Te];if(Fe+="/"+Te+" ",Fe+="<<",Object.keys(e).length>=1||Array.isArray(e)){for(var ii in e)if(e.hasOwnProperty(ii)){var ke=e[ii];typeof ke=="function"&&(ke=ke.call(Ge,Se)),Fe+="/"+ii+" "+ke+" ",Ge.internal.acroformPlugin.xForms.indexOf(ke)>=0||Ge.internal.acroformPlugin.xForms.push(ke)}}else typeof(ke=e)=="function"&&(ke=ke.call(Ge,Se)),Fe+="/"+ii+" "+ke,Ge.internal.acroformPlugin.xForms.indexOf(ke)>=0||Ge.internal.acroformPlugin.xForms.push(ke);Fe+=">>"}_e.push({key:"AP",value:`<<
`+Fe+">>"})}Ge.internal.putStream({additionalKeyValues:_e,objectId:Se.objId}),Ge.internal.out("endobj")}Je&&it(Ge.internal.acroformPlugin.xForms,Ge)})(Ie,Ce)}),Ce.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ce,r,Ie){var Re=function(ii){return ii};if(Array.isArray(Ce)){for(var Ge="[",Je=0;Je<Ce.length;Je++)switch(Je!==0&&(Ge+=" "),_typeof(Ce[Je])){case"boolean":case"number":case"object":Ge+=Ce[Je].toString();break;case"string":Ce[Je].substr(0,1)!=="/"?(r!==void 0&&Ie&&(Re=Ie.internal.getEncryptor(r)),Ge+="("+R(Re(Ce[Je].toString()))+")"):Ge+=Ce[Je].toString()}return Ge+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ce,r,Ie){var Re=function(Ge){return Ge};return r!==void 0&&Ie&&(Re=Ie.internal.getEncryptor(r)),(Ce=Ce||"").toString(),Ce="("+R(Re(Ce))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ce){this._objId=Ce}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ce=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ce,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ce=[],r=Object.getOwnPropertyNames(this).filter(function(Je){return Je!="content"&&Je!="appearanceStreamContent"&&Je!="scope"&&Je!="objId"&&Je.substring(0,1)!="_"});for(var Ie in r)if(Object.getOwnPropertyDescriptor(this,r[Ie]).configurable===!1){var Re=r[Ie],Ge=this[Re];Ge&&(Array.isArray(Ge)?Ce.push({key:Re,value:ot(Ge,this.objId,this.scope)}):Ge instanceof ct?(Ge.scope=this.scope,Ce.push({key:Re,value:Ge.objId+" 0 R"})):typeof Ge!="function"&&Ce.push({key:Re,value:Ge}))}return Ce};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ce,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(Ie){r=Ie}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ie){Ce=Ie.trim()},get:function(){return Ce||null}})};H(ut,ct);var ht=function(){ct.call(this);var Ce,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ce){var Ie=function(Re){return Re};return this.scope&&(Ie=this.scope.internal.getEncryptor(this.objId)),"("+R(Ie(Ce))+")"}},set:function(Ie){Ce=Ie}})};H(ht,ct);var lt=function Ce(){ct.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Pe){if(isNaN(Pe))throw new Error('Invalid value "'+Pe+'" for attribute F supplied.');r=Pe}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(r,3))},set:function(Pe){Boolean(Pe)===!0?this.F=K(r,3):this.F=Z(r,3)}});var Ie=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ie},set:function(Pe){if(isNaN(Pe))throw new Error('Invalid value "'+Pe+'" for attribute Ff supplied.');Ie=Pe}});var Re=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Re.length!==0)return Re},set:function(Pe){Re=Pe!==void 0?Pe:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Re||isNaN(Re[0])?0:Re[0]},set:function(Pe){Re[0]=Pe}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Re||isNaN(Re[1])?0:Re[1]},set:function(Pe){Re[1]=Pe}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Re||isNaN(Re[2])?0:Re[2]},set:function(Pe){Re[2]=Pe}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Re||isNaN(Re[3])?0:Re[3]},set:function(Pe){Re[3]=Pe}});var Ge="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ge},set:function(Pe){switch(Pe){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ge=Pe;break;default:throw new Error('Invalid value "'+Pe+'" for attribute FT supplied.')}}});var Je=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Je||Je.length<1){if(this instanceof yt)return;Je="FieldObject"+Ce.FieldNum++}var Pe=function(De){return De};return this.scope&&(Pe=this.scope.internal.getEncryptor(this.objId)),"("+R(Pe(Je))+")"},set:function(Pe){Je=Pe.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Je},set:function(Pe){Je=Pe}});var ii="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ii},set:function(Pe){ii=Pe}});var Se="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Se},set:function(Pe){Se=Pe}});var _e=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return _e},set:function(Pe){_e=Pe}});var t=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return t===void 0?50/D:t},set:function(Pe){t=Pe}});var xe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(Pe){xe=Pe}});var Fe="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Fe||this instanceof yt||this instanceof Nt))return st(Fe,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),Fe=Pe}});var Te=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Te)return this instanceof mt?Te:st(Te,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),Te=this instanceof mt?Pe:Pe.substr(0,1)==="("?T(Pe.substr(1,Pe.length-2)):T(Pe)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Te.substr(1,Te.length-1)):Te},set:function(Pe){Pe=Pe.toString(),Te=this instanceof mt?"/"+Pe:Pe}});var e=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(e)return e},set:function(Pe){this.V=Pe}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(e)return this instanceof mt?e:st(e,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),e=this instanceof mt?Pe:Pe.substr(0,1)==="("?T(Pe.substr(1,Pe.length-2)):T(Pe)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(e.substr(1,e.length-1)):e},set:function(Pe){Pe=Pe.toString(),e=this instanceof mt?"/"+Pe:Pe}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ke,Oe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Pe){Pe=Boolean(Pe),Oe=Pe}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ke)return ke},set:function(Pe){ke=Pe}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(Pe){Boolean(Pe)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(Pe){Boolean(Pe)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(Pe){Boolean(Pe)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var Ee=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Ee!==null)return Ee},set:function(Pe){if([0,1,2].indexOf(Pe)===-1)throw new Error('Invalid value "'+Pe+'" for attribute Q supplied.');Ee=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){var Pe;switch(Ee){case 0:default:Pe="left";break;case 1:Pe="center";break;case 2:Pe="right"}return Pe},configurable:!0,enumerable:!0,set:function(Pe){switch(Pe){case"right":case 2:Ee=2;break;case"center":case 1:Ee=1;break;case"left":case 0:default:Ee=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ce=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Ie){Ce=Ie}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Ie){Ce=Ie}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(r,this.objId,this.scope)},set:function(Ie){var Re,Ge;Ge=[],typeof(Re=Ie)=="string"&&(Ge=function(Je,ii,Se){Se||(Se=1);for(var _e,t=[];_e=ii.exec(Je);)t.push(_e[Se]);return t}(Re,/\((.*?)\)/g)),r=Ge}}),this.getOptions=function(){return r},this.setOptions=function(Ie){r=Ie,this.sort&&r.sort()},this.addOption=function(Ie){Ie=(Ie=Ie||"").toString(),r.push(Ie),this.sort&&r.sort()},this.removeOption=function(Ie,Re){for(Re=Re||!1,Ie=(Ie=Ie||"").toString();r.indexOf(Ie)!==-1&&(r.splice(r.indexOf(Ie),1),Re!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(Ie){this.combo===!0&&(Boolean(Ie)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(Ie){Boolean(Ie)===!0?(this.Ff=K(this.Ff,20),r.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ce,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ie=function(Je){return Je};if(this.scope&&(Ie=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var Re,Ge=[];for(Re in Ge.push("<<"),r)Ge.push("/"+Re+" ("+R(Ie(r[Re]))+")");return Ge.push(">>"),Ge.join(`
`)}},set:function(Ie){_typeof(Ie)==="object"&&(r=Ie)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(Ie){typeof Ie=="string"&&(r.CA=Ie)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Ie){Ce=Ie}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ce.substr(1,Ce.length-1)},set:function(Ie){Ce="/"+Ie}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ce=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(r){Ce=r!==void 0?r:[]}})};H(bt,mt);var yt=function(){var Ce,r;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Ge){Ce=Ge}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(Ge){r=Ge}});var Ie,Re={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ge=function(Se){return Se};this.scope&&(Ge=this.scope.internal.getEncryptor(this.objId));var Je,ii=[];for(Je in ii.push("<<"),Re)ii.push("/"+Je+" ("+R(Ge(Re[Je]))+")");return ii.push(">>"),ii.join(`
`)},set:function(Ge){_typeof(Ge)==="object"&&(Re=Ge)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Re.CA||""},set:function(Ge){typeof Ge=="string"&&(Re.CA=Ge)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ie},set:function(Ge){Ie=Ge}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ie.substr(1,Ie.length-1)},set:function(Ge){Ie="/"+Ge}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(Ce){if(!("createAppearanceStream"in Ce)||!("getCA"in Ce))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var Ie=this.Kids[r];Ie.appearanceStreamContent=Ce.createAppearanceStream(Ie.optionName),Ie.caption=Ce.getCA()}},bt.prototype.createOption=function(Ce){var r=new yt;return r.Parent=this,r.optionName=Ce,this.Kids.push(r),xt.call(this.scope,r),r};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ce=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(r){Ce=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(r){Number.isInteger(r)&&(Ce=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(Ce){Boolean(Ce)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[],Re=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Ge=Ce.scope.__private__.encodeColorString(Ce.color),Je=tt(Ce,Ce.caption);return Ie.push("0.749023 g"),Ie.push("0 0 "+U(At.internal.getWidth(Ce))+" "+U(At.internal.getHeight(Ce))+" re"),Ie.push("f"),Ie.push("BMC"),Ie.push("q"),Ie.push("0 0 1 rg"),Ie.push("/"+Re+" "+U(Je.fontSize)+" Tf "+Ge),Ie.push("BT"),Ie.push(Je.text),Ie.push("ET"),Ie.push("Q"),Ie.push("EMC"),r.stream=Ie.join(`
`),r},YesNormal:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Re=Ce.scope.__private__.encodeColorString(Ce.color),Ge=[],Je=At.internal.getHeight(Ce),ii=At.internal.getWidth(Ce),Se=tt(Ce,Ce.caption);return Ge.push("1 g"),Ge.push("0 0 "+U(ii)+" "+U(Je)+" re"),Ge.push("f"),Ge.push("q"),Ge.push("0 0 1 rg"),Ge.push("0 0 "+U(ii-1)+" "+U(Je-1)+" re"),Ge.push("W"),Ge.push("n"),Ge.push("0 g"),Ge.push("BT"),Ge.push("/"+Ie+" "+U(Se.fontSize)+" Tf "+Re),Ge.push(Se.text),Ge.push("ET"),Ge.push("Q"),r.stream=Ge.join(`
`),r},OffPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[];return Ie.push("0.749023 g"),Ie.push("0 0 "+U(At.internal.getWidth(Ce))+" "+U(At.internal.getHeight(Ce))+" re"),Ie.push("f"),r.stream=Ie.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(Ce){var r={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return r.N[Ce]=At.RadioButton.Circle.YesNormal,r.D[Ce]=At.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[],Re=At.internal.getWidth(Ce)<=At.internal.getHeight(Ce)?At.internal.getWidth(Ce)/4:At.internal.getHeight(Ce)/4;Re=Number((.9*Re).toFixed(5));var Ge=At.internal.Bezier_C,Je=Number((Re*Ge).toFixed(5));return Ie.push("q"),Ie.push("1 0 0 1 "+z(At.internal.getWidth(Ce)/2)+" "+z(At.internal.getHeight(Ce)/2)+" cm"),Ie.push(Re+" 0 m"),Ie.push(Re+" "+Je+" "+Je+" "+Re+" 0 "+Re+" c"),Ie.push("-"+Je+" "+Re+" -"+Re+" "+Je+" -"+Re+" 0 c"),Ie.push("-"+Re+" -"+Je+" -"+Je+" -"+Re+" 0 -"+Re+" c"),Ie.push(Je+" -"+Re+" "+Re+" -"+Je+" "+Re+" 0 c"),Ie.push("f"),Ie.push("Q"),r.stream=Ie.join(`
`),r},YesPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[],Re=At.internal.getWidth(Ce)<=At.internal.getHeight(Ce)?At.internal.getWidth(Ce)/4:At.internal.getHeight(Ce)/4;Re=Number((.9*Re).toFixed(5));var Ge=Number((2*Re).toFixed(5)),Je=Number((Ge*At.internal.Bezier_C).toFixed(5)),ii=Number((Re*At.internal.Bezier_C).toFixed(5));return Ie.push("0.749023 g"),Ie.push("q"),Ie.push("1 0 0 1 "+z(At.internal.getWidth(Ce)/2)+" "+z(At.internal.getHeight(Ce)/2)+" cm"),Ie.push(Ge+" 0 m"),Ie.push(Ge+" "+Je+" "+Je+" "+Ge+" 0 "+Ge+" c"),Ie.push("-"+Je+" "+Ge+" -"+Ge+" "+Je+" -"+Ge+" 0 c"),Ie.push("-"+Ge+" -"+Je+" -"+Je+" -"+Ge+" 0 -"+Ge+" c"),Ie.push(Je+" -"+Ge+" "+Ge+" -"+Je+" "+Ge+" 0 c"),Ie.push("f"),Ie.push("Q"),Ie.push("0 g"),Ie.push("q"),Ie.push("1 0 0 1 "+z(At.internal.getWidth(Ce)/2)+" "+z(At.internal.getHeight(Ce)/2)+" cm"),Ie.push(Re+" 0 m"),Ie.push(Re+" "+ii+" "+ii+" "+Re+" 0 "+Re+" c"),Ie.push("-"+ii+" "+Re+" -"+Re+" "+ii+" -"+Re+" 0 c"),Ie.push("-"+Re+" -"+ii+" -"+ii+" -"+Re+" 0 -"+Re+" c"),Ie.push(ii+" -"+Re+" "+Re+" -"+ii+" "+Re+" 0 c"),Ie.push("f"),Ie.push("Q"),r.stream=Ie.join(`
`),r},OffPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[],Re=At.internal.getWidth(Ce)<=At.internal.getHeight(Ce)?At.internal.getWidth(Ce)/4:At.internal.getHeight(Ce)/4;Re=Number((.9*Re).toFixed(5));var Ge=Number((2*Re).toFixed(5)),Je=Number((Ge*At.internal.Bezier_C).toFixed(5));return Ie.push("0.749023 g"),Ie.push("q"),Ie.push("1 0 0 1 "+z(At.internal.getWidth(Ce)/2)+" "+z(At.internal.getHeight(Ce)/2)+" cm"),Ie.push(Ge+" 0 m"),Ie.push(Ge+" "+Je+" "+Je+" "+Ge+" 0 "+Ge+" c"),Ie.push("-"+Je+" "+Ge+" -"+Ge+" "+Je+" -"+Ge+" 0 c"),Ie.push("-"+Ge+" -"+Je+" -"+Je+" -"+Ge+" 0 -"+Ge+" c"),Ie.push(Je+" -"+Ge+" "+Ge+" -"+Je+" "+Ge+" 0 c"),Ie.push("f"),Ie.push("Q"),r.stream=Ie.join(`
`),r}},Cross:{createAppearanceStream:function(Ce){var r={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return r.N[Ce]=At.RadioButton.Cross.YesNormal,r.D[Ce]=At.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[],Re=At.internal.calculateCross(Ce);return Ie.push("q"),Ie.push("1 1 "+U(At.internal.getWidth(Ce)-2)+" "+U(At.internal.getHeight(Ce)-2)+" re"),Ie.push("W"),Ie.push("n"),Ie.push(U(Re.x1.x)+" "+U(Re.x1.y)+" m"),Ie.push(U(Re.x2.x)+" "+U(Re.x2.y)+" l"),Ie.push(U(Re.x4.x)+" "+U(Re.x4.y)+" m"),Ie.push(U(Re.x3.x)+" "+U(Re.x3.y)+" l"),Ie.push("s"),Ie.push("Q"),r.stream=Ie.join(`
`),r},YesPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=At.internal.calculateCross(Ce),Re=[];return Re.push("0.749023 g"),Re.push("0 0 "+U(At.internal.getWidth(Ce))+" "+U(At.internal.getHeight(Ce))+" re"),Re.push("f"),Re.push("q"),Re.push("1 1 "+U(At.internal.getWidth(Ce)-2)+" "+U(At.internal.getHeight(Ce)-2)+" re"),Re.push("W"),Re.push("n"),Re.push(U(Ie.x1.x)+" "+U(Ie.x1.y)+" m"),Re.push(U(Ie.x2.x)+" "+U(Ie.x2.y)+" l"),Re.push(U(Ie.x4.x)+" "+U(Ie.x4.y)+" m"),Re.push(U(Ie.x3.x)+" "+U(Ie.x3.y)+" l"),Re.push("s"),Re.push("Q"),r.stream=Re.join(`
`),r},OffPushDown:function(Ce){var r=V(Ce);r.scope=Ce.scope;var Ie=[];return Ie.push("0.749023 g"),Ie.push("0 0 "+U(At.internal.getWidth(Ce))+" "+U(At.internal.getHeight(Ce))+" re"),Ie.push("f"),r.stream=Ie.join(`
`),r}}},createDefaultAppearanceStream:function(Ce){var r=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Ie=Ce.scope.__private__.encodeColorString(Ce.color);return"/"+r+" "+Ce.fontSize+" Tf "+Ie}};At.internal={Bezier_C:.551915024494,calculateCross:function(Ce){var r=At.internal.getWidth(Ce),Ie=At.internal.getHeight(Ce),Re=Math.min(r,Ie);return{x1:{x:(r-Re)/2,y:(Ie-Re)/2+Re},x2:{x:(r-Re)/2+Re,y:(Ie-Re)/2},x3:{x:(r-Re)/2,y:(Ie-Re)/2},x4:{x:(r-Re)/2+Re,y:(Ie-Re)/2+Re}}}},At.internal.getWidth=function(Ce){var r=0;return _typeof(Ce)==="object"&&(r=W(Ce.Rect[2])),r},At.internal.getHeight=function(Ce){var r=0;return _typeof(Ce)==="object"&&(r=W(Ce.Rect[3])),r};var xt=q.addField=function(Ce){if(at(this,Ce),!(Ce instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=Ce).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),Ce.page=Ce.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(Ce){return Ce.reduce(function(r,Ie,Re){return r[Ie]=Re,r},{})}(function(Ce){Ce.__addimage__={};var r="UNKNOWN",Ie={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Re=Ce.__addimage__.getImageFileTypeByImageData=function(Ye,gi){var ai,ui,Qe,Ze,ci,ze=r;if((gi=gi||r)==="RGBA"||Ye.data!==void 0&&Ye.data instanceof Uint8ClampedArray&&"height"in Ye&&"width"in Ye)return"RGBA";if(He(Ye))for(ci in Ie)for(Qe=Ie[ci],ai=0;ai<Qe.length;ai+=1){for(Ze=!0,ui=0;ui<Qe[ai].length;ui+=1)if(Qe[ai][ui]!==void 0&&Qe[ai][ui]!==Ye[ui]){Ze=!1;break}if(Ze===!0){ze=ci;break}}else for(ci in Ie)for(Qe=Ie[ci],ai=0;ai<Qe.length;ai+=1){for(Ze=!0,ui=0;ui<Qe[ai].length;ui+=1)if(Qe[ai][ui]!==void 0&&Qe[ai][ui]!==Ye.charCodeAt(ui)){Ze=!1;break}if(Ze===!0){ze=ci;break}}return ze===r&&gi!==r&&(ze=gi),ze},Ge=function Ye(gi){for(var ai=this.internal.write,ui=this.internal.putStream,Qe=(0,this.internal.getFilters)();Qe.indexOf("FlateEncode")!==-1;)Qe.splice(Qe.indexOf("FlateEncode"),1);gi.objectId=this.internal.newObject();var Ze=[];if(Ze.push({key:"Type",value:"/XObject"}),Ze.push({key:"Subtype",value:"/Image"}),Ze.push({key:"Width",value:gi.width}),Ze.push({key:"Height",value:gi.height}),gi.colorSpace===Ee.INDEXED?Ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(gi.palette.length/3-1)+" "+("sMask"in gi&&gi.sMask!==void 0?gi.objectId+2:gi.objectId+1)+" 0 R]"}):(Ze.push({key:"ColorSpace",value:"/"+gi.colorSpace}),gi.colorSpace===Ee.DEVICE_CMYK&&Ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ze.push({key:"BitsPerComponent",value:gi.bitsPerComponent}),"decodeParameters"in gi&&gi.decodeParameters!==void 0&&Ze.push({key:"DecodeParms",value:"<<"+gi.decodeParameters+">>"}),"transparency"in gi&&Array.isArray(gi.transparency)){for(var ci="",ze=0,We=gi.transparency.length;ze<We;ze++)ci+=gi.transparency[ze]+" "+gi.transparency[ze]+" ";Ze.push({key:"Mask",value:"["+ci+"]"})}gi.sMask!==void 0&&Ze.push({key:"SMask",value:gi.objectId+1+" 0 R"});var si=gi.filter!==void 0?["/"+gi.filter]:void 0;if(ui({data:gi.data,additionalKeyValues:Ze,alreadyAppliedFilters:si,objectId:gi.objectId}),ai("endobj"),"sMask"in gi&&gi.sMask!==void 0){var ni="/Predictor "+gi.predictor+" /Colors 1 /BitsPerComponent "+gi.bitsPerComponent+" /Columns "+gi.width,$e={width:gi.width,height:gi.height,colorSpace:"DeviceGray",bitsPerComponent:gi.bitsPerComponent,decodeParameters:ni,data:gi.sMask};"filter"in gi&&($e.filter=gi.filter),Ye.call(this,$e)}if(gi.colorSpace===Ee.INDEXED){var Ke=this.internal.newObject();ui({data:Xe(new Uint8Array(gi.palette)),objectId:Ke}),ai("endobj")}},Je=function(){var Ye=this.internal.collections.addImage_images;for(var gi in Ye)Ge.call(this,Ye[gi])},ii=function(){var Ye,gi=this.internal.collections.addImage_images,ai=this.internal.write;for(var ui in gi)ai("/I"+(Ye=gi[ui]).index,Ye.objectId,"0","R")},Se=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Je),this.internal.events.subscribe("putXobjectDict",ii))},_e=function(){var Ye=this.internal.collections.addImage_images;return Se.call(this),Ye},t=function(){return Object.keys(this.internal.collections.addImage_images).length},xe=function(Ye){return typeof Ce["process"+Ye.toUpperCase()]=="function"},Fe=function(Ye){return _typeof(Ye)==="object"&&Ye.nodeType===1},Te=function(Ye,gi){if(Ye.nodeName==="IMG"&&Ye.hasAttribute("src")){var ai=""+Ye.getAttribute("src");if(ai.indexOf("data:image/")===0)return u(unescape(ai).split("base64,").pop());var ui=Ce.loadFile(ai,!0);if(ui!==void 0)return ui}if(Ye.nodeName==="CANVAS"){if(Ye.width===0||Ye.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ye.width+", height: "+Ye.height);var Qe;switch(gi){case"PNG":Qe="image/png";break;case"WEBP":Qe="image/webp";break;case"JPEG":case"JPG":default:Qe="image/jpeg"}return u(Ye.toDataURL(Qe,1).split("base64,").pop())}},e=function(Ye){var gi=this.internal.collections.addImage_images;if(gi){for(var ai in gi)if(Ye===gi[ai].alias)return gi[ai]}},ke=function(Ye,gi,ai){return Ye||gi||(Ye=-96,gi=-96),Ye<0&&(Ye=-1*ai.width*72/Ye/this.internal.scaleFactor),gi<0&&(gi=-1*ai.height*72/gi/this.internal.scaleFactor),Ye===0&&(Ye=gi*ai.width/ai.height),gi===0&&(gi=Ye*ai.height/ai.width),[Ye,gi]},Oe=function(Ye,gi,ai,ui,Qe,Ze){var ci=ke.call(this,ai,ui,Qe),ze=this.internal.getCoordinateString,We=this.internal.getVerticalCoordinateString,si=_e.call(this);if(ai=ci[0],ui=ci[1],si[Qe.index]=Qe,Ze){Ze*=Math.PI/180;var ni=Math.cos(Ze),$e=Math.sin(Ze),Ke=function(Ue){return Ue.toFixed(4)},Ve=[Ke(ni),Ke($e),Ke(-1*$e),Ke(ni),0,0,"cm"]}this.internal.write("q"),Ze?(this.internal.write([1,"0","0",1,ze(Ye),We(gi+ui),"cm"].join(" ")),this.internal.write(Ve.join(" ")),this.internal.write([ze(ai),"0","0",ze(ui),"0","0","cm"].join(" "))):this.internal.write([ze(ai),"0","0",ze(ui),ze(Ye),We(gi+ui),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Qe.index+" Do"),this.internal.write("Q")},Ee=Ce.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ce.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Pe=Ce.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},De=Ce.__addimage__.sHashCode=function(Ye){var gi,ai,ui=0;if(typeof Ye=="string")for(ai=Ye.length,gi=0;gi<ai;gi++)ui=(ui<<5)-ui+Ye.charCodeAt(gi),ui|=0;else if(He(Ye))for(ai=Ye.byteLength/2,gi=0;gi<ai;gi++)ui=(ui<<5)-ui+Ye[gi],ui|=0;return ui},Me=Ce.__addimage__.validateStringAsBase64=function(Ye){(Ye=Ye||"").toString().trim();var gi=!0;return Ye.length===0&&(gi=!1),Ye.length%4!=0&&(gi=!1),/^[A-Za-z0-9+/]+$/.test(Ye.substr(0,Ye.length-2))===!1&&(gi=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ye.substr(-2))===!1&&(gi=!1),gi},Ae=Ce.__addimage__.extractImageFromDataUrl=function(Ye){var gi=(Ye=Ye||"").split("base64,"),ai=null;if(gi.length===2){var ui=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(gi[0]);Array.isArray(ui)&&(ai={mimeType:ui[1],charset:ui[2],data:gi[1]})}return ai},Be=Ce.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ce.__addimage__.isArrayBuffer=function(Ye){return Be()&&Ye instanceof ArrayBuffer};var He=Ce.__addimage__.isArrayBufferView=function(Ye){return Be()&&typeof Uint32Array<"u"&&(Ye instanceof Int8Array||Ye instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ye instanceof Uint8ClampedArray||Ye instanceof Int16Array||Ye instanceof Uint16Array||Ye instanceof Int32Array||Ye instanceof Uint32Array||Ye instanceof Float32Array||Ye instanceof Float64Array)},je=Ce.__addimage__.binaryStringToUint8Array=function(Ye){for(var gi=Ye.length,ai=new Uint8Array(gi),ui=0;ui<gi;ui++)ai[ui]=Ye.charCodeAt(ui);return ai},Xe=Ce.__addimage__.arrayBufferToBinaryString=function(Ye){for(var gi="",ai=He(Ye)?Ye:new Uint8Array(Ye),ui=0;ui<ai.length;ui+=8192)gi+=String.fromCharCode.apply(null,ai.subarray(ui,ui+8192));return gi};Ce.addImage=function(){var Ye,gi,ai,ui,Qe,Ze,ci,ze,We;if(typeof arguments[1]=="number"?(gi=r,ai=arguments[1],ui=arguments[2],Qe=arguments[3],Ze=arguments[4],ci=arguments[5],ze=arguments[6],We=arguments[7]):(gi=arguments[1],ai=arguments[2],ui=arguments[3],Qe=arguments[4],Ze=arguments[5],ci=arguments[6],ze=arguments[7],We=arguments[8]),_typeof(Ye=arguments[0])==="object"&&!Fe(Ye)&&"imageData"in Ye){var si=Ye;Ye=si.imageData,gi=si.format||gi||r,ai=si.x||ai||0,ui=si.y||ui||0,Qe=si.w||si.width||Qe,Ze=si.h||si.height||Ze,ci=si.alias||ci,ze=si.compression||ze,We=si.rotation||si.angle||We}var ni=this.internal.getFilters();if(ze===void 0&&ni.indexOf("FlateEncode")!==-1&&(ze="SLOW"),isNaN(ai)||isNaN(ui))throw new Error("Invalid coordinates passed to jsPDF.addImage");Se.call(this);var $e=St.call(this,Ye,gi,ci,ze);return Oe.call(this,ai,ui,Qe,Ze,$e,We),this};var St=function(Ye,gi,ai,ui){var Qe,Ze,ci;if(typeof Ye=="string"&&Re(Ye)===r){Ye=unescape(Ye);var ze=qe(Ye,!1);(ze!==""||(ze=Ce.loadFile(Ye,!0))!==void 0)&&(Ye=ze)}if(Fe(Ye)&&(Ye=Te(Ye,gi)),gi=Re(Ye,gi),!xe(gi))throw new Error("addImage does not support files of type '"+gi+"', please ensure that a plugin for '"+gi+"' support is added.");if(((ci=ai)==null||ci.length===0)&&(ai=function(We){return typeof We=="string"||He(We)?De(We):He(We.data)?De(We.data):null}(Ye)),(Qe=e.call(this,ai))||(Be()&&(Ye instanceof Uint8Array||gi==="RGBA"||(Ze=Ye,Ye=je(Ye))),Qe=this["process"+gi.toUpperCase()](Ye,t.call(this),ai,function(We){return We&&typeof We=="string"&&(We=We.toUpperCase()),We in Ce.image_compression?We:Pe.NONE}(ui),Ze)),!Qe)throw new Error("An unknown error occurred whilst processing the image.");return Qe},qe=Ce.__addimage__.convertBase64ToBinaryString=function(Ye,gi){var ai;gi=typeof gi!="boolean"||gi;var ui,Qe="";if(typeof Ye=="string"){ui=(ai=Ae(Ye))!==null?ai.data:Ye;try{Qe=u(ui)}catch(Ze){if(gi)throw Me(ui)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Qe};Ce.getImageProperties=function(Ye){var gi,ai,ui="";if(Fe(Ye)&&(Ye=Te(Ye)),typeof Ye=="string"&&Re(Ye)===r&&((ui=qe(Ye,!1))===""&&(ui=Ce.loadFile(Ye)||""),Ye=ui),ai=Re(Ye),!xe(ai))throw new Error("addImage does not support files of type '"+ai+"', please ensure that a plugin for '"+ai+"' support is added.");if(!Be()||Ye instanceof Uint8Array||(Ye=je(Ye)),!(gi=this["process"+ai.toUpperCase()](Ye)))throw new Error("An unknown error occurred whilst processing the image");return gi.fileType=ai,gi}})(E.API),function(Ce){var r=function(Ie){if(Ie!==void 0&&Ie!="")return!0};E.API.events.push(["addPage",function(Ie){this.internal.getPageInfo(Ie.pageNumber).pageContext.annotations=[]}]),Ce.events.push(["putPage",function(Ie){for(var Re,Ge,Je,ii=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,_e=this.internal.getPageInfoByObjId(Ie.objId),t=Ie.pageContext.annotations,xe=!1,Fe=0;Fe<t.length&&!xe;Fe++)switch((Re=t[Fe]).type){case"link":(r(Re.options.url)||r(Re.options.pageNumber))&&(xe=!0);break;case"reference":case"text":case"freetext":xe=!0}if(xe!=0){this.internal.write("/Annots [");for(var Te=0;Te<t.length;Te++){Re=t[Te];var e=this.internal.pdfEscape,ke=this.internal.getEncryptor(Ie.objId);switch(Re.type){case"reference":this.internal.write(" "+Re.object.objId+" 0 R ");break;case"text":var Oe=this.internal.newAdditionalObject(),Ee=this.internal.newAdditionalObject(),Pe=this.internal.getEncryptor(Oe.objId),De=Re.title||"Note";Je="<</Type /Annot /Subtype /Text "+(Ge="/Rect ["+ii(Re.bounds.x)+" "+Se(Re.bounds.y+Re.bounds.h)+" "+ii(Re.bounds.x+Re.bounds.w)+" "+Se(Re.bounds.y)+"] ")+"/Contents ("+e(Pe(Re.contents))+")",Je+=" /Popup "+Ee.objId+" 0 R",Je+=" /P "+_e.objId+" 0 R",Je+=" /T ("+e(Pe(De))+") >>",Oe.content=Je;var Me=Oe.objId+" 0 R";Je="<</Type /Annot /Subtype /Popup "+(Ge="/Rect ["+ii(Re.bounds.x+30)+" "+Se(Re.bounds.y+Re.bounds.h)+" "+ii(Re.bounds.x+Re.bounds.w+30)+" "+Se(Re.bounds.y)+"] ")+" /Parent "+Me,Re.open&&(Je+=" /Open true"),Je+=" >>",Ee.content=Je,this.internal.write(Oe.objId,"0 R",Ee.objId,"0 R");break;case"freetext":Ge="/Rect ["+ii(Re.bounds.x)+" "+Se(Re.bounds.y)+" "+ii(Re.bounds.x+Re.bounds.w)+" "+Se(Re.bounds.y+Re.bounds.h)+"] ";var Ae=Re.color||"#000000";Je="<</Type /Annot /Subtype /FreeText "+Ge+"/Contents ("+e(ke(Re.contents))+")",Je+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ae+")",Je+=" /Border [0 0 0]",Je+=" >>",this.internal.write(Je);break;case"link":if(Re.options.name){var Be=this.annotations._nameMap[Re.options.name];Re.options.pageNumber=Be.page,Re.options.top=Be.y}else Re.options.top||(Re.options.top=0);if(Ge="/Rect ["+Re.finalBounds.x+" "+Re.finalBounds.y+" "+Re.finalBounds.w+" "+Re.finalBounds.h+"] ",Je="",Re.options.url)Je="<</Type /Annot /Subtype /Link "+Ge+"/Border [0 0 0] /A <</S /URI /URI ("+e(ke(Re.options.url))+") >>";else if(Re.options.pageNumber)switch(Je="<</Type /Annot /Subtype /Link "+Ge+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Re.options.pageNumber).objId+" 0 R",Re.options.magFactor=Re.options.magFactor||"XYZ",Re.options.magFactor){case"Fit":Je+=" /Fit]";break;case"FitH":Je+=" /FitH "+Re.options.top+"]";break;case"FitV":Re.options.left=Re.options.left||0,Je+=" /FitV "+Re.options.left+"]";break;case"XYZ":default:var He=Se(Re.options.top);Re.options.left=Re.options.left||0,Re.options.zoom===void 0&&(Re.options.zoom=0),Je+=" /XYZ "+Re.options.left+" "+He+" "+Re.options.zoom+"]"}Je!=""&&(Je+=" >>",this.internal.write(Je))}}this.internal.write("]")}}]),Ce.createAnnotation=function(Ie){var Re=this.internal.getCurrentPageInfo();switch(Ie.type){case"link":this.link(Ie.bounds.x,Ie.bounds.y,Ie.bounds.w,Ie.bounds.h,Ie);break;case"text":case"freetext":Re.pageContext.annotations.push(Ie)}},Ce.link=function(Ie,Re,Ge,Je,ii){var Se=this.internal.getCurrentPageInfo(),_e=this.internal.getCoordinateString,t=this.internal.getVerticalCoordinateString;Se.pageContext.annotations.push({finalBounds:{x:_e(Ie),y:t(Re),w:_e(Ie+Ge),h:t(Re+Je)},options:ii,type:"link"})},Ce.textWithLink=function(Ie,Re,Ge,Je){var ii,Se,_e=this.getTextWidth(Ie),t=this.internal.getLineHeight()/this.internal.scaleFactor;if(Je.maxWidth!==void 0){Se=Je.maxWidth;var xe=this.splitTextToSize(Ie,Se).length;ii=Math.ceil(t*xe)}else Se=_e,ii=t;return this.text(Ie,Re,Ge,Je),Ge+=.2*t,Je.align==="center"&&(Re-=_e/2),Je.align==="right"&&(Re-=_e),this.link(Re,Ge-t,Se,ii,Je),_e},Ce.getTextWidth=function(Ie){var Re=this.internal.getFontSize();return this.getStringUnitWidth(Ie)*Re/this.internal.scaleFactor}}(E.API),function(Ce){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ie={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Re={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Ge=[1570,1571,1573,1575];Ce.__arabicParser__={};var Je=Ce.__arabicParser__.isInArabicSubstitutionA=function(Oe){return r[Oe.charCodeAt(0)]!==void 0},ii=Ce.__arabicParser__.isArabicLetter=function(Oe){return typeof Oe=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Oe)},Se=Ce.__arabicParser__.isArabicEndLetter=function(Oe){return ii(Oe)&&Je(Oe)&&r[Oe.charCodeAt(0)].length<=2},_e=Ce.__arabicParser__.isArabicAlfLetter=function(Oe){return ii(Oe)&&Ge.indexOf(Oe.charCodeAt(0))>=0};Ce.__arabicParser__.arabicLetterHasIsolatedForm=function(Oe){return ii(Oe)&&Je(Oe)&&r[Oe.charCodeAt(0)].length>=1};var t=Ce.__arabicParser__.arabicLetterHasFinalForm=function(Oe){return ii(Oe)&&Je(Oe)&&r[Oe.charCodeAt(0)].length>=2};Ce.__arabicParser__.arabicLetterHasInitialForm=function(Oe){return ii(Oe)&&Je(Oe)&&r[Oe.charCodeAt(0)].length>=3};var xe=Ce.__arabicParser__.arabicLetterHasMedialForm=function(Oe){return ii(Oe)&&Je(Oe)&&r[Oe.charCodeAt(0)].length==4},Fe=Ce.__arabicParser__.resolveLigatures=function(Oe){var Ee=0,Pe=Ie,De="",Me=0;for(Ee=0;Ee<Oe.length;Ee+=1)Pe[Oe.charCodeAt(Ee)]!==void 0?(Me++,typeof(Pe=Pe[Oe.charCodeAt(Ee)])=="number"&&(De+=String.fromCharCode(Pe),Pe=Ie,Me=0),Ee===Oe.length-1&&(Pe=Ie,De+=Oe.charAt(Ee-(Me-1)),Ee-=Me-1,Me=0)):(Pe=Ie,De+=Oe.charAt(Ee-Me),Ee-=Me,Me=0);return De};Ce.__arabicParser__.isArabicDiacritic=function(Oe){return Oe!==void 0&&Re[Oe.charCodeAt(0)]!==void 0};var Te=Ce.__arabicParser__.getCorrectForm=function(Oe,Ee,Pe){return ii(Oe)?Je(Oe)===!1?-1:!t(Oe)||!ii(Ee)&&!ii(Pe)||!ii(Pe)&&Se(Ee)||Se(Oe)&&!ii(Ee)||Se(Oe)&&_e(Ee)||Se(Oe)&&Se(Ee)?0:xe(Oe)&&ii(Ee)&&!Se(Ee)&&ii(Pe)&&t(Pe)?3:Se(Oe)||!ii(Pe)?1:2:-1},e=function(Oe){var Ee=0,Pe=0,De=0,Me="",Ae="",Be="",He=(Oe=Oe||"").split("\\s+"),je=[];for(Ee=0;Ee<He.length;Ee+=1){for(je.push(""),Pe=0;Pe<He[Ee].length;Pe+=1)Me=He[Ee][Pe],Ae=He[Ee][Pe-1],Be=He[Ee][Pe+1],ii(Me)?(De=Te(Me,Ae,Be),je[Ee]+=De!==-1?String.fromCharCode(r[Me.charCodeAt(0)][De]):Me):je[Ee]+=Me;je[Ee]=Fe(je[Ee])}return je.join(" ")},ke=Ce.__arabicParser__.processArabic=Ce.processArabic=function(){var Oe,Ee=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Pe=[];if(Array.isArray(Ee)){var De=0;for(Pe=[],De=0;De<Ee.length;De+=1)Array.isArray(Ee[De])?Pe.push([e(Ee[De][0]),Ee[De][1],Ee[De][2]]):Pe.push([e(Ee[De])]);Oe=Pe}else Oe=e(Ee);return typeof arguments[0]=="string"?Oe:(arguments[0].text=Oe,arguments[0])};Ce.events.push(["preProcessText",ke])}(E.API),E.API.autoPrint=function(Ce){var r;switch((Ce=Ce||{}).variant=Ce.variant||"non-conform",Ce.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(Ce){var r=function(){var Ie=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ie},set:function(Se){Ie=Se}});var Re=150;Object.defineProperty(this,"width",{get:function(){return Re},set:function(Se){Re=isNaN(Se)||Number.isInteger(Se)===!1||Se<0?150:Se,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Re+1)}});var Ge=300;Object.defineProperty(this,"height",{get:function(){return Ge},set:function(Se){Ge=isNaN(Se)||Number.isInteger(Se)===!1||Se<0?300:Se,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Ge+1)}});var Je=[];Object.defineProperty(this,"childNodes",{get:function(){return Je},set:function(Se){Je=Se}});var ii={};Object.defineProperty(this,"style",{get:function(){return ii},set:function(Se){ii=Se}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(Ie,Re){var Ge;if((Ie=Ie||"2d")!=="2d")return null;for(Ge in Re)this.pdf.context2d.hasOwnProperty(Ge)&&(this.pdf.context2d[Ge]=Re[Ge]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ce.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(E.API),function(Ce){var r={left:0,top:0,bottom:0,right:0},Ie=!1,Re=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),Ge.call(this))},Ge=function(){this.internal.__cell__.lastCell=new Je,this.internal.__cell__.pages=1},Je=function(){var _e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Oe){_e=Oe}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(Oe){t=Oe}});var xe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return xe},set:function(Oe){xe=Oe}});var Fe=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Fe},set:function(Oe){Fe=Oe}});var Te=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Te},set:function(Oe){Te=Oe}});var e=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return e},set:function(Oe){e=Oe}});var ke=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ke},set:function(Oe){ke=Oe}}),this};Je.prototype.clone=function(){return new Je(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Je.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ce.setHeaderFunction=function(_e){return Re.call(this),this.internal.__cell__.headerFunction=typeof _e=="function"?_e:void 0,this},Ce.getTextDimensions=function(_e,t){Re.call(this);var xe=(t=t||{}).fontSize||this.getFontSize(),Fe=t.font||this.getFont(),Te=t.scaleFactor||this.internal.scaleFactor,e=0,ke=0,Oe=0,Ee=this;if(!Array.isArray(_e)&&typeof _e!="string"){if(typeof _e!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");_e=String(_e)}var Pe=t.maxWidth;Pe>0?typeof _e=="string"?_e=this.splitTextToSize(_e,Pe):Object.prototype.toString.call(_e)==="[object Array]"&&(_e=_e.reduce(function(Me,Ae){return Me.concat(Ee.splitTextToSize(Ae,Pe))},[])):_e=Array.isArray(_e)?_e:[_e];for(var De=0;De<_e.length;De++)e<(Oe=this.getStringUnitWidth(_e[De],{font:Fe})*xe)&&(e=Oe);return e!==0&&(ke=_e.length),{w:e/=Te,h:Math.max((ke*xe*this.getLineHeightFactor()-xe*(this.getLineHeightFactor()-1))/Te,0)}},Ce.cellAddPage=function(){Re.call(this),this.addPage();var _e=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new Je(_e.left,_e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ii=Ce.cell=function(){var _e;_e=arguments[0]instanceof Je?arguments[0]:new Je(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Re.call(this);var t=this.internal.__cell__.lastCell,xe=this.internal.__cell__.padding,Fe=this.internal.__cell__.margins||r,Te=this.internal.__cell__.tableHeaderRow,e=this.internal.__cell__.printHeaders;return t.lineNumber!==void 0&&(t.lineNumber===_e.lineNumber?(_e.x=(t.x||0)+(t.width||0),_e.y=t.y||0):t.y+t.height+_e.height+Fe.bottom>this.getPageHeight()?(this.cellAddPage(),_e.y=Fe.top,e&&Te&&(this.printHeaderRow(_e.lineNumber,!0),_e.y+=Te[0].height)):_e.y=t.y+t.height||_e.y),_e.text[0]!==void 0&&(this.rect(_e.x,_e.y,_e.width,_e.height,Ie===!0?"FD":void 0),_e.align==="right"?this.text(_e.text,_e.x+_e.width-xe,_e.y+xe,{align:"right",baseline:"top"}):_e.align==="center"?this.text(_e.text,_e.x+_e.width/2,_e.y+xe,{align:"center",baseline:"top",maxWidth:_e.width-xe-xe}):this.text(_e.text,_e.x+xe,_e.y+xe,{align:"left",baseline:"top",maxWidth:_e.width-xe-xe})),this.internal.__cell__.lastCell=_e,this};Ce.table=function(_e,t,xe,Fe,Te){if(Re.call(this),!xe)throw new Error("No data for PDF table.");var e,ke,Oe,Ee,Pe=[],De=[],Me=[],Ae={},Be={},He=[],je=[],Xe=(Te=Te||{}).autoSize||!1,St=Te.printHeaders!==!1,qe=Te.css&&Te.css["font-size"]!==void 0?16*Te.css["font-size"]:Te.fontSize||12,Ye=Te.margins||Object.assign({width:this.getPageWidth()},r),gi=typeof Te.padding=="number"?Te.padding:3,ai=Te.headerBackgroundColor||"#c8c8c8",ui=Te.headerTextColor||"#000";if(Ge.call(this),this.internal.__cell__.printHeaders=St,this.internal.__cell__.margins=Ye,this.internal.__cell__.table_font_size=qe,this.internal.__cell__.padding=gi,this.internal.__cell__.headerBackgroundColor=ai,this.internal.__cell__.headerTextColor=ui,this.setFontSize(qe),Fe==null)De=Pe=Object.keys(xe[0]),Me=Pe.map(function(){return"left"});else if(Array.isArray(Fe)&&_typeof(Fe[0])==="object")for(Pe=Fe.map(function(si){return si.name}),De=Fe.map(function(si){return si.prompt||si.name||""}),Me=Fe.map(function(si){return si.align||"left"}),e=0;e<Fe.length;e+=1)Be[Fe[e].name]=Fe[e].width*(19.049976/25.4);else Array.isArray(Fe)&&typeof Fe[0]=="string"&&(De=Pe=Fe,Me=Pe.map(function(){return"left"}));if(Xe||Array.isArray(Fe)&&typeof Fe[0]=="string")for(e=0;e<Pe.length;e+=1){for(Ae[Ee=Pe[e]]=xe.map(function(si){return si[Ee]}),this.setFont(void 0,"bold"),He.push(this.getTextDimensions(De[e],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ke=Ae[Ee],this.setFont(void 0,"normal"),Oe=0;Oe<ke.length;Oe+=1)He.push(this.getTextDimensions(ke[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Be[Ee]=Math.max.apply(null,He)+gi+gi,He=[]}if(St){var Qe={};for(e=0;e<Pe.length;e+=1)Qe[Pe[e]]={},Qe[Pe[e]].text=De[e],Qe[Pe[e]].align=Me[e];var Ze=Se.call(this,Qe,Be);je=Pe.map(function(si){return new Je(_e,t,Be[si],Ze,Qe[si].text,void 0,Qe[si].align)}),this.setTableHeaderRow(je),this.printHeaderRow(1,!1)}var ci=Fe.reduce(function(si,ni){return si[ni.name]=ni.align,si},{});for(e=0;e<xe.length;e+=1){"rowStart"in Te&&Te.rowStart instanceof Function&&Te.rowStart({row:e,data:xe[e]},this);var ze=Se.call(this,xe[e],Be);for(Oe=0;Oe<Pe.length;Oe+=1){var We=xe[e][Pe[Oe]];"cellStart"in Te&&Te.cellStart instanceof Function&&Te.cellStart({row:e,col:Oe,data:We},this),ii.call(this,new Je(_e,t,Be[Pe[Oe]],ze,We,e+2,ci[Pe[Oe]]))}}return this.internal.__cell__.table_x=_e,this.internal.__cell__.table_y=t,this};var Se=function(_e,t){var xe=this.internal.__cell__.padding,Fe=this.internal.__cell__.table_font_size,Te=this.internal.scaleFactor;return Object.keys(_e).map(function(e){var ke=_e[e];return this.splitTextToSize(ke.hasOwnProperty("text")?ke.text:ke,t[e]-xe-xe)},this).map(function(e){return this.getLineHeightFactor()*e.length*Fe/Te+xe+xe},this).reduce(function(e,ke){return Math.max(e,ke)},0)};Ce.setTableHeaderRow=function(_e){Re.call(this),this.internal.__cell__.tableHeaderRow=_e},Ce.printHeaderRow=function(_e,t){if(Re.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var xe;if(Ie=!0,typeof this.internal.__cell__.headerFunction=="function"){var Fe=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Je(Fe[0],Fe[1],Fe[2],Fe[3],void 0,-1)}this.setFont(void 0,"bold");for(var Te=[],e=0;e<this.internal.__cell__.tableHeaderRow.length;e+=1){xe=this.internal.__cell__.tableHeaderRow[e].clone(),t&&(xe.y=this.internal.__cell__.margins.top||0,Te.push(xe)),xe.lineNumber=_e;var ke=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ii.call(this,xe),this.setTextColor(ke)}Te.length>0&&this.setTableHeaderRow(Te),this.setFont(void 0,"normal"),Ie=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(Ce){var r=Ce.family.replace(/"|'/g,"").toLowerCase(),Ie=function(Je){return Pt[Je=Je||"normal"]?Je:"normal"}(Ce.style),Re=function(Je){if(!Je)return 400;if(typeof Je=="number")return Je>=100&&Je<=900&&Je%100==0?Je:400;if(/^\d00$/.test(Je))return parseInt(Je);switch(Je){case"bold":return 700;case"normal":default:return 400}}(Ce.weight),Ge=function(Je){return typeof It[Je=Je||"normal"]=="number"?Je:"normal"}(Ce.stretch);return{family:r,style:Ie,weight:Re,stretch:Ge,src:Ce.src||[],ref:Ce.ref||{name:r,style:[Ge,Ie,Re].join(" ")}}}function Ot(Ce,r,Ie,Re){var Ge;for(Ge=Ie;Ge>=0&&Ge<r.length;Ge+=Re)if(Ce[r[Ge]])return Ce[r[Ge]];for(Ge=Ie;Ge>=0&&Ge<r.length;Ge-=Re)if(Ce[r[Ge]])return Ce[r[Ge]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(Ce){return[Ce.stretch,Ce.style,Ce.weight,Ce.family].join(" ")}function qt(Ce,r,Ie){for(var Re=(Ie=Ie||{}).defaultFontFamily||"times",Ge=Object.assign({},Bt,Ie.genericFontFamilies||{}),Je=null,ii=null,Se=0;Se<r.length;++Se)if(Ge[(Je=jt(r[Se])).family]&&(Je.family=Ge[Je.family]),Ce.hasOwnProperty(Je.family)){ii=Ce[Je.family];break}if(!(ii=ii||Ce[Re]))throw new Error("Could not find a font-family for the rule '"+Et(Je)+"' and default family '"+Re+"'.");if(ii=function(_e,t){if(t[_e])return t[_e];var xe=It[_e],Fe=xe<=It.normal?-1:1,Te=Ot(t,kt,xe,Fe);if(!Te)throw new Error("Could not find a matching font-stretch value for "+_e);return Te}(Je.stretch,ii),ii=function(_e,t){if(t[_e])return t[_e];for(var xe=Pt[_e],Fe=0;Fe<xe.length;++Fe)if(t[xe[Fe]])return t[xe[Fe]];throw new Error("Could not find a matching font-style for "+_e)}(Je.style,ii),!(ii=function(_e,t){if(t[_e])return t[_e];if(_e===400&&t[500])return t[500];if(_e===500&&t[400])return t[400];var xe=Ct[_e],Fe=Ot(t,Ft,xe,_e<400?-1:1);if(!Fe)throw new Error("Could not find a matching font-weight for value "+_e);return Fe}(Je.weight,ii)))throw new Error("Failed to resolve a font for the rule '"+Et(Je)+"'.");return ii}function Dt(Ce){return Ce.trimLeft()}function Rt(Ce,r){for(var Ie=0;Ie<Ce.length;){if(Ce.charAt(Ie)===r)return[Ce.substring(0,Ie),Ce.substring(Ie+1)];Ie+=1}return null}function Tt(Ce){var r=Ce.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],Ce.substring(r[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(Ce){var r,Ie,Re,Ge,Je,ii,Se,_e,t,xe=function($e){return $e=$e||{},this.isStrokeTransparent=$e.isStrokeTransparent||!1,this.strokeOpacity=$e.strokeOpacity||1,this.strokeStyle=$e.strokeStyle||"#000000",this.fillStyle=$e.fillStyle||"#000000",this.isFillTransparent=$e.isFillTransparent||!1,this.fillOpacity=$e.fillOpacity||1,this.font=$e.font||"10px sans-serif",this.textBaseline=$e.textBaseline||"alphabetic",this.textAlign=$e.textAlign||"left",this.lineWidth=$e.lineWidth||1,this.lineJoin=$e.lineJoin||"miter",this.lineCap=$e.lineCap||"butt",this.path=$e.path||[],this.transform=$e.transform!==void 0?$e.transform.clone():new _e,this.globalCompositeOperation=$e.globalCompositeOperation||"normal",this.globalAlpha=$e.globalAlpha||1,this.clip_path=$e.clip_path||[],this.currentPoint=$e.currentPoint||new ii,this.miterLimit=$e.miterLimit||10,this.lastPoint=$e.lastPoint||new ii,this.lineDashOffset=$e.lineDashOffset||0,this.lineDash=$e.lineDash||[],this.margin=$e.margin||[0,0,0,0],this.prevPageLastElemOffset=$e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $e.ignoreClearRect!="boolean"||$e.ignoreClearRect,this};Ce.events.push(["initialized",function(){this.context2d=new Fe(this),r=this.internal.f2,Ie=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString,Ge=this.internal.getHorizontalCoordinate,Je=this.internal.getVerticalCoordinate,ii=this.internal.Point,Se=this.internal.Rectangle,_e=this.internal.Matrix,t=new xe}]);var Fe=function($e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ke=$e;Object.defineProperty(this,"pdf",{get:function(){return Ke}});var Ve=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ve},set:function(pi){Ve=Boolean(pi)}});var Ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ue},set:function(pi){Ue=Boolean(pi)}});var ti=0;Object.defineProperty(this,"posX",{get:function(){return ti},set:function(pi){isNaN(pi)||(ti=pi)}});var hi=0;Object.defineProperty(this,"posY",{get:function(){return hi},set:function(pi){isNaN(pi)||(hi=pi)}}),Object.defineProperty(this,"margin",{get:function(){return t.margin},set:function(pi){var ri;typeof pi=="number"?ri=[pi,pi,pi,pi]:((ri=new Array(4))[0]=pi[0],ri[1]=pi.length>=2?pi[1]:ri[0],ri[2]=pi.length>=3?pi[2]:ri[0],ri[3]=pi.length>=4?pi[3]:ri[1]),t.margin=ri}});var yi=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yi},set:function(pi){yi=pi}});var wi=0;Object.defineProperty(this,"lastBreak",{get:function(){return wi},set:function(pi){wi=pi}});var Ci=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ci},set:function(pi){Ci=pi}}),Object.defineProperty(this,"ctx",{get:function(){return t},set:function(pi){pi instanceof xe&&(t=pi)}}),Object.defineProperty(this,"path",{get:function(){return t.path},set:function(pi){t.path=pi}});var ki=[];Object.defineProperty(this,"ctxStack",{get:function(){return ki},set:function(pi){ki=pi}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pi){var ri;ri=Te(pi),this.ctx.fillStyle=ri.style,this.ctx.isFillTransparent=ri.a===0,this.ctx.fillOpacity=ri.a,this.pdf.setFillColor(ri.r,ri.g,ri.b,{a:ri.a}),this.pdf.setTextColor(ri.r,ri.g,ri.b,{a:ri.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pi){var ri=Te(pi);this.ctx.strokeStyle=ri.style,this.ctx.isStrokeTransparent=ri.a===0,this.ctx.strokeOpacity=ri.a,ri.a===0?this.pdf.setDrawColor(255,255,255):(ri.a,this.pdf.setDrawColor(ri.r,ri.g,ri.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pi){["butt","round","square"].indexOf(pi)!==-1&&(this.ctx.lineCap=pi,this.pdf.setLineCap(pi))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pi){isNaN(pi)||(this.ctx.lineWidth=pi,this.pdf.setLineWidth(pi))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pi){["bevel","round","miter"].indexOf(pi)!==-1&&(this.ctx.lineJoin=pi,this.pdf.setLineJoin(pi))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pi){isNaN(pi)||(this.ctx.miterLimit=pi,this.pdf.setMiterLimit(pi))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pi){this.ctx.textBaseline=pi}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pi){["right","end","center","left","start"].indexOf(pi)!==-1&&(this.ctx.textAlign=pi)}});var fi=null;function xi(pi,ri){if(fi===null){var oi=function(di){var bi=[];return Object.keys(di).forEach(function(Ai){di[Ai].forEach(function(Ei){var mi=null;switch(Ei){case"bold":mi={family:Ai,weight:"bold"};break;case"italic":mi={family:Ai,style:"italic"};break;case"bolditalic":mi={family:Ai,weight:"bold",style:"italic"};break;case"":case"normal":mi={family:Ai}}mi!==null&&(mi.ref={name:Ai,style:Ei},bi.push(mi))})}),bi}(pi.getFontList());fi=function(di){for(var bi={},Ai=0;Ai<di.length;++Ai){var Ei=jt(di[Ai]),mi=Ei.family,_i=Ei.stretch,Si=Ei.style,Fi=Ei.weight;bi[mi]=bi[mi]||{},bi[mi][_i]=bi[mi][_i]||{},bi[mi][_i][Si]=bi[mi][_i][Si]||{},bi[mi][_i][Si][Fi]=Ei}return bi}(oi.concat(ri))}return fi}var li=null;Object.defineProperty(this,"fontFaces",{get:function(){return li},set:function(pi){fi=null,li=pi}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pi){var ri;if(this.ctx.font=pi,(ri=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pi))!==null){var oi=ri[1],di=(ri[2],ri[3]),bi=ri[4],Ai=(ri[5],ri[6]),Ei=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bi)[2];bi=Math.floor(Ei==="px"?parseFloat(bi)*this.pdf.internal.scaleFactor:Ei==="em"?parseFloat(bi)*this.pdf.getFontSize():parseFloat(bi)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bi);var mi=function(Mi){var $i,Xi,rn=[],tn=Mi.trim();if(tn==="")return Wt;if(tn in Mt)return[Mt[tn]];for(;tn!=="";){switch(Xi=null,$i=(tn=Dt(tn)).charAt(0)){case'"':case"'":Xi=Rt(tn.substring(1),$i);break;default:Xi=Tt(tn)}if(Xi===null||(rn.push(Xi[0]),(tn=Dt(Xi[1]))!==""&&tn.charAt(0)!==","))return Wt;tn=tn.replace(/^,/,"")}return rn}(Ai);if(this.fontFaces){var _i=qt(xi(this.pdf,this.fontFaces),mi.map(function(Mi){return{family:Mi,stretch:"normal",weight:di,style:oi}}));this.pdf.setFont(_i.ref.name,_i.ref.style)}else{var Si="";(di==="bold"||parseInt(di,10)>=700||oi==="bold")&&(Si="bold"),oi==="italic"&&(Si+="italic"),Si.length===0&&(Si="normal");for(var Fi="",Pi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Di=0;Di<mi.length;Di++){if(this.pdf.internal.getFont(mi[Di],Si,{noFallback:!0,disableWarning:!0})!==void 0){Fi=mi[Di];break}if(Si==="bolditalic"&&this.pdf.internal.getFont(mi[Di],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fi=mi[Di],Si="bold";else if(this.pdf.internal.getFont(mi[Di],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fi=mi[Di],Si="normal";break}}if(Fi===""){for(var Ii=0;Ii<mi.length;Ii++)if(Pi[mi[Ii]]){Fi=Pi[mi[Ii]];break}}Fi=Fi===""?"Times":Fi,this.pdf.setFont(Fi,Si)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pi){this.ctx.globalCompositeOperation=pi}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pi){this.ctx.globalAlpha=pi}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pi){this.ctx.lineDashOffset=pi,ni.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pi){this.ctx.lineDash=pi,ni.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pi){this.ctx.ignoreClearRect=Boolean(pi)}})};Fe.prototype.setLineDash=function($e){this.lineDash=$e},Fe.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Fe.prototype.fill=function(){Ae.call(this,"fill",!1)},Fe.prototype.stroke=function(){Ae.call(this,"stroke",!1)},Fe.prototype.beginPath=function(){this.path=[{type:"begin"}]},Fe.prototype.moveTo=function($e,Ke){if(isNaN($e)||isNaN(Ke))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ve=this.ctx.transform.applyToPoint(new ii($e,Ke));this.path.push({type:"mt",x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new ii($e,Ke)},Fe.prototype.closePath=function(){var $e=new ii(0,0),Ke=0;for(Ke=this.path.length-1;Ke!==-1;Ke--)if(this.path[Ke].type==="begin"&&_typeof(this.path[Ke+1])==="object"&&typeof this.path[Ke+1].x=="number"){$e=new ii(this.path[Ke+1].x,this.path[Ke+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ii($e.x,$e.y)},Fe.prototype.lineTo=function($e,Ke){if(isNaN($e)||isNaN(Ke))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ve=this.ctx.transform.applyToPoint(new ii($e,Ke));this.path.push({type:"lt",x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new ii(Ve.x,Ve.y)},Fe.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ae.call(this,null,!0)},Fe.prototype.quadraticCurveTo=function($e,Ke,Ve,Ue){if(isNaN(Ve)||isNaN(Ue)||isNaN($e)||isNaN(Ke))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ti=this.ctx.transform.applyToPoint(new ii(Ve,Ue)),hi=this.ctx.transform.applyToPoint(new ii($e,Ke));this.path.push({type:"qct",x1:hi.x,y1:hi.y,x:ti.x,y:ti.y}),this.ctx.lastPoint=new ii(ti.x,ti.y)},Fe.prototype.bezierCurveTo=function($e,Ke,Ve,Ue,ti,hi){if(isNaN(ti)||isNaN(hi)||isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yi=this.ctx.transform.applyToPoint(new ii(ti,hi)),wi=this.ctx.transform.applyToPoint(new ii($e,Ke)),Ci=this.ctx.transform.applyToPoint(new ii(Ve,Ue));this.path.push({type:"bct",x1:wi.x,y1:wi.y,x2:Ci.x,y2:Ci.y,x:yi.x,y:yi.y}),this.ctx.lastPoint=new ii(yi.x,yi.y)},Fe.prototype.arc=function($e,Ke,Ve,Ue,ti,hi){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue)||isNaN(ti))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(hi=Boolean(hi),!this.ctx.transform.isIdentity){var yi=this.ctx.transform.applyToPoint(new ii($e,Ke));$e=yi.x,Ke=yi.y;var wi=this.ctx.transform.applyToPoint(new ii(0,Ve)),Ci=this.ctx.transform.applyToPoint(new ii(0,0));Ve=Math.sqrt(Math.pow(wi.x-Ci.x,2)+Math.pow(wi.y-Ci.y,2))}Math.abs(ti-Ue)>=2*Math.PI&&(Ue=0,ti=2*Math.PI),this.path.push({type:"arc",x:$e,y:Ke,radius:Ve,startAngle:Ue,endAngle:ti,counterclockwise:hi})},Fe.prototype.arcTo=function($e,Ke,Ve,Ue,ti){throw new Error("arcTo not implemented.")},Fe.prototype.rect=function($e,Ke,Ve,Ue){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($e,Ke),this.lineTo($e+Ve,Ke),this.lineTo($e+Ve,Ke+Ue),this.lineTo($e,Ke+Ue),this.lineTo($e,Ke),this.lineTo($e+Ve,Ke),this.lineTo($e,Ke)},Fe.prototype.fillRect=function($e,Ke,Ve,Ue){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!e.call(this)){var ti={};this.lineCap!=="butt"&&(ti.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ti.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($e,Ke,Ve,Ue),this.fill(),ti.hasOwnProperty("lineCap")&&(this.lineCap=ti.lineCap),ti.hasOwnProperty("lineJoin")&&(this.lineJoin=ti.lineJoin)}},Fe.prototype.strokeRect=function($e,Ke,Ve,Ue){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ke.call(this)||(this.beginPath(),this.rect($e,Ke,Ve,Ue),this.stroke())},Fe.prototype.clearRect=function($e,Ke,Ve,Ue){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($e,Ke,Ve,Ue))},Fe.prototype.save=function($e){$e=typeof $e!="boolean"||$e;for(var Ke=this.pdf.internal.getCurrentPageInfo().pageNumber,Ve=0;Ve<this.pdf.internal.getNumberOfPages();Ve++)this.pdf.setPage(Ve+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ke),$e){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ue=new xe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ue}},Fe.prototype.restore=function($e){$e=typeof $e!="boolean"||$e;for(var Ke=this.pdf.internal.getCurrentPageInfo().pageNumber,Ve=0;Ve<this.pdf.internal.getNumberOfPages();Ve++)this.pdf.setPage(Ve+1),this.pdf.internal.out("Q");this.pdf.setPage(Ke),$e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Fe.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Te=function($e){var Ke,Ve,Ue,ti;if($e.isCanvasGradient===!0&&($e=$e.getColor()),!$e)return{r:0,g:0,b:0,a:0,style:$e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($e))Ke=0,Ve=0,Ue=0,ti=0;else{var hi=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($e);if(hi!==null)Ke=parseInt(hi[1]),Ve=parseInt(hi[2]),Ue=parseInt(hi[3]),ti=1;else if((hi=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($e))!==null)Ke=parseInt(hi[1]),Ve=parseInt(hi[2]),Ue=parseInt(hi[3]),ti=parseFloat(hi[4]);else{if(ti=1,typeof $e=="string"&&$e.charAt(0)!=="#"){var yi=new f($e);$e=yi.ok?yi.toHex():"#000000"}$e.length===4?(Ke=$e.substring(1,2),Ke+=Ke,Ve=$e.substring(2,3),Ve+=Ve,Ue=$e.substring(3,4),Ue+=Ue):(Ke=$e.substring(1,3),Ve=$e.substring(3,5),Ue=$e.substring(5,7)),Ke=parseInt(Ke,16),Ve=parseInt(Ve,16),Ue=parseInt(Ue,16)}}return{r:Ke,g:Ve,b:Ue,a:ti,style:$e}},e=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ke=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Fe.prototype.fillText=function($e,Ke,Ve,Ue){if(isNaN(Ke)||isNaN(Ve)||typeof $e!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ue=isNaN(Ue)?void 0:Ue,!e.call(this)){var ti=ze(this.ctx.transform.rotation),hi=this.ctx.transform.scaleX;gi.call(this,{text:$e,x:Ke,y:Ve,scale:hi,angle:ti,align:this.textAlign,maxWidth:Ue})}},Fe.prototype.strokeText=function($e,Ke,Ve,Ue){if(isNaN(Ke)||isNaN(Ve)||typeof $e!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ke.call(this)){Ue=isNaN(Ue)?void 0:Ue;var ti=ze(this.ctx.transform.rotation),hi=this.ctx.transform.scaleX;gi.call(this,{text:$e,x:Ke,y:Ve,scale:hi,renderingMode:"stroke",angle:ti,align:this.textAlign,maxWidth:Ue})}},Fe.prototype.measureText=function($e){if(typeof $e!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ke=this.pdf,Ve=this.pdf.internal.scaleFactor,Ue=Ke.internal.getFontSize(),ti=Ke.getStringUnitWidth($e)*Ue/Ke.internal.scaleFactor,hi=function(yi){var wi=(yi=yi||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return wi}}),this};return new hi({width:ti*=Math.round(96*Ve/72*1e4)/1e4})},Fe.prototype.scale=function($e,Ke){if(isNaN($e)||isNaN(Ke))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ve=new _e($e,0,0,Ke,0,0);this.ctx.transform=this.ctx.transform.multiply(Ve)},Fe.prototype.rotate=function($e){if(isNaN($e))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ke=new _e(Math.cos($e),Math.sin($e),-Math.sin($e),Math.cos($e),0,0);this.ctx.transform=this.ctx.transform.multiply(Ke)},Fe.prototype.translate=function($e,Ke){if(isNaN($e)||isNaN(Ke))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ve=new _e(1,0,0,1,$e,Ke);this.ctx.transform=this.ctx.transform.multiply(Ve)},Fe.prototype.transform=function($e,Ke,Ve,Ue,ti,hi){if(isNaN($e)||isNaN(Ke)||isNaN(Ve)||isNaN(Ue)||isNaN(ti)||isNaN(hi))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yi=new _e($e,Ke,Ve,Ue,ti,hi);this.ctx.transform=this.ctx.transform.multiply(yi)},Fe.prototype.setTransform=function($e,Ke,Ve,Ue,ti,hi){$e=isNaN($e)?1:$e,Ke=isNaN(Ke)?0:Ke,Ve=isNaN(Ve)?0:Ve,Ue=isNaN(Ue)?1:Ue,ti=isNaN(ti)?0:ti,hi=isNaN(hi)?0:hi,this.ctx.transform=new _e($e,Ke,Ve,Ue,ti,hi)};var Oe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Fe.prototype.drawImage=function($e,Ke,Ve,Ue,ti,hi,yi,wi,Ci){var ki=this.pdf.getImageProperties($e),fi=1,xi=1,li=1,pi=1;Ue!==void 0&&wi!==void 0&&(li=wi/Ue,pi=Ci/ti,fi=ki.width/Ue*wi/Ue,xi=ki.height/ti*Ci/ti),hi===void 0&&(hi=Ke,yi=Ve,Ke=0,Ve=0),Ue!==void 0&&wi===void 0&&(wi=Ue,Ci=ti),Ue===void 0&&wi===void 0&&(wi=ki.width,Ci=ki.height);for(var ri,oi=this.ctx.transform.decompose(),di=ze(oi.rotate.shx),bi=new _e,Ai=(bi=(bi=(bi=bi.multiply(oi.translate)).multiply(oi.skew)).multiply(oi.scale)).applyToRectangle(new Se(hi-Ke*li,yi-Ve*pi,Ue*fi,ti*xi)),Ei=Ee.call(this,Ai),mi=[],_i=0;_i<Ei.length;_i+=1)mi.indexOf(Ei[_i])===-1&&mi.push(Ei[_i]);if(Me(mi),this.autoPaging)for(var Si=mi[0],Fi=mi[mi.length-1],Pi=Si;Pi<Fi+1;Pi++){this.pdf.setPage(Pi);var Di=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ii=Pi===1?this.posY+this.margin[0]:this.margin[0],Mi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$i=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xi=Pi===1?0:Mi+(Pi-2)*$i;if(this.ctx.clip_path.length!==0){var rn=this.path;ri=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(ri,this.posX+this.margin[3],-Xi+Ii+this.ctx.prevPageLastElemOffset),Be.call(this,"fill",!0),this.path=rn}var tn=JSON.parse(JSON.stringify(Ai));tn=De([tn],this.posX+this.margin[3],-Xi+Ii+this.ctx.prevPageLastElemOffset)[0];var on=(Pi>Si||Pi<Fi)&&Oe.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Di,$i,null).clip().discardPath()),this.pdf.addImage($e,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,di),on&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($e,"JPEG",Ai.x,Ai.y,Ai.w,Ai.h,null,null,di)};var Ee=function($e,Ke,Ve){var Ue=[];Ke=Ke||this.pdf.internal.pageSize.width,Ve=Ve||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ti=this.posY+this.ctx.prevPageLastElemOffset;switch($e.type){default:case"mt":case"lt":Ue.push(Math.floor(($e.y+ti)/Ve)+1);break;case"arc":Ue.push(Math.floor(($e.y+ti-$e.radius)/Ve)+1),Ue.push(Math.floor(($e.y+ti+$e.radius)/Ve)+1);break;case"qct":var hi=We(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$e.x1,$e.y1,$e.x,$e.y);Ue.push(Math.floor((hi.y+ti)/Ve)+1),Ue.push(Math.floor((hi.y+hi.h+ti)/Ve)+1);break;case"bct":var yi=si(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$e.x1,$e.y1,$e.x2,$e.y2,$e.x,$e.y);Ue.push(Math.floor((yi.y+ti)/Ve)+1),Ue.push(Math.floor((yi.y+yi.h+ti)/Ve)+1);break;case"rect":Ue.push(Math.floor(($e.y+ti)/Ve)+1),Ue.push(Math.floor(($e.y+$e.h+ti)/Ve)+1)}for(var wi=0;wi<Ue.length;wi+=1)for(;this.pdf.internal.getNumberOfPages()<Ue[wi];)Pe.call(this);return Ue},Pe=function(){var $e=this.fillStyle,Ke=this.strokeStyle,Ve=this.font,Ue=this.lineCap,ti=this.lineWidth,hi=this.lineJoin;this.pdf.addPage(),this.fillStyle=$e,this.strokeStyle=Ke,this.font=Ve,this.lineCap=Ue,this.lineWidth=ti,this.lineJoin=hi},De=function($e,Ke,Ve){for(var Ue=0;Ue<$e.length;Ue++)switch($e[Ue].type){case"bct":$e[Ue].x2+=Ke,$e[Ue].y2+=Ve;case"qct":$e[Ue].x1+=Ke,$e[Ue].y1+=Ve;case"mt":case"lt":case"arc":default:$e[Ue].x+=Ke,$e[Ue].y+=Ve}return $e},Me=function($e){return $e.sort(function(Ke,Ve){return Ke-Ve})},Ae=function($e,Ke){for(var Ve,Ue,ti=this.fillStyle,hi=this.strokeStyle,yi=this.lineCap,wi=this.lineWidth,Ci=Math.abs(wi*this.ctx.transform.scaleX),ki=this.lineJoin,fi=JSON.parse(JSON.stringify(this.path)),xi=JSON.parse(JSON.stringify(this.path)),li=[],pi=0;pi<xi.length;pi++)if(xi[pi].x!==void 0)for(var ri=Ee.call(this,xi[pi]),oi=0;oi<ri.length;oi+=1)li.indexOf(ri[oi])===-1&&li.push(ri[oi]);for(var di=0;di<li.length;di++)for(;this.pdf.internal.getNumberOfPages()<li[di];)Pe.call(this);if(Me(li),this.autoPaging)for(var bi=li[0],Ai=li[li.length-1],Ei=bi;Ei<Ai+1;Ei++){this.pdf.setPage(Ei),this.fillStyle=ti,this.strokeStyle=hi,this.lineCap=yi,this.lineWidth=Ci,this.lineJoin=ki;var mi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_i=Ei===1?this.posY+this.margin[0]:this.margin[0],Si=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pi=Ei===1?0:Si+(Ei-2)*Fi;if(this.ctx.clip_path.length!==0){var Di=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(Ve,this.posX+this.margin[3],-Pi+_i+this.ctx.prevPageLastElemOffset),Be.call(this,$e,!0),this.path=Di}if(Ue=JSON.parse(JSON.stringify(fi)),this.path=De(Ue,this.posX+this.margin[3],-Pi+_i+this.ctx.prevPageLastElemOffset),Ke===!1||Ei===0){var Ii=(Ei>bi||Ei<Ai)&&Oe.call(this);Ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mi,Fi,null).clip().discardPath()),Be.call(this,$e,Ke),Ii&&this.pdf.restoreGraphicsState()}this.lineWidth=wi}else this.lineWidth=Ci,Be.call(this,$e,Ke),this.lineWidth=wi;this.path=fi},Be=function($e,Ke){if(($e!=="stroke"||Ke||!ke.call(this))&&($e==="stroke"||Ke||!e.call(this))){for(var Ve,Ue,ti=[],hi=this.path,yi=0;yi<hi.length;yi++){var wi=hi[yi];switch(wi.type){case"begin":ti.push({begin:!0});break;case"close":ti.push({close:!0});break;case"mt":ti.push({start:wi,deltas:[],abs:[]});break;case"lt":var Ci=ti.length;if(hi[yi-1]&&!isNaN(hi[yi-1].x)&&(Ve=[wi.x-hi[yi-1].x,wi.y-hi[yi-1].y],Ci>0)){for(;Ci>=0;Ci--)if(ti[Ci-1].close!==!0&&ti[Ci-1].begin!==!0){ti[Ci-1].deltas.push(Ve),ti[Ci-1].abs.push(wi);break}}break;case"bct":Ve=[wi.x1-hi[yi-1].x,wi.y1-hi[yi-1].y,wi.x2-hi[yi-1].x,wi.y2-hi[yi-1].y,wi.x-hi[yi-1].x,wi.y-hi[yi-1].y],ti[ti.length-1].deltas.push(Ve);break;case"qct":var ki=hi[yi-1].x+2/3*(wi.x1-hi[yi-1].x),fi=hi[yi-1].y+2/3*(wi.y1-hi[yi-1].y),xi=wi.x+2/3*(wi.x1-wi.x),li=wi.y+2/3*(wi.y1-wi.y),pi=wi.x,ri=wi.y;Ve=[ki-hi[yi-1].x,fi-hi[yi-1].y,xi-hi[yi-1].x,li-hi[yi-1].y,pi-hi[yi-1].x,ri-hi[yi-1].y],ti[ti.length-1].deltas.push(Ve);break;case"arc":ti.push({deltas:[],abs:[],arc:!0}),Array.isArray(ti[ti.length-1].abs)&&ti[ti.length-1].abs.push(wi)}}Ue=Ke?null:$e==="stroke"?"stroke":"fill";for(var oi=!1,di=0;di<ti.length;di++)if(ti[di].arc)for(var bi=ti[di].abs,Ai=0;Ai<bi.length;Ai++){var Ei=bi[Ai];Ei.type==="arc"?Xe.call(this,Ei.x,Ei.y,Ei.radius,Ei.startAngle,Ei.endAngle,Ei.counterclockwise,void 0,Ke,!oi):ai.call(this,Ei.x,Ei.y),oi=!0}else if(ti[di].close===!0)this.pdf.internal.out("h"),oi=!1;else if(ti[di].begin!==!0){var mi=ti[di].start.x,_i=ti[di].start.y;ui.call(this,ti[di].deltas,mi,_i),oi=!0}Ue&&St.call(this,Ue),Ke&&qe.call(this)}},He=function($e){var Ke=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ve=Ke*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $e-Ve;case"top":return $e+Ke-Ve;case"hanging":return $e+Ke-2*Ve;case"middle":return $e+Ke/2-Ve;case"ideographic":return $e;case"alphabetic":default:return $e}},je=function($e){return $e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Fe.prototype.createLinearGradient=function(){var $e=function(){};return $e.colorStops=[],$e.addColorStop=function(Ke,Ve){this.colorStops.push([Ke,Ve])},$e.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$e.isCanvasGradient=!0,$e},Fe.prototype.createPattern=function(){return this.createLinearGradient()},Fe.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Xe=function($e,Ke,Ve,Ue,ti,hi,yi,wi,Ci){for(var ki=Ze.call(this,Ve,Ue,ti,hi),fi=0;fi<ki.length;fi++){var xi=ki[fi];fi===0&&(Ci?Ye.call(this,xi.x1+$e,xi.y1+Ke):ai.call(this,xi.x1+$e,xi.y1+Ke)),Qe.call(this,$e,Ke,xi.x2,xi.y2,xi.x3,xi.y3,xi.x4,xi.y4)}wi?qe.call(this):St.call(this,yi)},St=function($e){switch($e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},qe=function(){this.pdf.clip(),this.pdf.discardPath()},Ye=function($e,Ke){this.pdf.internal.out(Ie($e)+" "+Re(Ke)+" m")},gi=function($e){var Ke;switch($e.align){case"right":case"end":Ke="right";break;case"center":Ke="center";break;case"left":case"start":default:Ke="left"}var Ve=this.pdf.getTextDimensions($e.text),Ue=He.call(this,$e.y),ti=je.call(this,Ue)-Ve.h,hi=this.ctx.transform.applyToPoint(new ii($e.x,Ue)),yi=this.ctx.transform.decompose(),wi=new _e;wi=(wi=(wi=wi.multiply(yi.translate)).multiply(yi.skew)).multiply(yi.scale);for(var Ci,ki,fi,xi=this.ctx.transform.applyToRectangle(new Se($e.x,Ue,Ve.w,Ve.h)),li=wi.applyToRectangle(new Se($e.x,ti,Ve.w,Ve.h)),pi=Ee.call(this,li),ri=[],oi=0;oi<pi.length;oi+=1)ri.indexOf(pi[oi])===-1&&ri.push(pi[oi]);if(Me(ri),this.autoPaging)for(var di=ri[0],bi=ri[ri.length-1],Ai=di;Ai<bi+1;Ai++){this.pdf.setPage(Ai);var Ei=Ai===1?this.posY+this.margin[0]:this.margin[0],mi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_i=this.pdf.internal.pageSize.height-this.margin[2],Si=_i-this.margin[0],Fi=this.pdf.internal.pageSize.width-this.margin[1],Pi=Fi-this.margin[3],Di=Ai===1?0:mi+(Ai-2)*Si;if(this.ctx.clip_path.length!==0){var Ii=this.path;Ci=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(Ci,this.posX+this.margin[3],-1*Di+Ei),Be.call(this,"fill",!0),this.path=Ii}var Mi=De([JSON.parse(JSON.stringify(li))],this.posX+this.margin[3],-Di+Ei+this.ctx.prevPageLastElemOffset)[0];$e.scale>=.01&&(ki=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ki*$e.scale),fi=this.lineWidth,this.lineWidth=fi*$e.scale);var $i=this.autoPaging!=="text";if($i||Mi.y+Mi.h<=_i){if($i||Mi.y>=Ei&&Mi.x<=Fi){var Xi=$i?$e.text:this.pdf.splitTextToSize($e.text,$e.maxWidth||Fi-Mi.x)[0],rn=De([JSON.parse(JSON.stringify(xi))],this.posX+this.margin[3],-Di+Ei+this.ctx.prevPageLastElemOffset)[0],tn=$i&&(Ai>di||Ai<bi)&&Oe.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pi,Si,null).clip().discardPath()),this.pdf.text(Xi,rn.x,rn.y,{angle:$e.angle,align:Ke,renderingMode:$e.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Mi.y<_i&&(this.ctx.prevPageLastElemOffset+=_i-Mi.y);$e.scale>=.01&&(this.pdf.setFontSize(ki),this.lineWidth=fi)}else $e.scale>=.01&&(ki=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ki*$e.scale),fi=this.lineWidth,this.lineWidth=fi*$e.scale),this.pdf.text($e.text,hi.x+this.posX,hi.y+this.posY,{angle:$e.angle,align:Ke,renderingMode:$e.renderingMode,maxWidth:$e.maxWidth}),$e.scale>=.01&&(this.pdf.setFontSize(ki),this.lineWidth=fi)},ai=function($e,Ke,Ve,Ue){Ve=Ve||0,Ue=Ue||0,this.pdf.internal.out(Ie($e+Ve)+" "+Re(Ke+Ue)+" l")},ui=function($e,Ke,Ve){return this.pdf.lines($e,Ke,Ve,null,null)},Qe=function($e,Ke,Ve,Ue,ti,hi,yi,wi){this.pdf.internal.out([r(Ge(Ve+$e)),r(Je(Ue+Ke)),r(Ge(ti+$e)),r(Je(hi+Ke)),r(Ge(yi+$e)),r(Je(wi+Ke)),"c"].join(" "))},Ze=function($e,Ke,Ve,Ue){for(var ti=2*Math.PI,hi=Math.PI/2;Ke>Ve;)Ke-=ti;var yi=Math.abs(Ve-Ke);yi<ti&&Ue&&(yi=ti-yi);for(var wi=[],Ci=Ue?-1:1,ki=Ke;yi>1e-5;){var fi=ki+Ci*Math.min(yi,hi);wi.push(ci.call(this,$e,ki,fi)),yi-=Math.abs(fi-ki),ki=fi}return wi},ci=function($e,Ke,Ve){var Ue=(Ve-Ke)/2,ti=$e*Math.cos(Ue),hi=$e*Math.sin(Ue),yi=ti,wi=-hi,Ci=yi*yi+wi*wi,ki=Ci+yi*ti+wi*hi,fi=4/3*(Math.sqrt(2*Ci*ki)-ki)/(yi*hi-wi*ti),xi=yi-fi*wi,li=wi+fi*yi,pi=xi,ri=-li,oi=Ue+Ke,di=Math.cos(oi),bi=Math.sin(oi);return{x1:$e*Math.cos(Ke),y1:$e*Math.sin(Ke),x2:xi*di-li*bi,y2:xi*bi+li*di,x3:pi*di-ri*bi,y3:pi*bi+ri*di,x4:$e*Math.cos(Ve),y4:$e*Math.sin(Ve)}},ze=function($e){return 180*$e/Math.PI},We=function($e,Ke,Ve,Ue,ti,hi){var yi=$e+.5*(Ve-$e),wi=Ke+.5*(Ue-Ke),Ci=ti+.5*(Ve-ti),ki=hi+.5*(Ue-hi),fi=Math.min($e,ti,yi,Ci),xi=Math.max($e,ti,yi,Ci),li=Math.min(Ke,hi,wi,ki),pi=Math.max(Ke,hi,wi,ki);return new Se(fi,li,xi-fi,pi-li)},si=function($e,Ke,Ve,Ue,ti,hi,yi,wi){var Ci,ki,fi,xi,li,pi,ri,oi,di,bi,Ai,Ei,mi,_i,Si=Ve-$e,Fi=Ue-Ke,Pi=ti-Ve,Di=hi-Ue,Ii=yi-ti,Mi=wi-hi;for(ki=0;ki<41;ki++)di=(ri=(fi=$e+(Ci=ki/40)*Si)+Ci*((li=Ve+Ci*Pi)-fi))+Ci*(li+Ci*(ti+Ci*Ii-li)-ri),bi=(oi=(xi=Ke+Ci*Fi)+Ci*((pi=Ue+Ci*Di)-xi))+Ci*(pi+Ci*(hi+Ci*Mi-pi)-oi),ki==0?(Ai=di,Ei=bi,mi=di,_i=bi):(Ai=Math.min(Ai,di),Ei=Math.min(Ei,bi),mi=Math.max(mi,di),_i=Math.max(_i,bi));return new Se(Math.round(Ai),Math.round(Ei),Math.round(mi-Ai),Math.round(_i-Ei))},ni=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $e,Ke,Ve=($e=this.ctx.lineDash,Ke=this.ctx.lineDashOffset,JSON.stringify({lineDash:$e,lineDashOffset:Ke}));this.prevLineDash!==Ve&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ve)}}})(E.API),function(Ce){var r=function(Je){var ii,Se,_e,t,xe,Fe,Te,e,ke,Oe;for(/[^\x00-\xFF]/.test(Je),Se=[],_e=0,t=(Je+=ii="\0\0\0\0".slice(Je.length%4||4)).length;t>_e;_e+=4)(xe=(Je.charCodeAt(_e)<<24)+(Je.charCodeAt(_e+1)<<16)+(Je.charCodeAt(_e+2)<<8)+Je.charCodeAt(_e+3))!==0?(Fe=(xe=((xe=((xe=((xe=(xe-(Oe=xe%85))/85)-(ke=xe%85))/85)-(e=xe%85))/85)-(Te=xe%85))/85)%85,Se.push(Fe+33,Te+33,e+33,ke+33,Oe+33)):Se.push(122);return function(Ee,Pe){for(var De=Pe;De>0;De--)Ee.pop()}(Se,ii.length),String.fromCharCode.apply(String,Se)+"~>"},Ie=function(Je){var ii,Se,_e,t,xe,Fe=String,Te="length",e=255,ke="charCodeAt",Oe="slice",Ee="replace";for(Je[Oe](-2),Je=Je[Oe](0,-2)[Ee](/\s/g,"")[Ee]("z","!!!!!"),_e=[],t=0,xe=(Je+=ii="uuuuu"[Oe](Je[Te]%5||5))[Te];xe>t;t+=5)Se=52200625*(Je[ke](t)-33)+614125*(Je[ke](t+1)-33)+7225*(Je[ke](t+2)-33)+85*(Je[ke](t+3)-33)+(Je[ke](t+4)-33),_e.push(e&Se>>24,e&Se>>16,e&Se>>8,e&Se);return function(Pe,De){for(var Me=De;Me>0;Me--)Pe.pop()}(_e,ii[Te]),Fe.fromCharCode.apply(Fe,_e)},Re=function(Je){var ii=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Je=Je.replace(/\s/g,"")).indexOf(">")!==-1&&(Je=Je.substr(0,Je.indexOf(">"))),Je.length%2&&(Je+="0"),ii.test(Je)===!1)return"";for(var Se="",_e=0;_e<Je.length;_e+=2)Se+=String.fromCharCode("0x"+(Je[_e]+Je[_e+1]));return Se},Ge=function(Je){for(var ii=new Uint8Array(Je.length),Se=Je.length;Se--;)ii[Se]=Je.charCodeAt(Se);return Je=(ii=zlibSync(ii)).reduce(function(_e,t){return _e+String.fromCharCode(t)},"")};Ce.processDataByFilters=function(Je,ii){var Se=0,_e=Je||"",t=[];for(typeof(ii=ii||[])=="string"&&(ii=[ii]),Se=0;Se<ii.length;Se+=1)switch(ii[Se]){case"ASCII85Decode":case"/ASCII85Decode":_e=Ie(_e),t.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":_e=r(_e),t.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":_e=Re(_e),t.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":_e=_e.split("").map(function(xe){return("0"+xe.charCodeAt().toString(16)).slice(-2)}).join("")+">",t.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":_e=Ge(_e),t.push("/FlateDecode");break;default:throw new Error('The filter: "'+ii[Se]+'" is not implemented')}return{data:_e,reverseChain:t.reverse().join(" ")}}}(E.API),function(Ce){Ce.loadFile=function(r,Ie,Re){return function(Ge,Je,ii){Je=Je!==!1,ii=typeof ii=="function"?ii:function(){};var Se=void 0;try{Se=function(_e,t,xe){var Fe=new XMLHttpRequest,Te=0,e=function(ke){var Oe=ke.length,Ee=[],Pe=String.fromCharCode;for(Te=0;Te<Oe;Te+=1)Ee.push(Pe(255&ke.charCodeAt(Te)));return Ee.join("")};if(Fe.open("GET",_e,!t),Fe.overrideMimeType("text/plain; charset=x-user-defined"),t===!1&&(Fe.onload=function(){Fe.status===200?xe(e(this.responseText)):xe(void 0)}),Fe.send(null),t&&Fe.status===200)return e(Fe.responseText)}(Ge,Je,ii)}catch{}return Se}(r,Ie,Re)},Ce.loadImageFile=Ce.loadFile}(E.API),function(Ce){function r(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(ii){return Promise.reject(new Error("Could not load html2canvas: "+ii))}).then(function(ii){return ii.default?ii.default:ii})}function Ie(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.b8146866.js"),[])).catch(function(ii){return Promise.reject(new Error("Could not load dompurify: "+ii))}).then(function(ii){return ii.default?ii.default:ii})}var Re=function(ii){var Se=_typeof(ii);return Se==="undefined"?"undefined":Se==="string"||ii instanceof String?"string":Se==="number"||ii instanceof Number?"number":Se==="function"||ii instanceof Function?"function":ii&&ii.constructor===Array?"array":ii&&ii.nodeType===1?"element":Se==="object"?"object":"unknown"},Ge=function(ii,Se){var _e=document.createElement(ii);for(var t in Se.className&&(_e.className=Se.className),Se.innerHTML&&Se.dompurify&&(_e.innerHTML=Se.dompurify.sanitize(Se.innerHTML)),Se.style)_e.style[t]=Se.style[t];return _e},Je=function ii(Se){var _e=Object.assign(ii.convert(Promise.resolve()),JSON.parse(JSON.stringify(ii.template))),t=ii.convert(Promise.resolve(),_e);return t=(t=t.setProgress(1,ii,1,[ii])).set(Se)};(Je.prototype=Object.create(Promise.prototype)).constructor=Je,Je.convert=function(ii,Se){return ii.__proto__=Se||Je.prototype,ii},Je.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Je.prototype.from=function(ii,Se){return this.then(function(){switch(Se=Se||function(_e){switch(Re(_e)){case"string":return"string";case"element":return _e.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(ii)){case"string":return this.then(Ie).then(function(_e){return this.set({src:Ge("div",{innerHTML:ii,dompurify:_e})})});case"element":return this.set({src:ii});case"canvas":return this.set({canvas:ii});case"img":return this.set({img:ii});default:return this.error("Unknown source type.")}})},Je.prototype.to=function(ii){switch(ii){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Je.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ii={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Se=function _e(t,xe){for(var Fe=t.nodeType===3?document.createTextNode(t.nodeValue):t.cloneNode(!1),Te=t.firstChild;Te;Te=Te.nextSibling)xe!==!0&&Te.nodeType===1&&Te.nodeName==="SCRIPT"||Fe.appendChild(_e(Te,xe));return t.nodeType===1&&(t.nodeName==="CANVAS"?(Fe.width=t.width,Fe.height=t.height,Fe.getContext("2d").drawImage(t,0,0)):t.nodeName!=="TEXTAREA"&&t.nodeName!=="SELECT"||(Fe.value=t.value),Fe.addEventListener("load",function(){Fe.scrollTop=t.scrollTop,Fe.scrollLeft=t.scrollLeft},!0)),Fe}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Se.tagName==="BODY"&&(ii.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ge("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ge("div",{className:"html2pdf__container",style:ii}),this.prop.container.appendChild(Se),this.prop.container.firstChild.appendChild(Ge("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Je.prototype.toCanvas=function(){var ii=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ii).then(r).then(function(Se){var _e=Object.assign({},this.opt.html2canvas);return delete _e.onrendered,Se(this.prop.container,_e)}).then(function(Se){(this.opt.html2canvas.onrendered||function(){})(Se),this.prop.canvas=Se,document.body.removeChild(this.prop.overlay)})},Je.prototype.toContext2d=function(){var ii=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ii).then(r).then(function(Se){var _e=this.opt.jsPDF,t=this.opt.fontFaces,xe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Fe=Object.assign({async:!0,allowTaint:!0,scale:xe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Fe.onrendered,_e.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,_e.context2d.posX=this.opt.x,_e.context2d.posY=this.opt.y,_e.context2d.margin=this.opt.margin,_e.context2d.fontFaces=t,t)for(var Te=0;Te<t.length;++Te){var e=t[Te],ke=e.src.find(function(Oe){return Oe.format==="truetype"});ke&&_e.addFont(ke.url,e.ref.name,e.ref.style)}return Fe.windowHeight=Fe.windowHeight||0,Fe.windowHeight=Fe.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Fe.windowHeight,_e.context2d.save(!0),Se(this.prop.container,Fe)}).then(function(Se){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Se),this.prop.canvas=Se,document.body.removeChild(this.prop.overlay)})},Je.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ii=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ii})},Je.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Je.prototype.output=function(ii,Se,_e){return(_e=_e||"pdf").toLowerCase()==="img"||_e.toLowerCase()==="image"?this.outputImg(ii,Se):this.outputPdf(ii,Se)},Je.prototype.outputPdf=function(ii,Se){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ii,Se)})},Je.prototype.outputImg=function(ii){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ii){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ii+'" is not supported.'}})},Je.prototype.save=function(ii){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ii?{filename:ii}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Je.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Je.prototype.set=function(ii){if(Re(ii)!=="object")return this;var Se=Object.keys(ii||{}).map(function(_e){if(_e in Je.template.prop)return function(){this.prop[_e]=ii[_e]};switch(_e){case"margin":return this.setMargin.bind(this,ii.margin);case"jsPDF":return function(){return this.opt.jsPDF=ii.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ii.pageSize);default:return function(){this.opt[_e]=ii[_e]}}},this);return this.then(function(){return this.thenList(Se)})},Je.prototype.get=function(ii,Se){return this.then(function(){var _e=ii in Je.template.prop?this.prop[ii]:this.opt[ii];return Se?Se(_e):_e})},Je.prototype.setMargin=function(ii){return this.then(function(){switch(Re(ii)){case"number":ii=[ii,ii,ii,ii];case"array":if(ii.length===2&&(ii=[ii[0],ii[1],ii[0],ii[1]]),ii.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ii}).then(this.setPageSize)},Je.prototype.setPageSize=function(ii){function Se(_e,t){return Math.floor(_e*t/72*96)}return this.then(function(){(ii=ii||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ii.inner={width:ii.width-this.opt.margin[1]-this.opt.margin[3],height:ii.height-this.opt.margin[0]-this.opt.margin[2]},ii.inner.px={width:Se(ii.inner.width,ii.k),height:Se(ii.inner.height,ii.k)},ii.inner.ratio=ii.inner.height/ii.inner.width),this.prop.pageSize=ii})},Je.prototype.setProgress=function(ii,Se,_e,t){return ii!=null&&(this.progress.val=ii),Se!=null&&(this.progress.state=Se),_e!=null&&(this.progress.n=_e),t!=null&&(this.progress.stack=t),this.progress.ratio=this.progress.val/this.progress.state,this},Je.prototype.updateProgress=function(ii,Se,_e,t){return this.setProgress(ii?this.progress.val+ii:null,Se||null,_e?this.progress.n+_e:null,t?this.progress.stack.concat(t):null)},Je.prototype.then=function(ii,Se){var _e=this;return this.thenCore(ii,Se,function(t,xe){return _e.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(Fe){return _e.updateProgress(null,t),Fe}).then(t,xe).then(function(Fe){return _e.updateProgress(1),Fe})})},Je.prototype.thenCore=function(ii,Se,_e){_e=_e||Promise.prototype.then,ii&&(ii=ii.bind(this)),Se&&(Se=Se.bind(this));var t=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Je.convert(Object.assign({},this),Promise.prototype),xe=_e.call(t,ii,Se);return Je.convert(xe,this.__proto__)},Je.prototype.thenExternal=function(ii,Se){return Promise.prototype.then.call(this,ii,Se)},Je.prototype.thenList=function(ii){var Se=this;return ii.forEach(function(_e){Se=Se.thenCore(_e)}),Se},Je.prototype.catch=function(ii){ii&&(ii=ii.bind(this));var Se=Promise.prototype.catch.call(this,ii);return Je.convert(Se,this)},Je.prototype.catchExternal=function(ii){return Promise.prototype.catch.call(this,ii)},Je.prototype.error=function(ii){return this.then(function(){throw new Error(ii)})},Je.prototype.using=Je.prototype.set,Je.prototype.saveAs=Je.prototype.save,Je.prototype.export=Je.prototype.output,Je.prototype.run=Je.prototype.then,E.getPageSize=function(ii,Se,_e){if(_typeof(ii)==="object"){var t=ii;ii=t.orientation,Se=t.unit||Se,_e=t.format||_e}Se=Se||"mm",_e=_e||"a4",ii=(""+(ii||"P")).toLowerCase();var xe,Fe=(""+_e).toLowerCase(),Te={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Se){case"pt":xe=1;break;case"mm":xe=72/25.4;break;case"cm":xe=72/2.54;break;case"in":xe=72;break;case"px":xe=.75;break;case"pc":case"em":xe=12;break;case"ex":xe=6;break;default:throw"Invalid unit: "+Se}var e,ke=0,Oe=0;if(Te.hasOwnProperty(Fe))ke=Te[Fe][1]/xe,Oe=Te[Fe][0]/xe;else try{ke=_e[1],Oe=_e[0]}catch{throw new Error("Invalid format: "+_e)}if(ii==="p"||ii==="portrait")ii="p",Oe>ke&&(e=Oe,Oe=ke,ke=e);else{if(ii!=="l"&&ii!=="landscape")throw"Invalid orientation: "+ii;ii="l",ke>Oe&&(e=Oe,Oe=ke,ke=e)}return{width:Oe,height:ke,unit:Se,k:xe,orientation:ii}},Ce.html=function(ii,Se){(Se=Se||{}).callback=Se.callback||function(){},Se.html2canvas=Se.html2canvas||{},Se.html2canvas.canvas=Se.html2canvas.canvas||this.canvas,Se.jsPDF=Se.jsPDF||this,Se.fontFaces=Se.fontFaces?Se.fontFaces.map(jt):null;var _e=new Je(Se);return Se.worker?_e:_e.from(ii).doCallback()}}(E.API),E.API.addJS=function(Ce){return Ht=Ce,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Ce){var r;Ce.events.push(["postPutResources",function(){var Ie=this,Re=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Ge=Ie.outline.render().split(/\r\n/),Je=0;Je<Ge.length;Je++){var ii=Ge[Je],Se=Re.exec(ii);if(Se!=null){var _e=Se[1];Ie.internal.newObjectDeferredBegin(_e,!1)}Ie.internal.write(ii)}if(this.outline.createNamedDestinations){var t=this.internal.pages.length,xe=[];for(Je=0;Je<t;Je++){var Fe=Ie.internal.newObject();xe.push(Fe);var Te=Ie.internal.getPageInfo(Je+1);Ie.internal.write("<< /D["+Te.objId+" 0 R /XYZ null null null]>> endobj")}var e=Ie.internal.newObject();for(Ie.internal.write("<< /Names [ "),Je=0;Je<xe.length;Je++)Ie.internal.write("(page_"+(Je+1)+")"+xe[Je]+" 0 R");Ie.internal.write(" ] >>","endobj"),r=Ie.internal.newObject(),Ie.internal.write("<< /Dests "+e+" 0 R"),Ie.internal.write(">>","endobj")}}]),Ce.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),Ce.events.push(["initialized",function(){var Ie=this;Ie.outline={createNamedDestinations:!1,root:{children:[]}},Ie.outline.add=function(Re,Ge,Je){var ii={title:Ge,options:Je,children:[]};return Re==null&&(Re=this.root),Re.children.push(ii),ii},Ie.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ie,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ie.outline.genIds_r=function(Re){Re.id=Ie.internal.newObjectDeferred();for(var Ge=0;Ge<Re.children.length;Ge++)this.genIds_r(Re.children[Ge])},Ie.outline.renderRoot=function(Re){this.objStart(Re),this.line("/Type /Outlines"),Re.children.length>0&&(this.line("/First "+this.makeRef(Re.children[0])),this.line("/Last "+this.makeRef(Re.children[Re.children.length-1]))),this.line("/Count "+this.count_r({count:0},Re)),this.objEnd()},Ie.outline.renderItems=function(Re){for(var Ge=this.ctx.pdf.internal.getVerticalCoordinateString,Je=0;Je<Re.children.length;Je++){var ii=Re.children[Je];this.objStart(ii),this.line("/Title "+this.makeString(ii.title)),this.line("/Parent "+this.makeRef(Re)),Je>0&&this.line("/Prev "+this.makeRef(Re.children[Je-1])),Je<Re.children.length-1&&this.line("/Next "+this.makeRef(Re.children[Je+1])),ii.children.length>0&&(this.line("/First "+this.makeRef(ii.children[0])),this.line("/Last "+this.makeRef(ii.children[ii.children.length-1])));var Se=this.count=this.count_r({count:0},ii);if(Se>0&&this.line("/Count "+Se),ii.options&&ii.options.pageNumber){var _e=Ie.internal.getPageInfo(ii.options.pageNumber);this.line("/Dest ["+_e.objId+" 0 R /XYZ 0 "+Ge(0)+" 0]")}this.objEnd()}for(var t=0;t<Re.children.length;t++)this.renderItems(Re.children[t])},Ie.outline.line=function(Re){this.ctx.val+=Re+`\r
`},Ie.outline.makeRef=function(Re){return Re.id+" 0 R"},Ie.outline.makeString=function(Re){return"("+Ie.internal.pdfEscape(Re)+")"},Ie.outline.objStart=function(Re){this.ctx.val+=`\r
`+Re.id+` 0 obj\r
<<\r
`},Ie.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ie.outline.count_r=function(Re,Ge){for(var Je=0;Je<Ge.children.length;Je++)Re.count++,this.count_r(Re,Ge.children[Je]);return Re.count}}])}(E.API),function(Ce){var r=[192,193,194,195,196,197,198,199];Ce.processJPEG=function(Ie,Re,Ge,Je,ii,Se){var _e,t=this.decode.DCT_DECODE,xe=null;if(typeof Ie=="string"||this.__addimage__.isArrayBuffer(Ie)||this.__addimage__.isArrayBufferView(Ie)){switch(Ie=ii||Ie,Ie=this.__addimage__.isArrayBuffer(Ie)?new Uint8Array(Ie):Ie,(_e=function(Fe){for(var Te,e=256*Fe.charCodeAt(4)+Fe.charCodeAt(5),ke=Fe.length,Oe={width:0,height:0,numcomponents:1},Ee=4;Ee<ke;Ee+=2){if(Ee+=e,r.indexOf(Fe.charCodeAt(Ee+1))!==-1){Te=256*Fe.charCodeAt(Ee+5)+Fe.charCodeAt(Ee+6),Oe={width:256*Fe.charCodeAt(Ee+7)+Fe.charCodeAt(Ee+8),height:Te,numcomponents:Fe.charCodeAt(Ee+9)};break}e=256*Fe.charCodeAt(Ee+2)+Fe.charCodeAt(Ee+3)}return Oe}(Ie=this.__addimage__.isArrayBufferView(Ie)?this.__addimage__.arrayBufferToBinaryString(Ie):Ie)).numcomponents){case 1:Se=this.color_spaces.DEVICE_GRAY;break;case 4:Se=this.color_spaces.DEVICE_CMYK;break;case 3:Se=this.color_spaces.DEVICE_RGB}xe={data:Ie,width:_e.width,height:_e.height,colorSpace:Se,bitsPerComponent:8,filter:t,index:Re,alias:Ge}}return xe}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var Ce,r,Ie;function Re(Je){var ii,Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,Pe,De,Me;for(this.data=Je,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Fe=null;;){switch(ii=this.readUInt32(),ke=function(){var Ae,Be;for(Be=[],Ae=0;Ae<4;++Ae)Be.push(String.fromCharCode(this.data[this.pos++]));return Be}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(ii);break;case"fcTL":Fe&&this.animation.frames.push(Fe),this.pos+=4,Fe={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},xe=this.readUInt16(),t=this.readUInt16()||100,Fe.delay=1e3*xe/t,Fe.disposeOp=this.data[this.pos++],Fe.blendOp=this.data[this.pos++],Fe.data=[];break;case"IDAT":case"fdAT":for(ke==="fdAT"&&(this.pos+=4,ii-=4),Je=(Fe!=null?Fe.data:void 0)||this.imgData,Pe=0;0<=ii?Pe<ii:Pe>ii;0<=ii?++Pe:--Pe)Je.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(_e=this.palette.length/3,this.transparency.indexed=this.read(ii),this.transparency.indexed.length>_e)throw new Error("More transparent colors than palette size");if((Oe=_e-this.transparency.indexed.length)>0)for(De=0;0<=Oe?De<Oe:De>Oe;0<=Oe?++De:--De)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(ii)[0];break;case 2:this.transparency.rgb=this.read(ii)}break;case"tEXt":Te=(Ee=this.read(ii)).indexOf(0),e=String.fromCharCode.apply(String,Ee.slice(0,Te)),this.text[e]=String.fromCharCode.apply(String,Ee.slice(Te+1));break;case"IEND":return Fe&&this.animation.frames.push(Fe),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Me=this.colorType)===4||Me===6,Se=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Se,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=ii}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Re.prototype.read=function(Je){var ii,Se;for(Se=[],ii=0;0<=Je?ii<Je:ii>Je;0<=Je?++ii:--ii)Se.push(this.data[this.pos++]);return Se},Re.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Re.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Re.prototype.decodePixels=function(Je){var ii=this.pixelBitlength/8,Se=new Uint8Array(this.width*this.height*ii),_e=0,t=this;if(Je==null&&(Je=this.imgData),Je.length===0)return new Uint8Array(0);function xe(Fe,Te,e,ke){var Oe,Ee,Pe,De,Me,Ae,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We,si=Math.ceil((t.width-Fe)/e),ni=Math.ceil((t.height-Te)/ke),$e=t.width==si&&t.height==ni;for(gi=ii*si,qe=$e?Se:new Uint8Array(gi*ni),Ae=Je.length,Ye=0,Ee=0;Ye<ni&&_e<Ae;){switch(Je[_e++]){case 0:for(De=Qe=0;Qe<gi;De=Qe+=1)qe[Ee++]=Je[_e++];break;case 1:for(De=Ze=0;Ze<gi;De=Ze+=1)Oe=Je[_e++],Me=De<ii?0:qe[Ee-ii],qe[Ee++]=(Oe+Me)%256;break;case 2:for(De=ci=0;ci<gi;De=ci+=1)Oe=Je[_e++],Pe=(De-De%ii)/ii,ai=Ye&&qe[(Ye-1)*gi+Pe*ii+De%ii],qe[Ee++]=(ai+Oe)%256;break;case 3:for(De=ze=0;ze<gi;De=ze+=1)Oe=Je[_e++],Pe=(De-De%ii)/ii,Me=De<ii?0:qe[Ee-ii],ai=Ye&&qe[(Ye-1)*gi+Pe*ii+De%ii],qe[Ee++]=(Oe+Math.floor((Me+ai)/2))%256;break;case 4:for(De=We=0;We<gi;De=We+=1)Oe=Je[_e++],Pe=(De-De%ii)/ii,Me=De<ii?0:qe[Ee-ii],Ye===0?ai=ui=0:(ai=qe[(Ye-1)*gi+Pe*ii+De%ii],ui=Pe&&qe[(Ye-1)*gi+(Pe-1)*ii+De%ii]),Be=Me+ai-ui,He=Math.abs(Be-Me),Xe=Math.abs(Be-ai),St=Math.abs(Be-ui),je=He<=Xe&&He<=St?Me:Xe<=St?ai:ui,qe[Ee++]=(Oe+je)%256;break;default:throw new Error("Invalid filter algorithm: "+Je[_e-1])}if(!$e){var Ke=((Te+Ye*ke)*t.width+Fe)*ii,Ve=Ye*gi;for(De=0;De<si;De+=1){for(var Ue=0;Ue<ii;Ue+=1)Se[Ke++]=qe[Ve++];Ke+=(e-1)*ii}}Ye++}}return Je=unzlibSync(Je),t.interlaceMethod==1?(xe(0,0,8,8),xe(4,0,8,8),xe(0,4,4,8),xe(2,0,4,4),xe(0,2,2,4),xe(1,0,2,2),xe(0,1,1,2)):xe(0,0,1,1),Se},Re.prototype.decodePalette=function(){var Je,ii,Se,_e,t,xe,Fe,Te,e;for(Se=this.palette,xe=this.transparency.indexed||[],t=new Uint8Array((xe.length||0)+Se.length),_e=0,Je=0,ii=Fe=0,Te=Se.length;Fe<Te;ii=Fe+=3)t[_e++]=Se[ii],t[_e++]=Se[ii+1],t[_e++]=Se[ii+2],t[_e++]=(e=xe[Je++])!=null?e:255;return t},Re.prototype.copyToImageData=function(Je,ii){var Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,Pe;if(_e=this.colors,Oe=null,Se=this.hasAlphaChannel,this.palette.length&&(Oe=(Pe=this._decodedPalette)!=null?Pe:this._decodedPalette=this.decodePalette(),_e=4,Se=!0),ke=(t=Je.data||Je).length,Fe=Oe||ii,xe=Te=0,_e===1)for(;xe<ke;)e=Oe?4*ii[xe/4]:Te,Ee=Fe[e++],t[xe++]=Ee,t[xe++]=Ee,t[xe++]=Ee,t[xe++]=Se?Fe[e++]:255,Te=e;else for(;xe<ke;)e=Oe?4*ii[xe/4]:Te,t[xe++]=Fe[e++],t[xe++]=Fe[e++],t[xe++]=Fe[e++],t[xe++]=Se?Fe[e++]:255,Te=e},Re.prototype.decode=function(){var Je;return Je=new Uint8Array(this.width*this.height*4),this.copyToImageData(Je,this.decodePixels()),Je};var Ge=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{r=n.document.createElement("canvas"),Ie=r.getContext("2d")}catch{return!1}return!0}return!1};return Ge(),Ce=function(Je){var ii;if(Ge()===!0)return Ie.width=Je.width,Ie.height=Je.height,Ie.clearRect(0,0,Je.width,Je.height),Ie.putImageData(Je,0,0),(ii=new Image).src=r.toDataURL(),ii;throw new Error("This method requires a Browser with Canvas-capability.")},Re.prototype.decodeFrames=function(Je){var ii,Se,_e,t,xe,Fe,Te,e;if(this.animation){for(e=[],Se=xe=0,Fe=(Te=this.animation.frames).length;xe<Fe;Se=++xe)ii=Te[Se],_e=Je.createImageData(ii.width,ii.height),t=this.decodePixels(new Uint8Array(ii.data)),this.copyToImageData(_e,t),ii.imageData=_e,e.push(ii.image=Ce(_e));return e}},Re.prototype.renderFrame=function(Je,ii){var Se,_e,t;return Se=(_e=this.animation.frames)[ii],t=_e[ii-1],ii===0&&Je.clearRect(0,0,this.width,this.height),(t!=null?t.disposeOp:void 0)===1?Je.clearRect(t.xOffset,t.yOffset,t.width,t.height):(t!=null?t.disposeOp:void 0)===2&&Je.putImageData(t.imageData,t.xOffset,t.yOffset),Se.blendOp===0&&Je.clearRect(Se.xOffset,Se.yOffset,Se.width,Se.height),Je.drawImage(Se.image,Se.xOffset,Se.yOffset)},Re.prototype.animate=function(Je){var ii,Se,_e,t,xe,Fe,Te=this;return Se=0,Fe=this.animation,t=Fe.numFrames,_e=Fe.frames,xe=Fe.numPlays,(ii=function(){var e,ke;if(e=Se++%t,ke=_e[e],Te.renderFrame(Je,e),t>1&&Se/t<xe)return Te.animation._timeout=setTimeout(ii,ke.delay)})()},Re.prototype.stopAnimation=function(){var Je;return clearTimeout((Je=this.animation)!=null?Je._timeout:void 0)},Re.prototype.render=function(Je){var ii,Se;return Je._png&&Je._png.stopAnimation(),Je._png=this,Je.width=this.width,Je.height=this.height,ii=Je.getContext("2d"),this.animation?(this.decodeFrames(ii),this.animate(ii)):(Se=ii.createImageData(this.width,this.height),this.copyToImageData(Se,this.decodePixels()),ii.putImageData(Se,0,0))},Re}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ce){var r=0;if(Ce[r++]!==71||Ce[r++]!==73||Ce[r++]!==70||Ce[r++]!==56||(Ce[r++]+1&253)!=56||Ce[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ie=Ce[r++]|Ce[r++]<<8,Re=Ce[r++]|Ce[r++]<<8,Ge=Ce[r++],Je=Ge>>7,ii=1<<(7&Ge)+1;Ce[r++],Ce[r++];var Se=null,_e=null;Je&&(Se=r,_e=ii,r+=3*ii);var t=!0,xe=[],Fe=0,Te=null,e=0,ke=null;for(this.width=Ie,this.height=Re;t&&r<Ce.length;)switch(Ce[r++]){case 33:switch(Ce[r++]){case 255:if(Ce[r]!==11||Ce[r+1]==78&&Ce[r+2]==69&&Ce[r+3]==84&&Ce[r+4]==83&&Ce[r+5]==67&&Ce[r+6]==65&&Ce[r+7]==80&&Ce[r+8]==69&&Ce[r+9]==50&&Ce[r+10]==46&&Ce[r+11]==48&&Ce[r+12]==3&&Ce[r+13]==1&&Ce[r+16]==0)r+=14,ke=Ce[r++]|Ce[r++]<<8,r++;else for(r+=12;;){if(!((Ye=Ce[r++])>=0))throw Error("Invalid block size");if(Ye===0)break;r+=Ye}break;case 249:if(Ce[r++]!==4||Ce[r+4]!==0)throw new Error("Invalid graphics extension block.");var Oe=Ce[r++];Fe=Ce[r++]|Ce[r++]<<8,Te=Ce[r++],(1&Oe)==0&&(Te=null),e=Oe>>2&7,r++;break;case 254:for(;;){if(!((Ye=Ce[r++])>=0))throw Error("Invalid block size");if(Ye===0)break;r+=Ye}break;default:throw new Error("Unknown graphic control label: 0x"+Ce[r-1].toString(16))}break;case 44:var Ee=Ce[r++]|Ce[r++]<<8,Pe=Ce[r++]|Ce[r++]<<8,De=Ce[r++]|Ce[r++]<<8,Me=Ce[r++]|Ce[r++]<<8,Ae=Ce[r++],Be=Ae>>6&1,He=1<<(7&Ae)+1,je=Se,Xe=_e,St=!1;Ae>>7&&(St=!0,je=r,Xe=He,r+=3*He);var qe=r;for(r++;;){var Ye;if(!((Ye=Ce[r++])>=0))throw Error("Invalid block size");if(Ye===0)break;r+=Ye}xe.push({x:Ee,y:Pe,width:De,height:Me,has_local_palette:St,palette_offset:je,palette_size:Xe,data_offset:qe,data_length:r-qe,transparent_index:Te,interlaced:!!Be,delay:Fe,disposal:e});break;case 59:t=!1;break;default:throw new Error("Unknown gif block: 0x"+Ce[r-1].toString(16))}this.numFrames=function(){return xe.length},this.loopCount=function(){return ke},this.frameInfo=function(gi){if(gi<0||gi>=xe.length)throw new Error("Frame index out of range.");return xe[gi]},this.decodeAndBlitFrameBGRA=function(gi,ai){var ui=this.frameInfo(gi),Qe=ui.width*ui.height,Ze=new Uint8Array(Qe);$t(Ce,ui.data_offset,Ze,Qe);var ci=ui.palette_offset,ze=ui.transparent_index;ze===null&&(ze=256);var We=ui.width,si=Ie-We,ni=We,$e=4*(ui.y*Ie+ui.x),Ke=4*((ui.y+ui.height)*Ie+ui.x),Ve=$e,Ue=4*si;ui.interlaced===!0&&(Ue+=4*Ie*7);for(var ti=8,hi=0,yi=Ze.length;hi<yi;++hi){var wi=Ze[hi];if(ni===0&&(ni=We,(Ve+=Ue)>=Ke&&(Ue=4*si+4*Ie*(ti-1),Ve=$e+(We+si)*(ti<<1),ti>>=1)),wi===ze)Ve+=4;else{var Ci=Ce[ci+3*wi],ki=Ce[ci+3*wi+1],fi=Ce[ci+3*wi+2];ai[Ve++]=fi,ai[Ve++]=ki,ai[Ve++]=Ci,ai[Ve++]=255}--ni}},this.decodeAndBlitFrameRGBA=function(gi,ai){var ui=this.frameInfo(gi),Qe=ui.width*ui.height,Ze=new Uint8Array(Qe);$t(Ce,ui.data_offset,Ze,Qe);var ci=ui.palette_offset,ze=ui.transparent_index;ze===null&&(ze=256);var We=ui.width,si=Ie-We,ni=We,$e=4*(ui.y*Ie+ui.x),Ke=4*((ui.y+ui.height)*Ie+ui.x),Ve=$e,Ue=4*si;ui.interlaced===!0&&(Ue+=4*Ie*7);for(var ti=8,hi=0,yi=Ze.length;hi<yi;++hi){var wi=Ze[hi];if(ni===0&&(ni=We,(Ve+=Ue)>=Ke&&(Ue=4*si+4*Ie*(ti-1),Ve=$e+(We+si)*(ti<<1),ti>>=1)),wi===ze)Ve+=4;else{var Ci=Ce[ci+3*wi],ki=Ce[ci+3*wi+1],fi=Ce[ci+3*wi+2];ai[Ve++]=Ci,ai[Ve++]=ki,ai[Ve++]=fi,ai[Ve++]=255}--ni}}}function $t(Ce,r,Ie,Re){for(var Ge=Ce[r++],Je=1<<Ge,ii=Je+1,Se=ii+1,_e=Ge+1,t=(1<<_e)-1,xe=0,Fe=0,Te=0,e=Ce[r++],ke=new Int32Array(4096),Oe=null;;){for(;xe<16&&e!==0;)Fe|=Ce[r++]<<xe,xe+=8,e===1?e=Ce[r++]:--e;if(xe<_e)break;var Ee=Fe&t;if(Fe>>=_e,xe-=_e,Ee!==Je){if(Ee===ii)break;for(var Pe=Ee<Se?Ee:Oe,De=0,Me=Pe;Me>Je;)Me=ke[Me]>>8,++De;var Ae=Me;if(Te+De+(Pe!==Ee?1:0)>Re)return void a.log("Warning, gif stream longer than expected.");Ie[Te++]=Ae;var Be=Te+=De;for(Pe!==Ee&&(Ie[Te++]=Ae),Me=Pe;De--;)Me=ke[Me],Ie[--Be]=255&Me,Me>>=8;Oe!==null&&Se<4096&&(ke[Se++]=Oe<<8|Ae,Se>=t+1&&_e<12&&(++_e,t=t<<1|1)),Oe=Ee}else Se=ii+1,t=(1<<(_e=Ge+1))-1,Oe=null}return Te!==Re&&a.log("Warning, gif stream shorter than expected."),Ie}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(Ce){var r,Ie,Re,Ge,Je,ii=Math.floor,Se=new Array(64),_e=new Array(64),t=new Array(64),xe=new Array(64),Fe=new Array(65535),Te=new Array(65535),e=new Array(64),ke=new Array(64),Oe=[],Ee=0,Pe=7,De=new Array(64),Me=new Array(64),Ae=new Array(64),Be=new Array(256),He=new Array(2048),je=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Xe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],St=[0,1,2,3,4,5,6,7,8,9,10,11],qe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ye=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],gi=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ai=[0,1,2,3,4,5,6,7,8,9,10,11],ui=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ze($e,Ke){for(var Ve=0,Ue=0,ti=new Array,hi=1;hi<=16;hi++){for(var yi=1;yi<=$e[hi];yi++)ti[Ke[Ue]]=[],ti[Ke[Ue]][0]=Ve,ti[Ke[Ue]][1]=hi,Ue++,Ve++;Ve*=2}return ti}function ci($e){for(var Ke=$e[0],Ve=$e[1]-1;Ve>=0;)Ke&1<<Ve&&(Ee|=1<<Pe),Ve--,--Pe<0&&(Ee==255?(ze(255),ze(0)):ze(Ee),Pe=7,Ee=0)}function ze($e){Oe.push($e)}function We($e){ze($e>>8&255),ze(255&$e)}function si($e,Ke,Ve,Ue,ti){for(var hi,yi=ti[0],wi=ti[240],Ci=function(bi,Ai){var Ei,mi,_i,Si,Fi,Pi,Di,Ii,Mi,$i,Xi=0;for(Mi=0;Mi<8;++Mi){Ei=bi[Xi],mi=bi[Xi+1],_i=bi[Xi+2],Si=bi[Xi+3],Fi=bi[Xi+4],Pi=bi[Xi+5],Di=bi[Xi+6];var rn=Ei+(Ii=bi[Xi+7]),tn=Ei-Ii,on=mi+Di,fn=mi-Di,Yi=_i+Pi,Ri=_i-Pi,ji=Si+Fi,Ui=Si-Fi,en=rn+ji,nn=rn-ji,Sn=on+Yi,Qi=on-Yi;bi[Xi]=en+Sn,bi[Xi+4]=en-Sn;var qi=.707106781*(Qi+nn);bi[Xi+2]=nn+qi,bi[Xi+6]=nn-qi;var Zi=.382683433*((en=Ui+Ri)-(Qi=fn+tn)),an=.5411961*en+Zi,Nn=1.306562965*Qi+Zi,Dn=.707106781*(Sn=Ri+fn),hn=tn+Dn,Fn=tn-Dn;bi[Xi+5]=Fn+an,bi[Xi+3]=Fn-an,bi[Xi+1]=hn+Nn,bi[Xi+7]=hn-Nn,Xi+=8}for(Xi=0,Mi=0;Mi<8;++Mi){Ei=bi[Xi],mi=bi[Xi+8],_i=bi[Xi+16],Si=bi[Xi+24],Fi=bi[Xi+32],Pi=bi[Xi+40],Di=bi[Xi+48];var Xn=Ei+(Ii=bi[Xi+56]),Rn=Ei-Ii,Wn=mi+Di,Kn=mi-Di,Mn=_i+Pi,er=_i-Pi,Hn=Si+Fi,hr=Si-Fi,or=Xn+Hn,dr=Xn-Hn,nr=Wn+Mn,Lr=Wn-Mn;bi[Xi]=or+nr,bi[Xi+32]=or-nr;var An=.707106781*(Lr+dr);bi[Xi+16]=dr+An,bi[Xi+48]=dr-An;var kn=.382683433*((or=hr+er)-(Lr=Kn+Rn)),Ln=.5411961*or+kn,jn=1.306562965*Lr+kn,Gn=.707106781*(nr=er+Kn),sr=Rn+Gn,ir=Rn-Gn;bi[Xi+40]=ir+Ln,bi[Xi+24]=ir-Ln,bi[Xi+8]=sr+jn,bi[Xi+56]=sr-jn,Xi++}for(Mi=0;Mi<64;++Mi)$i=bi[Mi]*Ai[Mi],e[Mi]=$i>0?$i+.5|0:$i-.5|0;return e}($e,Ke),ki=0;ki<64;++ki)ke[je[ki]]=Ci[ki];var fi=ke[0]-Ve;Ve=ke[0],fi==0?ci(Ue[0]):(ci(Ue[Te[hi=32767+fi]]),ci(Fe[hi]));for(var xi=63;xi>0&&ke[xi]==0;)xi--;if(xi==0)return ci(yi),Ve;for(var li,pi=1;pi<=xi;){for(var ri=pi;ke[pi]==0&&pi<=xi;)++pi;var oi=pi-ri;if(oi>=16){li=oi>>4;for(var di=1;di<=li;++di)ci(wi);oi&=15}hi=32767+ke[pi],ci(ti[(oi<<4)+Te[hi]]),ci(Fe[hi]),pi++}return xi!=63&&ci(yi),Ve}function ni($e){$e=Math.min(Math.max($e,1),100),Je!=$e&&(function(Ke){for(var Ve=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ue=0;Ue<64;Ue++){var ti=ii((Ve[Ue]*Ke+50)/100);ti=Math.min(Math.max(ti,1),255),Se[je[Ue]]=ti}for(var hi=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yi=0;yi<64;yi++){var wi=ii((hi[yi]*Ke+50)/100);wi=Math.min(Math.max(wi,1),255),_e[je[yi]]=wi}for(var Ci=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ki=0,fi=0;fi<8;fi++)for(var xi=0;xi<8;xi++)t[ki]=1/(Se[je[ki]]*Ci[fi]*Ci[xi]*8),xe[ki]=1/(_e[je[ki]]*Ci[fi]*Ci[xi]*8),ki++}($e<50?Math.floor(5e3/$e):Math.floor(200-2*$e)),Je=$e)}this.encode=function($e,Ke){Ke&&ni(Ke),Oe=new Array,Ee=0,Pe=7,We(65496),We(65504),We(16),ze(74),ze(70),ze(73),ze(70),ze(0),ze(1),ze(1),ze(0),We(1),We(1),ze(0),ze(0),function(){We(65499),We(132),ze(0);for(var mi=0;mi<64;mi++)ze(Se[mi]);ze(1);for(var _i=0;_i<64;_i++)ze(_e[_i])}(),function(mi,_i){We(65472),We(17),ze(8),We(_i),We(mi),ze(3),ze(1),ze(17),ze(0),ze(2),ze(17),ze(1),ze(3),ze(17),ze(1)}($e.width,$e.height),function(){We(65476),We(418),ze(0);for(var mi=0;mi<16;mi++)ze(Xe[mi+1]);for(var _i=0;_i<=11;_i++)ze(St[_i]);ze(16);for(var Si=0;Si<16;Si++)ze(qe[Si+1]);for(var Fi=0;Fi<=161;Fi++)ze(Ye[Fi]);ze(1);for(var Pi=0;Pi<16;Pi++)ze(gi[Pi+1]);for(var Di=0;Di<=11;Di++)ze(ai[Di]);ze(17);for(var Ii=0;Ii<16;Ii++)ze(ui[Ii+1]);for(var Mi=0;Mi<=161;Mi++)ze(Qe[Mi])}(),We(65498),We(12),ze(3),ze(1),ze(0),ze(2),ze(17),ze(3),ze(17),ze(0),ze(63),ze(0);var Ve=0,Ue=0,ti=0;Ee=0,Pe=7,this.encode.displayName="_encode_";for(var hi,yi,wi,Ci,ki,fi,xi,li,pi,ri=$e.data,oi=$e.width,di=$e.height,bi=4*oi,Ai=0;Ai<di;){for(hi=0;hi<bi;){for(ki=bi*Ai+hi,xi=-1,li=0,pi=0;pi<64;pi++)fi=ki+(li=pi>>3)*bi+(xi=4*(7&pi)),Ai+li>=di&&(fi-=bi*(Ai+1+li-di)),hi+xi>=bi&&(fi-=hi+xi-bi+4),yi=ri[fi++],wi=ri[fi++],Ci=ri[fi++],De[pi]=(He[yi]+He[wi+256>>0]+He[Ci+512>>0]>>16)-128,Me[pi]=(He[yi+768>>0]+He[wi+1024>>0]+He[Ci+1280>>0]>>16)-128,Ae[pi]=(He[yi+1280>>0]+He[wi+1536>>0]+He[Ci+1792>>0]>>16)-128;Ve=si(De,t,Ve,r,Re),Ue=si(Me,xe,Ue,Ie,Ge),ti=si(Ae,xe,ti,Ie,Ge),hi+=32}Ai+=8}if(Pe>=0){var Ei=[];Ei[1]=Pe+1,Ei[0]=(1<<Pe+1)-1,ci(Ei)}return We(65497),new Uint8Array(Oe)},Ce=Ce||50,function(){for(var $e=String.fromCharCode,Ke=0;Ke<256;Ke++)Be[Ke]=$e(Ke)}(),r=Ze(Xe,St),Ie=Ze(gi,ai),Re=Ze(qe,Ye),Ge=Ze(ui,Qe),function(){for(var $e=1,Ke=2,Ve=1;Ve<=15;Ve++){for(var Ue=$e;Ue<Ke;Ue++)Te[32767+Ue]=Ve,Fe[32767+Ue]=[],Fe[32767+Ue][1]=Ve,Fe[32767+Ue][0]=Ue;for(var ti=-(Ke-1);ti<=-$e;ti++)Te[32767+ti]=Ve,Fe[32767+ti]=[],Fe[32767+ti][1]=Ve,Fe[32767+ti][0]=Ke-1+ti;$e<<=1,Ke<<=1}}(),function(){for(var $e=0;$e<256;$e++)He[$e]=19595*$e,He[$e+256>>0]=38470*$e,He[$e+512>>0]=7471*$e+32768,He[$e+768>>0]=-11059*$e,He[$e+1024>>0]=-21709*$e,He[$e+1280>>0]=32768*$e+8421375,He[$e+1536>>0]=-27439*$e,He[$e+1792>>0]=-5329*$e}(),ni(Ce)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ce,r){if(this.pos=0,this.buffer=Ce,this.datav=new DataView(Ce.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ce){function r(Xe){if(!Xe)throw Error("assert :P")}function Ie(Xe,St,qe){for(var Ye=0;4>Ye;Ye++)if(Xe[St+Ye]!=qe.charCodeAt(Ye))return!0;return!1}function Re(Xe,St,qe,Ye,gi){for(var ai=0;ai<gi;ai++)Xe[St+ai]=qe[Ye+ai]}function Ge(Xe,St,qe,Ye){for(var gi=0;gi<Ye;gi++)Xe[St+gi]=qe}function Je(Xe){return new Int32Array(Xe)}function ii(Xe,St){for(var qe=[],Ye=0;Ye<Xe;Ye++)qe.push(new St);return qe}function Se(Xe,St){var qe=[];return function Ye(gi,ai,ui){for(var Qe=ui[ai],Ze=0;Ze<Qe&&(gi.push(ui.length>ai+1?[]:new St),!(ui.length<ai+1));Ze++)Ye(gi[Ze],ai+1,ui)}(qe,0,Xe),qe}var _e=function(){var Xe=this;function St(vi,Ti){for(var Ni=1<<Ti-1>>>0;vi&Ni;)Ni>>>=1;return Ni?(vi&Ni-1)+Ni:vi}function qe(vi,Ti,Ni,Bi,Hi){r(!(Bi%Ni));do vi[Ti+(Bi-=Ni)]=Hi;while(0<Bi)}function Ye(vi,Ti,Ni,Bi,Hi){if(r(2328>=Hi),512>=Hi)var Wi=Je(512);else if((Wi=Je(Hi))==null)return 0;return function(Gi,Ki,Ji,sn,pn,On){var In,wn,Yn=Ki,Un=1<<Ji,mn=Je(16),xn=Je(16);for(r(pn!=0),r(sn!=null),r(Gi!=null),r(0<Ji),wn=0;wn<pn;++wn){if(15<sn[wn])return 0;++mn[sn[wn]]}if(mn[0]==pn)return 0;for(xn[1]=0,In=1;15>In;++In){if(mn[In]>1<<In)return 0;xn[In+1]=xn[In]+mn[In]}for(wn=0;wn<pn;++wn)In=sn[wn],0<sn[wn]&&(On[xn[In]++]=wn);if(xn[15]==1)return(sn=new gi).g=0,sn.value=On[0],qe(Gi,Yn,1,Un,sn),Un;var zn,Qn=-1,qn=Un-1,vr=0,cr=1,Fr=1,ur=1<<Ji;for(wn=0,In=1,pn=2;In<=Ji;++In,pn<<=1){if(cr+=Fr<<=1,0>(Fr-=mn[In]))return 0;for(;0<mn[In];--mn[In])(sn=new gi).g=In,sn.value=On[wn++],qe(Gi,Yn+vr,pn,ur,sn),vr=St(vr,In)}for(In=Ji+1,pn=2;15>=In;++In,pn<<=1){if(cr+=Fr<<=1,0>(Fr-=mn[In]))return 0;for(;0<mn[In];--mn[In]){if(sn=new gi,(vr&qn)!=Qn){for(Yn+=ur,zn=1<<(Qn=In)-Ji;15>Qn&&!(0>=(zn-=mn[Qn]));)++Qn,zn<<=1;Un+=ur=1<<(zn=Qn-Ji),Gi[Ki+(Qn=vr&qn)].g=zn+Ji,Gi[Ki+Qn].value=Yn-Ki-Qn}sn.g=In-Ji,sn.value=On[wn++],qe(Gi,Yn+(vr>>Ji),pn,ur,sn),vr=St(vr,In)}}return cr!=2*xn[15]-1?0:Un}(vi,Ti,Ni,Bi,Hi,Wi)}function gi(){this.value=this.g=0}function ai(){this.value=this.g=0}function ui(){this.G=ii(5,gi),this.H=Je(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ii(As,ai)}function Qe(vi,Ti,Ni,Bi){r(vi!=null),r(Ti!=null),r(2147483648>Bi),vi.Ca=254,vi.I=0,vi.b=-8,vi.Ka=0,vi.oa=Ti,vi.pa=Ni,vi.Jd=Ti,vi.Yc=Ni+Bi,vi.Zc=4<=Bi?Ni+Bi-4+1:Ni,hi(vi)}function Ze(vi,Ti){for(var Ni=0;0<Ti--;)Ni|=wi(vi,128)<<Ti;return Ni}function ci(vi,Ti){var Ni=Ze(vi,Ti);return yi(vi)?-Ni:Ni}function ze(vi,Ti,Ni,Bi){var Hi,Wi=0;for(r(vi!=null),r(Ti!=null),r(4294967288>Bi),vi.Sb=Bi,vi.Ra=0,vi.u=0,vi.h=0,4<Bi&&(Bi=4),Hi=0;Hi<Bi;++Hi)Wi+=Ti[Ni+Hi]<<8*Hi;vi.Ra=Wi,vi.bb=Bi,vi.oa=Ti,vi.pa=Ni}function We(vi){for(;8<=vi.u&&vi.bb<vi.Sb;)vi.Ra>>>=8,vi.Ra+=vi.oa[vi.pa+vi.bb]<<Qa-8>>>0,++vi.bb,vi.u-=8;Ve(vi)&&(vi.h=1,vi.u=0)}function si(vi,Ti){if(r(0<=Ti),!vi.h&&Ti<=Za){var Ni=Ke(vi)&Ja[Ti];return vi.u+=Ti,We(vi),Ni}return vi.h=1,vi.u=0}function ni(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $e(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ke(vi){return vi.Ra>>>(vi.u&Qa-1)>>>0}function Ve(vi){return r(vi.bb<=vi.Sb),vi.h||vi.bb==vi.Sb&&vi.u>Qa}function Ue(vi,Ti){vi.u=Ti,vi.h=Ve(vi)}function ti(vi){vi.u>=vo&&(r(vi.u>=vo),We(vi))}function hi(vi){r(vi!=null&&vi.oa!=null),vi.pa<vi.Zc?(vi.I=(vi.oa[vi.pa++]|vi.I<<8)>>>0,vi.b+=8):(r(vi!=null&&vi.oa!=null),vi.pa<vi.Yc?(vi.b+=8,vi.I=vi.oa[vi.pa++]|vi.I<<8):vi.Ka?vi.b=0:(vi.I<<=8,vi.b+=8,vi.Ka=1))}function yi(vi){return Ze(vi,1)}function wi(vi,Ti){var Ni=vi.Ca;0>vi.b&&hi(vi);var Bi=vi.b,Hi=Ni*Ti>>>8,Wi=(vi.I>>>Bi>Hi)+0;for(Wi?(Ni-=Hi,vi.I-=Hi+1<<Bi>>>0):Ni=Hi+1,Bi=Ni,Hi=0;256<=Bi;)Hi+=8,Bi>>=8;return Bi=7^Hi+_s[Bi],vi.b-=Bi,vi.Ca=(Ni<<Bi)-1,Wi}function Ci(vi,Ti,Ni){vi[Ti+0]=Ni>>24&255,vi[Ti+1]=Ni>>16&255,vi[Ti+2]=Ni>>8&255,vi[Ti+3]=Ni>>0&255}function ki(vi,Ti){return vi[Ti+0]<<0|vi[Ti+1]<<8}function fi(vi,Ti){return ki(vi,Ti)|vi[Ti+2]<<16}function xi(vi,Ti){return ki(vi,Ti)|ki(vi,Ti+2)<<16}function li(vi,Ti){var Ni=1<<Ti;return r(vi!=null),r(0<Ti),vi.X=Je(Ni),vi.X==null?0:(vi.Mb=32-Ti,vi.Xa=Ti,1)}function pi(vi,Ti){r(vi!=null),r(Ti!=null),r(vi.Xa==Ti.Xa),Re(Ti.X,0,vi.X,0,1<<Ti.Xa)}function ri(){this.X=[],this.Xa=this.Mb=0}function oi(vi,Ti,Ni,Bi){r(Ni!=null),r(Bi!=null);var Hi=Ni[0],Wi=Bi[0];return Hi==0&&(Hi=(vi*Wi+Ti/2)/Ti),Wi==0&&(Wi=(Ti*Hi+vi/2)/vi),0>=Hi||0>=Wi?0:(Ni[0]=Hi,Bi[0]=Wi,1)}function di(vi,Ti){return vi+(1<<Ti)-1>>>Ti}function bi(vi,Ti){return((4278255360&vi)+(4278255360&Ti)>>>0&4278255360)+((16711935&vi)+(16711935&Ti)>>>0&16711935)>>>0}function Ai(vi,Ti){Xe[Ti]=function(Ni,Bi,Hi,Wi,Gi,Ki,Ji){var sn;for(sn=0;sn<Gi;++sn){var pn=Xe[vi](Ki[Ji+sn-1],Hi,Wi+sn);Ki[Ji+sn]=bi(Ni[Bi+sn],pn)}}}function Ei(){this.ud=this.hd=this.jd=0}function mi(vi,Ti){return((4278124286&(vi^Ti))>>>1)+(vi&Ti)>>>0}function _i(vi){return 0<=vi&&256>vi?vi:0>vi?0:255<vi?255:void 0}function Si(vi,Ti){return _i(vi+(vi-Ti+.5>>1))}function Fi(vi,Ti,Ni){return Math.abs(Ti-Ni)-Math.abs(vi-Ni)}function Pi(vi,Ti,Ni,Bi,Hi,Wi,Gi){for(Bi=Wi[Gi-1],Ni=0;Ni<Hi;++Ni)Wi[Gi+Ni]=Bi=bi(vi[Ti+Ni],Bi)}function Di(vi,Ti,Ni,Bi,Hi){var Wi;for(Wi=0;Wi<Ni;++Wi){var Gi=vi[Ti+Wi],Ki=Gi>>8&255,Ji=16711935&(Ji=(Ji=16711935&Gi)+((Ki<<16)+Ki));Bi[Hi+Wi]=(4278255360&Gi)+Ji>>>0}}function Ii(vi,Ti){Ti.jd=vi>>0&255,Ti.hd=vi>>8&255,Ti.ud=vi>>16&255}function Mi(vi,Ti,Ni,Bi,Hi,Wi){var Gi;for(Gi=0;Gi<Bi;++Gi){var Ki=Ti[Ni+Gi],Ji=Ki>>>8,sn=Ki,pn=255&(pn=(pn=Ki>>>16)+((vi.jd<<24>>24)*(Ji<<24>>24)>>>5));sn=255&(sn=(sn=sn+((vi.hd<<24>>24)*(Ji<<24>>24)>>>5))+((vi.ud<<24>>24)*(pn<<24>>24)>>>5)),Hi[Wi+Gi]=(4278255360&Ki)+(pn<<16)+sn}}function $i(vi,Ti,Ni,Bi,Hi){Xe[Ti]=function(Wi,Gi,Ki,Ji,sn,pn,On,In,wn){for(Ji=On;Ji<In;++Ji)for(On=0;On<wn;++On)sn[pn++]=Hi(Ki[Bi(Wi[Gi++])])},Xe[vi]=function(Wi,Gi,Ki,Ji,sn,pn,On){var In=8>>Wi.b,wn=Wi.Ea,Yn=Wi.K[0],Un=Wi.w;if(8>In)for(Wi=(1<<Wi.b)-1,Un=(1<<In)-1;Gi<Ki;++Gi){var mn,xn=0;for(mn=0;mn<wn;++mn)mn&Wi||(xn=Bi(Ji[sn++])),pn[On++]=Hi(Yn[xn&Un]),xn>>=In}else Xe["VP8LMapColor"+Ni](Ji,sn,Yn,Un,pn,On,Gi,Ki,wn)}}function Xi(vi,Ti,Ni,Bi,Hi){for(Ni=Ti+Ni;Ti<Ni;){var Wi=vi[Ti++];Bi[Hi++]=Wi>>16&255,Bi[Hi++]=Wi>>8&255,Bi[Hi++]=Wi>>0&255}}function rn(vi,Ti,Ni,Bi,Hi){for(Ni=Ti+Ni;Ti<Ni;){var Wi=vi[Ti++];Bi[Hi++]=Wi>>16&255,Bi[Hi++]=Wi>>8&255,Bi[Hi++]=Wi>>0&255,Bi[Hi++]=Wi>>24&255}}function tn(vi,Ti,Ni,Bi,Hi){for(Ni=Ti+Ni;Ti<Ni;){var Wi=(Gi=vi[Ti++])>>16&240|Gi>>12&15,Gi=Gi>>0&240|Gi>>28&15;Bi[Hi++]=Wi,Bi[Hi++]=Gi}}function on(vi,Ti,Ni,Bi,Hi){for(Ni=Ti+Ni;Ti<Ni;){var Wi=(Gi=vi[Ti++])>>16&248|Gi>>13&7,Gi=Gi>>5&224|Gi>>3&31;Bi[Hi++]=Wi,Bi[Hi++]=Gi}}function fn(vi,Ti,Ni,Bi,Hi){for(Ni=Ti+Ni;Ti<Ni;){var Wi=vi[Ti++];Bi[Hi++]=Wi>>0&255,Bi[Hi++]=Wi>>8&255,Bi[Hi++]=Wi>>16&255}}function Yi(vi,Ti,Ni,Bi,Hi,Wi){if(Wi==0)for(Ni=Ti+Ni;Ti<Ni;)Ci(Bi,((Wi=vi[Ti++])[0]>>24|Wi[1]>>8&65280|Wi[2]<<8&16711680|Wi[3]<<24)>>>0),Hi+=32;else Re(Bi,Hi,vi,Ti,Ni)}function Ri(vi,Ti){Xe[Ti][0]=Xe[vi+"0"],Xe[Ti][1]=Xe[vi+"1"],Xe[Ti][2]=Xe[vi+"2"],Xe[Ti][3]=Xe[vi+"3"],Xe[Ti][4]=Xe[vi+"4"],Xe[Ti][5]=Xe[vi+"5"],Xe[Ti][6]=Xe[vi+"6"],Xe[Ti][7]=Xe[vi+"7"],Xe[Ti][8]=Xe[vi+"8"],Xe[Ti][9]=Xe[vi+"9"],Xe[Ti][10]=Xe[vi+"10"],Xe[Ti][11]=Xe[vi+"11"],Xe[Ti][12]=Xe[vi+"12"],Xe[Ti][13]=Xe[vi+"13"],Xe[Ti][14]=Xe[vi+"0"],Xe[Ti][15]=Xe[vi+"0"]}function ji(vi){return vi==vc||vi==wc||vi==zo||vi==Sc}function Ui(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ui,this.f.kb=new en,this.sd=null}function Sn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qi(vi){return alert("todo:WebPSamplerProcessPlane"),vi.T}function Zi(vi,Ti){var Ni=vi.T,Bi=Ti.ba.f.RGBA,Hi=Bi.eb,Wi=Bi.fb+vi.ka*Bi.A,Gi=js[Ti.ba.S],Ki=vi.y,Ji=vi.O,sn=vi.f,pn=vi.N,On=vi.ea,In=vi.W,wn=Ti.cc,Yn=Ti.dc,Un=Ti.Mc,mn=Ti.Nc,xn=vi.ka,zn=vi.ka+vi.T,Qn=vi.U,qn=Qn+1>>1;for(xn==0?Gi(Ki,Ji,null,null,sn,pn,On,In,sn,pn,On,In,Hi,Wi,null,null,Qn):(Gi(Ti.ec,Ti.fc,Ki,Ji,wn,Yn,Un,mn,sn,pn,On,In,Hi,Wi-Bi.A,Hi,Wi,Qn),++Ni);xn+2<zn;xn+=2)wn=sn,Yn=pn,Un=On,mn=In,pn+=vi.Rc,In+=vi.Rc,Wi+=2*Bi.A,Gi(Ki,(Ji+=2*vi.fa)-vi.fa,Ki,Ji,wn,Yn,Un,mn,sn,pn,On,In,Hi,Wi-Bi.A,Hi,Wi,Qn);return Ji+=vi.fa,vi.j+zn<vi.o?(Re(Ti.ec,Ti.fc,Ki,Ji,Qn),Re(Ti.cc,Ti.dc,sn,pn,qn),Re(Ti.Mc,Ti.Nc,On,In,qn),Ni--):1&zn||Gi(Ki,Ji,null,null,sn,pn,On,In,sn,pn,On,In,Hi,Wi+Bi.A,null,null,Qn),Ni}function an(vi,Ti,Ni){var Bi=vi.F,Hi=[vi.J];if(Bi!=null){var Wi=vi.U,Gi=Ti.ba.S,Ki=Gi==Xo||Gi==zo;Ti=Ti.ba.f.RGBA;var Ji=[0],sn=vi.ka;Ji[0]=vi.T,vi.Kb&&(sn==0?--Ji[0]:(--sn,Hi[0]-=vi.width),vi.j+vi.ka+vi.T==vi.o&&(Ji[0]=vi.o-vi.j-sn));var pn=Ti.eb;sn=Ti.fb+sn*Ti.A,vi=jo(Bi,Hi[0],vi.width,Wi,Ji,pn,sn+(Ki?0:3),Ti.A),r(Ni==Ji),vi&&ji(Gi)&&Fa(pn,sn,Ki,Wi,Ji,Ti.A)}return 0}function Nn(vi){var Ti=vi.ma,Ni=Ti.ba.S,Bi=11>Ni,Hi=Ni==Ho||Ni==Vo||Ni==Xo||Ni==yc||Ni==12||ji(Ni);if(Ti.memory=null,Ti.Ib=null,Ti.Jb=null,Ti.Nd=null,!xo(Ti.Oa,vi,Hi?11:12))return 0;if(Hi&&ji(Ni)&&tr(),vi.da)alert("todo:use_scaling");else{if(Bi){if(Ti.Ib=qi,vi.Kb){if(Ni=vi.U+1>>1,Ti.memory=Je(vi.U+2*Ni),Ti.memory==null)return 0;Ti.ec=Ti.memory,Ti.fc=0,Ti.cc=Ti.ec,Ti.dc=Ti.fc+vi.U,Ti.Mc=Ti.cc,Ti.Nc=Ti.dc+Ni,Ti.Ib=Zi,tr()}}else alert("todo:EmitYUV");Hi&&(Ti.Jb=an,Bi&&En())}if(Bi&&!Fl){for(vi=0;256>vi;++vi)J0[vi]=89858*(vi-128)+Go>>Wo,eu[vi]=-22014*(vi-128)+Go,Q0[vi]=-45773*(vi-128),Z0[vi]=113618*(vi-128)+Go>>Wo;for(vi=Eo;vi<Cc;++vi)Ti=76283*(vi-16)+Go>>Wo,tu[vi-Eo]=Fs(Ti,255),iu[vi-Eo]=Fs(Ti+8>>4,15);Fl=1}return 1}function Dn(vi){var Ti=vi.ma,Ni=vi.U,Bi=vi.T;return r(!(1&vi.ka)),0>=Ni||0>=Bi?0:(Ni=Ti.Ib(vi,Ti),Ti.Jb!=null&&Ti.Jb(vi,Ti,Ni),Ti.Dc+=Ni,1)}function hn(vi){vi.ma.memory=null}function Fn(vi,Ti,Ni,Bi){return si(vi,8)!=47?0:(Ti[0]=si(vi,14)+1,Ni[0]=si(vi,14)+1,Bi[0]=si(vi,1),si(vi,3)!=0?0:!vi.h)}function Xn(vi,Ti){if(4>vi)return vi+1;var Ni=vi-2>>1;return(2+(1&vi)<<Ni)+si(Ti,Ni)+1}function Rn(vi,Ti){return 120<Ti?Ti-120:1<=(Ni=((Ni=R0[Ti-1])>>4)*vi+(8-(15&Ni)))?Ni:1;var Ni}function Wn(vi,Ti,Ni){var Bi=Ke(Ni),Hi=vi[Ti+=255&Bi].g-8;return 0<Hi&&(Ue(Ni,Ni.u+8),Bi=Ke(Ni),Ti+=vi[Ti].value,Ti+=Bi&(1<<Hi)-1),Ue(Ni,Ni.u+vi[Ti].g),vi[Ti].value}function Kn(vi,Ti,Ni){return Ni.g+=vi.g,Ni.value+=vi.value<<Ti>>>0,r(8>=Ni.g),vi.g}function Mn(vi,Ti,Ni){var Bi=vi.xc;return r((Ti=Bi==0?0:vi.vc[vi.md*(Ni>>Bi)+(Ti>>Bi)])<vi.Wb),vi.Ya[Ti]}function er(vi,Ti,Ni,Bi){var Hi=vi.ab,Wi=vi.c*Ti,Gi=vi.C;Ti=Gi+Ti;var Ki=Ni,Ji=Bi;for(Bi=vi.Ta,Ni=vi.Ua;0<Hi--;){var sn=vi.gc[Hi],pn=Gi,On=Ti,In=Ki,wn=Ji,Yn=(Ji=Bi,Ki=Ni,sn.Ea);switch(r(pn<On),r(On<=sn.nc),sn.hc){case 2:Bo(In,wn,(On-pn)*Yn,Ji,Ki);break;case 0:var Un=pn,mn=On,xn=Ji,zn=Ki,Qn=(ur=sn).Ea;Un==0&&(pc(In,wn,null,null,1,xn,zn),Pi(In,wn+1,0,0,Qn-1,xn,zn+1),wn+=Qn,zn+=Qn,++Un);for(var qn=1<<ur.b,vr=qn-1,cr=di(Qn,ur.b),Fr=ur.K,ur=ur.w+(Un>>ur.b)*cr;Un<mn;){var zr=Fr,Wr=ur,Vr=1;for(wo(In,wn,xn,zn-Qn,1,xn,zn);Vr<Qn;){var Ur=(Vr&~vr)+qn;Ur>Qn&&(Ur=Qn),(0,Aa[zr[Wr++]>>8&15])(In,wn+ +Vr,xn,zn+Vr-Qn,Ur-Vr,xn,zn+Vr),Vr=Ur}wn+=Qn,zn+=Qn,++Un&vr||(ur+=cr)}On!=sn.nc&&Re(Ji,Ki-Yn,Ji,Ki+(On-pn-1)*Yn,Yn);break;case 1:for(Yn=In,mn=wn,Qn=(In=sn.Ea)-(zn=In&~(xn=(wn=1<<sn.b)-1)),Un=di(In,sn.b),qn=sn.K,sn=sn.w+(pn>>sn.b)*Un;pn<On;){for(vr=qn,cr=sn,Fr=new Ei,ur=mn+zn,zr=mn+In;mn<ur;)Ii(vr[cr++],Fr),Ms(Fr,Yn,mn,wn,Ji,Ki),mn+=wn,Ki+=wn;mn<zr&&(Ii(vr[cr++],Fr),Ms(Fr,Yn,mn,Qn,Ji,Ki),mn+=Qn,Ki+=Qn),++pn&xn||(sn+=Un)}break;case 3:if(In==Ji&&wn==Ki&&0<sn.b){for(mn=Ji,In=Yn=Ki+(On-pn)*Yn-(zn=(On-pn)*di(sn.Ea,sn.b)),wn=Ji,xn=Ki,Un=[],zn=(Qn=zn)-1;0<=zn;--zn)Un[zn]=wn[xn+zn];for(zn=Qn-1;0<=zn;--zn)mn[In+zn]=Un[zn];Gs(sn,pn,On,Ji,Yn,Ji,Ki)}else Gs(sn,pn,On,In,wn,Ji,Ki)}Ki=Bi,Ji=Ni}Ji!=Ni&&Re(Bi,Ni,Ki,Ji,Wi)}function Hn(vi,Ti){var Ni=vi.V,Bi=vi.Ba+vi.c*vi.C,Hi=Ti-vi.C;if(r(Ti<=vi.l.o),r(16>=Hi),0<Hi){var Wi=vi.l,Gi=vi.Ta,Ki=vi.Ua,Ji=Wi.width;if(er(vi,Hi,Ni,Bi),Hi=Ki=[Ki],r((Ni=vi.C)<(Bi=Ti)),r(Wi.v<Wi.va),Bi>Wi.o&&(Bi=Wi.o),Ni<Wi.j){var sn=Wi.j-Ni;Ni=Wi.j,Hi[0]+=sn*Ji}if(Ni>=Bi?Ni=0:(Hi[0]+=4*Wi.v,Wi.ka=Ni-Wi.j,Wi.U=Wi.va-Wi.v,Wi.T=Bi-Ni,Ni=1),Ni){if(Ki=Ki[0],11>(Ni=vi.ca).S){var pn=Ni.f.RGBA,On=(Bi=Ni.S,Hi=Wi.U,Wi=Wi.T,sn=pn.eb,pn.A),In=Wi;for(pn=pn.fb+vi.Ma*pn.A;0<In--;){var wn=Gi,Yn=Ki,Un=Hi,mn=sn,xn=pn;switch(Bi){case $o:qs(wn,Yn,Un,mn,xn);break;case Ho:Ca(wn,Yn,Un,mn,xn);break;case vc:Ca(wn,Yn,Un,mn,xn),Fa(mn,xn,0,Un,1,0);break;case xl:eo(wn,Yn,Un,mn,xn);break;case Vo:Yi(wn,Yn,Un,mn,xn,1);break;case wc:Yi(wn,Yn,Un,mn,xn,1),Fa(mn,xn,0,Un,1,0);break;case Xo:Yi(wn,Yn,Un,mn,xn,0);break;case zo:Yi(wn,Yn,Un,mn,xn,0),Fa(mn,xn,1,Un,1,0);break;case yc:ta(wn,Yn,Un,mn,xn);break;case Sc:ta(wn,Yn,Un,mn,xn),no(mn,xn,Un,1,0);break;case yl:ua(wn,Yn,Un,mn,xn);break;default:r(0)}Ki+=Ji,pn+=On}vi.Ma+=Wi}else alert("todo:EmitRescaledRowsYUVA");r(vi.Ma<=Ni.height)}}vi.C=Ti,r(vi.C<=vi.i)}function hr(vi){var Ti;if(0<vi.ua)return 0;for(Ti=0;Ti<vi.Wb;++Ti){var Ni=vi.Ya[Ti].G,Bi=vi.Ya[Ti].H;if(0<Ni[1][Bi[1]+0].g||0<Ni[2][Bi[2]+0].g||0<Ni[3][Bi[3]+0].g)return 0}return 1}function or(vi,Ti,Ni,Bi,Hi,Wi){if(vi.Z!=0){var Gi=vi.qd,Ki=vi.rd;for(r(Pa[vi.Z]!=null);Ti<Ni;++Ti)Pa[vi.Z](Gi,Ki,Bi,Hi,Bi,Hi,Wi),Gi=Bi,Ki=Hi,Hi+=Wi;vi.qd=Gi,vi.rd=Ki}}function dr(vi,Ti){var Ni=vi.l.ma,Bi=Ni.Z==0||Ni.Z==1?vi.l.j:vi.C;if(Bi=vi.C<Bi?Bi:vi.C,r(Ti<=vi.l.o),Ti>Bi){var Hi=vi.l.width,Wi=Ni.ca,Gi=Ni.tb+Hi*Bi,Ki=vi.V,Ji=vi.Ba+vi.c*Bi,sn=vi.gc;r(vi.ab==1),r(sn[0].hc==3),mc(sn[0],Bi,Ti,Ki,Ji,Wi,Gi),or(Ni,Bi,Ti,Wi,Gi,Hi)}vi.C=vi.Ma=Ti}function nr(vi,Ti,Ni,Bi,Hi,Wi,Gi){var Ki=vi.$/Bi,Ji=vi.$%Bi,sn=vi.m,pn=vi.s,On=Ni+vi.$,In=On;Hi=Ni+Bi*Hi;var wn=Ni+Bi*Wi,Yn=280+pn.ua,Un=vi.Pb?Ki:16777216,mn=0<pn.ua?pn.Wa:null,xn=pn.wc,zn=On<wn?Mn(pn,Ji,Ki):null;r(vi.C<Wi),r(wn<=Hi);var Qn=!1;e:for(;;){for(;Qn||On<wn;){var qn=0;if(Ki>=Un){var vr=On-Ni;r((Un=vi).Pb),Un.wd=Un.m,Un.xd=vr,0<Un.s.ua&&pi(Un.s.Wa,Un.s.vb),Un=Ki+j0}if(Ji&xn||(zn=Mn(pn,Ji,Ki)),r(zn!=null),zn.Qb&&(Ti[On]=zn.qb,Qn=!0),!Qn)if(ti(sn),zn.jc){qn=sn,vr=Ti;var cr=On,Fr=zn.pd[Ke(qn)&As-1];r(zn.jc),256>Fr.g?(Ue(qn,qn.u+Fr.g),vr[cr]=Fr.value,qn=0):(Ue(qn,qn.u+Fr.g-256),r(256<=Fr.value),qn=Fr.value),qn==0&&(Qn=!0)}else qn=Wn(zn.G[0],zn.H[0],sn);if(sn.h)break;if(Qn||256>qn){if(!Qn)if(zn.nd)Ti[On]=(zn.qb|qn<<8)>>>0;else{if(ti(sn),Qn=Wn(zn.G[1],zn.H[1],sn),ti(sn),vr=Wn(zn.G[2],zn.H[2],sn),cr=Wn(zn.G[3],zn.H[3],sn),sn.h)break;Ti[On]=(cr<<24|Qn<<16|qn<<8|vr)>>>0}if(Qn=!1,++On,++Ji>=Bi&&(Ji=0,++Ki,Gi!=null&&Ki<=Wi&&!(Ki%16)&&Gi(vi,Ki),mn!=null))for(;In<On;)qn=Ti[In++],mn.X[(506832829*qn&4294967295)>>>mn.Mb]=qn}else if(280>qn){if(qn=Xn(qn-256,sn),vr=Wn(zn.G[4],zn.H[4],sn),ti(sn),vr=Rn(Bi,vr=Xn(vr,sn)),sn.h)break;if(On-Ni<vr||Hi-On<qn)break e;for(cr=0;cr<qn;++cr)Ti[On+cr]=Ti[On+cr-vr];for(On+=qn,Ji+=qn;Ji>=Bi;)Ji-=Bi,++Ki,Gi!=null&&Ki<=Wi&&!(Ki%16)&&Gi(vi,Ki);if(r(On<=Hi),Ji&xn&&(zn=Mn(pn,Ji,Ki)),mn!=null)for(;In<On;)qn=Ti[In++],mn.X[(506832829*qn&4294967295)>>>mn.Mb]=qn}else{if(!(qn<Yn))break e;for(Qn=qn-280,r(mn!=null);In<On;)qn=Ti[In++],mn.X[(506832829*qn&4294967295)>>>mn.Mb]=qn;qn=On,r(!(Qn>>>(vr=mn).Xa)),Ti[qn]=vr.X[Qn],Qn=!0}Qn||r(sn.h==Ve(sn))}if(vi.Pb&&sn.h&&On<Hi)r(vi.m.h),vi.a=5,vi.m=vi.wd,vi.$=vi.xd,0<vi.s.ua&&pi(vi.s.vb,vi.s.Wa);else{if(sn.h)break e;Gi!=null&&Gi(vi,Ki>Wi?Wi:Ki),vi.a=0,vi.$=On-Ni}return 1}return vi.a=3,0}function Lr(vi){r(vi!=null),vi.vc=null,vi.yc=null,vi.Ya=null;var Ti=vi.Wa;Ti!=null&&(Ti.X=null),vi.vb=null,r(vi!=null)}function An(){var vi=new gc;return vi==null?null:(vi.a=0,vi.xb=Sl,Ri("Predictor","VP8LPredictors"),Ri("Predictor","VP8LPredictors_C"),Ri("PredictorAdd","VP8LPredictorsAdd"),Ri("PredictorAdd","VP8LPredictorsAdd_C"),Bo=Di,Ms=Mi,qs=Xi,Ca=rn,ta=tn,ua=on,eo=fn,Xe.VP8LMapColor32b=So,Xe.VP8LMapColor8b=bc,vi)}function kn(vi,Ti,Ni,Bi,Hi){var Wi=1,Gi=[vi],Ki=[Ti],Ji=Bi.m,sn=Bi.s,pn=null,On=0;e:for(;;){if(Ni)for(;Wi&&si(Ji,1);){var In=Gi,wn=Ki,Yn=Bi,Un=1,mn=Yn.m,xn=Yn.gc[Yn.ab],zn=si(mn,2);if(Yn.Oc&1<<zn)Wi=0;else{switch(Yn.Oc|=1<<zn,xn.hc=zn,xn.Ea=In[0],xn.nc=wn[0],xn.K=[null],++Yn.ab,r(4>=Yn.ab),zn){case 0:case 1:xn.b=si(mn,3)+2,Un=kn(di(xn.Ea,xn.b),di(xn.nc,xn.b),0,Yn,xn.K),xn.K=xn.K[0];break;case 3:var Qn,qn=si(mn,8)+1,vr=16<qn?0:4<qn?1:2<qn?2:3;if(In[0]=di(xn.Ea,vr),xn.b=vr,Qn=Un=kn(qn,1,0,Yn,xn.K)){var cr,Fr=qn,ur=xn,zr=1<<(8>>ur.b),Wr=Je(zr);if(Wr==null)Qn=0;else{var Vr=ur.K[0],Ur=ur.w;for(Wr[0]=ur.K[0][0],cr=1;cr<1*Fr;++cr)Wr[cr]=bi(Vr[Ur+cr],Wr[cr-1]);for(;cr<4*zr;++cr)Wr[cr]=0;ur.K[0]=null,ur.K[0]=Wr,Qn=1}}Un=Qn;break;case 2:break;default:r(0)}Wi=Un}}if(Gi=Gi[0],Ki=Ki[0],Wi&&si(Ji,1)&&!(Wi=1<=(On=si(Ji,4))&&11>=On)){Bi.a=3;break e}var Kr;if(Kr=Wi)t:{var Yr,Dr,ls,Cs=Bi,us=Gi,Es=Ki,Gr=On,Ps=Ni,Os=Cs.m,ps=Cs.s,bs=[null],Ss=1,Us=0,ia=B0[Gr];i:for(;;){if(Ps&&si(Os,1)){var ms=si(Os,3)+2,pa=di(us,ms),Wa=di(Es,ms),ro=pa*Wa;if(!kn(pa,Wa,0,Cs,bs))break i;for(bs=bs[0],ps.xc=ms,Yr=0;Yr<ro;++Yr){var Oa=bs[Yr]>>8&65535;bs[Yr]=Oa,Oa>=Ss&&(Ss=Oa+1)}}if(Os.h)break i;for(Dr=0;5>Dr;++Dr){var is=vl[Dr];!Dr&&0<Gr&&(is+=1<<Gr),Us<is&&(Us=is)}var Ec=ii(Ss*ia,gi),Ol=Ss,Il=ii(Ol,ui);if(Il==null)var Yo=null;else r(65536>=Ol),Yo=Il;var To=Je(Us);if(Yo==null||To==null||Ec==null){Cs.a=1;break i}var Ko=Ec;for(Yr=ls=0;Yr<Ss;++Yr){var Zs=Yo[Yr],so=Zs.G,ao=Zs.H,Ll=0,Jo=1,Nl=0;for(Dr=0;5>Dr;++Dr){is=vl[Dr],so[Dr]=Ko,ao[Dr]=ls,!Dr&&0<Gr&&(is+=1<<Gr);r:{var Zo,Tc=is,Qo=Cs,Fo=To,su=Ko,au=ls,Fc=0,Ia=Qo.m,ou=si(Ia,1);if(Ge(Fo,0,0,Tc),ou){var cu=si(Ia,1)+1,lu=si(Ia,1),Dl=si(Ia,lu==0?1:8);Fo[Dl]=1,cu==2&&(Fo[Dl=si(Ia,8)]=1);var ec=1}else{var Ml=Je(19),Rl=si(Ia,4)+4;if(19<Rl){Qo.a=3;var tc=0;break r}for(Zo=0;Zo<Rl;++Zo)Ml[M0[Zo]]=si(Ia,3);var kc=void 0,ko=void 0,Bl=Qo,uu=Ml,ic=Tc,jl=Fo,Pc=0,La=Bl.m,Ul=8,$l=ii(128,gi);n:for(;Ye($l,0,7,uu,19);){if(si(La,1)){var hu=2+2*si(La,3);if((kc=2+si(La,hu))>ic)break n}else kc=ic;for(ko=0;ko<ic&&kc--;){ti(La);var Hl=$l[0+(127&Ke(La))];Ue(La,La.u+Hl.g);var oo=Hl.value;if(16>oo)jl[ko++]=oo,oo!=0&&(Ul=oo);else{var fu=oo==16,Vl=oo-16,du=N0[Vl],Xl=si(La,L0[Vl])+du;if(ko+Xl>ic)break n;for(var gu=fu?Ul:0;0<Xl--;)jl[ko++]=gu}}Pc=1;break n}Pc||(Bl.a=3),ec=Pc}(ec=ec&&!Ia.h)&&(Fc=Ye(su,au,8,Fo,Tc)),ec&&Fc!=0?tc=Fc:(Qo.a=3,tc=0)}if(tc==0)break i;if(Jo&&D0[Dr]==1&&(Jo=Ko[ls].g==0),Ll+=Ko[ls].g,ls+=tc,3>=Dr){var Po,Oc=To[0];for(Po=1;Po<is;++Po)To[Po]>Oc&&(Oc=To[Po]);Nl+=Oc}}if(Zs.nd=Jo,Zs.Qb=0,Jo&&(Zs.qb=(so[3][ao[3]+0].value<<24|so[1][ao[1]+0].value<<16|so[2][ao[2]+0].value)>>>0,Ll==0&&256>so[0][ao[0]+0].value&&(Zs.Qb=1,Zs.qb+=so[0][ao[0]+0].value<<8)),Zs.jc=!Zs.Qb&&6>Nl,Zs.jc){var nc,ma=Zs;for(nc=0;nc<As;++nc){var Na=nc,Da=ma.pd[Na],rc=ma.G[0][ma.H[0]+Na];256<=rc.value?(Da.g=rc.g+256,Da.value=rc.value):(Da.g=0,Da.value=0,Na>>=Kn(rc,8,Da),Na>>=Kn(ma.G[1][ma.H[1]+Na],16,Da),Na>>=Kn(ma.G[2][ma.H[2]+Na],0,Da),Kn(ma.G[3][ma.H[3]+Na],24,Da))}}}ps.vc=bs,ps.Wb=Ss,ps.Ya=Yo,ps.yc=Ec,Kr=1;break t}Kr=0}if(!(Wi=Kr)){Bi.a=3;break e}if(0<On){if(sn.ua=1<<On,!li(sn.Wa,On)){Bi.a=1,Wi=0;break e}}else sn.ua=0;var Ic=Bi,zl=Gi,pu=Ki,Lc=Ic.s,Nc=Lc.xc;if(Ic.c=zl,Ic.i=pu,Lc.md=di(zl,Nc),Lc.wc=Nc==0?-1:(1<<Nc)-1,Ni){Bi.xb=W0;break e}if((pn=Je(Gi*Ki))==null){Bi.a=1,Wi=0;break e}Wi=(Wi=nr(Bi,pn,0,Gi,Ki,Ki,null))&&!Ji.h;break e}return Wi?(Hi!=null?Hi[0]=pn:(r(pn==null),r(Ni)),Bi.$=0,Ni||Lr(sn)):Lr(sn),Wi}function Ln(vi,Ti){var Ni=vi.c*vi.i,Bi=Ni+Ti+16*Ti;return r(vi.c<=Ti),vi.V=Je(Bi),vi.V==null?(vi.Ta=null,vi.Ua=0,vi.a=1,0):(vi.Ta=vi.V,vi.Ua=vi.Ba+Ni+Ti,1)}function jn(vi,Ti){var Ni=vi.C,Bi=Ti-Ni,Hi=vi.V,Wi=vi.Ba+vi.c*Ni;for(r(Ti<=vi.l.o);0<Bi;){var Gi=16<Bi?16:Bi,Ki=vi.l.ma,Ji=vi.l.width,sn=Ji*Gi,pn=Ki.ca,On=Ki.tb+Ji*Ni,In=vi.Ta,wn=vi.Ua;er(vi,Gi,Hi,Wi),hl(In,wn,pn,On,sn),or(Ki,Ni,Ni+Gi,pn,On,Ji),Bi-=Gi,Hi+=Gi*vi.c,Ni+=Gi}r(Ni==Ti),vi.C=vi.Ma=Ti}function Gn(){this.ub=this.yd=this.td=this.Rb=0}function sr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ir(){this.Fb=this.Bb=this.Cb=0,this.Zb=Je(4),this.Lb=Je(4)}function Bn(){this.Yb=function(){var vi=[];return function Ti(Ni,Bi,Hi){for(var Wi=Hi[Bi],Gi=0;Gi<Wi&&(Ni.push(Hi.length>Bi+1?[]:0),!(Hi.length<Bi+1));Gi++)Ti(Ni[Gi],Bi+1,Hi)}(vi,0,[3,11]),vi}()}function gr(){this.jb=Je(3),this.Wc=Se([4,8],Bn),this.Xc=Se([4,17],Bn)}function rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Je(4),this.od=new Je(4)}function pr(){this.ld=this.La=this.dd=this.tc=0}function xr(){this.Na=this.la=0}function mr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function un(){this.ad=Je(384),this.Za=0,this.Ob=Je(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bn(){this.uc=this.M=this.Nb=0,this.wa=Array(new pr),this.Y=0,this.ya=Array(new un),this.aa=0,this.l=new Jn}function Pn(){this.y=Je(16),this.f=Je(8),this.ea=Je(8)}function Tn(){this.cb=this.a=0,this.sc="",this.m=new ni,this.Od=new Gn,this.Kc=new sr,this.ed=new rr,this.Qa=new ir,this.Ic=this.$c=this.Aa=0,this.D=new bn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ii(8,ni),this.ia=0,this.pb=ii(4,mr),this.Pa=new gr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pn),this.Hd=0,this.rb=Array(new xr),this.sb=0,this.wa=Array(new pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new un),this.L=this.aa=0,this.gd=Se([4,2],pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yr(){var vi=new Tn;return vi!=null&&(vi.a=0,vi.sc="OK",vi.cb=0,vi.Xb=0,Co||(Co=Rr)),vi}function Er(vi,Ti,Ni){return vi.a==0&&(vi.a=Ti,vi.sc=Ni,vi.cb=0),0}function wr(vi,Ti,Ni){return 3<=Ni&&vi[Ti+0]==157&&vi[Ti+1]==1&&vi[Ti+2]==42}function Sr(vi,Ti){if(vi==null)return 0;if(vi.a=0,vi.sc="OK",Ti==null)return Er(vi,2,"null VP8Io passed to VP8GetHeaders()");var Ni=Ti.data,Bi=Ti.w,Hi=Ti.ha;if(4>Hi)return Er(vi,7,"Truncated header.");var Wi=Ni[Bi+0]|Ni[Bi+1]<<8|Ni[Bi+2]<<16,Gi=vi.Od;if(Gi.Rb=!(1&Wi),Gi.td=Wi>>1&7,Gi.yd=Wi>>4&1,Gi.ub=Wi>>5,3<Gi.td)return Er(vi,3,"Incorrect keyframe parameters.");if(!Gi.yd)return Er(vi,4,"Frame not displayable.");Bi+=3,Hi-=3;var Ki=vi.Kc;if(Gi.Rb){if(7>Hi)return Er(vi,7,"cannot parse picture header");if(!wr(Ni,Bi,Hi))return Er(vi,3,"Bad code word");Ki.c=16383&(Ni[Bi+4]<<8|Ni[Bi+3]),Ki.Td=Ni[Bi+4]>>6,Ki.i=16383&(Ni[Bi+6]<<8|Ni[Bi+5]),Ki.Ud=Ni[Bi+6]>>6,Bi+=7,Hi-=7,vi.za=Ki.c+15>>4,vi.Ub=Ki.i+15>>4,Ti.width=Ki.c,Ti.height=Ki.i,Ti.Da=0,Ti.j=0,Ti.v=0,Ti.va=Ti.width,Ti.o=Ti.height,Ti.da=0,Ti.ib=Ti.width,Ti.hb=Ti.height,Ti.U=Ti.width,Ti.T=Ti.height,Ge((Wi=vi.Pa).jb,0,255,Wi.jb.length),r((Wi=vi.Qa)!=null),Wi.Cb=0,Wi.Bb=0,Wi.Fb=1,Ge(Wi.Zb,0,0,Wi.Zb.length),Ge(Wi.Lb,0,0,Wi.Lb)}if(Gi.ub>Hi)return Er(vi,7,"bad partition length");Qe(Wi=vi.m,Ni,Bi,Gi.ub),Bi+=Gi.ub,Hi-=Gi.ub,Gi.Rb&&(Ki.Ld=yi(Wi),Ki.Kd=yi(Wi)),Ki=vi.Qa;var Ji,sn=vi.Pa;if(r(Wi!=null),r(Ki!=null),Ki.Cb=yi(Wi),Ki.Cb){if(Ki.Bb=yi(Wi),yi(Wi)){for(Ki.Fb=yi(Wi),Ji=0;4>Ji;++Ji)Ki.Zb[Ji]=yi(Wi)?ci(Wi,7):0;for(Ji=0;4>Ji;++Ji)Ki.Lb[Ji]=yi(Wi)?ci(Wi,6):0}if(Ki.Bb)for(Ji=0;3>Ji;++Ji)sn.jb[Ji]=yi(Wi)?Ze(Wi,8):255}else Ki.Bb=0;if(Wi.Ka)return Er(vi,3,"cannot parse segment header");if((Ki=vi.ed).zd=yi(Wi),Ki.Tb=Ze(Wi,6),Ki.wb=Ze(Wi,3),Ki.Pc=yi(Wi),Ki.Pc&&yi(Wi)){for(sn=0;4>sn;++sn)yi(Wi)&&(Ki.vd[sn]=ci(Wi,6));for(sn=0;4>sn;++sn)yi(Wi)&&(Ki.od[sn]=ci(Wi,6))}if(vi.L=Ki.Tb==0?0:Ki.zd?1:2,Wi.Ka)return Er(vi,3,"cannot parse filter header");var pn=Hi;if(Hi=Ji=Bi,Bi=Ji+pn,Ki=pn,vi.Xb=(1<<Ze(vi.m,2))-1,pn<3*(sn=vi.Xb))Ni=7;else{for(Ji+=3*sn,Ki-=3*sn,pn=0;pn<sn;++pn){var On=Ni[Hi+0]|Ni[Hi+1]<<8|Ni[Hi+2]<<16;On>Ki&&(On=Ki),Qe(vi.Jc[+pn],Ni,Ji,On),Ji+=On,Ki-=On,Hi+=3}Qe(vi.Jc[+sn],Ni,Ji,Ki),Ni=Ji<Bi?0:5}if(Ni!=0)return Er(vi,Ni,"cannot parse partitions");for(Ni=Ze(Ji=vi.m,7),Hi=yi(Ji)?ci(Ji,4):0,Bi=yi(Ji)?ci(Ji,4):0,Ki=yi(Ji)?ci(Ji,4):0,sn=yi(Ji)?ci(Ji,4):0,Ji=yi(Ji)?ci(Ji,4):0,pn=vi.Qa,On=0;4>On;++On){if(pn.Cb){var In=pn.Zb[On];pn.Fb||(In+=Ni)}else{if(0<On){vi.pb[On]=vi.pb[0];continue}In=Ni}var wn=vi.pb[On];wn.Sc[0]=Ac[Fs(In+Hi,127)],wn.Sc[1]=_c[Fs(In+0,127)],wn.Eb[0]=2*Ac[Fs(In+Bi,127)],wn.Eb[1]=101581*_c[Fs(In+Ki,127)]>>16,8>wn.Eb[1]&&(wn.Eb[1]=8),wn.Qc[0]=Ac[Fs(In+sn,117)],wn.Qc[1]=_c[Fs(In+Ji,127)],wn.lc=In+Ji}if(!Gi.Rb)return Er(vi,4,"Not a key frame.");for(yi(Wi),Gi=vi.Pa,Ni=0;4>Ni;++Ni){for(Hi=0;8>Hi;++Hi)for(Bi=0;3>Bi;++Bi)for(Ki=0;11>Ki;++Ki)sn=wi(Wi,X0[Ni][Hi][Bi][Ki])?Ze(Wi,8):H0[Ni][Hi][Bi][Ki],Gi.Wc[Ni][Hi].Yb[Bi][Ki]=sn;for(Hi=0;17>Hi;++Hi)Gi.Xc[Ni][Hi]=Gi.Wc[Ni][z0[Hi]]}return vi.kc=yi(Wi),vi.kc&&(vi.Bd=Ze(Wi,8)),vi.cb=1}function Rr(vi,Ti,Ni,Bi,Hi,Wi,Gi){var Ki=Ti[Hi].Yb[Ni];for(Ni=0;16>Hi;++Hi){if(!wi(vi,Ki[Ni+0]))return Hi;for(;!wi(vi,Ki[Ni+1]);)if(Ki=Ti[++Hi].Yb[0],Ni=0,Hi==16)return 16;var Ji=Ti[Hi+1].Yb;if(wi(vi,Ki[Ni+2])){var sn=vi,pn=0;if(wi(sn,(In=Ki)[(On=Ni)+3]))if(wi(sn,In[On+6])){for(Ki=0,On=2*(pn=wi(sn,In[On+8]))+(In=wi(sn,In[On+9+pn])),pn=0,In=U0[On];In[Ki];++Ki)pn+=pn+wi(sn,In[Ki]);pn+=3+(8<<On)}else wi(sn,In[On+7])?(pn=7+2*wi(sn,165),pn+=wi(sn,145)):pn=5+wi(sn,159);else pn=wi(sn,In[On+4])?3+wi(sn,In[On+5]):2;Ki=Ji[2]}else pn=1,Ki=Ji[1];Ji=Gi+$0[Hi],0>(sn=vi).b&&hi(sn);var On,In=sn.b,wn=(On=sn.Ca>>1)-(sn.I>>In)>>31;--sn.b,sn.Ca+=wn,sn.Ca|=1,sn.I-=(On+1&wn)<<In,Wi[Ji]=((pn^wn)-wn)*Bi[(0<Hi)+0]}return 16}function qr(vi){var Ti=vi.rb[vi.sb-1];Ti.la=0,Ti.Na=0,Ge(vi.zc,0,0,vi.zc.length),vi.ja=0}function vs(vi,Ti){if(vi==null)return 0;if(Ti==null)return Er(vi,2,"NULL VP8Io parameter in VP8Decode().");if(!vi.cb&&!Sr(vi,Ti))return 0;if(r(vi.cb),Ti.ac==null||Ti.ac(Ti)){Ti.ob&&(vi.L=0);var Ni=qo[vi.L];if(vi.L==2?(vi.yb=0,vi.zb=0):(vi.yb=Ti.v-Ni>>4,vi.zb=Ti.j-Ni>>4,0>vi.yb&&(vi.yb=0),0>vi.zb&&(vi.zb=0)),vi.Va=Ti.o+15+Ni>>4,vi.Hb=Ti.va+15+Ni>>4,vi.Hb>vi.za&&(vi.Hb=vi.za),vi.Va>vi.Ub&&(vi.Va=vi.Ub),0<vi.L){var Bi=vi.ed;for(Ni=0;4>Ni;++Ni){var Hi;if(vi.Qa.Cb){var Wi=vi.Qa.Lb[Ni];vi.Qa.Fb||(Wi+=Bi.Tb)}else Wi=Bi.Tb;for(Hi=0;1>=Hi;++Hi){var Gi=vi.gd[Ni][Hi],Ki=Wi;if(Bi.Pc&&(Ki+=Bi.vd[0],Hi&&(Ki+=Bi.od[0])),0<(Ki=0>Ki?0:63<Ki?63:Ki)){var Ji=Ki;0<Bi.wb&&(Ji=4<Bi.wb?Ji>>2:Ji>>1)>9-Bi.wb&&(Ji=9-Bi.wb),1>Ji&&(Ji=1),Gi.dd=Ji,Gi.tc=2*Ki+Ji,Gi.ld=40<=Ki?2:15<=Ki?1:0}else Gi.tc=0;Gi.La=Hi}}}Ni=0}else Er(vi,6,"Frame setup failed"),Ni=vi.a;if(Ni=Ni==0){if(Ni){vi.$c=0,0<vi.Aa||(vi.Ic=ru);e:{Ni=vi.Ic,Bi=4*(Ji=vi.za);var sn=32*Ji,pn=Ji+1,On=0<vi.L?Ji*(0<vi.Aa?2:1):0,In=(vi.Aa==2?2:1)*Ji;if((Gi=Bi+832+(Hi=3*(16*Ni+qo[vi.L])/2*sn)+(Wi=vi.Fa!=null&&0<vi.Fa.length?vi.Kc.c*vi.Kc.i:0))!=Gi)Ni=0;else{if(Gi>vi.Vb){if(vi.Vb=0,vi.Ec=Je(Gi),vi.Fc=0,vi.Ec==null){Ni=Er(vi,1,"no memory during frame initialization.");break e}vi.Vb=Gi}Gi=vi.Ec,Ki=vi.Fc,vi.Ac=Gi,vi.Bc=Ki,Ki+=Bi,vi.Gd=ii(sn,Pn),vi.Hd=0,vi.rb=ii(pn+1,xr),vi.sb=1,vi.wa=On?ii(On,pr):null,vi.Y=0,vi.D.Nb=0,vi.D.wa=vi.wa,vi.D.Y=vi.Y,0<vi.Aa&&(vi.D.Y+=Ji),r(!0),vi.oc=Gi,vi.pc=Ki,Ki+=832,vi.ya=ii(In,un),vi.aa=0,vi.D.ya=vi.ya,vi.D.aa=vi.aa,vi.Aa==2&&(vi.D.aa+=Ji),vi.R=16*Ji,vi.B=8*Ji,Ji=(sn=qo[vi.L])*vi.R,sn=sn/2*vi.B,vi.sa=Gi,vi.ta=Ki+Ji,vi.qa=vi.sa,vi.ra=vi.ta+16*Ni*vi.R+sn,vi.Ha=vi.qa,vi.Ia=vi.ra+8*Ni*vi.B+sn,vi.$c=0,Ki+=Hi,vi.mb=Wi?Gi:null,vi.nb=Wi?Ki:null,r(Ki+Wi<=vi.Fc+vi.Vb),qr(vi),Ge(vi.Ac,vi.Bc,0,Bi),Ni=1}}if(Ni){if(Ti.ka=0,Ti.y=vi.sa,Ti.O=vi.ta,Ti.f=vi.qa,Ti.N=vi.ra,Ti.ea=vi.Ha,Ti.Vd=vi.Ia,Ti.fa=vi.R,Ti.Rc=vi.B,Ti.F=null,Ti.J=0,!bl){for(Ni=-255;255>=Ni;++Ni)dl[255+Ni]=0>Ni?-Ni:Ni;for(Ni=-1020;1020>=Ni;++Ni)gl[1020+Ni]=-128>Ni?-128:127<Ni?127:Ni;for(Ni=-112;112>=Ni;++Ni)pl[112+Ni]=-16>Ni?-16:15<Ni?15:Ni;for(Ni=-255;510>=Ni;++Ni)ml[255+Ni]=0>Ni?0:255<Ni?255:Ni;bl=1}Ys=Ba,to=Ma,Ea=ba,Ks=Ra,ha=xa,Ao=sa,Xa=ss,io=kr,za=as,Ta=Xs,_o=Ns,Rs=ds,fa=Ds,Jr=Ga,Zr=Xr,os=jr,hs=_r,da=Qr,Js[0]=xs,Js[1]=ya,Js[2]=$a,Js[3]=Ha,Js[4]=wa,Js[5]=ea,Js[6]=Vs,Js[7]=Ls,Js[8]=ei,Js[9]=vn,ka[0]=ca,ka[1]=ja,ka[2]=Ts,ka[3]=Qs,ka[4]=rs,ka[5]=Ua,ka[6]=va,ga[0]=$n,ga[1]=oa,ga[2]=Oi,ga[3]=dn,ga[4]=ar,ga[5]=lr,ga[6]=fr,Ni=1}else Ni=0}Ni&&(Ni=function(wn,Yn){for(wn.M=0;wn.M<wn.Va;++wn.M){var Un,mn=wn.Jc[wn.M&wn.Xb],xn=wn.m,zn=wn;for(Un=0;Un<zn.za;++Un){var Qn=xn,qn=zn,vr=qn.Ac,cr=qn.Bc+4*Un,Fr=qn.zc,ur=qn.ya[qn.aa+Un];if(qn.Qa.Bb?ur.$b=wi(Qn,qn.Pa.jb[0])?2+wi(Qn,qn.Pa.jb[2]):wi(Qn,qn.Pa.jb[1]):ur.$b=0,qn.kc&&(ur.Ad=wi(Qn,qn.Bd)),ur.Za=!wi(Qn,145)+0,ur.Za){var zr=ur.Ob,Wr=0;for(qn=0;4>qn;++qn){var Vr,Ur=Fr[0+qn];for(Vr=0;4>Vr;++Vr){Ur=V0[vr[cr+Vr]][Ur];for(var Kr=wl[wi(Qn,Ur[0])];0<Kr;)Kr=wl[2*Kr+wi(Qn,Ur[Kr])];Ur=-Kr,vr[cr+Vr]=Ur}Re(zr,Wr,vr,cr,4),Wr+=4,Fr[0+qn]=Ur}}else Ur=wi(Qn,156)?wi(Qn,128)?1:3:wi(Qn,163)?2:0,ur.Ob[0]=Ur,Ge(vr,cr,Ur,4),Ge(Fr,0,Ur,4);ur.Dd=wi(Qn,142)?wi(Qn,114)?wi(Qn,183)?1:3:2:0}if(zn.m.Ka)return Er(wn,7,"Premature end-of-partition0 encountered.");for(;wn.ja<wn.za;++wn.ja){if(zn=mn,Qn=(xn=wn).rb[xn.sb-1],vr=xn.rb[xn.sb+xn.ja],Un=xn.ya[xn.aa+xn.ja],cr=xn.kc?Un.Ad:0)Qn.la=vr.la=0,Un.Za||(Qn.Na=vr.Na=0),Un.Hc=0,Un.Gc=0,Un.ia=0;else{var Yr,Dr;if(Qn=vr,vr=zn,cr=xn.Pa.Xc,Fr=xn.ya[xn.aa+xn.ja],ur=xn.pb[Fr.$b],qn=Fr.ad,zr=0,Wr=xn.rb[xn.sb-1],Ur=Vr=0,Ge(qn,zr,0,384),Fr.Za)var ls=0,Cs=cr[3];else{Kr=Je(16);var us=Qn.Na+Wr.Na;if(us=Co(vr,cr[1],us,ur.Eb,0,Kr,0),Qn.Na=Wr.Na=(0<us)+0,1<us)Ys(Kr,0,qn,zr);else{var Es=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)qn[zr+Kr]=Es}ls=1,Cs=cr[0]}var Gr=15&Qn.la,Ps=15&Wr.la;for(Kr=0;4>Kr;++Kr){var Os=1&Ps;for(Es=Dr=0;4>Es;++Es)Gr=Gr>>1|(Os=(us=Co(vr,Cs,us=Os+(1&Gr),ur.Sc,ls,qn,zr))>ls)<<7,Dr=Dr<<2|(3<us?3:1<us?2:qn[zr+0]!=0),zr+=16;Gr>>=4,Ps=Ps>>1|Os<<7,Vr=(Vr<<8|Dr)>>>0}for(Cs=Gr,ls=Ps>>4,Yr=0;4>Yr;Yr+=2){for(Dr=0,Gr=Qn.la>>4+Yr,Ps=Wr.la>>4+Yr,Kr=0;2>Kr;++Kr){for(Os=1&Ps,Es=0;2>Es;++Es)us=Os+(1&Gr),Gr=Gr>>1|(Os=0<(us=Co(vr,cr[2],us,ur.Qc,0,qn,zr)))<<3,Dr=Dr<<2|(3<us?3:1<us?2:qn[zr+0]!=0),zr+=16;Gr>>=2,Ps=Ps>>1|Os<<5}Ur|=Dr<<4*Yr,Cs|=Gr<<4<<Yr,ls|=(240&Ps)<<Yr}Qn.la=Cs,Wr.la=ls,Fr.Hc=Vr,Fr.Gc=Ur,Fr.ia=43690&Ur?0:ur.ia,cr=!(Vr|Ur)}if(0<xn.L&&(xn.wa[xn.Y+xn.ja]=xn.gd[Un.$b][Un.Za],xn.wa[xn.Y+xn.ja].La|=!cr),zn.Ka)return Er(wn,7,"Premature end-of-file encountered.")}if(qr(wn),xn=Yn,zn=1,Un=(mn=wn).D,Qn=0<mn.L&&mn.M>=mn.zb&&mn.M<=mn.Va,mn.Aa==0)e:{if(Un.M=mn.M,Un.uc=Qn,bo(mn,Un),zn=1,Un=(Dr=mn.D).Nb,Qn=(Ur=qo[mn.L])*mn.R,vr=Ur/2*mn.B,Kr=16*Un*mn.R,Es=8*Un*mn.B,cr=mn.sa,Fr=mn.ta-Qn+Kr,ur=mn.qa,qn=mn.ra-vr+Es,zr=mn.Ha,Wr=mn.Ia-vr+Es,Ps=(Gr=Dr.M)==0,Vr=Gr>=mn.Va-1,mn.Aa==2&&bo(mn,Dr),Dr.uc)for(Os=(us=mn).D.M,r(us.D.uc),Dr=us.yb;Dr<us.Hb;++Dr){ls=Dr,Cs=Os;var ps=(bs=(is=us).D).Nb;Yr=is.R;var bs=bs.wa[bs.Y+ls],Ss=is.sa,Us=is.ta+16*ps*Yr+16*ls,ia=bs.dd,ms=bs.tc;if(ms!=0)if(r(3<=ms),is.L==1)0<ls&&os(Ss,Us,Yr,ms+4),bs.La&&da(Ss,Us,Yr,ms),0<Cs&&Zr(Ss,Us,Yr,ms+4),bs.La&&hs(Ss,Us,Yr,ms);else{var pa=is.B,Wa=is.qa,ro=is.ra+8*ps*pa+8*ls,Oa=is.Ha,is=is.Ia+8*ps*pa+8*ls;ps=bs.ld,0<ls&&(io(Ss,Us,Yr,ms+4,ia,ps),Ta(Wa,ro,Oa,is,pa,ms+4,ia,ps)),bs.La&&(Rs(Ss,Us,Yr,ms,ia,ps),Jr(Wa,ro,Oa,is,pa,ms,ia,ps)),0<Cs&&(Xa(Ss,Us,Yr,ms+4,ia,ps),za(Wa,ro,Oa,is,pa,ms+4,ia,ps)),bs.La&&(_o(Ss,Us,Yr,ms,ia,ps),fa(Wa,ro,Oa,is,pa,ms,ia,ps))}}if(mn.ia&&alert("todo:DitherRow"),xn.put!=null){if(Dr=16*Gr,Gr=16*(Gr+1),Ps?(xn.y=mn.sa,xn.O=mn.ta+Kr,xn.f=mn.qa,xn.N=mn.ra+Es,xn.ea=mn.Ha,xn.W=mn.Ia+Es):(Dr-=Ur,xn.y=cr,xn.O=Fr,xn.f=ur,xn.N=qn,xn.ea=zr,xn.W=Wr),Vr||(Gr-=Ur),Gr>xn.o&&(Gr=xn.o),xn.F=null,xn.J=null,mn.Fa!=null&&0<mn.Fa.length&&Dr<Gr&&(xn.J=po(mn,xn,Dr,Gr-Dr),xn.F=mn.mb,xn.F==null&&xn.F.length==0)){zn=Er(mn,3,"Could not decode alpha data.");break e}Dr<xn.j&&(Ur=xn.j-Dr,Dr=xn.j,r(!(1&Ur)),xn.O+=mn.R*Ur,xn.N+=mn.B*(Ur>>1),xn.W+=mn.B*(Ur>>1),xn.F!=null&&(xn.J+=xn.width*Ur)),Dr<Gr&&(xn.O+=xn.v,xn.N+=xn.v>>1,xn.W+=xn.v>>1,xn.F!=null&&(xn.J+=xn.v),xn.ka=Dr-xn.j,xn.U=xn.va-xn.v,xn.T=Gr-Dr,zn=xn.put(xn))}Un+1!=mn.Ic||Vr||(Re(mn.sa,mn.ta-Qn,cr,Fr+16*mn.R,Qn),Re(mn.qa,mn.ra-vr,ur,qn+8*mn.B,vr),Re(mn.Ha,mn.Ia-vr,zr,Wr+8*mn.B,vr))}if(!zn)return Er(wn,6,"Output aborted.")}return 1}(vi,Ti)),Ti.bc!=null&&Ti.bc(Ti),Ni&=1}return Ni?(vi.cb=0,Ni):0}function ws(vi,Ti,Ni,Bi,Hi){Hi=vi[Ti+Ni+32*Bi]+(Hi>>3),vi[Ti+Ni+32*Bi]=-256&Hi?0>Hi?0:255:Hi}function Hs(vi,Ti,Ni,Bi,Hi,Wi){ws(vi,Ti,0,Ni,Bi+Hi),ws(vi,Ti,1,Ni,Bi+Wi),ws(vi,Ti,2,Ni,Bi-Wi),ws(vi,Ti,3,Ni,Bi-Hi)}function fs(vi){return(20091*vi>>16)+vi}function ra(vi,Ti,Ni,Bi){var Hi,Wi=0,Gi=Je(16);for(Hi=0;4>Hi;++Hi){var Ki=vi[Ti+0]+vi[Ti+8],Ji=vi[Ti+0]-vi[Ti+8],sn=(35468*vi[Ti+4]>>16)-fs(vi[Ti+12]),pn=fs(vi[Ti+4])+(35468*vi[Ti+12]>>16);Gi[Wi+0]=Ki+pn,Gi[Wi+1]=Ji+sn,Gi[Wi+2]=Ji-sn,Gi[Wi+3]=Ki-pn,Wi+=4,Ti++}for(Hi=Wi=0;4>Hi;++Hi)Ki=(vi=Gi[Wi+0]+4)+Gi[Wi+8],Ji=vi-Gi[Wi+8],sn=(35468*Gi[Wi+4]>>16)-fs(Gi[Wi+12]),ws(Ni,Bi,0,0,Ki+(pn=fs(Gi[Wi+4])+(35468*Gi[Wi+12]>>16))),ws(Ni,Bi,1,0,Ji+sn),ws(Ni,Bi,2,0,Ji-sn),ws(Ni,Bi,3,0,Ki-pn),Wi++,Bi+=32}function sa(vi,Ti,Ni,Bi){var Hi=vi[Ti+0]+4,Wi=35468*vi[Ti+4]>>16,Gi=fs(vi[Ti+4]),Ki=35468*vi[Ti+1]>>16;Hs(Ni,Bi,0,Hi+Gi,vi=fs(vi[Ti+1]),Ki),Hs(Ni,Bi,1,Hi+Wi,vi,Ki),Hs(Ni,Bi,2,Hi-Wi,vi,Ki),Hs(Ni,Bi,3,Hi-Gi,vi,Ki)}function Ma(vi,Ti,Ni,Bi,Hi){ra(vi,Ti,Ni,Bi),Hi&&ra(vi,Ti+16,Ni,Bi+4)}function ba(vi,Ti,Ni,Bi){to(vi,Ti+0,Ni,Bi,1),to(vi,Ti+32,Ni,Bi+128,1)}function Ra(vi,Ti,Ni,Bi){var Hi;for(vi=vi[Ti+0]+4,Hi=0;4>Hi;++Hi)for(Ti=0;4>Ti;++Ti)ws(Ni,Bi,Ti,Hi,vi)}function xa(vi,Ti,Ni,Bi){vi[Ti+0]&&Ks(vi,Ti+0,Ni,Bi),vi[Ti+16]&&Ks(vi,Ti+16,Ni,Bi+4),vi[Ti+32]&&Ks(vi,Ti+32,Ni,Bi+128),vi[Ti+48]&&Ks(vi,Ti+48,Ni,Bi+128+4)}function Ba(vi,Ti,Ni,Bi){var Hi,Wi=Je(16);for(Hi=0;4>Hi;++Hi){var Gi=vi[Ti+0+Hi]+vi[Ti+12+Hi],Ki=vi[Ti+4+Hi]+vi[Ti+8+Hi],Ji=vi[Ti+4+Hi]-vi[Ti+8+Hi],sn=vi[Ti+0+Hi]-vi[Ti+12+Hi];Wi[0+Hi]=Gi+Ki,Wi[8+Hi]=Gi-Ki,Wi[4+Hi]=sn+Ji,Wi[12+Hi]=sn-Ji}for(Hi=0;4>Hi;++Hi)Gi=(vi=Wi[0+4*Hi]+3)+Wi[3+4*Hi],Ki=Wi[1+4*Hi]+Wi[2+4*Hi],Ji=Wi[1+4*Hi]-Wi[2+4*Hi],sn=vi-Wi[3+4*Hi],Ni[Bi+0]=Gi+Ki>>3,Ni[Bi+16]=sn+Ji>>3,Ni[Bi+32]=Gi-Ki>>3,Ni[Bi+48]=sn-Ji>>3,Bi+=64}function aa(vi,Ti,Ni){var Bi,Hi=Ti-32,Wi=ks,Gi=255-vi[Hi-1];for(Bi=0;Bi<Ni;++Bi){var Ki,Ji=Wi,sn=Gi+vi[Ti-1];for(Ki=0;Ki<Ni;++Ki)vi[Ti+Ki]=Ji[sn+vi[Hi+Ki]];Ti+=32}}function ya(vi,Ti){aa(vi,Ti,4)}function oa(vi,Ti){aa(vi,Ti,8)}function ja(vi,Ti){aa(vi,Ti,16)}function Ts(vi,Ti){var Ni;for(Ni=0;16>Ni;++Ni)Re(vi,Ti+32*Ni,vi,Ti-32,16)}function Qs(vi,Ti){var Ni;for(Ni=16;0<Ni;--Ni)Ge(vi,Ti,vi[Ti-1],16),Ti+=32}function Is(vi,Ti,Ni){var Bi;for(Bi=0;16>Bi;++Bi)Ge(Ti,Ni+32*Bi,vi,16)}function ca(vi,Ti){var Ni,Bi=16;for(Ni=0;16>Ni;++Ni)Bi+=vi[Ti-1+32*Ni]+vi[Ti+Ni-32];Is(Bi>>5,vi,Ti)}function rs(vi,Ti){var Ni,Bi=8;for(Ni=0;16>Ni;++Ni)Bi+=vi[Ti-1+32*Ni];Is(Bi>>4,vi,Ti)}function Ua(vi,Ti){var Ni,Bi=8;for(Ni=0;16>Ni;++Ni)Bi+=vi[Ti+Ni-32];Is(Bi>>4,vi,Ti)}function va(vi,Ti){Is(128,vi,Ti)}function Pr(vi,Ti,Ni){return vi+2*Ti+Ni+2>>2}function $a(vi,Ti){var Ni,Bi=Ti-32;for(Bi=new Uint8Array([Pr(vi[Bi-1],vi[Bi+0],vi[Bi+1]),Pr(vi[Bi+0],vi[Bi+1],vi[Bi+2]),Pr(vi[Bi+1],vi[Bi+2],vi[Bi+3]),Pr(vi[Bi+2],vi[Bi+3],vi[Bi+4])]),Ni=0;4>Ni;++Ni)Re(vi,Ti+32*Ni,Bi,0,Bi.length)}function Ha(vi,Ti){var Ni=vi[Ti-1],Bi=vi[Ti-1+32],Hi=vi[Ti-1+64],Wi=vi[Ti-1+96];Ci(vi,Ti+0,16843009*Pr(vi[Ti-1-32],Ni,Bi)),Ci(vi,Ti+32,16843009*Pr(Ni,Bi,Hi)),Ci(vi,Ti+64,16843009*Pr(Bi,Hi,Wi)),Ci(vi,Ti+96,16843009*Pr(Hi,Wi,Wi))}function xs(vi,Ti){var Ni,Bi=4;for(Ni=0;4>Ni;++Ni)Bi+=vi[Ti+Ni-32]+vi[Ti-1+32*Ni];for(Bi>>=3,Ni=0;4>Ni;++Ni)Ge(vi,Ti+32*Ni,Bi,4)}function wa(vi,Ti){var Ni=vi[Ti-1+0],Bi=vi[Ti-1+32],Hi=vi[Ti-1+64],Wi=vi[Ti-1-32],Gi=vi[Ti+0-32],Ki=vi[Ti+1-32],Ji=vi[Ti+2-32],sn=vi[Ti+3-32];vi[Ti+0+96]=Pr(Bi,Hi,vi[Ti-1+96]),vi[Ti+1+96]=vi[Ti+0+64]=Pr(Ni,Bi,Hi),vi[Ti+2+96]=vi[Ti+1+64]=vi[Ti+0+32]=Pr(Wi,Ni,Bi),vi[Ti+3+96]=vi[Ti+2+64]=vi[Ti+1+32]=vi[Ti+0+0]=Pr(Gi,Wi,Ni),vi[Ti+3+64]=vi[Ti+2+32]=vi[Ti+1+0]=Pr(Ki,Gi,Wi),vi[Ti+3+32]=vi[Ti+2+0]=Pr(Ji,Ki,Gi),vi[Ti+3+0]=Pr(sn,Ji,Ki)}function Vs(vi,Ti){var Ni=vi[Ti+1-32],Bi=vi[Ti+2-32],Hi=vi[Ti+3-32],Wi=vi[Ti+4-32],Gi=vi[Ti+5-32],Ki=vi[Ti+6-32],Ji=vi[Ti+7-32];vi[Ti+0+0]=Pr(vi[Ti+0-32],Ni,Bi),vi[Ti+1+0]=vi[Ti+0+32]=Pr(Ni,Bi,Hi),vi[Ti+2+0]=vi[Ti+1+32]=vi[Ti+0+64]=Pr(Bi,Hi,Wi),vi[Ti+3+0]=vi[Ti+2+32]=vi[Ti+1+64]=vi[Ti+0+96]=Pr(Hi,Wi,Gi),vi[Ti+3+32]=vi[Ti+2+64]=vi[Ti+1+96]=Pr(Wi,Gi,Ki),vi[Ti+3+64]=vi[Ti+2+96]=Pr(Gi,Ki,Ji),vi[Ti+3+96]=Pr(Ki,Ji,Ji)}function ea(vi,Ti){var Ni=vi[Ti-1+0],Bi=vi[Ti-1+32],Hi=vi[Ti-1+64],Wi=vi[Ti-1-32],Gi=vi[Ti+0-32],Ki=vi[Ti+1-32],Ji=vi[Ti+2-32],sn=vi[Ti+3-32];vi[Ti+0+0]=vi[Ti+1+64]=Wi+Gi+1>>1,vi[Ti+1+0]=vi[Ti+2+64]=Gi+Ki+1>>1,vi[Ti+2+0]=vi[Ti+3+64]=Ki+Ji+1>>1,vi[Ti+3+0]=Ji+sn+1>>1,vi[Ti+0+96]=Pr(Hi,Bi,Ni),vi[Ti+0+64]=Pr(Bi,Ni,Wi),vi[Ti+0+32]=vi[Ti+1+96]=Pr(Ni,Wi,Gi),vi[Ti+1+32]=vi[Ti+2+96]=Pr(Wi,Gi,Ki),vi[Ti+2+32]=vi[Ti+3+96]=Pr(Gi,Ki,Ji),vi[Ti+3+32]=Pr(Ki,Ji,sn)}function Ls(vi,Ti){var Ni=vi[Ti+0-32],Bi=vi[Ti+1-32],Hi=vi[Ti+2-32],Wi=vi[Ti+3-32],Gi=vi[Ti+4-32],Ki=vi[Ti+5-32],Ji=vi[Ti+6-32],sn=vi[Ti+7-32];vi[Ti+0+0]=Ni+Bi+1>>1,vi[Ti+1+0]=vi[Ti+0+64]=Bi+Hi+1>>1,vi[Ti+2+0]=vi[Ti+1+64]=Hi+Wi+1>>1,vi[Ti+3+0]=vi[Ti+2+64]=Wi+Gi+1>>1,vi[Ti+0+32]=Pr(Ni,Bi,Hi),vi[Ti+1+32]=vi[Ti+0+96]=Pr(Bi,Hi,Wi),vi[Ti+2+32]=vi[Ti+1+96]=Pr(Hi,Wi,Gi),vi[Ti+3+32]=vi[Ti+2+96]=Pr(Wi,Gi,Ki),vi[Ti+3+64]=Pr(Gi,Ki,Ji),vi[Ti+3+96]=Pr(Ki,Ji,sn)}function vn(vi,Ti){var Ni=vi[Ti-1+0],Bi=vi[Ti-1+32],Hi=vi[Ti-1+64],Wi=vi[Ti-1+96];vi[Ti+0+0]=Ni+Bi+1>>1,vi[Ti+2+0]=vi[Ti+0+32]=Bi+Hi+1>>1,vi[Ti+2+32]=vi[Ti+0+64]=Hi+Wi+1>>1,vi[Ti+1+0]=Pr(Ni,Bi,Hi),vi[Ti+3+0]=vi[Ti+1+32]=Pr(Bi,Hi,Wi),vi[Ti+3+32]=vi[Ti+1+64]=Pr(Hi,Wi,Wi),vi[Ti+3+64]=vi[Ti+2+64]=vi[Ti+0+96]=vi[Ti+1+96]=vi[Ti+2+96]=vi[Ti+3+96]=Wi}function ei(vi,Ti){var Ni=vi[Ti-1+0],Bi=vi[Ti-1+32],Hi=vi[Ti-1+64],Wi=vi[Ti-1+96],Gi=vi[Ti-1-32],Ki=vi[Ti+0-32],Ji=vi[Ti+1-32],sn=vi[Ti+2-32];vi[Ti+0+0]=vi[Ti+2+32]=Ni+Gi+1>>1,vi[Ti+0+32]=vi[Ti+2+64]=Bi+Ni+1>>1,vi[Ti+0+64]=vi[Ti+2+96]=Hi+Bi+1>>1,vi[Ti+0+96]=Wi+Hi+1>>1,vi[Ti+3+0]=Pr(Ki,Ji,sn),vi[Ti+2+0]=Pr(Gi,Ki,Ji),vi[Ti+1+0]=vi[Ti+3+32]=Pr(Ni,Gi,Ki),vi[Ti+1+32]=vi[Ti+3+64]=Pr(Bi,Ni,Gi),vi[Ti+1+64]=vi[Ti+3+96]=Pr(Hi,Bi,Ni),vi[Ti+1+96]=Pr(Wi,Hi,Bi)}function Oi(vi,Ti){var Ni;for(Ni=0;8>Ni;++Ni)Re(vi,Ti+32*Ni,vi,Ti-32,8)}function dn(vi,Ti){var Ni;for(Ni=0;8>Ni;++Ni)Ge(vi,Ti,vi[Ti-1],8),Ti+=32}function _n(vi,Ti,Ni){var Bi;for(Bi=0;8>Bi;++Bi)Ge(Ti,Ni+32*Bi,vi,8)}function $n(vi,Ti){var Ni,Bi=8;for(Ni=0;8>Ni;++Ni)Bi+=vi[Ti+Ni-32]+vi[Ti-1+32*Ni];_n(Bi>>4,vi,Ti)}function lr(vi,Ti){var Ni,Bi=4;for(Ni=0;8>Ni;++Ni)Bi+=vi[Ti+Ni-32];_n(Bi>>3,vi,Ti)}function ar(vi,Ti){var Ni,Bi=4;for(Ni=0;8>Ni;++Ni)Bi+=vi[Ti-1+32*Ni];_n(Bi>>3,vi,Ti)}function fr(vi,Ti){_n(128,vi,Ti)}function Ar(vi,Ti,Ni){var Bi=vi[Ti-Ni],Hi=vi[Ti+0],Wi=3*(Hi-Bi)+xc[1020+vi[Ti-2*Ni]-vi[Ti+Ni]],Gi=Uo[112+(Wi+4>>3)];vi[Ti-Ni]=ks[255+Bi+Uo[112+(Wi+3>>3)]],vi[Ti+0]=ks[255+Hi-Gi]}function Ir(vi,Ti,Ni,Bi){var Hi=vi[Ti+0],Wi=vi[Ti+Ni];return Bs[255+vi[Ti-2*Ni]-vi[Ti-Ni]]>Bi||Bs[255+Wi-Hi]>Bi}function $r(vi,Ti,Ni,Bi){return 4*Bs[255+vi[Ti-Ni]-vi[Ti+0]]+Bs[255+vi[Ti-2*Ni]-vi[Ti+Ni]]<=Bi}function Br(vi,Ti,Ni,Bi,Hi){var Wi=vi[Ti-3*Ni],Gi=vi[Ti-2*Ni],Ki=vi[Ti-Ni],Ji=vi[Ti+0],sn=vi[Ti+Ni],pn=vi[Ti+2*Ni],On=vi[Ti+3*Ni];return 4*Bs[255+Ki-Ji]+Bs[255+Gi-sn]>Bi?0:Bs[255+vi[Ti-4*Ni]-Wi]<=Hi&&Bs[255+Wi-Gi]<=Hi&&Bs[255+Gi-Ki]<=Hi&&Bs[255+On-pn]<=Hi&&Bs[255+pn-sn]<=Hi&&Bs[255+sn-Ji]<=Hi}function Xr(vi,Ti,Ni,Bi){var Hi=2*Bi+1;for(Bi=0;16>Bi;++Bi)$r(vi,Ti+Bi,Ni,Hi)&&Ar(vi,Ti+Bi,Ni)}function jr(vi,Ti,Ni,Bi){var Hi=2*Bi+1;for(Bi=0;16>Bi;++Bi)$r(vi,Ti+Bi*Ni,1,Hi)&&Ar(vi,Ti+Bi*Ni,1)}function _r(vi,Ti,Ni,Bi){var Hi;for(Hi=3;0<Hi;--Hi)Xr(vi,Ti+=4*Ni,Ni,Bi)}function Qr(vi,Ti,Ni,Bi){var Hi;for(Hi=3;0<Hi;--Hi)jr(vi,Ti+=4,Ni,Bi)}function Cr(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){for(Wi=2*Wi+1;0<Hi--;){if(Br(vi,Ti,Ni,Wi,Gi))if(Ir(vi,Ti,Ni,Ki))Ar(vi,Ti,Ni);else{var Ji=vi,sn=Ti,pn=Ni,On=Ji[sn-2*pn],In=Ji[sn-pn],wn=Ji[sn+0],Yn=Ji[sn+pn],Un=Ji[sn+2*pn],mn=27*(zn=xc[1020+3*(wn-In)+xc[1020+On-Yn]])+63>>7,xn=18*zn+63>>7,zn=9*zn+63>>7;Ji[sn-3*pn]=ks[255+Ji[sn-3*pn]+zn],Ji[sn-2*pn]=ks[255+On+xn],Ji[sn-pn]=ks[255+In+mn],Ji[sn+0]=ks[255+wn-mn],Ji[sn+pn]=ks[255+Yn-xn],Ji[sn+2*pn]=ks[255+Un-zn]}Ti+=Bi}}function Or(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){for(Wi=2*Wi+1;0<Hi--;){if(Br(vi,Ti,Ni,Wi,Gi))if(Ir(vi,Ti,Ni,Ki))Ar(vi,Ti,Ni);else{var Ji=vi,sn=Ti,pn=Ni,On=Ji[sn-pn],In=Ji[sn+0],wn=Ji[sn+pn],Yn=Uo[112+((Un=3*(In-On))+4>>3)],Un=Uo[112+(Un+3>>3)],mn=Yn+1>>1;Ji[sn-2*pn]=ks[255+Ji[sn-2*pn]+mn],Ji[sn-pn]=ks[255+On+Un],Ji[sn+0]=ks[255+In-Yn],Ji[sn+pn]=ks[255+wn-mn]}Ti+=Bi}}function ss(vi,Ti,Ni,Bi,Hi,Wi){Cr(vi,Ti,Ni,1,16,Bi,Hi,Wi)}function kr(vi,Ti,Ni,Bi,Hi,Wi){Cr(vi,Ti,1,Ni,16,Bi,Hi,Wi)}function Ns(vi,Ti,Ni,Bi,Hi,Wi){var Gi;for(Gi=3;0<Gi;--Gi)Or(vi,Ti+=4*Ni,Ni,1,16,Bi,Hi,Wi)}function ds(vi,Ti,Ni,Bi,Hi,Wi){var Gi;for(Gi=3;0<Gi;--Gi)Or(vi,Ti+=4,1,Ni,16,Bi,Hi,Wi)}function as(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){Cr(vi,Ti,Hi,1,8,Wi,Gi,Ki),Cr(Ni,Bi,Hi,1,8,Wi,Gi,Ki)}function Xs(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){Cr(vi,Ti,1,Hi,8,Wi,Gi,Ki),Cr(Ni,Bi,1,Hi,8,Wi,Gi,Ki)}function Ds(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){Or(vi,Ti+4*Hi,Hi,1,8,Wi,Gi,Ki),Or(Ni,Bi+4*Hi,Hi,1,8,Wi,Gi,Ki)}function Ga(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){Or(vi,Ti+4,1,Hi,8,Wi,Gi,Ki),Or(Ni,Bi+4,1,Hi,8,Wi,Gi,Ki)}function zs(){this.ba=new nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mo(){this.ua=0,this.Wa=new ri,this.vb=new ri,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ui,this.yc=new gi}function gc(){this.xb=this.a=0,this.l=new Jn,this.ca=new nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $e,this.Pb=0,this.wd=new $e,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mo,this.ab=0,this.gc=ii(4,fo),this.Oc=0}function qa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Va(vi,Ti,Ni,Bi,Hi,Wi,Gi){for(vi=vi==null?0:vi[Ti+0],Ti=0;Ti<Gi;++Ti)Hi[Wi+Ti]=vi+Ni[Bi+Ti]&255,vi=Hi[Wi+Ti]}function go(vi,Ti,Ni,Bi,Hi,Wi,Gi){var Ki;if(vi==null)Va(null,null,Ni,Bi,Hi,Wi,Gi);else for(Ki=0;Ki<Gi;++Ki)Hi[Wi+Ki]=vi[Ti+Ki]+Ni[Bi+Ki]&255}function Sa(vi,Ti,Ni,Bi,Hi,Wi,Gi){if(vi==null)Va(null,null,Ni,Bi,Hi,Wi,Gi);else{var Ki,Ji=vi[Ti+0],sn=Ji,pn=Ji;for(Ki=0;Ki<Gi;++Ki)sn=pn+(Ji=vi[Ti+Ki])-sn,pn=Ni[Bi+Ki]+(-256&sn?0>sn?0:255:sn)&255,sn=Ji,Hi[Wi+Ki]=pn}}function po(vi,Ti,Ni,Bi){var Hi=Ti.width,Wi=Ti.o;if(r(vi!=null&&Ti!=null),0>Ni||0>=Bi||Ni+Bi>Wi)return null;if(!vi.Cc){if(vi.ga==null){var Gi;if(vi.ga=new qa,(Gi=vi.ga==null)||(Gi=Ti.width*Ti.o,r(vi.Gb.length==0),vi.Gb=Je(Gi),vi.Uc=0,vi.Gb==null?Gi=0:(vi.mb=vi.Gb,vi.nb=vi.Uc,vi.rc=null,Gi=1),Gi=!Gi),!Gi){Gi=vi.ga;var Ki=vi.Fa,Ji=vi.P,sn=vi.qc,pn=vi.mb,On=vi.nb,In=Ji+1,wn=sn-1,Yn=Gi.l;if(r(Ki!=null&&pn!=null&&Ti!=null),Pa[0]=null,Pa[1]=Va,Pa[2]=go,Pa[3]=Sa,Gi.ca=pn,Gi.tb=On,Gi.c=Ti.width,Gi.i=Ti.height,r(0<Gi.c&&0<Gi.i),1>=sn)Ti=0;else if(Gi.$a=Ki[Ji+0]>>0&3,Gi.Z=Ki[Ji+0]>>2&3,Gi.Lc=Ki[Ji+0]>>4&3,Ji=Ki[Ji+0]>>6&3,0>Gi.$a||1<Gi.$a||4<=Gi.Z||1<Gi.Lc||Ji)Ti=0;else if(Yn.put=Dn,Yn.ac=Nn,Yn.bc=hn,Yn.ma=Gi,Yn.width=Ti.width,Yn.height=Ti.height,Yn.Da=Ti.Da,Yn.v=Ti.v,Yn.va=Ti.va,Yn.j=Ti.j,Yn.o=Ti.o,Gi.$a)e:{r(Gi.$a==1),Ti=An();t:for(;;){if(Ti==null){Ti=0;break e}if(r(Gi!=null),Gi.mc=Ti,Ti.c=Gi.c,Ti.i=Gi.i,Ti.l=Gi.l,Ti.l.ma=Gi,Ti.l.width=Gi.c,Ti.l.height=Gi.i,Ti.a=0,ze(Ti.m,Ki,In,wn),!kn(Gi.c,Gi.i,1,Ti,null)||(Ti.ab==1&&Ti.gc[0].hc==3&&hr(Ti.s)?(Gi.ic=1,Ki=Ti.c*Ti.i,Ti.Ta=null,Ti.Ua=0,Ti.V=Je(Ki),Ti.Ba=0,Ti.V==null?(Ti.a=1,Ti=0):Ti=1):(Gi.ic=0,Ti=Ln(Ti,Gi.c)),!Ti))break t;Ti=1;break e}Gi.mc=null,Ti=0}else Ti=wn>=Gi.c*Gi.i;Gi=!Ti}if(Gi)return null;vi.ga.Lc!=1?vi.Ga=0:Bi=Wi-Ni}r(vi.ga!=null),r(Ni+Bi<=Wi);e:{if(Ti=(Ki=vi.ga).c,Wi=Ki.l.o,Ki.$a==0){if(In=vi.rc,wn=vi.Vc,Yn=vi.Fa,Ji=vi.P+1+Ni*Ti,sn=vi.mb,pn=vi.nb+Ni*Ti,r(Ji<=vi.P+vi.qc),Ki.Z!=0)for(r(Pa[Ki.Z]!=null),Gi=0;Gi<Bi;++Gi)Pa[Ki.Z](In,wn,Yn,Ji,sn,pn,Ti),In=sn,wn=pn,pn+=Ti,Ji+=Ti;else for(Gi=0;Gi<Bi;++Gi)Re(sn,pn,Yn,Ji,Ti),In=sn,wn=pn,pn+=Ti,Ji+=Ti;vi.rc=In,vi.Vc=wn}else{if(r(Ki.mc!=null),Ti=Ni+Bi,r((Gi=Ki.mc)!=null),r(Ti<=Gi.i),Gi.C>=Ti)Ti=1;else if(Ki.ic||En(),Ki.ic){Ki=Gi.V,In=Gi.Ba,wn=Gi.c;var Un=Gi.i,mn=(Yn=1,Ji=Gi.$/wn,sn=Gi.$%wn,pn=Gi.m,On=Gi.s,Gi.$),xn=wn*Un,zn=wn*Ti,Qn=On.wc,qn=mn<zn?Mn(On,sn,Ji):null;r(mn<=xn),r(Ti<=Un),r(hr(On));t:for(;;){for(;!pn.h&&mn<zn;){if(sn&Qn||(qn=Mn(On,sn,Ji)),r(qn!=null),ti(pn),256>(Un=Wn(qn.G[0],qn.H[0],pn)))Ki[In+mn]=Un,++mn,++sn>=wn&&(sn=0,++Ji<=Ti&&!(Ji%16)&&dr(Gi,Ji));else{if(!(280>Un)){Yn=0;break t}Un=Xn(Un-256,pn);var vr,cr=Wn(qn.G[4],qn.H[4],pn);if(ti(pn),!(mn>=(cr=Rn(wn,cr=Xn(cr,pn)))&&xn-mn>=Un)){Yn=0;break t}for(vr=0;vr<Un;++vr)Ki[In+mn+vr]=Ki[In+mn+vr-cr];for(mn+=Un,sn+=Un;sn>=wn;)sn-=wn,++Ji<=Ti&&!(Ji%16)&&dr(Gi,Ji);mn<zn&&sn&Qn&&(qn=Mn(On,sn,Ji))}r(pn.h==Ve(pn))}dr(Gi,Ji>Ti?Ti:Ji);break t}!Yn||pn.h&&mn<xn?(Yn=0,Gi.a=pn.h?5:3):Gi.$=mn,Ti=Yn}else Ti=nr(Gi,Gi.V,Gi.Ba,Gi.c,Gi.i,Ti,jn);if(!Ti){Bi=0;break e}}Ni+Bi>=Wi&&(vi.Cc=1),Bi=1}if(!Bi)return null;if(vi.Cc&&((Bi=vi.ga)!=null&&(Bi.mc=null),vi.ga=null,0<vi.Ga))return alert("todo:WebPDequantizeLevels"),null}return vi.nb+Ni*Hi}function Li(vi,Ti,Ni,Bi,Hi,Wi){for(;0<Hi--;){var Gi,Ki=vi,Ji=Ti+(Ni?1:0),sn=vi,pn=Ti+(Ni?0:3);for(Gi=0;Gi<Bi;++Gi){var On=sn[pn+4*Gi];On!=255&&(On*=32897,Ki[Ji+4*Gi+0]=Ki[Ji+4*Gi+0]*On>>23,Ki[Ji+4*Gi+1]=Ki[Ji+4*Gi+1]*On>>23,Ki[Ji+4*Gi+2]=Ki[Ji+4*Gi+2]*On>>23)}Ti+=Wi}}function Vi(vi,Ti,Ni,Bi,Hi){for(;0<Bi--;){var Wi;for(Wi=0;Wi<Ni;++Wi){var Gi=vi[Ti+2*Wi+0],Ki=15&(sn=vi[Ti+2*Wi+1]),Ji=4369*Ki,sn=(240&sn|sn>>4)*Ji>>16;vi[Ti+2*Wi+0]=(240&Gi|Gi>>4)*Ji>>16&240|(15&Gi|Gi<<4)*Ji>>16>>4&15,vi[Ti+2*Wi+1]=240&sn|Ki}Ti+=Hi}}function cn(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki){var Ji,sn,pn=255;for(sn=0;sn<Hi;++sn){for(Ji=0;Ji<Bi;++Ji){var On=vi[Ti+Ji];Wi[Gi+4*Ji]=On,pn&=On}Ti+=Ni,Gi+=Ki}return pn!=255}function gn(vi,Ti,Ni,Bi,Hi){var Wi;for(Wi=0;Wi<Hi;++Wi)Ni[Bi+Wi]=vi[Ti+Wi]>>8}function En(){Fa=Li,no=Vi,jo=cn,hl=gn}function Vn(vi,Ti,Ni){Xe[vi]=function(Bi,Hi,Wi,Gi,Ki,Ji,sn,pn,On,In,wn,Yn,Un,mn,xn,zn,Qn){var qn,vr=Qn-1>>1,cr=Ki[Ji+0]|sn[pn+0]<<16,Fr=On[In+0]|wn[Yn+0]<<16;r(Bi!=null);var ur=3*cr+Fr+131074>>2;for(Ti(Bi[Hi+0],255&ur,ur>>16,Un,mn),Wi!=null&&(ur=3*Fr+cr+131074>>2,Ti(Wi[Gi+0],255&ur,ur>>16,xn,zn)),qn=1;qn<=vr;++qn){var zr=Ki[Ji+qn]|sn[pn+qn]<<16,Wr=On[In+qn]|wn[Yn+qn]<<16,Vr=cr+zr+Fr+Wr+524296,Ur=Vr+2*(zr+Fr)>>3;ur=Ur+cr>>1,cr=(Vr=Vr+2*(cr+Wr)>>3)+zr>>1,Ti(Bi[Hi+2*qn-1],255&ur,ur>>16,Un,mn+(2*qn-1)*Ni),Ti(Bi[Hi+2*qn-0],255&cr,cr>>16,Un,mn+(2*qn-0)*Ni),Wi!=null&&(ur=Vr+Fr>>1,cr=Ur+Wr>>1,Ti(Wi[Gi+2*qn-1],255&ur,ur>>16,xn,zn+(2*qn-1)*Ni),Ti(Wi[Gi+2*qn+0],255&cr,cr>>16,xn,zn+(2*qn+0)*Ni)),cr=zr,Fr=Wr}1&Qn||(ur=3*cr+Fr+131074>>2,Ti(Bi[Hi+Qn-1],255&ur,ur>>16,Un,mn+(Qn-1)*Ni),Wi!=null&&(ur=3*Fr+cr+131074>>2,Ti(Wi[Gi+Qn-1],255&ur,ur>>16,xn,zn+(Qn-1)*Ni)))}}function tr(){js[$o]=G0,js[Ho]=Al,js[xl]=q0,js[Vo]=_l,js[Xo]=Cl,js[yc]=El,js[yl]=Y0,js[vc]=Al,js[wc]=_l,js[zo]=Cl,js[Sc]=El}function br(vi){return vi&~K0?0>vi?0:255:vi>>Tl}function Tr(vi,Ti){return br((19077*vi>>8)+(26149*Ti>>8)-14234)}function Nr(vi,Ti,Ni){return br((19077*vi>>8)-(6419*Ti>>8)-(13320*Ni>>8)+8708)}function Mr(vi,Ti){return br((19077*vi>>8)+(33050*Ti>>8)-17685)}function Hr(vi,Ti,Ni,Bi,Hi){Bi[Hi+0]=Tr(vi,Ni),Bi[Hi+1]=Nr(vi,Ti,Ni),Bi[Hi+2]=Mr(vi,Ti)}function es(vi,Ti,Ni,Bi,Hi){Bi[Hi+0]=Mr(vi,Ti),Bi[Hi+1]=Nr(vi,Ti,Ni),Bi[Hi+2]=Tr(vi,Ni)}function ts(vi,Ti,Ni,Bi,Hi){var Wi=Nr(vi,Ti,Ni);Ti=Wi<<3&224|Mr(vi,Ti)>>3,Bi[Hi+0]=248&Tr(vi,Ni)|Wi>>5,Bi[Hi+1]=Ti}function cs(vi,Ti,Ni,Bi,Hi){var Wi=240&Mr(vi,Ti)|15;Bi[Hi+0]=240&Tr(vi,Ni)|Nr(vi,Ti,Ni)>>4,Bi[Hi+1]=Wi}function ys(vi,Ti,Ni,Bi,Hi){Bi[Hi+0]=255,Hr(vi,Ti,Ni,Bi,Hi+1)}function gs(vi,Ti,Ni,Bi,Hi){es(vi,Ti,Ni,Bi,Hi),Bi[Hi+3]=255}function Ws(vi,Ti,Ni,Bi,Hi){Hr(vi,Ti,Ni,Bi,Hi),Bi[Hi+3]=255}function Fs(vi,Ti){return 0>vi?0:vi>Ti?Ti:vi}function la(vi,Ti,Ni){Xe[vi]=function(Bi,Hi,Wi,Gi,Ki,Ji,sn,pn,On){for(var In=pn+(-2&On)*Ni;pn!=In;)Ti(Bi[Hi+0],Wi[Gi+0],Ki[Ji+0],sn,pn),Ti(Bi[Hi+1],Wi[Gi+0],Ki[Ji+0],sn,pn+Ni),Hi+=2,++Gi,++Ji,pn+=2*Ni;1&On&&Ti(Bi[Hi+0],Wi[Gi+0],Ki[Ji+0],sn,pn)}}function Ro(vi,Ti,Ni){return Ni==0?vi==0?Ti==0?6:5:Ti==0?4:0:Ni}function mo(vi,Ti,Ni,Bi,Hi){switch(vi>>>30){case 3:to(Ti,Ni,Bi,Hi,0);break;case 2:Ao(Ti,Ni,Bi,Hi);break;case 1:Ks(Ti,Ni,Bi,Hi)}}function bo(vi,Ti){var Ni,Bi,Hi=Ti.M,Wi=Ti.Nb,Gi=vi.oc,Ki=vi.pc+40,Ji=vi.oc,sn=vi.pc+584,pn=vi.oc,On=vi.pc+600;for(Ni=0;16>Ni;++Ni)Gi[Ki+32*Ni-1]=129;for(Ni=0;8>Ni;++Ni)Ji[sn+32*Ni-1]=129,pn[On+32*Ni-1]=129;for(0<Hi?Gi[Ki-1-32]=Ji[sn-1-32]=pn[On-1-32]=129:(Ge(Gi,Ki-32-1,127,21),Ge(Ji,sn-32-1,127,9),Ge(pn,On-32-1,127,9)),Bi=0;Bi<vi.za;++Bi){var In=Ti.ya[Ti.aa+Bi];if(0<Bi){for(Ni=-1;16>Ni;++Ni)Re(Gi,Ki+32*Ni-4,Gi,Ki+32*Ni+12,4);for(Ni=-1;8>Ni;++Ni)Re(Ji,sn+32*Ni-4,Ji,sn+32*Ni+4,4),Re(pn,On+32*Ni-4,pn,On+32*Ni+4,4)}var wn=vi.Gd,Yn=vi.Hd+Bi,Un=In.ad,mn=In.Hc;if(0<Hi&&(Re(Gi,Ki-32,wn[Yn].y,0,16),Re(Ji,sn-32,wn[Yn].f,0,8),Re(pn,On-32,wn[Yn].ea,0,8)),In.Za){var xn=Gi,zn=Ki-32+16;for(0<Hi&&(Bi>=vi.za-1?Ge(xn,zn,wn[Yn].y[15],4):Re(xn,zn,wn[Yn+1].y,0,4)),Ni=0;4>Ni;Ni++)xn[zn+128+Ni]=xn[zn+256+Ni]=xn[zn+384+Ni]=xn[zn+0+Ni];for(Ni=0;16>Ni;++Ni,mn<<=2)xn=Gi,zn=Ki+kl[Ni],Js[In.Ob[Ni]](xn,zn),mo(mn,Un,16*+Ni,xn,zn)}else if(xn=Ro(Bi,Hi,In.Ob[0]),ka[xn](Gi,Ki),mn!=0)for(Ni=0;16>Ni;++Ni,mn<<=2)mo(mn,Un,16*+Ni,Gi,Ki+kl[Ni]);for(Ni=In.Gc,xn=Ro(Bi,Hi,In.Dd),ga[xn](Ji,sn),ga[xn](pn,On),mn=Un,xn=Ji,zn=sn,255&(In=Ni>>0)&&(170&In?Ea(mn,256,xn,zn):ha(mn,256,xn,zn)),In=pn,mn=On,255&(Ni>>=8)&&(170&Ni?Ea(Un,320,In,mn):ha(Un,320,In,mn)),Hi<vi.Ub-1&&(Re(wn[Yn].y,0,Gi,Ki+480,16),Re(wn[Yn].f,0,Ji,sn+224,8),Re(wn[Yn].ea,0,pn,On+224,8)),Ni=8*Wi*vi.B,wn=vi.sa,Yn=vi.ta+16*Bi+16*Wi*vi.R,Un=vi.qa,In=vi.ra+8*Bi+Ni,mn=vi.Ha,xn=vi.Ia+8*Bi+Ni,Ni=0;16>Ni;++Ni)Re(wn,Yn+Ni*vi.R,Gi,Ki+32*Ni,16);for(Ni=0;8>Ni;++Ni)Re(Un,In+Ni*vi.B,Ji,sn+32*Ni,8),Re(mn,xn+Ni*vi.B,pn,On+32*Ni,8)}}function Ya(vi,Ti,Ni,Bi,Hi,Wi,Gi,Ki,Ji){var sn=[0],pn=[0],On=0,In=Ji!=null?Ji.kd:0,wn=Ji!=null?Ji:new ho;if(vi==null||12>Ni)return 7;wn.data=vi,wn.w=Ti,wn.ha=Ni,Ti=[Ti],Ni=[Ni],wn.gb=[wn.gb];e:{var Yn=Ti,Un=Ni,mn=wn.gb;if(r(vi!=null),r(Un!=null),r(mn!=null),mn[0]=0,12<=Un[0]&&!Ie(vi,Yn[0],"RIFF")){if(Ie(vi,Yn[0]+8,"WEBP")){mn=3;break e}var xn=xi(vi,Yn[0]+4);if(12>xn||4294967286<xn){mn=3;break e}if(In&&xn>Un[0]-8){mn=7;break e}mn[0]=xn,Yn[0]+=12,Un[0]-=12}mn=0}if(mn!=0)return mn;for(xn=0<wn.gb[0],Ni=Ni[0];;){e:{var zn=vi;Un=Ti,mn=Ni;var Qn=sn,qn=pn,vr=Yn=[0];if((ur=On=[On])[0]=0,8>mn[0])mn=7;else{if(!Ie(zn,Un[0],"VP8X")){if(xi(zn,Un[0]+4)!=10){mn=3;break e}if(18>mn[0]){mn=7;break e}var cr=xi(zn,Un[0]+8),Fr=1+fi(zn,Un[0]+12);if(2147483648<=Fr*(zn=1+fi(zn,Un[0]+15))){mn=3;break e}vr!=null&&(vr[0]=cr),Qn!=null&&(Qn[0]=Fr),qn!=null&&(qn[0]=zn),Un[0]+=18,mn[0]-=18,ur[0]=1}mn=0}}if(On=On[0],Yn=Yn[0],mn!=0)return mn;if(Un=!!(2&Yn),!xn&&On)return 3;if(Wi!=null&&(Wi[0]=!!(16&Yn)),Gi!=null&&(Gi[0]=Un),Ki!=null&&(Ki[0]=0),Gi=sn[0],Yn=pn[0],On&&Un&&Ji==null){mn=0;break}if(4>Ni){mn=7;break}if(xn&&On||!xn&&!On&&!Ie(vi,Ti[0],"ALPH")){Ni=[Ni],wn.na=[wn.na],wn.P=[wn.P],wn.Sa=[wn.Sa];e:{cr=vi,mn=Ti,xn=Ni;var ur=wn.gb;Qn=wn.na,qn=wn.P,vr=wn.Sa,Fr=22,r(cr!=null),r(xn!=null),zn=mn[0];var zr=xn[0];for(r(Qn!=null),r(vr!=null),Qn[0]=null,qn[0]=null,vr[0]=0;;){if(mn[0]=zn,xn[0]=zr,8>zr){mn=7;break e}var Wr=xi(cr,zn+4);if(4294967286<Wr){mn=3;break e}var Vr=8+Wr+1&-2;if(Fr+=Vr,0<ur&&Fr>ur){mn=3;break e}if(!Ie(cr,zn,"VP8 ")||!Ie(cr,zn,"VP8L")){mn=0;break e}if(zr[0]<Vr){mn=7;break e}Ie(cr,zn,"ALPH")||(Qn[0]=cr,qn[0]=zn+8,vr[0]=Wr),zn+=Vr,zr-=Vr}}if(Ni=Ni[0],wn.na=wn.na[0],wn.P=wn.P[0],wn.Sa=wn.Sa[0],mn!=0)break}Ni=[Ni],wn.Ja=[wn.Ja],wn.xa=[wn.xa];e:if(ur=vi,mn=Ti,xn=Ni,Qn=wn.gb[0],qn=wn.Ja,vr=wn.xa,cr=mn[0],zn=!Ie(ur,cr,"VP8 "),Fr=!Ie(ur,cr,"VP8L"),r(ur!=null),r(xn!=null),r(qn!=null),r(vr!=null),8>xn[0])mn=7;else{if(zn||Fr){if(ur=xi(ur,cr+4),12<=Qn&&ur>Qn-12){mn=3;break e}if(In&&ur>xn[0]-8){mn=7;break e}qn[0]=ur,mn[0]+=8,xn[0]-=8,vr[0]=Fr}else vr[0]=5<=xn[0]&&ur[cr+0]==47&&!(ur[cr+4]>>5),qn[0]=xn[0];mn=0}if(Ni=Ni[0],wn.Ja=wn.Ja[0],wn.xa=wn.xa[0],Ti=Ti[0],mn!=0)break;if(4294967286<wn.Ja)return 3;if(Ki==null||Un||(Ki[0]=wn.xa?2:1),Gi=[Gi],Yn=[Yn],wn.xa){if(5>Ni){mn=7;break}Ki=Gi,In=Yn,Un=Wi,vi==null||5>Ni?vi=0:5<=Ni&&vi[Ti+0]==47&&!(vi[Ti+4]>>5)?(xn=[0],ur=[0],Qn=[0],ze(qn=new $e,vi,Ti,Ni),Fn(qn,xn,ur,Qn)?(Ki!=null&&(Ki[0]=xn[0]),In!=null&&(In[0]=ur[0]),Un!=null&&(Un[0]=Qn[0]),vi=1):vi=0):vi=0}else{if(10>Ni){mn=7;break}Ki=Yn,vi==null||10>Ni||!wr(vi,Ti+3,Ni-3)?vi=0:(In=vi[Ti+0]|vi[Ti+1]<<8|vi[Ti+2]<<16,Un=16383&(vi[Ti+7]<<8|vi[Ti+6]),vi=16383&(vi[Ti+9]<<8|vi[Ti+8]),1&In||3<(In>>1&7)||!(In>>4&1)||In>>5>=wn.Ja||!Un||!vi?vi=0:(Gi&&(Gi[0]=Un),Ki&&(Ki[0]=vi),vi=1))}if(!vi||(Gi=Gi[0],Yn=Yn[0],On&&(sn[0]!=Gi||pn[0]!=Yn)))return 3;Ji!=null&&(Ji[0]=wn,Ji.offset=Ti-Ji.w,r(4294967286>Ti-Ji.w),r(Ji.offset==Ji.ha-Ni));break}return mn==0||mn==7&&On&&Ji==null?(Wi!=null&&(Wi[0]|=wn.na!=null&&0<wn.na.length),Bi!=null&&(Bi[0]=Gi),Hi!=null&&(Hi[0]=Yn),0):mn}function xo(vi,Ti,Ni){var Bi=Ti.width,Hi=Ti.height,Wi=0,Gi=0,Ki=Bi,Ji=Hi;if(Ti.Da=vi!=null&&0<vi.Da,Ti.Da&&(Ki=vi.cd,Ji=vi.bd,Wi=vi.v,Gi=vi.j,11>Ni||(Wi&=-2,Gi&=-2),0>Wi||0>Gi||0>=Ki||0>=Ji||Wi+Ki>Bi||Gi+Ji>Hi))return 0;if(Ti.v=Wi,Ti.j=Gi,Ti.va=Wi+Ki,Ti.o=Gi+Ji,Ti.U=Ki,Ti.T=Ji,Ti.da=vi!=null&&0<vi.da,Ti.da){if(!oi(Ki,Ji,Ni=[vi.ib],Wi=[vi.hb]))return 0;Ti.ib=Ni[0],Ti.hb=Wi[0]}return Ti.ob=vi!=null&&vi.ob,Ti.Kb=vi==null||!vi.Sd,Ti.da&&(Ti.ob=Ti.ib<3*Bi/4&&Ti.hb<3*Hi/4,Ti.Kb=0),1}function yo(vi){if(vi==null)return 2;if(11>vi.S){var Ti=vi.f.RGBA;Ti.fb+=(vi.height-1)*Ti.A,Ti.A=-Ti.A}else Ti=vi.f.kb,vi=vi.height,Ti.O+=(vi-1)*Ti.fa,Ti.fa=-Ti.fa,Ti.N+=(vi-1>>1)*Ti.Ab,Ti.Ab=-Ti.Ab,Ti.W+=(vi-1>>1)*Ti.Db,Ti.Db=-Ti.Db,Ti.F!=null&&(Ti.J+=(vi-1)*Ti.lb,Ti.lb=-Ti.lb);return 0}function Ka(vi,Ti,Ni,Bi){if(Bi==null||0>=vi||0>=Ti)return 2;if(Ni!=null){if(Ni.Da){var Hi=Ni.cd,Wi=Ni.bd,Gi=-2&Ni.v,Ki=-2&Ni.j;if(0>Gi||0>Ki||0>=Hi||0>=Wi||Gi+Hi>vi||Ki+Wi>Ti)return 2;vi=Hi,Ti=Wi}if(Ni.da){if(!oi(vi,Ti,Hi=[Ni.ib],Wi=[Ni.hb]))return 2;vi=Hi[0],Ti=Wi[0]}}Bi.width=vi,Bi.height=Ti;e:{var Ji=Bi.width,sn=Bi.height;if(vi=Bi.S,0>=Ji||0>=sn||!(vi>=$o&&13>vi))vi=2;else{if(0>=Bi.Rd&&Bi.sd==null){Gi=Wi=Hi=Ti=0;var pn=(Ki=Ji*Pl[vi])*sn;if(11>vi||(Wi=(sn+1)/2*(Ti=(Ji+1)/2),vi==12&&(Gi=(Hi=Ji)*sn)),(sn=Je(pn+2*Wi+Gi))==null){vi=1;break e}Bi.sd=sn,11>vi?((Ji=Bi.f.RGBA).eb=sn,Ji.fb=0,Ji.A=Ki,Ji.size=pn):((Ji=Bi.f.kb).y=sn,Ji.O=0,Ji.fa=Ki,Ji.Fd=pn,Ji.f=sn,Ji.N=0+pn,Ji.Ab=Ti,Ji.Cd=Wi,Ji.ea=sn,Ji.W=0+pn+Wi,Ji.Db=Ti,Ji.Ed=Wi,vi==12&&(Ji.F=sn,Ji.J=0+pn+2*Wi),Ji.Tc=Gi,Ji.lb=Hi)}if(Ti=1,Hi=Bi.S,Wi=Bi.width,Gi=Bi.height,Hi>=$o&&13>Hi)if(11>Hi)vi=Bi.f.RGBA,Ti&=(Ki=Math.abs(vi.A))*(Gi-1)+Wi<=vi.size,Ti&=Ki>=Wi*Pl[Hi],Ti&=vi.eb!=null;else{vi=Bi.f.kb,Ki=(Wi+1)/2,pn=(Gi+1)/2,Ji=Math.abs(vi.fa),sn=Math.abs(vi.Ab);var On=Math.abs(vi.Db),In=Math.abs(vi.lb),wn=In*(Gi-1)+Wi;Ti&=Ji*(Gi-1)+Wi<=vi.Fd,Ti&=sn*(pn-1)+Ki<=vi.Cd,Ti=(Ti&=On*(pn-1)+Ki<=vi.Ed)&Ji>=Wi&sn>=Ki&On>=Ki,Ti&=vi.y!=null,Ti&=vi.f!=null,Ti&=vi.ea!=null,Hi==12&&(Ti&=In>=Wi,Ti&=wn<=vi.Tc,Ti&=vi.F!=null)}else Ti=0;vi=Ti?0:2}}return vi!=0||Ni!=null&&Ni.fd&&(vi=yo(Bi)),vi}var As=64,Ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Za=24,Qa=32,vo=8,_s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ai("Predictor0","PredictorAdd0"),Xe.Predictor0=function(){return 4278190080},Xe.Predictor1=function(vi){return vi},Xe.Predictor2=function(vi,Ti,Ni){return Ti[Ni+0]},Xe.Predictor3=function(vi,Ti,Ni){return Ti[Ni+1]},Xe.Predictor4=function(vi,Ti,Ni){return Ti[Ni-1]},Xe.Predictor5=function(vi,Ti,Ni){return mi(mi(vi,Ti[Ni+1]),Ti[Ni+0])},Xe.Predictor6=function(vi,Ti,Ni){return mi(vi,Ti[Ni-1])},Xe.Predictor7=function(vi,Ti,Ni){return mi(vi,Ti[Ni+0])},Xe.Predictor8=function(vi,Ti,Ni){return mi(Ti[Ni-1],Ti[Ni+0])},Xe.Predictor9=function(vi,Ti,Ni){return mi(Ti[Ni+0],Ti[Ni+1])},Xe.Predictor10=function(vi,Ti,Ni){return mi(mi(vi,Ti[Ni-1]),mi(Ti[Ni+0],Ti[Ni+1]))},Xe.Predictor11=function(vi,Ti,Ni){var Bi=Ti[Ni+0];return 0>=Fi(Bi>>24&255,vi>>24&255,(Ti=Ti[Ni-1])>>24&255)+Fi(Bi>>16&255,vi>>16&255,Ti>>16&255)+Fi(Bi>>8&255,vi>>8&255,Ti>>8&255)+Fi(255&Bi,255&vi,255&Ti)?Bi:vi},Xe.Predictor12=function(vi,Ti,Ni){var Bi=Ti[Ni+0];return(_i((vi>>24&255)+(Bi>>24&255)-((Ti=Ti[Ni-1])>>24&255))<<24|_i((vi>>16&255)+(Bi>>16&255)-(Ti>>16&255))<<16|_i((vi>>8&255)+(Bi>>8&255)-(Ti>>8&255))<<8|_i((255&vi)+(255&Bi)-(255&Ti)))>>>0},Xe.Predictor13=function(vi,Ti,Ni){var Bi=Ti[Ni-1];return(Si((vi=mi(vi,Ti[Ni+0]))>>24&255,Bi>>24&255)<<24|Si(vi>>16&255,Bi>>16&255)<<16|Si(vi>>8&255,Bi>>8&255)<<8|Si(vi>>0&255,Bi>>0&255))>>>0};var pc=Xe.PredictorAdd0;Xe.PredictorAdd1=Pi,Ai("Predictor2","PredictorAdd2"),Ai("Predictor3","PredictorAdd3"),Ai("Predictor4","PredictorAdd4"),Ai("Predictor5","PredictorAdd5"),Ai("Predictor6","PredictorAdd6"),Ai("Predictor7","PredictorAdd7"),Ai("Predictor8","PredictorAdd8"),Ai("Predictor9","PredictorAdd9"),Ai("Predictor10","PredictorAdd10"),Ai("Predictor11","PredictorAdd11"),Ai("Predictor12","PredictorAdd12"),Ai("Predictor13","PredictorAdd13");var wo=Xe.PredictorAdd2;$i("ColorIndexInverseTransform","MapARGB","32b",function(vi){return vi>>8&255},function(vi){return vi}),$i("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(vi){return vi},function(vi){return vi>>8&255});var Bo,Gs=Xe.ColorIndexInverseTransform,So=Xe.MapARGB,mc=Xe.VP8LColorIndexInverseTransformAlpha,bc=Xe.MapAlpha,Aa=Xe.VP8LPredictorsAdd=[];Aa.length=16,(Xe.VP8LPredictors=[]).length=16,(Xe.VP8LPredictorsAdd_C=[]).length=16,(Xe.VP8LPredictors_C=[]).length=16;var Ms,qs,Ca,ta,ua,eo,Ys,to,Ao,Ea,Ks,ha,Xa,io,za,Ta,_o,Rs,fa,Jr,Zr,os,hs,da,Fa,no,jo,hl,dl=Je(511),gl=Je(2041),pl=Je(225),ml=Je(767),bl=0,xc=gl,Uo=pl,ks=ml,Bs=dl,$o=0,Ho=1,xl=2,Vo=3,Xo=4,yc=5,yl=6,vc=7,wc=8,zo=9,Sc=10,L0=[2,3,7],N0=[3,3,11],vl=[280,256,256,256,40],D0=[0,1,1,1,0],M0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],R0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],B0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],j0=8,Ac=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_c=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Co=null,U0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],H0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],V0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ka=[],Js=[],ga=[],W0=1,Sl=2,Pa=[],js=[];Vn("UpsampleRgbLinePair",Hr,3),Vn("UpsampleBgrLinePair",es,3),Vn("UpsampleRgbaLinePair",Ws,4),Vn("UpsampleBgraLinePair",gs,4),Vn("UpsampleArgbLinePair",ys,4),Vn("UpsampleRgba4444LinePair",cs,2),Vn("UpsampleRgb565LinePair",ts,2);var G0=Xe.UpsampleRgbLinePair,q0=Xe.UpsampleBgrLinePair,Al=Xe.UpsampleRgbaLinePair,_l=Xe.UpsampleBgraLinePair,Cl=Xe.UpsampleArgbLinePair,El=Xe.UpsampleRgba4444LinePair,Y0=Xe.UpsampleRgb565LinePair,Wo=16,Go=1<<Wo-1,Eo=-227,Cc=482,Tl=6,K0=(256<<Tl)-1,Fl=0,J0=Je(256),Z0=Je(256),Q0=Je(256),eu=Je(256),tu=Je(Cc-Eo),iu=Je(Cc-Eo);la("YuvToRgbRow",Hr,3),la("YuvToBgrRow",es,3),la("YuvToRgbaRow",Ws,4),la("YuvToBgraRow",gs,4),la("YuvToArgbRow",ys,4),la("YuvToRgba4444Row",cs,2),la("YuvToRgb565Row",ts,2);var kl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qo=[0,2,8],nu=[8,7,6,4,4,2,2,2,1,1,1,1],ru=1;this.WebPDecodeRGBA=function(vi,Ti,Ni,Bi,Hi){var Wi=Ho,Gi=new zs,Ki=new nn;Gi.ba=Ki,Ki.S=Wi,Ki.width=[Ki.width],Ki.height=[Ki.height];var Ji=Ki.width,sn=Ki.height,pn=new Sn;if(pn==null||vi==null)var On=2;else r(pn!=null),On=Ya(vi,Ti,Ni,pn.width,pn.height,pn.Pd,pn.Qd,pn.format,null);if(On!=0?Ji=0:(Ji!=null&&(Ji[0]=pn.width[0]),sn!=null&&(sn[0]=pn.height[0]),Ji=1),Ji){Ki.width=Ki.width[0],Ki.height=Ki.height[0],Bi!=null&&(Bi[0]=Ki.width),Hi!=null&&(Hi[0]=Ki.height);e:{if(Bi=new Jn,(Hi=new ho).data=vi,Hi.w=Ti,Hi.ha=Ni,Hi.kd=1,Ti=[0],r(Hi!=null),((vi=Ya(Hi.data,Hi.w,Hi.ha,null,null,null,Ti,null,Hi))==0||vi==7)&&Ti[0]&&(vi=4),(Ti=vi)==0){if(r(Gi!=null),Bi.data=Hi.data,Bi.w=Hi.w+Hi.offset,Bi.ha=Hi.ha-Hi.offset,Bi.put=Dn,Bi.ac=Nn,Bi.bc=hn,Bi.ma=Gi,Hi.xa){if((vi=An())==null){Gi=1;break e}if(function(In,wn){var Yn=[0],Un=[0],mn=[0];t:for(;;){if(In==null)return 0;if(wn==null)return In.a=2,0;if(In.l=wn,In.a=0,ze(In.m,wn.data,wn.w,wn.ha),!Fn(In.m,Yn,Un,mn)){In.a=3;break t}if(In.xb=Sl,wn.width=Yn[0],wn.height=Un[0],!kn(Yn[0],Un[0],1,In,null))break t;return 1}return r(In.a!=0),0}(vi,Bi)){if(Bi=(Ti=Ka(Bi.width,Bi.height,Gi.Oa,Gi.ba))==0){t:{Bi=vi;i:for(;;){if(Bi==null){Bi=0;break t}if(r(Bi.s.yc!=null),r(Bi.s.Ya!=null),r(0<Bi.s.Wb),r((Ni=Bi.l)!=null),r((Hi=Ni.ma)!=null),Bi.xb!=0){if(Bi.ca=Hi.ba,Bi.tb=Hi.tb,r(Bi.ca!=null),!xo(Hi.Oa,Ni,Vo)){Bi.a=2;break i}if(!Ln(Bi,Ni.width)||Ni.da)break i;if((Ni.da||ji(Bi.ca.S))&&En(),11>Bi.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Bi.ca.f.kb.F!=null&&En()),Bi.Pb&&0<Bi.s.ua&&Bi.s.vb.X==null&&!li(Bi.s.vb,Bi.s.Wa.Xa)){Bi.a=1;break i}Bi.xb=0}if(!nr(Bi,Bi.V,Bi.Ba,Bi.c,Bi.i,Ni.o,Hn))break i;Hi.Dc=Bi.Ma,Bi=1;break t}r(Bi.a!=0),Bi=0}Bi=!Bi}Bi&&(Ti=vi.a)}else Ti=vi.a}else{if((vi=new yr)==null){Gi=1;break e}if(vi.Fa=Hi.na,vi.P=Hi.P,vi.qc=Hi.Sa,Sr(vi,Bi)){if((Ti=Ka(Bi.width,Bi.height,Gi.Oa,Gi.ba))==0){if(vi.Aa=0,Ni=Gi.Oa,r((Hi=vi)!=null),Ni!=null){if(0<(Ji=0>(Ji=Ni.Md)?0:100<Ji?255:255*Ji/100)){for(sn=pn=0;4>sn;++sn)12>(On=Hi.pb[sn]).lc&&(On.ia=Ji*nu[0>On.lc?0:On.lc]>>3),pn|=On.ia;pn&&(alert("todo:VP8InitRandom"),Hi.ia=1)}Hi.Ga=Ni.Id,100<Hi.Ga?Hi.Ga=100:0>Hi.Ga&&(Hi.Ga=0)}vs(vi,Bi)||(Ti=vi.a)}}else Ti=vi.a}Ti==0&&Gi.Oa!=null&&Gi.Oa.fd&&(Ti=yo(Gi.ba))}Gi=Ti}Wi=Gi!=0?null:11>Wi?Ki.f.RGBA.eb:Ki.f.kb.y}else Wi=null;return Wi};var Pl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function t(Xe,St){for(var qe="",Ye=0;Ye<4;Ye++)qe+=String.fromCharCode(Xe[St++]);return qe}function xe(Xe,St){return(Xe[St+0]<<0|Xe[St+1]<<8|Xe[St+2]<<16)>>>0}function Fe(Xe,St){return(Xe[St+0]<<0|Xe[St+1]<<8|Xe[St+2]<<16|Xe[St+3]<<24)>>>0}new _e;var Te=[0],e=[0],ke=[],Oe=new _e,Ee=Ce,Pe=function(Xe,St){var qe={},Ye=0,gi=!1,ai=0,ui=0;if(qe.frames=[],!function(Ke,Ve,Ue,ti){for(var hi=0;hi<ti;hi++)if(Ke[Ve+hi]!=Ue.charCodeAt(hi))return!0;return!1}(Xe,St,"RIFF",4)){var Qe,Ze;for(Fe(Xe,St+=4),St+=8;St<Xe.length;){var ci=t(Xe,St),ze=Fe(Xe,St+=4);St+=4;var We=ze+(1&ze);switch(ci){case"VP8 ":case"VP8L":qe.frames[Ye]===void 0&&(qe.frames[Ye]={}),($e=qe.frames[Ye]).src_off=gi?ui:St-8,$e.src_size=ai+ze+8,Ye++,gi&&(gi=!1,ai=0,ui=0);break;case"VP8X":($e=qe.header={}).feature_flags=Xe[St];var si=St+4;$e.canvas_width=1+xe(Xe,si),si+=3,$e.canvas_height=1+xe(Xe,si),si+=3;break;case"ALPH":gi=!0,ai=We+8,ui=St-8;break;case"ANIM":($e=qe.header).bgcolor=Fe(Xe,St),si=St+4,$e.loop_count=(Qe=Xe)[(Ze=si)+0]<<0|Qe[Ze+1]<<8,si+=2;break;case"ANMF":var ni,$e;($e=qe.frames[Ye]={}).offset_x=2*xe(Xe,St),St+=3,$e.offset_y=2*xe(Xe,St),St+=3,$e.width=1+xe(Xe,St),St+=3,$e.height=1+xe(Xe,St),St+=3,$e.duration=xe(Xe,St),St+=3,ni=Xe[St++],$e.dispose=1&ni,$e.blend=ni>>1&1}ci!="ANMF"&&(St+=We)}return qe}}(Ee,0);Pe.response=Ee,Pe.rgbaoutput=!0,Pe.dataurl=!1;var De=Pe.header?Pe.header:null,Me=Pe.frames?Pe.frames:null;if(De){De.loop_counter=De.loop_count,Te=[De.canvas_height],e=[De.canvas_width];for(var Ae=0;Ae<Me.length&&Me[Ae].blend!=0;Ae++);}var Be=Me[0],He=Oe.WebPDecodeRGBA(Ee,Be.src_off,Be.src_size,e,Te);Be.rgba=He,Be.imgwidth=e[0],Be.imgheight=Te[0];for(var je=0;je<e[0]*Te[0]*4;je++)ke[je]=He[je];return this.width=e,this.height=Te,this.data=ke,this}(function(Ce){var r=function(){return typeof zlibSync=="function"},Ie=function(Te,e,ke,Oe){var Ee=4,Pe=ii;switch(Oe){case Ce.image_compression.FAST:Ee=1,Pe=Je;break;case Ce.image_compression.MEDIUM:Ee=6,Pe=Se;break;case Ce.image_compression.SLOW:Ee=9,Pe=_e}Te=Re(Te,e,ke,Pe);var De=zlibSync(Te,{level:Ee});return Ce.__addimage__.arrayBufferToBinaryString(De)},Re=function(Te,e,ke,Oe){for(var Ee,Pe,De,Me=Te.length/e,Ae=new Uint8Array(Te.length+Me),Be=xe(),He=0;He<Me;He+=1){if(De=He*e,Ee=Te.subarray(De,De+e),Oe)Ae.set(Oe(Ee,ke,Pe),De+He);else{for(var je,Xe=Be.length,St=[];je<Xe;je+=1)St[je]=Be[je](Ee,ke,Pe);var qe=Fe(St.concat());Ae.set(St[qe],De+He)}Pe=Ee}return Ae},Ge=function(Te){var e=Array.apply([],Te);return e.unshift(0),e},Je=function(Te,e){var ke,Oe=[],Ee=Te.length;Oe[0]=1;for(var Pe=0;Pe<Ee;Pe+=1)ke=Te[Pe-e]||0,Oe[Pe+1]=Te[Pe]-ke+256&255;return Oe},ii=function(Te,e,ke){var Oe,Ee=[],Pe=Te.length;Ee[0]=2;for(var De=0;De<Pe;De+=1)Oe=ke&&ke[De]||0,Ee[De+1]=Te[De]-Oe+256&255;return Ee},Se=function(Te,e,ke){var Oe,Ee,Pe=[],De=Te.length;Pe[0]=3;for(var Me=0;Me<De;Me+=1)Oe=Te[Me-e]||0,Ee=ke&&ke[Me]||0,Pe[Me+1]=Te[Me]+256-(Oe+Ee>>>1)&255;return Pe},_e=function(Te,e,ke){var Oe,Ee,Pe,De,Me=[],Ae=Te.length;Me[0]=4;for(var Be=0;Be<Ae;Be+=1)Oe=Te[Be-e]||0,Ee=ke&&ke[Be]||0,Pe=ke&&ke[Be-e]||0,De=t(Oe,Ee,Pe),Me[Be+1]=Te[Be]-De+256&255;return Me},t=function(Te,e,ke){if(Te===e&&e===ke)return Te;var Oe=Math.abs(e-ke),Ee=Math.abs(Te-ke),Pe=Math.abs(Te+e-ke-ke);return Oe<=Ee&&Oe<=Pe?Te:Ee<=Pe?e:ke},xe=function(){return[Ge,Je,ii,Se,_e]},Fe=function(Te){var e=Te.map(function(ke){return ke.reduce(function(Oe,Ee){return Oe+Math.abs(Ee)},0)});return e.indexOf(Math.min.apply(null,e))};Ce.processPNG=function(Te,e,ke,Oe){var Ee,Pe,De,Me,Ae,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe=this.decode.FLATE_DECODE,Ze="";if(this.__addimage__.isArrayBuffer(Te)&&(Te=new Uint8Array(Te)),this.__addimage__.isArrayBufferView(Te)){if(Te=(De=new Kt(Te)).imgData,Pe=De.bits,Ee=De.colorSpace,Ae=De.colors,[4,6].indexOf(De.colorType)!==-1){if(De.bits===8){Xe=(je=De.pixelBitlength==32?new Uint32Array(De.decodePixels().buffer):De.pixelBitlength==16?new Uint16Array(De.decodePixels().buffer):new Uint8Array(De.decodePixels().buffer)).length,qe=new Uint8Array(Xe*De.colors),St=new Uint8Array(Xe);var ci,ze=De.pixelBitlength-De.bits;for(ai=0,ui=0;ai<Xe;ai++){for(gi=je[ai],ci=0;ci<ze;)qe[ui++]=gi>>>ci&255,ci+=De.bits;St[ai]=gi>>>ci&255}}if(De.bits===16){Xe=(je=new Uint32Array(De.decodePixels().buffer)).length,qe=new Uint8Array(Xe*(32/De.pixelBitlength)*De.colors),St=new Uint8Array(Xe*(32/De.pixelBitlength)),Ye=De.colors>1,ai=0,ui=0;for(var We=0;ai<Xe;)gi=je[ai++],qe[ui++]=gi>>>0&255,Ye&&(qe[ui++]=gi>>>16&255,gi=je[ai++],qe[ui++]=gi>>>0&255),St[We++]=gi>>>16&255;Pe=8}Oe!==Ce.image_compression.NONE&&r()?(Te=Ie(qe,De.width*De.colors,De.colors,Oe),He=Ie(St,De.width,1,Oe)):(Te=qe,He=St,Qe=void 0)}if(De.colorType===3&&(Ee=this.color_spaces.INDEXED,Be=De.palette,De.transparency.indexed)){var si=De.transparency.indexed,ni=0;for(ai=0,Xe=si.length;ai<Xe;++ai)ni+=si[ai];if((ni/=255)===Xe-1&&si.indexOf(0)!==-1)Me=[si.indexOf(0)];else if(ni!==Xe){for(je=De.decodePixels(),St=new Uint8Array(je.length),ai=0,Xe=je.length;ai<Xe;ai++)St[ai]=si[je[ai]];He=Ie(St,De.width,1)}}var $e=function(Ke){var Ve;switch(Ke){case Ce.image_compression.FAST:Ve=11;break;case Ce.image_compression.MEDIUM:Ve=13;break;case Ce.image_compression.SLOW:Ve=14;break;default:Ve=12}return Ve}(Oe);return Qe===this.decode.FLATE_DECODE&&(Ze="/Predictor "+$e+" "),Ze+="/Colors "+Ae+" /BitsPerComponent "+Pe+" /Columns "+De.width,(this.__addimage__.isArrayBuffer(Te)||this.__addimage__.isArrayBufferView(Te))&&(Te=this.__addimage__.arrayBufferToBinaryString(Te)),(He&&this.__addimage__.isArrayBuffer(He)||this.__addimage__.isArrayBufferView(He))&&(He=this.__addimage__.arrayBufferToBinaryString(He)),{alias:ke,data:Te,index:e,filter:Qe,decodeParameters:Ze,transparency:Me,palette:Be,sMask:He,predictor:$e,width:De.width,height:De.height,bitsPerComponent:Pe,colorSpace:Ee}}}})(E.API),function(Ce){Ce.processGIF89A=function(r,Ie,Re,Ge){var Je=new Zt(r),ii=Je.width,Se=Je.height,_e=[];Je.decodeAndBlitFrameRGBA(0,_e);var t={data:_e,width:ii,height:Se},xe=new Qt(100).encode(t,100);return Ce.processJPEG.call(this,xe,Ie,Re,Ge)},Ce.processGIF87A=Ce.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ce=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ce);for(var r=0;r<Ce;r++){var Ie=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Ge=this.datav.getUint8(this.pos++,!0),Je=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:Ge,green:Re,blue:Ie,quad:Je}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ce="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[Ce]()}catch(Ie){a.log("bit decode error:"+Ie)}},te.prototype.bit1=function(){var Ce,r=Math.ceil(this.width/8),Ie=r%4;for(Ce=this.height-1;Ce>=0;Ce--){for(var Re=this.bottom_up?Ce:this.height-1-Ce,Ge=0;Ge<r;Ge++)for(var Je=this.datav.getUint8(this.pos++,!0),ii=Re*this.width*4+8*Ge*4,Se=0;Se<8&&8*Ge+Se<this.width;Se++){var _e=this.palette[Je>>7-Se&1];this.data[ii+4*Se]=_e.blue,this.data[ii+4*Se+1]=_e.green,this.data[ii+4*Se+2]=_e.red,this.data[ii+4*Se+3]=255}Ie!==0&&(this.pos+=4-Ie)}},te.prototype.bit4=function(){for(var Ce=Math.ceil(this.width/2),r=Ce%4,Ie=this.height-1;Ie>=0;Ie--){for(var Re=this.bottom_up?Ie:this.height-1-Ie,Ge=0;Ge<Ce;Ge++){var Je=this.datav.getUint8(this.pos++,!0),ii=Re*this.width*4+2*Ge*4,Se=Je>>4,_e=15&Je,t=this.palette[Se];if(this.data[ii]=t.blue,this.data[ii+1]=t.green,this.data[ii+2]=t.red,this.data[ii+3]=255,2*Ge+1>=this.width)break;t=this.palette[_e],this.data[ii+4]=t.blue,this.data[ii+4+1]=t.green,this.data[ii+4+2]=t.red,this.data[ii+4+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit8=function(){for(var Ce=this.width%4,r=this.height-1;r>=0;r--){for(var Ie=this.bottom_up?r:this.height-1-r,Re=0;Re<this.width;Re++){var Ge=this.datav.getUint8(this.pos++,!0),Je=Ie*this.width*4+4*Re;if(Ge<this.palette.length){var ii=this.palette[Ge];this.data[Je]=ii.red,this.data[Je+1]=ii.green,this.data[Je+2]=ii.blue,this.data[Je+3]=255}else this.data[Je]=255,this.data[Je+1]=255,this.data[Je+2]=255,this.data[Je+3]=255}Ce!==0&&(this.pos+=4-Ce)}},te.prototype.bit15=function(){for(var Ce=this.width%3,r=parseInt("11111",2),Ie=this.height-1;Ie>=0;Ie--){for(var Re=this.bottom_up?Ie:this.height-1-Ie,Ge=0;Ge<this.width;Ge++){var Je=this.datav.getUint16(this.pos,!0);this.pos+=2;var ii=(Je&r)/r*255|0,Se=(Je>>5&r)/r*255|0,_e=(Je>>10&r)/r*255|0,t=Je>>15?255:0,xe=Re*this.width*4+4*Ge;this.data[xe]=_e,this.data[xe+1]=Se,this.data[xe+2]=ii,this.data[xe+3]=t}this.pos+=Ce}},te.prototype.bit16=function(){for(var Ce=this.width%3,r=parseInt("11111",2),Ie=parseInt("111111",2),Re=this.height-1;Re>=0;Re--){for(var Ge=this.bottom_up?Re:this.height-1-Re,Je=0;Je<this.width;Je++){var ii=this.datav.getUint16(this.pos,!0);this.pos+=2;var Se=(ii&r)/r*255|0,_e=(ii>>5&Ie)/Ie*255|0,t=(ii>>11)/r*255|0,xe=Ge*this.width*4+4*Je;this.data[xe]=t,this.data[xe+1]=_e,this.data[xe+2]=Se,this.data[xe+3]=255}this.pos+=Ce}},te.prototype.bit24=function(){for(var Ce=this.height-1;Ce>=0;Ce--){for(var r=this.bottom_up?Ce:this.height-1-Ce,Ie=0;Ie<this.width;Ie++){var Re=this.datav.getUint8(this.pos++,!0),Ge=this.datav.getUint8(this.pos++,!0),Je=this.datav.getUint8(this.pos++,!0),ii=r*this.width*4+4*Ie;this.data[ii]=Je,this.data[ii+1]=Ge,this.data[ii+2]=Re,this.data[ii+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ce=this.height-1;Ce>=0;Ce--)for(var r=this.bottom_up?Ce:this.height-1-Ce,Ie=0;Ie<this.width;Ie++){var Re=this.datav.getUint8(this.pos++,!0),Ge=this.datav.getUint8(this.pos++,!0),Je=this.datav.getUint8(this.pos++,!0),ii=this.datav.getUint8(this.pos++,!0),Se=r*this.width*4+4*Ie;this.data[Se]=Je,this.data[Se+1]=Ge,this.data[Se+2]=Re,this.data[Se+3]=ii}},te.prototype.getData=function(){return this.data},function(Ce){Ce.processBMP=function(r,Ie,Re,Ge){var Je=new te(r,!1),ii=Je.width,Se=Je.height,_e={data:Je.getData(),width:ii,height:Se},t=new Qt(100).encode(_e,100);return Ce.processJPEG.call(this,t,Ie,Re,Ge)}}(E.API),ee.prototype.getData=function(){return this.data},function(Ce){Ce.processWEBP=function(r,Ie,Re,Ge){var Je=new ee(r),ii=Je.width,Se=Je.height,_e={data:Je.getData(),width:ii,height:Se},t=new Qt(100).encode(_e,100);return Ce.processJPEG.call(this,t,Ie,Re,Ge)}}(E.API),E.API.processRGBA=function(Ce,r,Ie){for(var Re=Ce.data,Ge=Re.length,Je=new Uint8Array(Ge/4*3),ii=new Uint8Array(Ge/4),Se=0,_e=0,t=0;t<Ge;t+=4){var xe=Re[t],Fe=Re[t+1],Te=Re[t+2],e=Re[t+3];Je[Se++]=xe,Je[Se++]=Fe,Je[Se++]=Te,ii[_e++]=e}var ke=this.__addimage__.arrayBufferToBinaryString(Je);return{alpha:this.__addimage__.arrayBufferToBinaryString(ii),data:ke,index:r,alias:Ie,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ce.width,height:Ce.height}},E.API.setLanguage=function(Ce){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ce]!==void 0&&(this.internal.languageSettings.languageCode=Ce,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(Ce,r){var Ie,Re,Ge=(r=r||{}).font||this.internal.getFont(),Je=r.fontSize||this.internal.getFontSize(),ii=r.charSpace||this.internal.getCharSpace(),Se=r.widths?r.widths:Ge.metadata.Unicode.widths,_e=Se.fof?Se.fof:1,t=r.kerning?r.kerning:Ge.metadata.Unicode.kerning,xe=t.fof?t.fof:1,Fe=r.doKerning!==!1,Te=0,e=Ce.length,ke=0,Oe=Se[0]||_e,Ee=[];for(Ie=0;Ie<e;Ie++)Re=Ce.charCodeAt(Ie),typeof Ge.metadata.widthOfString=="function"?Ee.push((Ge.metadata.widthOfGlyph(Ge.metadata.characterToGlyph(Re))+ii*(1e3/Je)||0)/1e3):(Te=Fe&&_typeof(t[Re])==="object"&&!isNaN(parseInt(t[Re][ke],10))?t[Re][ke]/xe:0,Ee.push((Se[Re]||Oe)/_e+Te)),ke=Re;return Ee},Yt=Vt.getStringUnitWidth=function(Ce,r){var Ie=(r=r||{}).fontSize||this.internal.getFontSize(),Re=r.font||this.internal.getFont(),Ge=r.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(Ce=Vt.processArabic(Ce)),typeof Re.metadata.widthOfString=="function"?Re.metadata.widthOfString(Ce,Ie,Ge)/Ie:Gt.apply(this,arguments).reduce(function(Je,ii){return Je+ii},0)},Jt=function(Ce,r,Ie,Re){for(var Ge=[],Je=0,ii=Ce.length,Se=0;Je!==ii&&Se+r[Je]<Ie;)Se+=r[Je],Je++;Ge.push(Ce.slice(0,Je));var _e=Je;for(Se=0;Je!==ii;)Se+r[Je]>Re&&(Ge.push(Ce.slice(_e,Je)),Se=0,_e=Je),Se+=r[Je],Je++;return _e!==Je&&Ge.push(Ce.slice(_e,Je)),Ge},Xt=function(Ce,r,Ie){Ie||(Ie={});var Re,Ge,Je,ii,Se,_e,t,xe=[],Fe=[xe],Te=Ie.textIndent||0,e=0,ke=0,Oe=Ce.split(" "),Ee=Gt.apply(this,[" ",Ie])[0];if(_e=Ie.lineIndent===-1?Oe[0].length+2:Ie.lineIndent||0){var Pe=Array(_e).join(" "),De=[];Oe.map(function(Ae){(Ae=Ae.split(/\s*\n/)).length>1?De=De.concat(Ae.map(function(Be,He){return(He&&Be.length?`
`:"")+Be})):De.push(Ae[0])}),Oe=De,_e=Yt.apply(this,[Pe,Ie])}for(Je=0,ii=Oe.length;Je<ii;Je++){var Me=0;if(Re=Oe[Je],_e&&Re[0]==`
`&&(Re=Re.substr(1),Me=1),Te+e+(ke=(Ge=Gt.apply(this,[Re,Ie])).reduce(function(Ae,Be){return Ae+Be},0))>r||Me){if(ke>r){for(Se=Jt.apply(this,[Re,Ge,r-(Te+e),r]),xe.push(Se.shift()),xe=[Se.pop()];Se.length;)Fe.push([Se.shift()]);ke=Ge.slice(Re.length-(xe[0]?xe[0].length:0)).reduce(function(Ae,Be){return Ae+Be},0)}else xe=[Re];Fe.push(xe),Te=ke+_e,e=Ee}else xe.push(Re),Te+=e+ke,e=Ee}return t=_e?function(Ae,Be){return(Be?Pe:"")+Ae.join(" ")}:function(Ae){return Ae.join(" ")},Fe.map(t)},Vt.splitTextToSize=function(Ce,r,Ie){var Re,Ge=(Ie=Ie||{}).fontSize||this.internal.getFontSize(),Je=function(xe){if(xe.widths&&xe.kerning)return{widths:xe.widths,kerning:xe.kerning};var Fe=this.internal.getFont(xe.fontName,xe.fontStyle);return Fe.metadata.Unicode?{widths:Fe.metadata.Unicode.widths||{0:1},kerning:Fe.metadata.Unicode.kerning||{}}:{font:Fe.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,Ie);Re=Array.isArray(Ce)?Ce:String(Ce).split(/\r?\n/);var ii=1*this.internal.scaleFactor*r/Ge;Je.textIndent=Ie.textIndent?1*Ie.textIndent*this.internal.scaleFactor/Ge:0,Je.lineIndent=Ie.lineIndent;var Se,_e,t=[];for(Se=0,_e=Re.length;Se<_e;Se++)t=t.concat(Xt.apply(this,[Re[Se],ii,Je]));return t},function(Ce){Ce.__fontmetrics__=Ce.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",Ie={},Re={},Ge=0;Ge<r.length;Ge++)Ie[r[Ge]]="0123456789abcdef"[Ge],Re["0123456789abcdef"[Ge]]=r[Ge];var Je=function(Fe){return"0x"+parseInt(Fe,10).toString(16)},ii=Ce.__fontmetrics__.compress=function(Fe){var Te,e,ke,Oe,Ee=["{"];for(var Pe in Fe){if(Te=Fe[Pe],isNaN(parseInt(Pe,10))?e="'"+Pe+"'":(Pe=parseInt(Pe,10),e=(e=Je(Pe).slice(2)).slice(0,-1)+Re[e.slice(-1)]),typeof Te=="number")Te<0?(ke=Je(Te).slice(3),Oe="-"):(ke=Je(Te).slice(2),Oe=""),ke=Oe+ke.slice(0,-1)+Re[ke.slice(-1)];else{if(_typeof(Te)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Te)+".");ke=ii(Te)}Ee.push(e+ke)}return Ee.push("}"),Ee.join("")},Se=Ce.__fontmetrics__.uncompress=function(Fe){if(typeof Fe!="string")throw new Error("Invalid argument passed to uncompress.");for(var Te,e,ke,Oe,Ee={},Pe=1,De=Ee,Me=[],Ae="",Be="",He=Fe.length-1,je=1;je<He;je+=1)(Oe=Fe[je])=="'"?Te?(ke=Te.join(""),Te=void 0):Te=[]:Te?Te.push(Oe):Oe=="{"?(Me.push([De,ke]),De={},ke=void 0):Oe=="}"?((e=Me.pop())[0][e[1]]=De,ke=void 0,De=e[0]):Oe=="-"?Pe=-1:ke===void 0?Ie.hasOwnProperty(Oe)?(Ae+=Ie[Oe],ke=parseInt(Ae,16)*Pe,Pe=1,Ae=""):Ae+=Oe:Ie.hasOwnProperty(Oe)?(Be+=Ie[Oe],De[ke]=parseInt(Be,16)*Pe,Pe=1,ke=void 0,Be=""):Be+=Oe;return Ee},_e={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Se("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},t={Unicode:{Courier:_e,"Courier-Bold":_e,"Courier-BoldOblique":_e,"Courier-Oblique":_e,Helvetica:_e,"Helvetica-Bold":_e,"Helvetica-BoldOblique":_e,"Helvetica-Oblique":_e,"Times-Roman":_e,"Times-Bold":_e,"Times-BoldItalic":_e,"Times-Italic":_e}},xe={Unicode:{"Courier-Oblique":Se("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Se("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Se("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Se("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Se("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Se("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Se("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Se("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Se("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Se("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Se("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Se("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Se("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Se("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ce.events.push(["addFont",function(Fe){var Te=Fe.font,e=xe.Unicode[Te.postScriptName];e&&(Te.metadata.Unicode={},Te.metadata.Unicode.widths=e.widths,Te.metadata.Unicode.kerning=e.kerning);var ke=t.Unicode[Te.postScriptName];ke&&(Te.metadata.Unicode.encoding=ke,Te.encoding=ke.codePages[0])}])}(E.API),function(Ce){var r=function(Ie){for(var Re=Ie.length,Ge=new Uint8Array(Re),Je=0;Je<Re;Je++)Ge[Je]=Ie.charCodeAt(Je);return Ge};Ce.API.events.push(["addFont",function(Ie){var Re=void 0,Ge=Ie.font,Je=Ie.instance;if(!Ge.isStandardFont){if(Je===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ge.postScriptName+"').");if(typeof(Re=Je.existsFileInVFS(Ge.postScriptName)===!1?Je.loadFile(Ge.postScriptName):Je.getFileFromVFS(Ge.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ge.postScriptName+"').");(function(ii,Se){Se=/^\x00\x01\x00\x00/.test(Se)?r(Se):r(u(Se)),ii.metadata=Ce.API.TTFFont.open(Se),ii.metadata.Unicode=ii.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ii.metadata.glyIdsUsed=[0]})(Ge,Re)}}])}(E),function(Ce){function r(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.1e835680.js"),[])).catch(function(Ie){return Promise.reject(new Error("Could not load canvg: "+Ie))}).then(function(Ie){return Ie.default?Ie.default:Ie})}E.API.addSvgAsImage=function(Ie,Re,Ge,Je,ii,Se,_e,t){if(isNaN(Re)||isNaN(Ge))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Je)||isNaN(ii))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var xe=document.createElement("canvas");xe.width=Je,xe.height=ii;var Fe=xe.getContext("2d");Fe.fillStyle="#fff",Fe.fillRect(0,0,xe.width,xe.height);var Te={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},e=this;return r().then(function(ke){return ke.fromString(Fe,Ie,Te)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ke){return ke.render(Te)}).then(function(){e.addImage(xe.toDataURL("image/jpeg",1),Re,Ge,Je,ii,_e,t)})}}(),E.API.putTotalPages=function(Ce){var r,Ie=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(Ce,"g"),Ie=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(Ce,this.internal.getFont()),"g"),Ie=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Re=1;Re<=this.internal.getNumberOfPages();Re++)for(var Ge=0;Ge<this.internal.pages[Re].length;Ge++)this.internal.pages[Re][Ge]=this.internal.pages[Re][Ge].replace(r,Ie);return this},E.API.viewerPreferences=function(Ce,r){var Ie;Ce=Ce||{},r=r||!1;var Re,Ge,Je,ii={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Se=Object.keys(ii),_e=[],t=0,xe=0,Fe=0;function Te(ke,Oe){var Ee,Pe=!1;for(Ee=0;Ee<ke.length;Ee+=1)ke[Ee]===Oe&&(Pe=!0);return Pe}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ii)),this.internal.viewerpreferences.isSubscribed=!1),Ie=this.internal.viewerpreferences.configuration,Ce==="reset"||r===!0){var e=Se.length;for(Fe=0;Fe<e;Fe+=1)Ie[Se[Fe]].value=Ie[Se[Fe]].defaultValue,Ie[Se[Fe]].explicitSet=!1}if(_typeof(Ce)==="object"){for(Ge in Ce)if(Je=Ce[Ge],Te(Se,Ge)&&Je!==void 0){if(Ie[Ge].type==="boolean"&&typeof Je=="boolean")Ie[Ge].value=Je;else if(Ie[Ge].type==="name"&&Te(Ie[Ge].valueSet,Je))Ie[Ge].value=Je;else if(Ie[Ge].type==="integer"&&Number.isInteger(Je))Ie[Ge].value=Je;else if(Ie[Ge].type==="array"){for(t=0;t<Je.length;t+=1)if(Re=!0,Je[t].length===1&&typeof Je[t][0]=="number")_e.push(String(Je[t]-1));else if(Je[t].length>1){for(xe=0;xe<Je[t].length;xe+=1)typeof Je[t][xe]!="number"&&(Re=!1);Re===!0&&_e.push([Je[t][0]-1,Je[t][1]-1].join(" "))}Ie[Ge].value="["+_e.join(" ")+"]"}else Ie[Ge].value=Ie[Ge].defaultValue;Ie[Ge].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ke,Oe=[];for(ke in Ie)Ie[ke].explicitSet===!0&&(Ie[ke].type==="name"?Oe.push("/"+ke+" /"+Ie[ke].value):Oe.push("/"+ke+" "+Ie[ke].value));Oe.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Oe.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ie,this},function(Ce){var r=function(){var Re='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Ge=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Je=unescape(encodeURIComponent(Re)),ii=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Se=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),_e=unescape(encodeURIComponent("</x:xmpmeta>")),t=Je.length+ii.length+Se.length+Ge.length+_e.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t+" >>"),this.internal.write("stream"),this.internal.write(Ge+Je+ii+Se+_e),this.internal.write("endstream"),this.internal.write("endobj")},Ie=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ce.addMetadata=function(Re,Ge){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Re,namespaceuri:Ge||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ie),this.internal.events.subscribe("postPutResources",r)),this}}(E.API),function(Ce){var r=Ce.API,Ie=r.pdfEscape16=function(Je,ii){for(var Se,_e=ii.metadata.Unicode.widths,t=["","0","00","000","0000"],xe=[""],Fe=0,Te=Je.length;Fe<Te;++Fe){if(Se=ii.metadata.characterToGlyph(Je.charCodeAt(Fe)),ii.metadata.glyIdsUsed.push(Se),ii.metadata.toUnicode[Se]=Je.charCodeAt(Fe),_e.indexOf(Se)==-1&&(_e.push(Se),_e.push([parseInt(ii.metadata.widthOfGlyph(Se),10)])),Se=="0")return xe.join("");Se=Se.toString(16),xe.push(t[4-Se.length],Se)}return xe.join("")},Re=function(Je){var ii,Se,_e,t,xe,Fe,Te;for(xe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,_e=[],Fe=0,Te=(Se=Object.keys(Je).sort(function(e,ke){return e-ke})).length;Fe<Te;Fe++)ii=Se[Fe],_e.length>=100&&(xe+=`
`+_e.length+` beginbfchar
`+_e.join(`
`)+`
endbfchar`,_e=[]),Je[ii]!==void 0&&Je[ii]!==null&&typeof Je[ii].toString=="function"&&(t=("0000"+Je[ii].toString(16)).slice(-4),ii=("0000"+(+ii).toString(16)).slice(-4),_e.push("<"+ii+"><"+t+">"));return _e.length&&(xe+=`
`+_e.length+` beginbfchar
`+_e.join(`
`)+`
endbfchar
`),xe+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(Je){(function(ii){var Se=ii.font,_e=ii.out,t=ii.newObject,xe=ii.putStream;if(Se.metadata instanceof Ce.API.TTFFont&&Se.encoding==="Identity-H"){for(var Fe=Se.metadata.Unicode.widths,Te=Se.metadata.subset.encode(Se.metadata.glyIdsUsed,1),e="",ke=0;ke<Te.length;ke++)e+=String.fromCharCode(Te[ke]);var Oe=t();xe({data:e,addLength1:!0,objectId:Oe}),_e("endobj");var Ee=t();xe({data:Re(Se.metadata.toUnicode),addLength1:!0,objectId:Ee}),_e("endobj");var Pe=t();_e("<<"),_e("/Type /FontDescriptor"),_e("/FontName /"+F(Se.fontName)),_e("/FontFile2 "+Oe+" 0 R"),_e("/FontBBox "+Ce.API.PDFObject.convert(Se.metadata.bbox)),_e("/Flags "+Se.metadata.flags),_e("/StemV "+Se.metadata.stemV),_e("/ItalicAngle "+Se.metadata.italicAngle),_e("/Ascent "+Se.metadata.ascender),_e("/Descent "+Se.metadata.decender),_e("/CapHeight "+Se.metadata.capHeight),_e(">>"),_e("endobj");var De=t();_e("<<"),_e("/Type /Font"),_e("/BaseFont /"+F(Se.fontName)),_e("/FontDescriptor "+Pe+" 0 R"),_e("/W "+Ce.API.PDFObject.convert(Fe)),_e("/CIDToGIDMap /Identity"),_e("/DW 1000"),_e("/Subtype /CIDFontType2"),_e("/CIDSystemInfo"),_e("<<"),_e("/Supplement 0"),_e("/Registry (Adobe)"),_e("/Ordering ("+Se.encoding+")"),_e(">>"),_e(">>"),_e("endobj"),Se.objectNumber=t(),_e("<<"),_e("/Type /Font"),_e("/Subtype /Type0"),_e("/ToUnicode "+Ee+" 0 R"),_e("/BaseFont /"+F(Se.fontName)),_e("/Encoding /"+Se.encoding),_e("/DescendantFonts ["+De+" 0 R]"),_e(">>"),_e("endobj"),Se.isAlreadyPutted=!0}})(Je)}]),r.events.push(["putFont",function(Je){(function(ii){var Se=ii.font,_e=ii.out,t=ii.newObject,xe=ii.putStream;if(Se.metadata instanceof Ce.API.TTFFont&&Se.encoding==="WinAnsiEncoding"){for(var Fe=Se.metadata.rawData,Te="",e=0;e<Fe.length;e++)Te+=String.fromCharCode(Fe[e]);var ke=t();xe({data:Te,addLength1:!0,objectId:ke}),_e("endobj");var Oe=t();xe({data:Re(Se.metadata.toUnicode),addLength1:!0,objectId:Oe}),_e("endobj");var Ee=t();_e("<<"),_e("/Descent "+Se.metadata.decender),_e("/CapHeight "+Se.metadata.capHeight),_e("/StemV "+Se.metadata.stemV),_e("/Type /FontDescriptor"),_e("/FontFile2 "+ke+" 0 R"),_e("/Flags 96"),_e("/FontBBox "+Ce.API.PDFObject.convert(Se.metadata.bbox)),_e("/FontName /"+F(Se.fontName)),_e("/ItalicAngle "+Se.metadata.italicAngle),_e("/Ascent "+Se.metadata.ascender),_e(">>"),_e("endobj"),Se.objectNumber=t();for(var Pe=0;Pe<Se.metadata.hmtx.widths.length;Pe++)Se.metadata.hmtx.widths[Pe]=parseInt(Se.metadata.hmtx.widths[Pe]*(1e3/Se.metadata.head.unitsPerEm));_e("<</Subtype/TrueType/Type/Font/ToUnicode "+Oe+" 0 R/BaseFont/"+F(Se.fontName)+"/FontDescriptor "+Ee+" 0 R/Encoding/"+Se.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ce.API.PDFObject.convert(Se.metadata.hmtx.widths)+">>"),_e("endobj"),Se.isAlreadyPutted=!0}})(Je)}]);var Ge=function(Je){var ii,Se=Je.text||"",_e=Je.x,t=Je.y,xe=Je.options||{},Fe=Je.mutex||{},Te=Fe.pdfEscape,e=Fe.activeFontKey,ke=Fe.fonts,Oe=e,Ee="",Pe=0,De="",Me=ke[Oe].encoding;if(ke[Oe].encoding!=="Identity-H")return{text:Se,x:_e,y:t,options:xe,mutex:Fe};for(De=Se,Oe=e,Array.isArray(Se)&&(De=Se[0]),Pe=0;Pe<De.length;Pe+=1)ke[Oe].metadata.hasOwnProperty("cmap")&&(ii=ke[Oe].metadata.cmap.unicode.codeMap[De[Pe].charCodeAt(0)]),ii||De[Pe].charCodeAt(0)<256&&ke[Oe].metadata.hasOwnProperty("Unicode")?Ee+=De[Pe]:Ee+="";var Ae="";return parseInt(Oe.slice(1))<14||Me==="WinAnsiEncoding"?Ae=Te(Ee,Oe).split("").map(function(Be){return Be.charCodeAt(0).toString(16)}).join(""):Me==="Identity-H"&&(Ae=Ie(Ee,ke[Oe])),Fe.isHex=!0,{text:Ae,x:_e,y:t,options:xe,mutex:Fe}};r.events.push(["postProcessText",function(Je){var ii=Je.text||"",Se=[],_e={text:ii,x:Je.x,y:Je.y,options:Je.options,mutex:Je.mutex};if(Array.isArray(ii)){var t=0;for(t=0;t<ii.length;t+=1)Array.isArray(ii[t])&&ii[t].length===3?Se.push([Ge(Object.assign({},_e,{text:ii[t][0]})).text,ii[t][1],ii[t][2]]):Se.push(Ge(Object.assign({},_e,{text:ii[t]})).text);Je.text=Se}else Je.text=Ge(Object.assign({},_e,{text:ii})).text}])}(E),function(Ce){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ce.existsFileInVFS=function(Ie){return r.call(this),this.internal.vFS[Ie]!==void 0},Ce.addFileToVFS=function(Ie,Re){return r.call(this),this.internal.vFS[Ie]=Re,this},Ce.getFileFromVFS=function(Ie){return r.call(this),this.internal.vFS[Ie]!==void 0?this.internal.vFS[Ie]:null}}(E.API),function(Ce){Ce.__bidiEngine__=Ce.prototype.__bidiEngine__=function(Re){var Ge,Je,ii,Se,_e,t,xe,Fe=r,Te=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ke={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Oe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Ee=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Pe=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),De=!1,Me=0;this.__bidiEngine__={};var Ae=function(Ye){var gi=Ye.charCodeAt(),ai=gi>>8,ui=Oe[ai];return ui!==void 0?Fe[256*ui+(255&gi)]:ai===252||ai===253?"AL":Pe.test(ai)?"L":ai===8?"R":"N"},Be=function(Ye){for(var gi,ai=0;ai<Ye.length;ai++){if((gi=Ae(Ye.charAt(ai)))==="L")return!1;if(gi==="R")return!0}return!1},He=function(Ye,gi,ai,ui){var Qe,Ze,ci,ze,We=gi[ui];switch(We){case"L":case"R":De=!1;break;case"N":case"AN":break;case"EN":De&&(We="AN");break;case"AL":De=!0,We="R";break;case"WS":We="N";break;case"CS":ui<1||ui+1>=gi.length||(Qe=ai[ui-1])!=="EN"&&Qe!=="AN"||(Ze=gi[ui+1])!=="EN"&&Ze!=="AN"?We="N":De&&(Ze="AN"),We=Ze===Qe?Ze:"N";break;case"ES":We=(Qe=ui>0?ai[ui-1]:"B")==="EN"&&ui+1<gi.length&&gi[ui+1]==="EN"?"EN":"N";break;case"ET":if(ui>0&&ai[ui-1]==="EN"){We="EN";break}if(De){We="N";break}for(ci=ui+1,ze=gi.length;ci<ze&&gi[ci]==="ET";)ci++;We=ci<ze&&gi[ci]==="EN"?"EN":"N";break;case"NSM":if(ii&&!Se){for(ze=gi.length,ci=ui+1;ci<ze&&gi[ci]==="NSM";)ci++;if(ci<ze){var si=Ye[ui],ni=si>=1425&&si<=2303||si===64286;if(Qe=gi[ci],ni&&(Qe==="R"||Qe==="AL")){We="R";break}}}We=ui<1||(Qe=gi[ui-1])==="B"?"N":ai[ui-1];break;case"B":De=!1,Ge=!0,We=Me;break;case"S":Je=!0,We="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":De=!1;break;case"BN":We="N"}return We},je=function(Ye,gi,ai){var ui=Ye.split("");return ai&&Xe(ui,ai,{hiLevel:Me}),ui.reverse(),gi&&gi.reverse(),ui.join("")},Xe=function(Ye,gi,ai){var ui,Qe,Ze,ci,ze,We=-1,si=Ye.length,ni=0,$e=[],Ke=Me?e:Te,Ve=[];for(De=!1,Ge=!1,Je=!1,Qe=0;Qe<si;Qe++)Ve[Qe]=Ae(Ye[Qe]);for(Ze=0;Ze<si;Ze++){if(ze=ni,$e[Ze]=He(Ye,Ve,$e,Ze),ui=240&(ni=Ke[ze][ke[$e[Ze]]]),ni&=15,gi[Ze]=ci=Ke[ni][5],ui>0)if(ui===16){for(Qe=We;Qe<Ze;Qe++)gi[Qe]=1;We=-1}else We=-1;if(Ke[ni][6])We===-1&&(We=Ze);else if(We>-1){for(Qe=We;Qe<Ze;Qe++)gi[Qe]=ci;We=-1}Ve[Ze]==="B"&&(gi[Ze]=0),ai.hiLevel|=ci}Je&&function(Ue,ti,hi){for(var yi=0;yi<hi;yi++)if(Ue[yi]==="S"){ti[yi]=Me;for(var wi=yi-1;wi>=0&&Ue[wi]==="WS";wi--)ti[wi]=Me}}(Ve,gi,si)},St=function(Ye,gi,ai,ui,Qe){if(!(Qe.hiLevel<Ye)){if(Ye===1&&Me===1&&!Ge)return gi.reverse(),void(ai&&ai.reverse());for(var Ze,ci,ze,We,si=gi.length,ni=0;ni<si;){if(ui[ni]>=Ye){for(ze=ni+1;ze<si&&ui[ze]>=Ye;)ze++;for(We=ni,ci=ze-1;We<ci;We++,ci--)Ze=gi[We],gi[We]=gi[ci],gi[ci]=Ze,ai&&(Ze=ai[We],ai[We]=ai[ci],ai[ci]=Ze);ni=ze}ni++}}},qe=function(Ye,gi,ai){var ui=Ye.split(""),Qe={hiLevel:Me};return ai||(ai=[]),Xe(ui,ai,Qe),function(Ze,ci,ze){if(ze.hiLevel!==0&&xe)for(var We,si=0;si<Ze.length;si++)ci[si]===1&&(We=Ee.indexOf(Ze[si]))>=0&&(Ze[si]=Ee[We+1])}(ui,ai,Qe),St(2,ui,gi,ai,Qe),St(1,ui,gi,ai,Qe),ui.join("")};return this.__bidiEngine__.doBidiReorder=function(Ye,gi,ai){if(function(Qe,Ze){if(Ze)for(var ci=0;ci<Qe.length;ci++)Ze[ci]=ci;Se===void 0&&(Se=Be(Qe)),t===void 0&&(t=Be(Qe))}(Ye,gi),ii||!_e||t)if(ii&&_e&&Se^t)Me=Se?1:0,Ye=je(Ye,gi,ai);else if(!ii&&_e&&t)Me=Se?1:0,Ye=qe(Ye,gi,ai),Ye=je(Ye,gi);else if(!ii||Se||_e||t){if(ii&&!_e&&Se^t)Ye=je(Ye,gi),Se?(Me=0,Ye=qe(Ye,gi,ai)):(Me=1,Ye=qe(Ye,gi,ai),Ye=je(Ye,gi));else if(ii&&Se&&!_e&&t)Me=1,Ye=qe(Ye,gi,ai),Ye=je(Ye,gi);else if(!ii&&!_e&&Se^t){var ui=xe;Se?(Me=1,Ye=qe(Ye,gi,ai),Me=0,xe=!1,Ye=qe(Ye,gi,ai),xe=ui):(Me=0,Ye=qe(Ye,gi,ai),Ye=je(Ye,gi),Me=1,xe=!1,Ye=qe(Ye,gi,ai),xe=ui,Ye=je(Ye,gi))}}else Me=0,Ye=qe(Ye,gi,ai);else Me=Se?1:0,Ye=qe(Ye,gi,ai);return Ye},this.__bidiEngine__.setOptions=function(Ye){Ye&&(ii=Ye.isInputVisual,_e=Ye.isOutputVisual,Se=Ye.isInputRtl,t=Ye.isOutputRtl,xe=Ye.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Re),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ie=new Ce.__bidiEngine__({isInputVisual:!0});Ce.API.events.push(["postProcessText",function(Re){var Ge=Re.text,Je=(Re.x,Re.y,Re.options||{}),ii=(Re.mutex,Je.lang,[]);if(Je.isInputVisual=typeof Je.isInputVisual!="boolean"||Je.isInputVisual,Ie.setOptions(Je),Object.prototype.toString.call(Ge)==="[object Array]"){var Se=0;for(ii=[],Se=0;Se<Ge.length;Se+=1)Object.prototype.toString.call(Ge[Se])==="[object Array]"?ii.push([Ie.doBidiReorder(Ge[Se][0]),Ge[Se][1],Ge[Se][2]]):ii.push([Ie.doBidiReorder(Ge[Se])]);Re.text=ii}else Re.text=Ie.doBidiReorder(Ge);Ie.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Ce(r){var Ie;if(this.rawData=r,Ie=this.contents=new ne(r),this.contents.pos=4,Ie.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ie.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ce.open=function(r){return new Ce(r)},Ce.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ce.prototype.registerTTF=function(){var r,Ie,Re,Ge,Je;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var ii,Se,_e,t;for(t=[],ii=0,Se=(_e=this.bbox).length;ii<Se;ii++)r=_e[ii],t.push(Math.round(r*this.scaleFactor));return t}.call(this),this.stemV=0,this.post.exists?(Re=255&(Ge=this.post.italic_angle),(32768&(Ie=Ge>>16))!=0&&(Ie=-(1+(65535^Ie))),this.italicAngle=+(Ie+"."+Re)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Je=this.familyClass)===1||Je===2||Je===3||Je===4||Je===5||Je===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ce.prototype.characterToGlyph=function(r){var Ie;return((Ie=this.cmap.unicode)!=null?Ie.codeMap[r]:void 0)||0},Ce.prototype.widthOfGlyph=function(r){var Ie;return Ie=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*Ie},Ce.prototype.widthOfString=function(r,Ie,Re){var Ge,Je,ii,Se;for(ii=0,Je=0,Se=(r=""+r).length;0<=Se?Je<Se:Je>Se;Je=0<=Se?++Je:--Je)Ge=r.charCodeAt(Je),ii+=this.widthOfGlyph(this.characterToGlyph(Ge))+Re*(1e3/Ie)||0;return ii*(Ie/1e3)},Ce.prototype.lineHeight=function(r,Ie){var Re;return Ie==null&&(Ie=!1),Re=Ie?this.lineGap:0,(this.ascender+Re-this.decender)/1e3*r},Ce}();var re,ne=function(){function Ce(r){this.data=r!=null?r:[],this.pos=0,this.length=this.data.length}return Ce.prototype.readByte=function(){return this.data[this.pos++]},Ce.prototype.writeByte=function(r){return this.data[this.pos++]=r},Ce.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ce.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},Ce.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},Ce.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},Ce.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ce.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},Ce.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},Ce.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},Ce.prototype.readString=function(r){var Ie,Re;for(Re=[],Ie=0;0<=r?Ie<r:Ie>r;Ie=0<=r?++Ie:--Ie)Re[Ie]=String.fromCharCode(this.readByte());return Re.join("")},Ce.prototype.writeString=function(r){var Ie,Re,Ge;for(Ge=[],Ie=0,Re=r.length;0<=Re?Ie<Re:Ie>Re;Ie=0<=Re?++Ie:--Ie)Ge.push(this.writeByte(r.charCodeAt(Ie)));return Ge},Ce.prototype.readShort=function(){return this.readInt16()},Ce.prototype.writeShort=function(r){return this.writeInt16(r)},Ce.prototype.readLongLong=function(){var r,Ie,Re,Ge,Je,ii,Se,_e;return r=this.readByte(),Ie=this.readByte(),Re=this.readByte(),Ge=this.readByte(),Je=this.readByte(),ii=this.readByte(),Se=this.readByte(),_e=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^Ie)+1099511627776*(255^Re)+4294967296*(255^Ge)+16777216*(255^Je)+65536*(255^ii)+256*(255^Se)+(255^_e)+1):72057594037927940*r+281474976710656*Ie+1099511627776*Re+4294967296*Ge+16777216*Je+65536*ii+256*Se+_e},Ce.prototype.writeLongLong=function(r){var Ie,Re;return Ie=Math.floor(r/4294967296),Re=4294967295&r,this.writeByte(Ie>>24&255),this.writeByte(Ie>>16&255),this.writeByte(Ie>>8&255),this.writeByte(255&Ie),this.writeByte(Re>>24&255),this.writeByte(Re>>16&255),this.writeByte(Re>>8&255),this.writeByte(255&Re)},Ce.prototype.readInt=function(){return this.readInt32()},Ce.prototype.writeInt=function(r){return this.writeInt32(r)},Ce.prototype.read=function(r){var Ie,Re;for(Ie=[],Re=0;0<=r?Re<r:Re>r;Re=0<=r?++Re:--Re)Ie.push(this.readByte());return Ie},Ce.prototype.write=function(r){var Ie,Re,Ge,Je;for(Je=[],Re=0,Ge=r.length;Re<Ge;Re++)Ie=r[Re],Je.push(this.writeByte(Ie));return Je},Ce}(),ie=function(){var Ce;function r(Ie){var Re,Ge,Je;for(this.scalarType=Ie.readInt(),this.tableCount=Ie.readShort(),this.searchRange=Ie.readShort(),this.entrySelector=Ie.readShort(),this.rangeShift=Ie.readShort(),this.tables={},Ge=0,Je=this.tableCount;0<=Je?Ge<Je:Ge>Je;Ge=0<=Je?++Ge:--Ge)Re={tag:Ie.readString(4),checksum:Ie.readInt(),offset:Ie.readInt(),length:Ie.readInt()},this.tables[Re.tag]=Re}return r.prototype.encode=function(Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te,e,ke,Oe;for(Oe in e=Object.keys(Ie).length,_e=Math.log(2),Fe=16*Math.floor(Math.log(e)/_e),ii=Math.floor(Fe/_e),xe=16*e-Fe,(Ge=new ne).writeInt(this.scalarType),Ge.writeShort(e),Ge.writeShort(Fe),Ge.writeShort(ii),Ge.writeShort(xe),Je=16*e,t=Ge.pos+Je,Se=null,ke=[],Ie)for(Te=Ie[Oe],Ge.writeString(Oe),Ge.writeInt(Ce(Te)),Ge.writeInt(t),Ge.writeInt(Te.length),ke=ke.concat(Te),Oe==="head"&&(Se=t),t+=Te.length;t%4;)ke.push(0),t++;return Ge.write(ke),Re=2981146554-Ce(Ge.data),Ge.pos=Se+8,Ge.writeUInt32(Re),Ge.data},Ce=function(Ie){var Re,Ge,Je,ii;for(Ie=ve.call(Ie);Ie.length%4;)Ie.push(0);for(Je=new ne(Ie),Ge=0,Re=0,ii=Ie.length;Re<ii;Re=Re+=4)Ge+=Je.readUInt32();return 4294967295&Ge},r}(),ae={}.hasOwnProperty,oe=function(Ce,r){for(var Ie in r)ae.call(r,Ie)&&(Ce[Ie]=r[Ie]);function Re(){this.constructor=Ce}return Re.prototype=r.prototype,Ce.prototype=new Re,Ce.__super__=r.prototype,Ce};re=function(){function Ce(r){var Ie;this.file=r,Ie=this.file.directory.tables[this.tag],this.exists=!!Ie,Ie&&(this.offset=Ie.offset,this.length=Ie.length,this.parse(this.file.contents))}return Ce.prototype.parse=function(){},Ce.prototype.encode=function(){},Ce.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ce}();var se=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="head",r.prototype.parse=function(Ie){return Ie.pos=this.offset,this.version=Ie.readInt(),this.revision=Ie.readInt(),this.checkSumAdjustment=Ie.readInt(),this.magicNumber=Ie.readInt(),this.flags=Ie.readShort(),this.unitsPerEm=Ie.readShort(),this.created=Ie.readLongLong(),this.modified=Ie.readLongLong(),this.xMin=Ie.readShort(),this.yMin=Ie.readShort(),this.xMax=Ie.readShort(),this.yMax=Ie.readShort(),this.macStyle=Ie.readShort(),this.lowestRecPPEM=Ie.readShort(),this.fontDirectionHint=Ie.readShort(),this.indexToLocFormat=Ie.readShort(),this.glyphDataFormat=Ie.readShort()},r.prototype.encode=function(Ie){var Re;return(Re=new ne).writeInt(this.version),Re.writeInt(this.revision),Re.writeInt(this.checkSumAdjustment),Re.writeInt(this.magicNumber),Re.writeShort(this.flags),Re.writeShort(this.unitsPerEm),Re.writeLongLong(this.created),Re.writeLongLong(this.modified),Re.writeShort(this.xMin),Re.writeShort(this.yMin),Re.writeShort(this.xMax),Re.writeShort(this.yMax),Re.writeShort(this.macStyle),Re.writeShort(this.lowestRecPPEM),Re.writeShort(this.fontDirectionHint),Re.writeShort(Ie),Re.writeShort(this.glyphDataFormat),Re.data},r}(),ce=function(){function Ce(r,Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,Pe,De,Me;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=Ie+r.readInt(),Fe=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(_e=0;_e<256;++_e)this.codeMap[_e]=r.readByte();break;case 4:for(e=r.readUInt16(),Te=e/2,r.pos+=6,Je=function(){var Ae,Be;for(Be=[],_e=Ae=0;0<=Te?Ae<Te:Ae>Te;_e=0<=Te?++Ae:--Ae)Be.push(r.readUInt16());return Be}(),r.pos+=2,Oe=function(){var Ae,Be;for(Be=[],_e=Ae=0;0<=Te?Ae<Te:Ae>Te;_e=0<=Te?++Ae:--Ae)Be.push(r.readUInt16());return Be}(),t=function(){var Ae,Be;for(Be=[],_e=Ae=0;0<=Te?Ae<Te:Ae>Te;_e=0<=Te?++Ae:--Ae)Be.push(r.readUInt16());return Be}(),xe=function(){var Ae,Be;for(Be=[],_e=Ae=0;0<=Te?Ae<Te:Ae>Te;_e=0<=Te?++Ae:--Ae)Be.push(r.readUInt16());return Be}(),Ge=(this.length-r.pos+this.offset)/2,Se=function(){var Ae,Be;for(Be=[],_e=Ae=0;0<=Ge?Ae<Ge:Ae>Ge;_e=0<=Ge?++Ae:--Ae)Be.push(r.readUInt16());return Be}(),_e=Pe=0,Me=Je.length;Pe<Me;_e=++Pe)for(Ee=Je[_e],Re=De=ke=Oe[_e];ke<=Ee?De<=Ee:De>=Ee;Re=ke<=Ee?++De:--De)xe[_e]===0?ii=Re+t[_e]:(ii=Se[xe[_e]/2+(Re-ke)-(Te-_e)]||0)!==0&&(ii+=t[_e]),this.codeMap[Re]=65535&ii}r.pos=Fe}return Ce.encode=function(r,Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,Pe,De,Me,Ae,Be,He,je,Xe,St,qe,Ye,gi,ai,ui,Qe,Ze,ci,ze,We,si,ni,$e,Ke,Ve,Ue,ti,hi,yi,wi,Ci,ki,fi;switch(ui=new ne,ii=Object.keys(r).sort(function(xi,li){return xi-li}),Ie){case"macroman":for(Oe=0,Ee=function(){var xi=[];for(ke=0;ke<256;++ke)xi.push(0);return xi}(),De={0:0},Je={},Qe=0,We=ii.length;Qe<We;Qe++)De[wi=r[Ge=ii[Qe]]]==null&&(De[wi]=++Oe),Je[Ge]={old:r[Ge],new:De[r[Ge]]},Ee[Ge]=De[r[Ge]];return ui.writeUInt16(1),ui.writeUInt16(0),ui.writeUInt32(12),ui.writeUInt16(0),ui.writeUInt16(262),ui.writeUInt16(0),ui.write(Ee),{charMap:Je,subtable:ui.data,maxGlyphID:Oe+1};case"unicode":for(gi=[],Fe=[],Me=0,De={},Re={},Pe=t=null,Ze=0,si=ii.length;Ze<si;Ze++)De[Be=r[Ge=ii[Ze]]]==null&&(De[Be]=++Me),Re[Ge]={old:Be,new:De[Be]},Se=De[Be]-Ge,Pe!=null&&Se===t||(Pe&&Fe.push(Pe),gi.push(Ge),t=Se),Pe=Ge;for(Pe&&Fe.push(Pe),Fe.push(65535),gi.push(65535),qe=2*(St=gi.length),Xe=2*Math.pow(Math.log(St)/Math.LN2,2),Te=Math.log(Xe/2)/Math.LN2,je=2*St-Xe,_e=[],He=[],e=[],ke=ci=0,ni=gi.length;ci<ni;ke=++ci){if(Ye=gi[ke],xe=Fe[ke],Ye===65535){_e.push(0),He.push(0);break}if(Ye-(ai=Re[Ye].new)>=32768)for(_e.push(0),He.push(2*(e.length+St-ke)),Ge=ze=Ye;Ye<=xe?ze<=xe:ze>=xe;Ge=Ye<=xe?++ze:--ze)e.push(Re[Ge].new);else _e.push(ai-Ye),He.push(0)}for(ui.writeUInt16(3),ui.writeUInt16(1),ui.writeUInt32(12),ui.writeUInt16(4),ui.writeUInt16(16+8*St+2*e.length),ui.writeUInt16(0),ui.writeUInt16(qe),ui.writeUInt16(Xe),ui.writeUInt16(Te),ui.writeUInt16(je),hi=0,$e=Fe.length;hi<$e;hi++)Ge=Fe[hi],ui.writeUInt16(Ge);for(ui.writeUInt16(0),yi=0,Ke=gi.length;yi<Ke;yi++)Ge=gi[yi],ui.writeUInt16(Ge);for(Ci=0,Ve=_e.length;Ci<Ve;Ci++)Se=_e[Ci],ui.writeUInt16(Se);for(ki=0,Ue=He.length;ki<Ue;ki++)Ae=He[ki],ui.writeUInt16(Ae);for(fi=0,ti=e.length;fi<ti;fi++)Oe=e[fi],ui.writeUInt16(Oe);return{charMap:Re,subtable:ui.data,maxGlyphID:Me+1}}},Ce}(),ue=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="cmap",r.prototype.parse=function(Ie){var Re,Ge,Je;for(Ie.pos=this.offset,this.version=Ie.readUInt16(),Je=Ie.readUInt16(),this.tables=[],this.unicode=null,Ge=0;0<=Je?Ge<Je:Ge>Je;Ge=0<=Je?++Ge:--Ge)Re=new ce(Ie,this.offset),this.tables.push(Re),Re.isUnicode&&this.unicode==null&&(this.unicode=Re);return!0},r.encode=function(Ie,Re){var Ge,Je;return Re==null&&(Re="macroman"),Ge=ce.encode(Ie,Re),(Je=new ne).writeUInt16(0),Je.writeUInt16(1),Ge.table=Je.data.concat(Ge.subtable),Ge},r}(),he=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="hhea",r.prototype.parse=function(Ie){return Ie.pos=this.offset,this.version=Ie.readInt(),this.ascender=Ie.readShort(),this.decender=Ie.readShort(),this.lineGap=Ie.readShort(),this.advanceWidthMax=Ie.readShort(),this.minLeftSideBearing=Ie.readShort(),this.minRightSideBearing=Ie.readShort(),this.xMaxExtent=Ie.readShort(),this.caretSlopeRise=Ie.readShort(),this.caretSlopeRun=Ie.readShort(),this.caretOffset=Ie.readShort(),Ie.pos+=8,this.metricDataFormat=Ie.readShort(),this.numberOfMetrics=Ie.readUInt16()},r}(),le=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="OS/2",r.prototype.parse=function(Ie){if(Ie.pos=this.offset,this.version=Ie.readUInt16(),this.averageCharWidth=Ie.readShort(),this.weightClass=Ie.readUInt16(),this.widthClass=Ie.readUInt16(),this.type=Ie.readShort(),this.ySubscriptXSize=Ie.readShort(),this.ySubscriptYSize=Ie.readShort(),this.ySubscriptXOffset=Ie.readShort(),this.ySubscriptYOffset=Ie.readShort(),this.ySuperscriptXSize=Ie.readShort(),this.ySuperscriptYSize=Ie.readShort(),this.ySuperscriptXOffset=Ie.readShort(),this.ySuperscriptYOffset=Ie.readShort(),this.yStrikeoutSize=Ie.readShort(),this.yStrikeoutPosition=Ie.readShort(),this.familyClass=Ie.readShort(),this.panose=function(){var Re,Ge;for(Ge=[],Re=0;Re<10;++Re)Ge.push(Ie.readByte());return Ge}(),this.charRange=function(){var Re,Ge;for(Ge=[],Re=0;Re<4;++Re)Ge.push(Ie.readInt());return Ge}(),this.vendorID=Ie.readString(4),this.selection=Ie.readShort(),this.firstCharIndex=Ie.readShort(),this.lastCharIndex=Ie.readShort(),this.version>0&&(this.ascent=Ie.readShort(),this.descent=Ie.readShort(),this.lineGap=Ie.readShort(),this.winAscent=Ie.readShort(),this.winDescent=Ie.readShort(),this.codePageRange=function(){var Re,Ge;for(Ge=[],Re=0;Re<2;Re=++Re)Ge.push(Ie.readInt());return Ge}(),this.version>1))return this.xHeight=Ie.readShort(),this.capHeight=Ie.readShort(),this.defaultChar=Ie.readShort(),this.breakChar=Ie.readShort(),this.maxContext=Ie.readShort()},r}(),fe=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="post",r.prototype.parse=function(Ie){var Re,Ge,Je;switch(Ie.pos=this.offset,this.format=Ie.readInt(),this.italicAngle=Ie.readInt(),this.underlinePosition=Ie.readShort(),this.underlineThickness=Ie.readShort(),this.isFixedPitch=Ie.readInt(),this.minMemType42=Ie.readInt(),this.maxMemType42=Ie.readInt(),this.minMemType1=Ie.readInt(),this.maxMemType1=Ie.readInt(),this.format){case 65536:break;case 131072:var ii;for(Ge=Ie.readUInt16(),this.glyphNameIndex=[],ii=0;0<=Ge?ii<Ge:ii>Ge;ii=0<=Ge?++ii:--ii)this.glyphNameIndex.push(Ie.readUInt16());for(this.names=[],Je=[];Ie.pos<this.offset+this.length;)Re=Ie.readByte(),Je.push(this.names.push(Ie.readString(Re)));return Je;case 151552:return Ge=Ie.readUInt16(),this.offsets=Ie.read(Ge);case 196608:break;case 262144:return this.map=function(){var Se,_e,t;for(t=[],ii=Se=0,_e=this.file.maxp.numGlyphs;0<=_e?Se<_e:Se>_e;ii=0<=_e?++Se:--Se)t.push(Ie.readUInt32());return t}.call(this)}},r}(),de=function(Ce,r){this.raw=Ce,this.length=Ce.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},pe=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="name",r.prototype.parse=function(Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te,e;for(Ie.pos=this.offset,Ie.readShort(),Re=Ie.readShort(),_e=Ie.readShort(),Ge=[],ii=0;0<=Re?ii<Re:ii>Re;ii=0<=Re?++ii:--ii)Ge.push({platformID:Ie.readShort(),encodingID:Ie.readShort(),languageID:Ie.readShort(),nameID:Ie.readShort(),length:Ie.readShort(),offset:this.offset+_e+Ie.readShort()});for(t={},ii=Fe=0,Te=Ge.length;Fe<Te;ii=++Fe)Je=Ge[ii],Ie.pos=Je.offset,xe=Ie.readString(Je.length),Se=new de(xe,Je),t[e=Je.nameID]==null&&(t[e]=[]),t[Je.nameID].push(Se);this.strings=t,this.copyright=t[0],this.fontFamily=t[1],this.fontSubfamily=t[2],this.uniqueSubfamily=t[3],this.fontName=t[4],this.version=t[5];try{this.postscriptName=t[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=t[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=t[7],this.manufacturer=t[8],this.designer=t[9],this.description=t[10],this.vendorUrl=t[11],this.designerUrl=t[12],this.license=t[13],this.licenseUrl=t[14],this.preferredFamily=t[15],this.preferredSubfamily=t[17],this.compatibleFull=t[18],this.sampleText=t[19]},r}(),ge=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="maxp",r.prototype.parse=function(Ie){return Ie.pos=this.offset,this.version=Ie.readInt(),this.numGlyphs=Ie.readUInt16(),this.maxPoints=Ie.readUInt16(),this.maxContours=Ie.readUInt16(),this.maxCompositePoints=Ie.readUInt16(),this.maxComponentContours=Ie.readUInt16(),this.maxZones=Ie.readUInt16(),this.maxTwilightPoints=Ie.readUInt16(),this.maxStorage=Ie.readUInt16(),this.maxFunctionDefs=Ie.readUInt16(),this.maxInstructionDefs=Ie.readUInt16(),this.maxStackElements=Ie.readUInt16(),this.maxSizeOfInstructions=Ie.readUInt16(),this.maxComponentElements=Ie.readUInt16(),this.maxComponentDepth=Ie.readUInt16()},r}(),me=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="hmtx",r.prototype.parse=function(Ie){var Re,Ge,Je,ii,Se,_e,t;for(Ie.pos=this.offset,this.metrics=[],Re=0,_e=this.file.hhea.numberOfMetrics;0<=_e?Re<_e:Re>_e;Re=0<=_e?++Re:--Re)this.metrics.push({advance:Ie.readUInt16(),lsb:Ie.readInt16()});for(Je=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var xe,Fe;for(Fe=[],Re=xe=0;0<=Je?xe<Je:xe>Je;Re=0<=Je?++xe:--xe)Fe.push(Ie.readInt16());return Fe}(),this.widths=function(){var xe,Fe,Te,e;for(e=[],xe=0,Fe=(Te=this.metrics).length;xe<Fe;xe++)ii=Te[xe],e.push(ii.advance);return e}.call(this),Ge=this.widths[this.widths.length-1],t=[],Re=Se=0;0<=Je?Se<Je:Se>Je;Re=0<=Je?++Se:--Se)t.push(this.widths.push(Ge));return t},r.prototype.forGlyph=function(Ie){return Ie in this.metrics?this.metrics[Ie]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ie-this.metrics.length]}},r}(),ve=[].slice,be=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te;return Ie in this.cache?this.cache[Ie]:(ii=this.file.loca,Re=this.file.contents,Ge=ii.indexOf(Ie),(Je=ii.lengthOf(Ie))===0?this.cache[Ie]=null:(Re.pos=this.offset+Ge,Se=(_e=new ne(Re.read(Je))).readShort(),xe=_e.readShort(),Te=_e.readShort(),t=_e.readShort(),Fe=_e.readShort(),this.cache[Ie]=Se===-1?new we(_e,xe,Te,t,Fe):new ye(_e,Se,xe,Te,t,Fe),this.cache[Ie]))},r.prototype.encode=function(Ie,Re,Ge){var Je,ii,Se,_e,t;for(Se=[],ii=[],_e=0,t=Re.length;_e<t;_e++)Je=Ie[Re[_e]],ii.push(Se.length),Je&&(Se=Se.concat(Je.encode(Ge)));return ii.push(Se.length),{table:Se,offsets:ii}},r}(),ye=function(){function Ce(r,Ie,Re,Ge,Je,ii){this.raw=r,this.numberOfContours=Ie,this.xMin=Re,this.yMin=Ge,this.xMax=Je,this.yMax=ii,this.compound=!1}return Ce.prototype.encode=function(){return this.raw.data},Ce}(),we=function(){function Ce(r,Ie,Re,Ge,Je){var ii,Se;for(this.raw=r,this.xMin=Ie,this.yMin=Re,this.xMax=Ge,this.yMax=Je,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ii=this.raw;Se=ii.readShort(),this.glyphOffsets.push(ii.pos),this.glyphIDs.push(ii.readUInt16()),32&Se;)ii.pos+=1&Se?4:2,128&Se?ii.pos+=8:64&Se?ii.pos+=4:8&Se&&(ii.pos+=2)}return Ce.prototype.encode=function(){var r,Ie,Re;for(Ie=new ne(ve.call(this.raw.data)),r=0,Re=this.glyphIDs.length;r<Re;++r)Ie.pos=this.glyphOffsets[r];return Ie.data},Ce}(),Ne=function(Ce){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="loca",r.prototype.parse=function(Ie){var Re,Ge;return Ie.pos=this.offset,Re=this.file.head.indexToLocFormat,this.offsets=Re===0?function(){var Je,ii;for(ii=[],Ge=0,Je=this.length;Ge<Je;Ge+=2)ii.push(2*Ie.readUInt16());return ii}.call(this):function(){var Je,ii;for(ii=[],Ge=0,Je=this.length;Ge<Je;Ge+=4)ii.push(Ie.readUInt32());return ii}.call(this)},r.prototype.indexOf=function(Ie){return this.offsets[Ie]},r.prototype.lengthOf=function(Ie){return this.offsets[Ie+1]-this.offsets[Ie]},r.prototype.encode=function(Ie,Re){for(var Ge=new Uint32Array(this.offsets.length),Je=0,ii=0,Se=0;Se<Ge.length;++Se)if(Ge[Se]=Je,ii<Re.length&&Re[ii]==Se){++ii,Ge[Se]=Je;var _e=this.offsets[Se],t=this.offsets[Se+1]-_e;t>0&&(Je+=t)}for(var xe=new Array(4*Ge.length),Fe=0;Fe<Ge.length;++Fe)xe[4*Fe+3]=255&Ge[Fe],xe[4*Fe+2]=(65280&Ge[Fe])>>8,xe[4*Fe+1]=(16711680&Ge[Fe])>>16,xe[4*Fe]=(4278190080&Ge[Fe])>>24;return xe},r}(),Le=function(){function Ce(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return Ce.prototype.generateCmap=function(){var r,Ie,Re,Ge,Je;for(Ie in Ge=this.font.cmap.tables[0].codeMap,r={},Je=this.subset)Re=Je[Ie],r[Ie]=Ge[Re];return r},Ce.prototype.glyphsFor=function(r){var Ie,Re,Ge,Je,ii,Se,_e;for(Ge={},ii=0,Se=r.length;ii<Se;ii++)Ge[Je=r[ii]]=this.font.glyf.glyphFor(Je);for(Je in Ie=[],Ge)(Re=Ge[Je])!=null&&Re.compound&&Ie.push.apply(Ie,Re.glyphIDs);if(Ie.length>0)for(Je in _e=this.glyphsFor(Ie))Re=_e[Je],Ge[Je]=Re;return Ge},Ce.prototype.encode=function(r,Ie){var Re,Ge,Je,ii,Se,_e,t,xe,Fe,Te,e,ke,Oe,Ee,Pe;for(Ge in Re=ue.encode(this.generateCmap(),"unicode"),ii=this.glyphsFor(r),e={0:0},Pe=Re.charMap)e[(_e=Pe[Ge]).old]=_e.new;for(ke in Te=Re.maxGlyphID,ii)ke in e||(e[ke]=Te++);return xe=function(De){var Me,Ae;for(Me in Ae={},De)Ae[De[Me]]=Me;return Ae}(e),Fe=Object.keys(xe).sort(function(De,Me){return De-Me}),Oe=function(){var De,Me,Ae;for(Ae=[],De=0,Me=Fe.length;De<Me;De++)Se=Fe[De],Ae.push(xe[Se]);return Ae}(),Je=this.font.glyf.encode(ii,Oe,e),t=this.font.loca.encode(Je.offsets,Oe),Ee={cmap:this.font.cmap.raw(),glyf:Je.table,loca:t,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ie)},this.font.os2.exists&&(Ee["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Ee)},Ce}();E.API.PDFObject=function(){var Ce;function r(){}return Ce=function(Ie,Re){return(Array(Re+1).join("0")+Ie).slice(-Re)},r.convert=function(Ie){var Re,Ge,Je,ii;if(Array.isArray(Ie))return"["+function(){var Se,_e,t;for(t=[],Se=0,_e=Ie.length;Se<_e;Se++)Re=Ie[Se],t.push(r.convert(Re));return t}().join(" ")+"]";if(typeof Ie=="string")return"/"+Ie;if(Ie!=null&&Ie.isString)return"("+Ie+")";if(Ie instanceof Date)return"(D:"+Ce(Ie.getUTCFullYear(),4)+Ce(Ie.getUTCMonth(),2)+Ce(Ie.getUTCDate(),2)+Ce(Ie.getUTCHours(),2)+Ce(Ie.getUTCMinutes(),2)+Ce(Ie.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ie)==="[object Object]"){for(Ge in Je=["<<"],Ie)ii=Ie[Ge],Je.push("/"+Ge+" "+r.convert(ii));return Je.push(">>"),Je.join(`
`)}return""+Ie},r}();const Sign_vue_vue_type_style_index_0_scoped_f911205b_lang="",_withScopeId=Ce=>(pushScopeId("data-v-f911205b"),Ce=Ce(),popScopeId(),Ce),_hoisted_1={class:"container"},_hoisted_2={class:"row"},_hoisted_3={class:"col-9 d-flex justify-content-center"},_hoisted_4={id:"canvas",ref:"canvasPDF"},_hoisted_5={class:"col-3"},_hoisted_6={class:"mt-7"},_hoisted_7=createStaticVNode('<div class="offcanvas-header flex-column align-items-start" data-v-f911205b><h5 class="offcanvas-title mb-3 text-start" id="offcanvasExampleLabel" data-v-f911205b>\u57FA\u672C\u8CC7\u6599</h5><form action="" class="mb-12" data-v-f911205b><input type="text" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u59D3\u540D" class="rounded-1 border-gray mb-3" data-v-f911205b><input type="text" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u5B50\u4FE1\u7BB1" class="rounded-1 border-gray" data-v-f911205b></form></div>',1),_hoisted_8={class:"offcanvas-body d-flex flex-column"},_hoisted_9={class:"sign mb-12"},_hoisted_10=_withScopeId(()=>createBaseVNode("h5",{class:"mb-3"},"\u6211\u7684\u7C3D\u540D",-1)),_hoisted_11={class:"border border-success d-flex align-items-center text-success mb-3 bg-white"},_hoisted_12=_withScopeId(()=>createBaseVNode("span",{class:"material-symbols-outlined"}," drag_indicator ",-1)),_hoisted_13=_withScopeId(()=>createBaseVNode("button",{class:"addSign btn btn-lg border d-flex align-items-center justify-content-center fw-bold","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},[createBaseVNode("span",{class:"material-symbols-outlined"}," add "),createTextVNode(" \u5275\u5EFA\u7C3D\u540D\u6A94 ")],-1)),_hoisted_14=_withScopeId(()=>createBaseVNode("div",{class:"invite d-flex justify-content-between"},[createBaseVNode("h5",{class:"mb-3"},"\u9080\u8ACB\u7C3D\u7F72\u4EBA"),createBaseVNode("button",{class:"btn border"},[createBaseVNode("span",{class:"material-symbols-outlined"}," person_add ")])],-1)),_hoisted_15={class:"modal fade",id:"staticBackdrop","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_16={class:"modal-dialog modal-dialog-centered"},_hoisted_17={class:"modal-content"},_hoisted_18=_withScopeId(()=>createBaseVNode("div",{class:"modal-header border-0"},[createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_19=_withScopeId(()=>createBaseVNode("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link active",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"},"\u624B\u5BEB")]),createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"},"\u4E0A\u50B3")])],-1)),_hoisted_20={class:"tab-content",id:"myTabContent"},_hoisted_21={class:"tab-pane fade show active px-5",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},_hoisted_22={class:"text-end mt-5 mb-3"},_hoisted_23={class:"footer text-center"},_hoisted_24=_withScopeId(()=>createBaseVNode("p",{class:"mb-3"},"\u6211\u4E86\u89E3\u9019\u662F\u4E00\u500B\u5177\u6CD5\u5F8B\u6548\u529B\u7684\u672C\u4EBA\u7C3D\u540D",-1)),_hoisted_25=_withScopeId(()=>createBaseVNode("div",{class:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab"},"...",-1));pdf.exports.GlobalWorkerOptions.workerSrc=pdfjsWorker;const __default__={data(){return{pdf:null,canvasArray:[],canvasStep:-1,ctxPDF:null,canvasPDF:null,Base64Prefix:"data:application/pdf;base64,",ctxSign:null,isPainting:!1}},methods:{getPDF(){return this.pdf=localStorage.getItem("pdfFile").split(","),this.pdf=new Uint8Array(this.pdf),this.pdf},async renderPDF(Ce){const Ie=await(await pdf.exports.getDocument(Ce).promise).getPage(1),Re=Ie.getViewport({scale:1}),Ge=document.createElement("canvas"),Je=Ge.getContext("2d");Ge.width=Re.width,Ge.height=Re.height;const ii={canvasContext:Je,viewport:Re};return Ie.render(ii).promise.then(()=>Ge)},async pdfToImage(Ce){const r=1/window.devicePixelRatio;return new fabric.fabric.Image(Ce,{id:"renderPDF",scaleX:r,scaleY:r})},addSign(Ce){let r=Ce.target,Ie=this.canvasPDF;!r.src||fabric.fabric.Image.fromURL(r.src,function(Re){Re.top=400,Re.scaleX=.5,Re.scaleY=.5,Ie.add(Re)})},async setPDFCanvas(){const Ce=new fabric.fabric.Canvas("canvas");this.ctxPDF=Ce.getContext("2d");const r=await this.renderPDF(this.getPDF()),Ie=await this.pdfToImage(r);Ce.setWidth(Ie.width/window.devicePixelRatio),Ce.setHeight(Ie.height/window.devicePixelRatio),Ce.setBackgroundImage(Ie,Ce.renderAll.bind(Ce)),this.canvasPDF=Ce,console.log(this.canvasPDF)},setCanvas(){let r=this.$refs.signCanvas.getContext("2d");r.lineWidth=4,r.lineCap="round",this.ctxSign=r},getPaintPosition(Ce){const r=this.ctxSign.canvas.getBoundingClientRect();return Ce.type==="mousemove"?{x:Ce.clientX-r.left-40,y:Ce.clientY-r.top}:{x:Ce.touches[0].clientX-r.left-40,y:Ce.touches[0].clientY-r.top}},startPosition(Ce){Ce.preventDefault(),this.isPainting=!0},finishedPosition(){this.isPainting=!1,this.ctxSign.beginPath()},canvasPush(){},draw(Ce){if(!this.isPainting)return;const r=this.getPaintPosition(Ce);this.ctxSign.lineTo(r.x,r.y),this.ctxSign.stroke()},undo(Ce){this.ctxSign.clearRect(0,0,this.ctxSign.canvas.width,this.ctxSign.canvas.height),this.draw(Ce)},reset(){this.ctxSign.clearRect(0,0,this.ctxSign.canvas.width,this.ctxSign.canvas.height)},saveImage(){const Ce=this.ctxSign.canvas.toDataURL("image/png");let r=this.$refs.mySign;r.src=Ce,localStorage.setItem("img",Ce)},downloadFile(){const Ce=new E,r=this.canvasPDF.toDataURL("image/png"),Ie=Ce.internal.pageSize.width,Re=Ce.internal.pageSize.height;Ce.addImage(r,"png",0,0,Ie,Re),Ce.save("signed.pdf")}},mounted(){this.setCanvas(),this.setPDFCanvas()}},_sfc_main=Object.assign(__default__,{__name:"Sign",setup(Ce){return(r,Ie)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Progressbar),createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("canvas",_hoisted_4,null,512)]),createBaseVNode("div",_hoisted_5,[createBaseVNode("aside",_hoisted_6,[_hoisted_7,createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[_hoisted_10,createBaseVNode("div",_hoisted_11,[_hoisted_12,createBaseVNode("img",{ref:"mySign",class:"mySign w-50 mx-auto",onDragend:Ie[0]||(Ie[0]=(...Re)=>r.addSign&&r.addSign(...Re))},null,544)]),_hoisted_13]),_hoisted_14,createBaseVNode("button",{class:"btn btn-lg btn-primary mt-auto mb-7",onClick:Ie[1]||(Ie[1]=(...Re)=>r.downloadFile&&r.downloadFile(...Re))},"\u4E0B\u8F09")])])])])]),createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[_hoisted_18,_hoisted_19,createBaseVNode("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,[createBaseVNode("button",{class:"btn text-primary",onClick:Ie[2]||(Ie[2]=(...Re)=>r.undo&&r.undo(...Re))},"\u56DE\u4E0A\u4E00\u6B65"),createBaseVNode("button",{class:"btn text-primary clearSign",onClick:Ie[3]||(Ie[3]=(...Re)=>r.reset&&r.reset(...Re))},"\u6E05\u9664")]),createBaseVNode("canvas",{id:"canvas",ref:"signCanvas",class:"signCanvas border border-ui-gray mb-5",onMousedown:Ie[4]||(Ie[4]=(...Re)=>r.startPosition&&r.startPosition(...Re)),onMouseup:Ie[5]||(Ie[5]=(...Re)=>r.finishedPosition&&r.finishedPosition(...Re)),onMouseleave:Ie[6]||(Ie[6]=(...Re)=>r.finishedPosition&&r.finishedPosition(...Re)),onMousemove:Ie[7]||(Ie[7]=(...Re)=>r.draw&&r.draw(...Re))},null,544),createBaseVNode("div",_hoisted_23,[_hoisted_24,createBaseVNode("button",{class:"btn btn-primary mb-7",onClick:Ie[8]||(Ie[8]=Re=>{r.saveImage(),r.reset()}),"data-bs-dismiss":"modal"},"\u5132\u5B58")])]),_hoisted_25])])])])],64))}}),Sign=_export_sfc(_sfc_main,[["__scopeId","data-v-f911205b"]]);let history$1=createWebHistory(),routes=[{path:"/fastsign/",component:Home},{path:"/fastsign/Sign",component:Sign}];const router=createRouter({history:history$1,routes});createApp(App).use(router).mount("#app");export{commonjsGlobal as c};
